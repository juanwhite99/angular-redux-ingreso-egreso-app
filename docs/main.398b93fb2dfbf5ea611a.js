(self.webpackChunkingreso_egreso_app=self.webpackChunkingreso_egreso_app||[]).push([[179],{8255:Xe=>{function Te(V){return Promise.resolve().then(()=>{var h=new Error("Cannot find module '"+V+"'");throw h.code="MODULE_NOT_FOUND",h})}Te.keys=()=>[],Te.resolve=Te,Te.id=8255,Xe.exports=Te},3018:(Xe,Te,V)=>{"use strict";V.d(Te,{deG:()=>du,tb:()=>hw,AFp:()=>UC,ip1:()=>cw,CZH:()=>oo,hGG:()=>hD,z2F:()=>Nf,sBO:()=>bA,Sil:()=>Sf,_Vd:()=>cf,EJc:()=>Ig,SBq:()=>us,qLn:()=>_e,vpe:()=>Lu,gxx:()=>nd,tBr:()=>yu,XFs:()=>Re,OlP:()=>Fe,zs3:()=>In,ZZ4:()=>Sd,aQg:()=>Go,soG:()=>Df,YKP:()=>RA,v3s:()=>Iw,h0i:()=>xd,PXZ:()=>bw,R0b:()=>Gi,FiY:()=>ns,Lbi:()=>Cf,g9A:()=>bg,Qsj:()=>wI,FYo:()=>tg,JOm:()=>ko,Tiy:()=>CE,q3G:()=>dn,tp0:()=>Mo,EAV:()=>XS,Rgc:()=>rg,dDg:()=>xf,DyG:()=>mc,q4F:()=>TE,GfV:()=>DE,s_b:()=>pf,ifc:()=>pn,eFA:()=>nD,G48:()=>GS,Gpc:()=>de,X6Q:()=>Ew,_c5:()=>lD,VLi:()=>YC,c2e:()=>jC,zSh:()=>kh,wAp:()=>ot,vHH:()=>he,EiD:()=>am,mCW:()=>wa,qzn:()=>bc,JVY:()=>Xg,pB0:()=>em,eBb:()=>yh,L6k:()=>mh,LAX:()=>Vl,cg1:()=>fy,Tjo:()=>ox,kL8:()=>eE,yhl:()=>Qs,dqk:()=>j,sIi:()=>Oa,CqO:()=>Lp,QGY:()=>Kh,F4k:()=>Yh,RDi:()=>Ki,AaK:()=>z,z3N:()=>Ds,qOj:()=>xp,TTD:()=>gl,_Bn:()=>Ey,xp6:()=>Sh,uIk:()=>Bm,ekj:()=>Bp,Suo:()=>yg,Xpm:()=>Ko,lG2:()=>Ff,Yz7:()=>on,cJS:()=>Di,oAB:()=>qa,Yjl:()=>Zu,Y36:()=>md,_UZ:()=>Dv,qZA:()=>Fp,TgZ:()=>kp,n5z:()=>hc,Ikx:()=>Hp,LFG:()=>Fn,$8M:()=>Mi,NdJ:()=>zm,CRH:()=>XE,Q6J:()=>yd,iGM:()=>vC,LSH:()=>Hl,kYT:()=>Fs,YNc:()=>cb,_uU:()=>$v});var h=V(9765),ee=V(5319),F=V(7574),ce=V(6682),te=V(2441);var le=V(1307);function Z(){return new h.xQ}function L(r){for(let i in r)if(r[i]===L)return i;throw Error("Could not find renamed property on target object.")}function Q(r,i){for(const o in i)i.hasOwnProperty(o)&&!r.hasOwnProperty(o)&&(r[o]=i[o])}function z(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(z).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const i=r.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function re(r,i){return null==r||""===r?null===i?"":i:null==i||""===i?r:r+" "+i}const be=L({__forward_ref__:L});function de(r){return r.__forward_ref__=de,r.toString=function(){return z(this())},r}function G(r){return ye(r)?r():r}function ye(r){return"function"==typeof r&&r.hasOwnProperty(be)&&r.__forward_ref__===de}class he extends Error{constructor(i,o){super(function(r,i){return`${r?`NG0${r}: `:""}${i}`}(i,o)),this.code=i}}function Ve(r){return"string"==typeof r?r:null==r?"":String(r)}function _t(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Ve(r)}function oe(r,i){const o=i?` in ${i}`:"";throw new he("201",`No provider for ${_t(r)} found${o}`)}function hn(r,i){null==r&&function(r,i,o,u){throw new Error(`ASSERTION ERROR: ${r}`+(null==u?"":` [Expected=> ${o} ${u} ${i} <=Actual]`))}(i,r,null,"!=")}function on(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Di(r){return{providers:r.providers||[],imports:r.imports||[]}}function Mr(r){return ai(r,En)||ai(r,ho)}function ai(r,i){return r.hasOwnProperty(i)?r[i]:null}function ui(r){return r&&(r.hasOwnProperty(wr)||r.hasOwnProperty(st))?r[wr]:null}const En=L({\u0275prov:L}),wr=L({\u0275inj:L}),ho=L({ngInjectableDef:L}),st=L({ngInjectorDef:L});var Re=(()=>((Re=Re||{})[Re.Default=0]="Default",Re[Re.Host=1]="Host",Re[Re.Self=2]="Self",Re[Re.SkipSelf=4]="SkipSelf",Re[Re.Optional=8]="Optional",Re))();let $t;function fn(r){const i=$t;return $t=r,i}function kt(r,i,o){const u=Mr(r);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&Re.Optional?null:void 0!==i?i:void oe(z(r),"Injector")}function Ye(r){return{toString:r}.toString()}var _n=(()=>((_n=_n||{})[_n.OnPush=0]="OnPush",_n[_n.Default=1]="Default",_n))(),pn=(()=>((pn=pn||{})[pn.Emulated=0]="Emulated",pn[pn.None=2]="None",pn[pn.ShadowDom=3]="ShadowDom",pn))();const Or="undefined"!=typeof globalThis&&globalThis,fo="undefined"!=typeof window&&window,$="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,j=Or||"undefined"!=typeof global&&global||fo||$,Ze={},Ge=[],Ft=L({\u0275cmp:L}),en=L({\u0275dir:L}),Qt=L({\u0275pipe:L}),zr=L({\u0275mod:L}),Dt=L({\u0275loc:L}),tn=L({\u0275fac:L}),ur=L({__NG_ELEMENT_ID__:L});let Gu=0;function Ko(r){return Ye(()=>{const o={},u={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===_n.OnPush,directiveDefs:null,pipeDefs:null,selectors:r.selectors||Ge,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||pn.Emulated,id:"c",styles:r.styles||Ge,_:null,setInput:null,schemas:r.schemas||null,tView:null},c=r.directives,d=r.features,m=r.pipes;return u.id+=Gu++,u.inputs=Ai(r.inputs,o),u.outputs=Ai(r.outputs),d&&d.forEach(y=>y(u)),u.directiveDefs=c?()=>("function"==typeof c?c():c).map(Ga):null,u.pipeDefs=m?()=>("function"==typeof m?m():m).map(qu):null,u})}function Ga(r){return cr(r)||function(r){return r[en]||null}(r)}function qu(r){return function(r){return r[Qt]||null}(r)}const ks={};function qa(r){return Ye(()=>{const i={type:r.type,bootstrap:r.bootstrap||Ge,declarations:r.declarations||Ge,imports:r.imports||Ge,exports:r.exports||Ge,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null};return null!=r.id&&(ks[r.id]=r.type),i})}function Fs(r,i){return Ye(()=>{const o=Yn(r,!0);o.declarations=i.declarations||Ge,o.imports=i.imports||Ge,o.exports=i.exports||Ge})}function Ai(r,i){if(null==r)return Ze;const o={};for(const u in r)if(r.hasOwnProperty(u)){let c=r[u],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),o[c]=u,i&&(i[c]=d)}return o}const Ff=Ko;function Zu(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,onDestroy:r.type.prototype.ngOnDestroy||null}}function cr(r){return r[Ft]||null}function Yn(r,i){const o=r[zr]||null;if(!o&&!0===i)throw new Error(`Type ${z(r)} does not have '\u0275mod' property.`);return o}function Yr(r){return Array.isArray(r)&&"object"==typeof r[1]}function Gt(r){return Array.isArray(r)&&!0===r[1]}function za(r){return 0!=(8&r.flags)}function zu(r){return 2==(2&r.flags)}function Qr(r){return 1==(1&r.flags)}function Si(r){return null!==r.template}function hl(r){return 0!=(512&r[2])}function Pr(r,i){return r.hasOwnProperty(tn)?r[tn]:null}class xi{constructor(i,o,u){this.previousValue=i,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function gl(){return vo}function vo(r){return r.type.prototype.ngOnChanges&&(r.setInput=Zd),Ri}function Ri(){const r=Eo(this),i=null==r?void 0:r.current;if(i){const o=r.previous;if(o===Ze)r.previous=i;else for(let u in i)o[u]=i[u];r.current=null,this.ngOnChanges(i)}}function Zd(r,i,o,u){const c=Eo(r)||function(r,i){return r[Lf]=i}(r,{previous:Ze,current:null}),d=c.current||(c.current={}),m=c.previous,y=this.declaredInputs[o],w=m[y];d[y]=new xi(w&&w.currentValue,i,m===Ze),r[u]=i}gl.ngInherit=!0;const Lf="__ngSimpleChanges__";function Eo(r){return r[Lf]||null}let Bs;function Ki(r){Bs=r}function an(r){return!!r.listen}const ia={createRenderer:(r,i)=>void 0!==Bs?Bs:"undefined"!=typeof document?document:void 0};function bt(r){for(;Array.isArray(r);)r=r[0];return r}function Ir(r,i){return bt(i[r.index])}function Yi(r,i){return r.data[i]}function Xn(r,i){const o=i[r];return Yr(o)?o:o[0]}function Io(r){return 4==(4&r[2])}function sa(r){return 128==(128&r[2])}function js(r,i){return null==i?null:r[i]}function oa(r){r[18]=0}function tc(r,i){r[5]+=i;let o=r,u=r[3];for(;null!==u&&(1===i&&1===o[5]||-1===i&&0===o[5]);)u[5]+=i,o=u,u=u[3]}const ut={lFrame:sc(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ml(){return ut.bindingsEnabled}function Se(){return ut.lFrame.lView}function Tt(){return ut.lFrame.tView}function vn(){let r=Qd();for(;null!==r&&64===r.type;)r=r.parent;return r}function Qd(){return ut.lFrame.currentTNode}function ci(r,i){const o=ut.lFrame;o.currentTNode=r,o.isParent=i}function Xa(){return ut.lFrame.isParent}function ca(){return ut.isInCheckNoChangesMode}function Qi(r){ut.isInCheckNoChangesMode=r}function Ji(){return ut.lFrame.bindingIndex++}function yl(r,i){const o=ut.lFrame;o.bindingIndex=o.bindingRootIndex=r,la(i)}function la(r){ut.lFrame.currentDirectiveIndex=r}function Do(){return ut.lFrame.currentQueryIndex}function _l(r){ut.lFrame.currentQueryIndex=r}function Uf(r){const i=r[1];return 2===i.type?i.declTNode:1===i.type?r[6]:null}function eh(r,i,o){if(o&Re.SkipSelf){let c=i,d=r;for(;!(c=c.parent,null!==c||o&Re.Host||(c=Uf(d),null===c||(d=d[15],10&c.type))););if(null===c)return!1;i=c,r=d}const u=ut.lFrame=th();return u.currentTNode=i,u.lView=r,!0}function To(r){const i=th(),o=r[1];ut.lFrame=i,i.currentTNode=o.firstChild,i.lView=r,i.tView=o,i.contextLView=r,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function th(){const r=ut.lFrame,i=null===r?null:r.child;return null===i?sc(r):i}function sc(r){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=i),i}function nh(){const r=ut.lFrame;return ut.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const __=nh;function Bf(){const r=nh();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Jr(){return ut.lFrame.selectedIndex}function Xi(r){ut.lFrame.selectedIndex=r}function un(){const r=ut.lFrame;return Yi(r.tView,r.selectedIndex)}function da(r,i){for(let o=i.directiveStart,u=i.directiveEnd;o<u;o++){const d=r.data[o].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:y,ngAfterViewInit:w,ngAfterViewChecked:C,ngOnDestroy:T}=d;m&&(r.contentHooks||(r.contentHooks=[])).push(-o,m),y&&((r.contentHooks||(r.contentHooks=[])).push(o,y),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(o,y)),w&&(r.viewHooks||(r.viewHooks=[])).push(-o,w),C&&((r.viewHooks||(r.viewHooks=[])).push(o,C),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(o,C)),null!=T&&(r.destroyHooks||(r.destroyHooks=[])).push(o,T)}}function ha(r,i,o){bl(r,i,3,o)}function wl(r,i,o,u){(3&r[2])===o&&bl(r,i,o,u)}function Ao(r,i){let o=r[2];(3&o)===i&&(o&=2047,o+=1,r[2]=o)}function bl(r,i,o,u){const d=null!=u?u:-1,m=i.length-1;let y=0;for(let w=void 0!==u?65535&r[18]:0;w<m;w++)if("number"==typeof i[w+1]){if(y=i[w],null!=u&&y>=u)break}else i[w]<0&&(r[18]+=65536),(y<d||-1==d)&&(Il(r,o,i,w),r[18]=(4294901760&r[18])+w+2),w++}function Il(r,i,o,u){const c=o[u]<0,d=o[u+1],y=r[c?-o[u]:o[u]];if(c){if(r[2]>>11<r[18]>>16&&(3&r[2])===i){r[2]+=2048;try{d.call(y)}finally{}}}else try{d.call(y)}finally{}}class nu{constructor(i,o,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function cn(r,i,o){const u=an(r);let c=0;for(;c<o.length;){const d=o[c];if("number"==typeof d){if(0!==d)break;c++;const m=o[c++],y=o[c++],w=o[c++];u?r.setAttribute(i,y,w,m):i.setAttributeNS(m,y,w)}else{const m=d,y=o[++c];ac(m)?u&&r.setProperty(i,m,y):u?r.setAttribute(i,m,y):i.setAttribute(m,y),c++}}return c}function iu(r){return 3===r||4===r||6===r}function ac(r){return 64===r.charCodeAt(0)}function su(r,i){if(null!==i&&0!==i.length)if(null===r||0===r.length)r=i.slice();else{let o=-1;for(let u=0;u<i.length;u++){const c=i[u];"number"==typeof c?o=c:0===o||uc(r,o,c,null,-1===o||2===o?i[++u]:null)}}return r}function uc(r,i,o,u,c){let d=0,m=r.length;if(-1===i)m=-1;else for(;d<r.length;){const y=r[d++];if("number"==typeof y){if(y===i){m=-1;break}if(y>i){m=d-1;break}}}for(;d<r.length;){const y=r[d];if("number"==typeof y)break;if(y===o){if(null===u)return void(null!==c&&(r[d+1]=c));if(u===r[d+1])return void(r[d+2]=c)}d++,null!==u&&d++,null!==c&&d++}-1!==m&&(r.splice(m,0,i),d=m+1),r.splice(d++,0,o),null!==u&&r.splice(d++,0,u),null!==c&&r.splice(d++,0,c)}function cc(r){return-1!==r}function ou(r){return 32767&r}function au(r,i){let o=function(r){return r>>16}(r),u=i;for(;o>0;)u=u[15],o--;return u}let uu=!0;function fa(r){const i=uu;return uu=r,i}let wn=0;function Un(r,i){const o=it(r,i);if(-1!==o)return o;const u=i[1];u.firstCreatePass&&(r.injectorIndex=i.length,Yt(u.data,r),Yt(i,null),Yt(u.blueprint,null));const c=mn(r,i),d=r.injectorIndex;if(cc(c)){const m=ou(c),y=au(c,i),w=y[1].data;for(let C=0;C<8;C++)i[d+C]=y[m+C]|w[m+C]}return i[d+8]=c,d}function Yt(r,i){r.push(0,0,0,0,0,0,0,0,i)}function it(r,i){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===i[r.injectorIndex+8]?-1:r.injectorIndex}function mn(r,i){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let o=0,u=null,c=i;for(;null!==c;){const d=c[1],m=d.type;if(u=2===m?d.declTNode:1===m?c[6]:null,null===u)return-1;if(o++,c=c[15],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return-1}function Ni(r,i,o){!function(r,i,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(ur)&&(u=o[ur]),null==u&&(u=o[ur]=wn++);const c=255&u;i.data[r+(c>>5)]|=1<<c}(r,i,o)}function oh(r,i,o){if(o&Re.Optional)return r;oe(i,"NodeInjector")}function So(r,i,o,u){if(o&Re.Optional&&void 0===u&&(u=null),0==(o&(Re.Self|Re.Host))){const c=r[9],d=fn(void 0);try{return c?c.get(i,u,o&Re.Optional):kt(i,u,o&Re.Optional)}finally{fn(d)}}return oh(u,i,o)}function cu(r,i,o,u=Re.Default,c){if(null!==r){const d=function(r){if("string"==typeof r)return r.charCodeAt(0)||0;const i=r.hasOwnProperty(ur)?r[ur]:void 0;return"number"==typeof i?i>=0?255&i:lu:i}(o);if("function"==typeof d){if(!eh(i,r,u))return u&Re.Host?oh(c,o,u):So(i,o,u,c);try{const m=d(u);if(null!=m||u&Re.Optional)return m;oe(o)}finally{__()}}else if("number"==typeof d){let m=null,y=it(r,i),w=-1,C=u&Re.Host?i[16][6]:null;for((-1===y||u&Re.SkipSelf)&&(w=-1===y?mn(r,i):i[y+8],-1!==w&&dc(u,!1)?(m=i[1],y=ou(w),i=au(w,i)):y=-1);-1!==y;){const T=i[1];if(ah(d,y,T.data)){const R=Al(y,i,o,m,u,C);if(R!==li)return R}w=i[y+8],-1!==w&&dc(u,i[1].data[y+8]===C)&&ah(d,y,i)?(m=T,y=ou(w),i=au(w,i)):y=-1}}}return So(i,o,u,c)}const li={};function lu(){return new Is(vn(),Se())}function Al(r,i,o,u,c,d){const m=i[1],y=m.data[r+8],T=ga(y,m,o,null==u?zu(y)&&uu:u!=m&&0!=(3&y.type),c&Re.Host&&d===y);return null!==T?pt(i,m,T,y):li}function ga(r,i,o,u,c){const d=r.providerIndexes,m=i.data,y=1048575&d,w=r.directiveStart,T=d>>20,O=c?y+T:r.directiveEnd;for(let B=u?y:y+T;B<O;B++){const q=m[B];if(B<w&&o===q||B>=w&&q.type===o)return B}if(c){const B=m[w];if(B&&Si(B)&&B.type===o)return w}return null}function pt(r,i,o,u){let c=r[o];const d=i.data;if(function(r){return r instanceof nu}(c)){const m=c;m.resolving&&function(r,i){throw new he("200",`Circular dependency in DI detected for ${r}`)}(_t(d[o]));const y=fa(m.canSeeViewProviders);m.resolving=!0;const w=m.injectImpl?fn(m.injectImpl):null;eh(r,u,Re.Default);try{c=r[o]=m.factory(void 0,d,r,u),i.firstCreatePass&&o>=u.directiveStart&&function(r,i,o){const{ngOnChanges:u,ngOnInit:c,ngDoCheck:d}=i.type.prototype;if(u){const m=vo(i);(o.preOrderHooks||(o.preOrderHooks=[])).push(r,m),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,m)}c&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-r,c),d&&((o.preOrderHooks||(o.preOrderHooks=[])).push(r,d),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,d))}(o,d[o],i)}finally{null!==w&&fn(w),fa(y),m.resolving=!1,__()}}return c}function ah(r,i,o){return!!(o[i+(r>>5)]&1<<r)}function dc(r,i){return!(r&Re.Self||r&Re.Host&&i)}class Is{constructor(i,o){this._tNode=i,this._lView=o}get(i,o){return cu(this._tNode,this._lView,i,void 0,o)}}function hc(r){return Ye(()=>{const i=r.prototype.constructor,o=i[tn]||uh(i),u=Object.prototype;let c=Object.getPrototypeOf(r.prototype).constructor;for(;c&&c!==u;){const d=c[tn]||uh(c);if(d&&d!==o)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function uh(r){return ye(r)?()=>{const i=uh(G(r));return i&&i()}:Pr(r)}function Mi(r){return function(r,i){if("class"===i)return r.classes;if("style"===i)return r.styles;const o=r.attrs;if(o){const u=o.length;let c=0;for(;c<u;){const d=o[c];if(iu(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<u&&"string"==typeof o[c];)c++;else{if(d===i)return o[c+1];c+=2}}}return null}(vn(),r)}const Ws="__parameters__";function di(r,i,o){return Ye(()=>{const u=function(r){return function(...o){if(r){const u=r(...o);for(const c in u)this[c]=u[c]}}}(i);function c(...d){if(this instanceof c)return u.apply(this,d),this;const m=new c(...d);return y.annotation=m,y;function y(w,C,T){const R=w.hasOwnProperty(Ws)?w[Ws]:Object.defineProperty(w,Ws,{value:[]})[Ws];for(;R.length<=T;)R.push(null);return(R[T]=R[T]||[]).push(m),w}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=r,c.annotationCls=c,c})}class Fe{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=on({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const du=new Fe("AnalyzeForEntryComponents"),mc=Function;function hi(r,i){void 0===i&&(i=r);for(let o=0;o<r.length;o++){let u=r[o];Array.isArray(u)?(i===r&&(i=r.slice(0,o)),hi(u,i)):i!==r&&i.push(u)}return i}function Xr(r,i){r.forEach(o=>Array.isArray(o)?Xr(o,i):i(o))}function fi(r,i,o){i>=r.length?r.push(o):r.splice(i,0,o)}function pi(r,i){return i>=r.length-1?r.pop():r.splice(i,1)[0]}function b(r,i,o){let u=x(r,i);return u>=0?r[1|u]=o:(u=~u,function(r,i,o,u){let c=r.length;if(c==i)r.push(o,u);else if(1===c)r.push(u,r[0]),r[0]=o;else{for(c--,r.push(r[c-1],r[c]);c>i;)r[c]=r[c-2],c--;r[i]=o,r[i+1]=u}}(r,u,i,o)),u}function D(r,i){const o=x(r,i);if(o>=0)return r[1|o]}function x(r,i){return function(r,i,o){let u=0,c=r.length>>o;for(;c!==u;){const d=u+(c-u>>1),m=r[d<<o];if(i===m)return d<<o;m>i?c=d:u=d+1}return~(c<<o)}(r,i,1)}const gi={},No="__NG_DI_FLAG__",mi="ngTempTokenPath",ts=/\n/gm,Ml="__source",nr=L({provide:String,useValue:L});let Ks;function gu(r){const i=Ks;return Ks=r,i}function Ol(r,i=Re.Default){if(void 0===Ks)throw new Error("inject() must be called from an injection context");return null===Ks?kt(r,void 0,i):Ks.get(r,i&Re.Optional?null:void 0,i)}function Fn(r,i=Re.Default){return($t||Ol)(G(r),i)}function Ys(r){const i=[];for(let o=0;o<r.length;o++){const u=G(r[o]);if(Array.isArray(u)){if(0===u.length)throw new Error("Arguments array must have arguments.");let c,d=Re.Default;for(let m=0;m<u.length;m++){const y=u[m],w=Pl(y);"number"==typeof w?-1===w?c=y.token:d|=w:c=y}i.push(Fn(c,d))}else i.push(Fn(u))}return i}function mu(r,i){return r[No]=i,r.prototype[No]=i,r}function Pl(r){return r[No]}function hh(r,i,o,u){const c=r[mi];throw i[Ml]&&c.unshift(i[Ml]),r.message=function(r,i,o,u=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.substr(2):r;let c=z(i);if(Array.isArray(i))c=i.map(z).join(" -> ");else if("object"==typeof i){let d=[];for(let m in i)if(i.hasOwnProperty(m)){let y=i[m];d.push(m+":"+("string"==typeof y?JSON.stringify(y):z(y)))}c=`{${d.join(", ")}}`}return`${o}${u?"("+u+")":""}[${c}]: ${r.replace(ts,"\n  ")}`}("\n"+r.message,c,o,u),r.ngTokenPath=c,r[mi]=null,r}const yu=mu(di("Inject",r=>({token:r})),-1),ns=mu(di("Optional"),8),Mo=mu(di("SkipSelf"),4);let Ec;function Oo(r){var i;return(null===(i=function(){if(void 0===Ec&&(Ec=null,j.trustedTypes))try{Ec=j.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return Ec}())||void 0===i?void 0:i.createHTML(r))||r}class Ea{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Jg extends Ea{getTypeName(){return"HTML"}}class tp extends Ea{getTypeName(){return"Style"}}class vu extends Ea{getTypeName(){return"Script"}}class b_ extends Ea{getTypeName(){return"URL"}}class wc extends Ea{getTypeName(){return"ResourceURL"}}function Ds(r){return r instanceof Ea?r.changingThisBreaksApplicationSecurity:r}function bc(r,i){const o=Qs(r);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===i}function Qs(r){return r instanceof Ea&&r.getTypeName()||null}function Xg(r){return new Jg(r)}function mh(r){return new tp(r)}function yh(r){return new vu(r)}function Vl(r){return new b_(r)}function em(r){return new wc(r)}class tm{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const o=(new window.DOMParser).parseFromString(Oo(i),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(i):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class Ul{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const u=this.inertDocument.createElement("body");o.appendChild(u)}}getInertBodyElement(i){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=Oo(i),o;const u=this.inertDocument.createElement("body");return u.innerHTML=Oo(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(i){const o=i.attributes;for(let c=o.length-1;0<c;c--){const m=o.item(c).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&i.removeAttribute(m)}let u=i.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const nm=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,np=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function wa(r){return(r=String(r)).match(nm)||r.match(np)?r:"unsafe:"+r}function rs(r){const i={};for(const o of r.split(","))i[o]=!0;return i}function Po(...r){const i={};for(const o of r)for(const u in o)o.hasOwnProperty(u)&&(i[u]=!0);return i}const Cc=rs("area,br,col,hr,img,wbr"),Bl=rs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Dc=rs("rp,rt"),Tc=Po(Cc,Po(Bl,rs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Po(Dc,rs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Po(Dc,Bl)),Ac=rs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Eh=rs("srcset"),sm=Po(Ac,Eh,rs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),rs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ba=rs("script,style,template");class om{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let o=i.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let c=this.checkClobberedElement(o,o.nextSibling);if(c){o=c;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(i){const o=i.nodeName.toLowerCase();if(!Tc.hasOwnProperty(o))return this.sanitizedSomething=!0,!ba.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=i.attributes;for(let c=0;c<u.length;c++){const d=u.item(c),m=d.name,y=m.toLowerCase();if(!sm.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let w=d.value;Ac[y]&&(w=wa(w)),Eh[y]&&(r=w,w=(r=String(r)).split(",").map(i=>wa(i.trim())).join(", ")),this.buf.push(" ",m,'="',Ia(w),'"')}var r;return this.buf.push(">"),!0}endElement(i){const o=i.nodeName.toLowerCase();Tc.hasOwnProperty(o)&&!Cc.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(i){this.buf.push(Ia(i))}checkClobberedElement(i,o){if(o&&(i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return o}}const jl=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,$l=/([^\#-~ |!])/g;function Ia(r){return r.replace(/&/g,"&amp;").replace(jl,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace($l,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Sc;function am(r,i){let o=null;try{Sc=Sc||function(r){const i=new Ul(r);return function(){try{return!!(new window.DOMParser).parseFromString(Oo(""),"text/html")}catch(r){return!1}}()?new tm(i):i}(r);let u=i?String(i):"";o=Sc.getInertBodyElement(u);let c=5,d=u;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,u=d,d=o.innerHTML,o=Sc.getInertBodyElement(u)}while(u!==d);return Oo((new om).sanitizeChildren(xc(o)||o))}finally{if(o){const u=xc(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function xc(r){return"content"in r&&function(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var dn=(()=>((dn=dn||{})[dn.NONE=0]="NONE",dn[dn.HTML=1]="HTML",dn[dn.STYLE=2]="STYLE",dn[dn.SCRIPT=3]="SCRIPT",dn[dn.URL=4]="URL",dn[dn.RESOURCE_URL=5]="RESOURCE_URL",dn))();function Hl(r){const i=function(){const r=Se();return r&&r[12]}();return i?i.sanitize(dn.URL,r)||"":bc(r,"URL")?Ds(r):wa(Ve(r))}const cm="__ngContext__";function Ar(r,i){r[cm]=i}function Lr(r){const i=function(r){return r[cm]||null}(r);return i?Array.isArray(i)?i:i.lView:null}function A(r){return r.ngOriginalError}function W(r,...i){r.error(...i)}class _e{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i),u=this._findContext(i),c=(r=i)&&r.ngErrorLogger||W;var r;c(this._console,"ERROR",i),o&&c(this._console,"ORIGINAL ERROR",o),u&&c(this._console,"ERROR CONTEXT",u)}_findContext(i){return i?i.ngDebugContext||this._findContext(A(i)):null}_findOriginalError(i){let o=i&&A(i);for(;o&&A(o);)o=A(o);return o||null}}const cp=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(j))();function ki(r){return r instanceof Function?r():r}var ko=(()=>((ko=ko||{})[ko.Important=1]="Important",ko[ko.DashCase=2]="DashCase",ko))();function dp(r,i){return undefined(r,i)}function Zl(r){const i=r[3];return Gt(i)?i[3]:i}function pp(r){return n0(r[13])}function Dh(r){return n0(r[4])}function n0(r){for(;null!==r&&!Gt(r);)r=r[4];return r}function Sa(r,i,o,u,c){if(null!=u){let d,m=!1;Gt(u)?d=u:Yr(u)&&(m=!0,u=u[0]);const y=bt(u);0===r&&null!==o?null==c?c0(i,o,y):Kl(i,o,y,c||null,!0):1===r&&null!==o?Kl(i,o,y,c||null,!0):2===r?function(r,i,o){const u=ym(r,i);u&&function(r,i,o,u){an(r)?r.removeChild(i,o,u):i.removeChild(o)}(r,u,i,o)}(i,y,m):3===r&&i.destroyNode(y),null!=d&&function(r,i,o,u,c){const d=o[7];d!==bt(o)&&Sa(i,r,u,d,c);for(let y=10;y<o.length;y++){const w=o[y];Du(w[1],w,r,i,u,d)}}(i,r,d,o,c)}}function gp(r,i,o){return an(r)?r.createElement(i,o):null===o?r.createElement(i):r.createElementNS(o,i)}function k_(r,i){const o=r[9],u=o.indexOf(i),c=i[3];1024&i[2]&&(i[2]&=-1025,tc(c,-1)),o.splice(u,1)}function gm(r,i){if(r.length<=10)return;const o=10+i,u=r[o];if(u){const c=u[17];null!==c&&c!==r&&k_(c,u),i>0&&(r[o-1][4]=u[4]);const d=pi(r,10+i);!function(r,i){Du(r,i,i[11],2,null,null),i[0]=null,i[6]=null}(u[1],u);const m=d[19];null!==m&&m.detachView(d[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function F_(r,i){if(!(256&i[2])){const o=i[11];an(o)&&o.destroyNode&&Du(r,i,o,3,null,null),function(r){let i=r[13];if(!i)return Th(r[1],r);for(;i;){let o=null;if(Yr(i))o=i[13];else{const u=i[10];u&&(o=u)}if(!o){for(;i&&!i[4]&&i!==r;)Yr(i)&&Th(i[1],i),i=i[3];null===i&&(i=r),Yr(i)&&Th(i[1],i),o=i&&i[4]}i=o}}(i)}}function Th(r,i){if(!(256&i[2])){i[2]&=-129,i[2]|=256,function(r,i){let o;if(null!=r&&null!=(o=r.destroyHooks))for(let u=0;u<o.length;u+=2){const c=i[o[u]];if(!(c instanceof nu)){const d=o[u+1];if(Array.isArray(d))for(let m=0;m<d.length;m+=2){const y=c[d[m]],w=d[m+1];try{w.call(y)}finally{}}else try{d.call(c)}finally{}}}}(r,i),function(r,i){const o=r.cleanup,u=i[7];let c=-1;if(null!==o)for(let d=0;d<o.length-1;d+=2)if("string"==typeof o[d]){const m=o[d+1],y="function"==typeof m?m(i):bt(i[m]),w=u[c=o[d+2]],C=o[d+3];"boolean"==typeof C?y.removeEventListener(o[d],w,C):C>=0?u[c=C]():u[c=-C].unsubscribe(),d+=2}else{const m=u[c=o[d+1]];o[d].call(m)}if(null!==u){for(let d=c+1;d<u.length;d++)u[d]();i[7]=null}}(r,i),1===i[1].type&&an(i[11])&&i[11].destroy();const o=i[17];if(null!==o&&Gt(i[3])){o!==i[3]&&k_(o,i);const u=i[19];null!==u&&u.detachView(r)}}}function L_(r,i,o){return function(r,i,o){let u=i;for(;null!==u&&40&u.type;)u=(i=u).parent;if(null===u)return o[0];if(2&u.flags){const c=r.data[u.directiveStart].encapsulation;if(c===pn.None||c===pn.Emulated)return null}return Ir(u,o)}(r,i.parent,o)}function Kl(r,i,o,u,c){an(r)?r.insertBefore(i,o,u,c):i.insertBefore(o,u,c)}function c0(r,i,o){an(r)?r.appendChild(i,o):i.appendChild(o)}function mm(r,i,o,u,c){null!==u?Kl(r,i,o,u,c):c0(r,i,o)}function ym(r,i){return an(r)?r.parentNode(i):i.parentNode}let h0=function(r,i,o){return 40&r.type?Ir(r,o):null};function Cu(r,i,o,u){const c=L_(r,u,i),d=i[11],y=function(r,i,o){return h0(r,i,o)}(u.parent||i[6],u,i);if(null!=c)if(Array.isArray(o))for(let w=0;w<o.length;w++)mm(d,c,o[w],y,!1);else mm(d,c,o,y,!1)}function Fo(r,i){if(null!==i){const o=i.type;if(3&o)return Ir(i,r);if(4&o)return V_(-1,r[i.index]);if(8&o){const u=i.child;if(null!==u)return Fo(r,u);{const c=r[i.index];return Gt(c)?V_(-1,c):bt(c)}}if(32&o)return dp(i,r)()||bt(r[i.index]);{const u=vm(r,i);return null!==u?Array.isArray(u)?u[0]:Fo(Zl(r[16]),u):Fo(r,i.next)}}return null}function vm(r,i){return null!==i?r[16][6].projection[i.projection]:null}function V_(r,i){const o=10+r+1;if(o<i.length){const u=i[o],c=u[1].firstChild;if(null!==c)return Fo(u,c)}return i[7]}function qn(r,i,o,u,c,d,m){for(;null!=o;){const y=u[o.index],w=o.type;if(m&&0===i&&(y&&Ar(bt(y),u),o.flags|=4),64!=(64&o.flags))if(8&w)qn(r,i,o.child,u,c,d,!1),Sa(i,r,c,y,d);else if(32&w){const C=dp(o,u);let T;for(;T=C();)Sa(i,r,c,T,d);Sa(i,r,c,y,d)}else 16&w?et(r,i,u,o,c,d):Sa(i,r,c,y,d);o=m?o.projectionNext:o.next}}function Du(r,i,o,u,c,d){qn(o,u,r.firstChild,i,c,d,!1)}function et(r,i,o,u,c,d){const m=o[16],w=m[6].projection[u.projection];if(Array.isArray(w))for(let C=0;C<w.length;C++)Sa(i,r,c,w[C],d);else qn(r,i,w,m[3],c,d,!0)}function $e(r,i,o){an(r)?r.setAttribute(i,"style",o):i.style.cssText=o}function me(r,i,o){an(r)?""===o?r.removeAttribute(i,"class"):r.setAttribute(i,"class",o):i.className=o}function Oe(r,i,o){let u=r.length;for(;;){const c=r.indexOf(i,o);if(-1===c)return c;if(0===c||r.charCodeAt(c-1)<=32){const d=i.length;if(c+d===u||r.charCodeAt(c+d)<=32)return c}o=c+1}}const B_="ng-template";function $D(r,i,o){let u=0;for(;u<r.length;){let c=r[u++];if(o&&"class"===c){if(c=r[u],-1!==Oe(c.toLowerCase(),i,0))return!0}else if(1===c){for(;u<r.length&&"string"==typeof(c=r[u++]);)if(c.toLowerCase()===i)return!0;return!1}}return!1}function f0(r){return 4===r.type&&r.value!==B_}function HD(r,i,o){return i===(4!==r.type||o?r.value:B_)}function GD(r,i,o){let u=4;const c=r.attrs||[],d=function(r){for(let i=0;i<r.length;i++)if(iu(r[i]))return i;return r.length}(c);let m=!1;for(let y=0;y<i.length;y++){const w=i[y];if("number"!=typeof w){if(!m)if(4&u){if(u=2|1&u,""!==w&&!HD(r,w,o)||""===w&&1===i.length){if(Lo(u))return!1;m=!0}}else{const C=8&u?w:i[++y];if(8&u&&null!==r.attrs){if(!$D(r.attrs,C,o)){if(Lo(u))return!1;m=!0}continue}const R=As(8&u?"class":w,c,f0(r),o);if(-1===R){if(Lo(u))return!1;m=!0;continue}if(""!==C){let O;O=R>d?"":c[R+1].toLowerCase();const B=8&u?O:null;if(B&&-1!==Oe(B,C,0)||2&u&&C!==O){if(Lo(u))return!1;m=!0}}}}else{if(!m&&!Lo(u)&&!Lo(w))return!1;if(m&&Lo(w))continue;m=!1,u=w|1&u}}return Lo(u)||m}function Lo(r){return 0==(1&r)}function As(r,i,o,u){if(null===i)return-1;let c=0;if(u||!o){let d=!1;for(;c<i.length;){const m=i[c];if(m===r)return c;if(3===m||6===m)d=!0;else{if(1===m||2===m){let y=i[++c];for(;"string"==typeof y;)y=i[++c];continue}if(4===m)break;if(0===m){c+=4;continue}}c+=d?1:2}return-1}return function(r,i){let o=r.indexOf(4);if(o>-1)for(o++;o<r.length;){const u=r[o];if("number"==typeof u)return-1;if(u===i)return o;o++}return-1}(i,r)}function p0(r,i,o=!1){for(let u=0;u<i.length;u++)if(GD(r,i[u],o))return!0;return!1}function Sr(r,i){return r?":not("+i.trim()+")":i}function Ct(r){let i=r[0],o=1,u=2,c="",d=!1;for(;o<r.length;){let m=r[o];if("string"==typeof m)if(2&u){const y=r[++o];c+="["+m+(y.length>0?'="'+y+'"':"")+"]"}else 8&u?c+="."+m:4&u&&(c+=" "+m);else""!==c&&!Lo(m)&&(i+=Sr(d,c),c=""),u=m,d=d||!Lo(u);o++}return""!==c&&(i+=Sr(d,c)),i}const Et={};function Sh(r){Wt(Tt(),Se(),Jr()+r,ca())}function Wt(r,i,o,u){if(!u)if(3==(3&i[2])){const d=r.preOrderCheckHooks;null!==d&&ha(i,d,o)}else{const d=r.preOrderHooks;null!==d&&wl(i,d,0,o)}Xi(o)}function Em(r,i){return r<<17|i<<2}function yn(r){return r>>17&32767}function pr(r){return 2|r}function Tu(r){return(131068&r)>>2}function xa(r,i){return-131069&r|i<<2}function kc(r){return 1|r}function ed(r,i){const o=r.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const c=o[u],d=o[u+1];if(-1!==d){const m=r.data[d];_l(c),m.contentQueries(2,i[d],d)}}}function Mh(r,i,o,u,c,d,m,y,w,C){const T=i.blueprint.slice();return T[0]=c,T[2]=140|u,oa(T),T[3]=T[15]=r,T[8]=o,T[10]=m||r&&r[10],T[11]=y||r&&r[11],T[12]=w||r&&r[12]||null,T[9]=C||r&&r[9]||null,T[6]=d,T[16]=2==i.type?r[16]:T,T}function is(r,i,o,u,c){let d=r.data[i];if(null===d)d=function(r,i,o,u,c){const d=Qd(),m=Xa(),w=r.data[i]=function(r,i,o,u,c,d){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?d:d&&d.parent,o,i,u,c);return null===r.firstChild&&(r.firstChild=w),null!==d&&(m?null==d.child&&null!==w.parent&&(d.child=w):null===d.next&&(d.next=w)),w}(r,i,o,u,c),ut.lFrame.inI18n&&(d.flags|=64);else if(64&d.type){d.type=o,d.value=u,d.attrs=c;const m=function(){const r=ut.lFrame,i=r.currentTNode;return r.isParent?i:i.parent}();d.injectorIndex=null===m?-1:m.injectorIndex}return ci(d,!0),d}function Uo(r,i,o,u){if(0===o)return-1;const c=i.length;for(let d=0;d<o;d++)i.push(u),r.blueprint.push(u),r.data.push(null);return c}function Lc(r,i,o){To(i);try{const u=r.viewQuery;null!==u&&tv(1,u,o);const c=r.template;null!==c&&Am(r,i,c,1,o),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&ed(r,i),r.staticViewQueries&&tv(2,r.viewQuery,o);const d=r.components;null!==d&&function(r,i){for(let o=0;o<i.length;o++)Vt(r,i[o])}(i,d)}catch(u){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),u}finally{i[2]&=-5,Bf()}}function Au(r,i,o,u){const c=i[2];if(256==(256&c))return;To(i);const d=ca();try{oa(i),function(r){ut.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==o&&Am(r,i,o,2,u);const m=3==(3&c);if(!d)if(m){const C=r.preOrderCheckHooks;null!==C&&ha(i,C,null)}else{const C=r.preOrderHooks;null!==C&&wl(i,C,0,null),Ao(i,0)}if(function(r){for(let i=pp(r);null!==i;i=Dh(i)){if(!i[2])continue;const o=i[9];for(let u=0;u<o.length;u++){const c=o[u],d=c[3];0==(1024&c[2])&&tc(d,1),c[2]|=1024}}}(i),function(r){for(let i=pp(r);null!==i;i=Dh(i))for(let o=10;o<i.length;o++){const u=i[o],c=u[1];sa(u)&&Au(c,u,c.template,u[8])}}(i),null!==r.contentQueries&&ed(r,i),!d)if(m){const C=r.contentCheckHooks;null!==C&&ha(i,C)}else{const C=r.contentHooks;null!==C&&wl(i,C,1),Ao(i,1)}!function(r,i){const o=r.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const c=o[u];if(c<0)Xi(~c);else{const d=c,m=o[++u],y=o[++u];yl(m,d),y(2,i[d])}}}finally{Xi(-1)}}(r,i);const y=r.components;null!==y&&function(r,i){for(let o=0;o<i.length;o++)nT(r,i[o])}(i,y);const w=r.viewQuery;if(null!==w&&tv(2,w,u),!d)if(m){const C=r.viewCheckHooks;null!==C&&ha(i,C)}else{const C=r.viewHooks;null!==C&&wl(i,C,2),Ao(i,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),d||(i[2]&=-73),1024&i[2]&&(i[2]&=-1025,tc(i[3],-1))}finally{Bf()}}function Z_(r,i,o,u){const c=i[10],d=!ca(),m=Io(i);try{d&&!m&&c.begin&&c.begin(),m&&Lc(r,i,u),Au(r,i,o,u)}finally{d&&!m&&c.end&&c.end()}}function Am(r,i,o,u,c){const d=Jr(),m=2&u;try{Xi(-1),m&&i.length>20&&Wt(r,i,20,ca()),o(u,c)}finally{Xi(d)}}function Vc(r,i,o){!ml()||(function(r,i,o,u){const c=o.directiveStart,d=o.directiveEnd;r.firstCreatePass||Un(o,i),Ar(u,i);const m=o.initialInputs;for(let y=c;y<d;y++){const w=r.data[y],C=Si(w);C&&k0(i,o,w);const T=pt(i,r,y,o);Ar(T,i),null!==m&&jc(0,y-c,T,w,0,m),C&&(Xn(o.index,i)[8]=T)}}(r,i,o,Ir(o,i)),128==(128&o.flags)&&function(r,i,o){const u=o.directiveStart,c=o.directiveEnd,m=o.index,y=ut.lFrame.currentDirectiveIndex;try{Xi(m);for(let w=u;w<c;w++){const C=r.data[w],T=i[w];la(w),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&O0(C,T)}}finally{Xi(-1),la(y)}}(r,i,o))}function ss(r,i,o=Ir){const u=i.localNames;if(null!==u){let c=i.index+1;for(let d=0;d<u.length;d+=2){const m=u[d+1],y=-1===m?o(i,r):r[m];r[c++]=y}}}function W_(r){const i=r.tView;return null===i||i.incompleteFirstPass?r.tView=Uc(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):i}function Uc(r,i,o,u,c,d,m,y,w,C){const T=20+u,R=T+c,O=function(r,i){const o=[];for(let u=0;u<i;u++)o.push(u<r?null:Et);return o}(T,R),B="function"==typeof C?C():C;return O[1]={type:r,blueprint:O,template:o,queries:null,viewQuery:y,declTNode:i,data:O.slice().fill(null,T),bindingStartIndex:T,expandoStartIndex:R,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:w,consts:B,incompleteFirstPass:!1}}function A0(r,i,o,u){const c=nv(i);null===o?c.push(u):(c.push(o),r.firstCreatePass&&U0(r).push(u,c.length-1))}function K_(r,i,o){for(let u in r)if(r.hasOwnProperty(u)){const c=r[u];(o=null===o?{}:o).hasOwnProperty(u)?o[u].push(i,c):o[u]=[i,c]}return o}function Ss(r,i,o,u,c,d,m,y){const w=Ir(i,o);let T,C=i.inputs;!y&&null!=C&&(T=C[u])?(Tp(r,o,T,u,c),zu(i)&&function(r,i){const o=Xn(i,r);16&o[2]||(o[2]|=64)}(o,i.index)):3&i.type&&(u=function(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(u),c=null!=m?m(c,i.value||"",u):c,an(d)?d.setProperty(w,u,c):ac(u)||(w.setProperty?w.setProperty(u,c):w[u]=c))}function Bc(r,i,o,u){let c=!1;if(ml()){const d=function(r,i,o){const u=r.directiveRegistry;let c=null;if(u)for(let d=0;d<u.length;d++){const m=u[d];p0(o,m.selectors,!1)&&(c||(c=[]),Ni(Un(o,i),r,m.type),Si(m)?(Ip(r,o),c.unshift(m)):c.push(m))}return c}(r,i,o),m=null===u?null:{"":-1};if(null!==d){c=!0,Om(o,r.data.length,d.length);for(let T=0;T<d.length;T++){const R=d[T];R.providersResolver&&R.providersResolver(R)}let y=!1,w=!1,C=Uo(r,i,d.length,null);for(let T=0;T<d.length;T++){const R=d[T];o.mergedAttrs=su(o.mergedAttrs,R.hostAttrs),P0(r,o,i,C,R),eT(C,R,m),null!==R.contentQueries&&(o.flags|=8),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(o.flags|=128);const O=R.type.prototype;!y&&(O.ngOnChanges||O.ngOnInit||O.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(o.index),y=!0),!w&&(O.ngOnChanges||O.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(o.index),w=!0),C++}!function(r,i){const u=i.directiveEnd,c=r.data,d=i.attrs,m=[];let y=null,w=null;for(let C=i.directiveStart;C<u;C++){const T=c[C],R=T.inputs,O=null===d||f0(i)?null:F0(R,d);m.push(O),y=K_(R,C,y),w=K_(T.outputs,C,w)}null!==y&&(y.hasOwnProperty("class")&&(i.flags|=16),y.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=m,i.inputs=y,i.outputs=w}(r,o)}m&&function(r,i,o){if(i){const u=r.localNames=[];for(let c=0;c<i.length;c+=2){const d=o[i[c+1]];if(null==d)throw new he("301",`Export of name '${i[c+1]}' not found!`);u.push(i[c],d)}}}(o,u,m)}return o.mergedAttrs=su(o.mergedAttrs,o.attrs),c}function Q_(r,i,o,u,c,d){const m=d.hostBindings;if(m){let y=r.hostBindingOpCodes;null===y&&(y=r.hostBindingOpCodes=[]);const w=~i.index;(function(r){let i=r.length;for(;i>0;){const o=r[--i];if("number"==typeof o&&o<0)return o}return 0})(y)!=w&&y.push(w),y.push(u,c,m)}}function O0(r,i){null!==r.hostBindings&&r.hostBindings(1,i)}function Ip(r,i){i.flags|=2,(r.components||(r.components=[])).push(i.index)}function eT(r,i,o){if(o){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)o[i.exportAs[u]]=r;Si(i)&&(o[""]=r)}}function Om(r,i,o){r.flags|=1,r.directiveStart=i,r.directiveEnd=i+o,r.providerIndexes=i}function P0(r,i,o,u,c){r.data[u]=c;const d=c.factory||(c.factory=Pr(c.type)),m=new nu(d,Si(c),null);r.blueprint[u]=m,o[u]=m,Q_(r,i,0,u,Uo(r,o,c.hostVars,Et),c)}function k0(r,i,o){const u=Ir(i,r),c=W_(o),d=r[10],m=Dp(r,Mh(r,c,null,o.onPush?64:16,u,i,d,d.createRenderer(u,o),null,null));r[i.index]=m}function Bo(r,i,o,u,c,d){const m=Ir(r,i);!function(r,i,o,u,c,d,m){if(null==d)an(r)?r.removeAttribute(i,c,o):i.removeAttribute(c);else{const y=null==m?Ve(d):m(d,u||"",c);an(r)?r.setAttribute(i,c,y,o):o?i.setAttributeNS(o,c,y):i.setAttribute(c,y)}}(i[11],m,d,r.value,o,u,c)}function jc(r,i,o,u,c,d){const m=d[i];if(null!==m){const y=u.setInput;for(let w=0;w<m.length;){const C=m[w++],T=m[w++],R=m[w++];null!==y?u.setInput(o,R,C,T):o[T]=R}}}function F0(r,i){let o=null,u=0;for(;u<i.length;){const c=i[u];if(0!==c)if(5!==c){if("number"==typeof c)break;r.hasOwnProperty(c)&&(null===o&&(o=[]),o.push(c,r[c],i[u+1])),u+=2}else u+=2;else u+=4}return o}function J_(r,i,o,u){return new Array(r,!0,!1,i,null,0,u,o,null,null)}function nT(r,i){const o=Xn(i,r);if(sa(o)){const u=o[1];80&o[2]?Au(u,o,u.template,o[8]):o[5]>0&&Zn(o)}}function Zn(r){for(let u=pp(r);null!==u;u=Dh(u))for(let c=10;c<u.length;c++){const d=u[c];if(1024&d[2]){const m=d[1];Au(m,d,m.template,d[8])}else d[5]>0&&Zn(d)}const o=r[1].components;if(null!==o)for(let u=0;u<o.length;u++){const c=Xn(o[u],r);sa(c)&&c[5]>0&&Zn(c)}}function Vt(r,i){const o=Xn(i,r),u=o[1];(function(r,i){for(let o=i.length;o<r.blueprint.length;o++)i.push(r.blueprint[o])})(u,o),Lc(u,o,o[8])}function Dp(r,i){return r[13]?r[14][4]=i:r[13]=i,r[14]=i,i}function ir(r){for(;r;){r[2]|=64;const i=Zl(r);if(hl(r)&&!i)return r;r=i}return null}function Mn(r,i,o){const u=i[10];u.begin&&u.begin();try{Au(r,i,r.template,o)}catch(c){throw B0(i,c),c}finally{u.end&&u.end()}}function ev(r){!function(r){for(let i=0;i<r.components.length;i++){const o=r.components[i],u=Lr(o),c=u[1];Z_(c,u,c.template,o)}}(r[8])}function tv(r,i,o){_l(0),i(r,o)}const iT=(()=>Promise.resolve(null))();function nv(r){return r[7]||(r[7]=[])}function U0(r){return r.cleanup||(r.cleanup=[])}function B0(r,i){const o=r[9],u=o?o.get(_e,null):null;u&&u.handleError(i)}function Tp(r,i,o,u,c){for(let d=0;d<o.length;){const m=o[d++],y=o[d++],w=i[m],C=r.data[m];null!==C.setInput?C.setInput(w,c,u,y):w[y]=c}}function $c(r,i,o){let u=o?r.styles:null,c=o?r.classes:null,d=0;if(null!==i)for(let m=0;m<i.length;m++){const y=i[m];"number"==typeof y?d=y:1==d?c=re(c,y):2==d&&(u=re(u,y+": "+i[++m]+";"))}o?r.styles=u:r.stylesWithoutHost=u,o?r.classes=c:r.classesWithoutHost=c}const nd=new Fe("INJECTOR",-1);class $0{get(i,o=gi){if(o===gi){const u=new Error(`NullInjectorError: No provider for ${z(i)}!`);throw u.name="NullInjectorError",u}return o}}const kh=new Fe("Set Injector scope."),Fh={},oT={};let rv;function H0(){return void 0===rv&&(rv=new $0),rv}function iv(r,i=null,o=null,u){return new aT(r,o,i||H0(),u)}class aT{constructor(i,o,u,c=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const d=[];o&&Xr(o,y=>this.processProvider(y,i,o)),Xr([i],y=>this.processInjectorType(y,[],d)),this.records.set(nd,Ui(void 0,this));const m=this.records.get(kh);this.scope=null!=m?m.value:null,this.source=c||("object"==typeof i?null:z(i))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(i=>i.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(i,o=gi,u=Re.Default){this.assertNotDestroyed();const c=gu(this),d=fn(void 0);try{if(!(u&Re.SkipSelf)){let y=this.records.get(i);if(void 0===y){const w=("function"==typeof(r=i)||"object"==typeof r&&r instanceof Fe)&&Mr(i);y=w&&this.injectableDefInScope(w)?Ui(mr(i),Fh):null,this.records.set(i,y)}if(null!=y)return this.hydrate(i,y)}return(u&Re.Self?H0():this.parent).get(i,o=u&Re.Optional&&o===gi?null:o)}catch(m){if("NullInjectorError"===m.name){if((m[mi]=m[mi]||[]).unshift(z(i)),c)throw m;return hh(m,i,"R3InjectorError",this.source)}throw m}finally{fn(d),gu(c)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(i=>this.get(i))}toString(){const i=[];return this.records.forEach((u,c)=>i.push(z(c))),`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(i,o,u){if(!(i=G(i)))return!1;let c=ui(i);const d=null==c&&i.ngModule||void 0,m=void 0===d?i:d,y=-1!==u.indexOf(m);if(void 0!==d&&(c=ui(d)),null==c)return!1;if(null!=c.imports&&!y){let T;u.push(m);try{Xr(c.imports,R=>{this.processInjectorType(R,o,u)&&(void 0===T&&(T=[]),T.push(R))})}finally{}if(void 0!==T)for(let R=0;R<T.length;R++){const{ngModule:O,providers:B}=T[R];Xr(B,q=>this.processProvider(q,O,B||Ge))}}this.injectorDefTypes.add(m);const w=Pr(m)||(()=>new m);this.records.set(m,Ui(w,Fh));const C=c.providers;if(null!=C&&!y){const T=i;Xr(C,R=>this.processProvider(R,T,C))}return void 0!==d&&void 0!==i.providers}processProvider(i,o,u){let c=rd(i=G(i))?i:G(i&&i.provide);const d=Fm(r=i)?Ui(void 0,r.useValue):Ui(Lh(r),Fh);var r;if(rd(i)||!0!==i.multi)this.records.get(c);else{let m=this.records.get(c);m||(m=Ui(void 0,Fh,!0),m.factory=()=>Ys(m.multi),this.records.set(c,m)),c=i,m.multi.push(i)}this.records.set(c,d)}hydrate(i,o){return o.value===Fh&&(o.value=oT,o.value=o.factory()),"object"==typeof o.value&&o.value&&null!==(r=o.value)&&"object"==typeof r&&"function"==typeof r.ngOnDestroy&&this.onDestroy.add(o.value),o.value;var r}injectableDefInScope(i){if(!i.providedIn)return!1;const o=G(i.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function mr(r){const i=Mr(r),o=null!==i?i.factory:Pr(r);if(null!==o)return o;if(r instanceof Fe)throw new Error(`Token ${z(r)} is missing a \u0275prov definition.`);if(r instanceof Function)return function(r){const i=r.length;if(i>0){const u=function(r,i){const o=[];for(let u=0;u<r;u++)o.push(i);return o}(i,"?");throw new Error(`Can't resolve all parameters for ${z(r)}: (${u.join(", ")}).`)}const o=function(r){const i=r&&(r[En]||r[ho]);if(i){const o=function(r){if(r.hasOwnProperty("name"))return r.name;const i=(""+r).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),i}return null}(r);return null!==o?()=>o.factory(r):()=>new r}(r);throw new Error("unreachable")}function Lh(r,i,o){let u;if(rd(r)){const c=G(r);return Pr(c)||mr(c)}if(Fm(r))u=()=>G(r.useValue);else if(function(r){return!(!r||!r.useFactory)}(r))u=()=>r.useFactory(...Ys(r.deps||[]));else if(function(r){return!(!r||!r.useExisting)}(r))u=()=>Fn(G(r.useExisting));else{const c=G(r&&(r.useClass||r.provide));if(!function(r){return!!r.deps}(r))return Pr(c)||mr(c);u=()=>new c(...Ys(r.deps))}return u}function Ui(r,i,o=!1){return{factory:r,value:i,multi:o?[]:void 0}}function Fm(r){return null!==r&&"object"==typeof r&&nr in r}function rd(r){return"function"==typeof r}const K0=function(r,i,o){return function(r,i=null,o=null,u){const c=iv(r,i,o,u);return c._resolveInjectorDefTypes(),c}({name:o},i,r,o)};let In=(()=>{class r{static create(o,u){return Array.isArray(o)?K0(o,u,""):K0(o.providers,o.parent,o.name||"")}}return r.THROW_IF_NOT_FOUND=gi,r.NULL=new $0,r.\u0275prov=on({token:r,providedIn:"any",factory:()=>Fn(nd)}),r.__NG_ELEMENT_ID__=-1,r})();function yT(r,i){da(Lr(r)[1],vn())}function xp(r){let i=function(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),o=!0;const u=[r];for(;i;){let c;if(Si(r))c=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Error("Directives cannot inherit Components");c=i.\u0275dir}if(c){if(o){u.push(c);const m=r;m.inputs=_i(r.inputs),m.declaredInputs=_i(r.declaredInputs),m.outputs=_i(r.outputs);const y=c.hostBindings;y&&qc(r,y);const w=c.viewQuery,C=c.contentQueries;if(w&&dv(r,w),C&&hv(r,C),Q(r.inputs,c.inputs),Q(r.declaredInputs,c.declaredInputs),Q(r.outputs,c.outputs),Si(c)&&c.data.animation){const T=r.data;T.animation=(T.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let m=0;m<d.length;m++){const y=d[m];y&&y.ngInherit&&y(r),y===xp&&(o=!1)}}i=Object.getPrototypeOf(i)}!function(r){let i=0,o=null;for(let u=r.length-1;u>=0;u--){const c=r[u];c.hostVars=i+=c.hostVars,c.hostAttrs=su(c.hostAttrs,o=su(o,c.hostAttrs))}}(u)}function _i(r){return r===Ze?{}:r===Ge?[]:r}function dv(r,i){const o=r.viewQuery;r.viewQuery=o?(u,c)=>{i(u,c),o(u,c)}:i}function hv(r,i){const o=r.contentQueries;r.contentQueries=o?(u,c,d)=>{i(u,c,d),o(u,c,d)}:i}function qc(r,i){const o=r.hostBindings;r.hostBindings=o?(u,c)=>{i(u,c),o(u,c)}:i}let $h=null;function ad(){if(!$h){const r=j.Symbol;if(r&&r.iterator)$h=r.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<i.length;++o){const u=i[o];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&($h=u)}}}return $h}function Oa(r){return!!Np(r)&&(Array.isArray(r)||!(r instanceof Map)&&ad()in r)}function Np(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function ni(r,i,o){return!Object.is(r[i],o)&&(r[i]=o,!0)}function Bm(r,i,o,u){const c=Se();return ni(c,Ji(),i)&&(Tt(),Bo(un(),c,r,i,o,u)),Bm}function cb(r,i,o,u,c,d,m,y){const w=Se(),C=Tt(),T=r+20,R=C.firstCreatePass?function(r,i,o,u,c,d,m,y,w){const C=i.consts,T=is(i,r,4,m||null,js(C,y));Bc(i,o,T,js(C,w)),da(i,T);const R=T.tViews=Uc(2,T,u,c,d,i.directiveRegistry,i.pipeRegistry,null,i.schemas,C);return null!==i.queries&&(i.queries.template(i,T),R.queries=i.queries.embeddedTView(T)),T}(T,C,w,i,o,u,c,d,m):C.data[T];ci(R,!1);const O=w[11].createComment("");Cu(C,w,O,R),Ar(O,w),Dp(w,w[T]=J_(O,w,O,R)),Qr(R)&&Vc(C,w,R),null!=m&&ss(w,R,y)}function md(r,i=Re.Default){const o=Se();return null===o?Fn(r,i):cu(vn(),o,G(r),i)}function yd(r,i,o){const u=Se();return ni(u,Ji(),i)&&Ss(Tt(),un(),u,r,i,u[11],o,!1),yd}function zh(r,i,o,u,c){const m=c?"class":"style";Tp(r,o,i.inputs[m],m,u)}function kp(r,i,o,u){const c=Se(),d=Tt(),m=20+r,y=c[11],w=c[m]=gp(y,i,ut.lFrame.currentNamespace),C=d.firstCreatePass?function(r,i,o,u,c,d,m){const y=i.consts,C=is(i,r,2,c,js(y,d));return Bc(i,o,C,js(y,m)),null!==C.attrs&&$c(C,C.attrs,!1),null!==C.mergedAttrs&&$c(C,C.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,C),C}(m,d,c,0,i,o,u):d.data[m];ci(C,!0);const T=C.mergedAttrs;null!==T&&cn(y,w,T);const R=C.classes;null!==R&&me(y,w,R);const O=C.styles;null!==O&&$e(y,w,O),64!=(64&C.flags)&&Cu(d,c,w,C),0===ut.lFrame.elementDepthCount&&Ar(w,c),ut.lFrame.elementDepthCount++,Qr(C)&&(Vc(d,c,C),function(r,i,o){if(za(i)){const c=i.directiveEnd;for(let d=i.directiveStart;d<c;d++){const m=r.data[d];m.contentQueries&&m.contentQueries(1,o[d],d)}}}(d,C,c)),null!==u&&ss(c,C)}function Fp(){let r=vn();Xa()?ut.lFrame.isParent=!1:(r=r.parent,ci(r,!1));const i=r;ut.lFrame.elementDepthCount--;const o=Tt();o.firstCreatePass&&(da(o,r),za(r)&&o.queries.elementEnd(r)),null!=i.classesWithoutHost&&function(r){return 0!=(16&r.flags)}(i)&&zh(o,i,Se(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function(r){return 0!=(32&r.flags)}(i)&&zh(o,i,Se(),i.stylesWithoutHost,!1)}function Dv(r,i,o,u){kp(r,i,o,u),Fp()}function Kh(r){return!!r&&"function"==typeof r.then}function Yh(r){return!!r&&"function"==typeof r.subscribe}const Lp=Yh;function zm(r,i,o,u){const c=Se(),d=Tt(),m=vn();return function(r,i,o,u,c,d,m,y){const w=Qr(u),T=r.firstCreatePass&&U0(r),R=i[8],O=nv(i);let B=!0;if(3&u.type||y){const X=Ir(u,i),ke=y?y(X):X,Ie=O.length,tt=y?lt=>y(bt(lt[u.index])):u.index;if(an(o)){let lt=null;if(!y&&w&&(lt=function(r,i,o,u){const c=r.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const m=c[d];if(m===o&&c[d+1]===u){const y=i[7],w=c[d+2];return y.length>w?y[w]:null}"string"==typeof m&&(d+=2)}return null}(r,i,c,u.index)),null!==lt)(lt.__ngLastListenerFn__||lt).__ngNextListenerFn__=d,lt.__ngLastListenerFn__=d,B=!1;else{d=Tv(u,i,R,d,!1);const Nt=o.listen(ke,c,d);O.push(d,Nt),T&&T.push(c,tt,Ie,Ie+1)}}else d=Tv(u,i,R,d,!0),ke.addEventListener(c,d,m),O.push(d),T&&T.push(c,tt,Ie,m)}else d=Tv(u,i,R,d,!1);const q=u.outputs;let ae;if(B&&null!==q&&(ae=q[c])){const X=ae.length;if(X)for(let ke=0;ke<X;ke+=2){const _r=i[ae[ke]][ae[ke+1]].subscribe(d),hs=O.length;O.push(d,_r),T&&T.push(c,u.index,hs,-(hs+1))}}}(d,c,c[11],m,r,i,!!o,u),zm}function Nb(r,i,o,u){try{return!1!==o(u)}catch(c){return B0(r,c),!1}}function Tv(r,i,o,u,c){return function d(m){if(m===Function)return u;const y=2&r.flags?Xn(r.index,i):i;0==(32&i[2])&&ir(y);let w=Nb(i,0,u,m),C=d.__ngNextListenerFn__;for(;C;)w=Nb(i,0,C,m)&&w,C=C.__ngNextListenerFn__;return c&&!1===w&&(m.preventDefault(),m.returnValue=!1),w}}function Xm(r,i,o,u,c){const d=r[o+1],m=null===i;let y=u?yn(d):Tu(d),w=!1;for(;0!==y&&(!1===w||m);){const T=r[y+1];ey(r[y],i)&&(w=!0,r[y+1]=u?kc(T):pr(T)),y=u?yn(T):Tu(T)}w&&(r[o+1]=u?pr(d):kc(d))}function ey(r,i){return null===r||null==i||(Array.isArray(r)?r[1]:r)===i||!(!Array.isArray(r)||"string"!=typeof i)&&x(r,i)>=0}function Bp(r,i){return function(r,i,o,u){const c=Se(),d=Tt(),m=function(r){const i=ut.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+r,o}(2);d.firstUpdatePass&&function(r,i,o,u){const c=r.data;if(null===c[o+1]){const d=c[Jr()],m=function(r,i){return i>=r.expandoStartIndex}(r,o);(function(r,i){return 0!=(r.flags&(i?16:32))})(d,u)&&null===i&&!m&&(i=!1),i=function(r,i,o,u){const c=function(r){const i=ut.lFrame.currentDirectiveIndex;return-1===i?null:r[i]}(r);let d=u?i.residualClasses:i.residualStyles;if(null===c)0===(u?i.classBindings:i.styleBindings)&&(o=Ed(o=jp(null,r,i,o,u),i.attrs,u),d=null);else{const m=i.directiveStylingLast;if(-1===m||r[m]!==c)if(o=jp(c,r,i,o,u),null===d){let w=function(r,i,o){const u=o?i.classBindings:i.styleBindings;if(0!==Tu(u))return r[yn(u)]}(r,i,u);void 0!==w&&Array.isArray(w)&&(w=jp(null,r,i,w[1],u),w=Ed(w,i.attrs,u),function(r,i,o,u){r[yn(o?i.classBindings:i.styleBindings)]=u}(r,i,u,w))}else d=function(r,i,o){let u;const c=i.directiveEnd;for(let d=1+i.directiveStylingLast;d<c;d++)u=Ed(u,r[d].hostAttrs,o);return Ed(u,i.attrs,o)}(r,i,u)}return void 0!==d&&(u?i.residualClasses=d:i.residualStyles=d),o}(c,d,i,u),function(r,i,o,u,c,d){let m=d?i.classBindings:i.styleBindings,y=yn(m),w=Tu(m);r[u]=o;let T,C=!1;if(Array.isArray(o)){const R=o;T=R[1],(null===T||x(R,T)>0)&&(C=!0)}else T=o;if(c)if(0!==w){const O=yn(r[y+1]);r[u+1]=Em(O,y),0!==O&&(r[O+1]=xa(r[O+1],u)),r[y+1]=function(r,i){return 131071&r|i<<17}(r[y+1],u)}else r[u+1]=Em(y,0),0!==y&&(r[y+1]=xa(r[y+1],u)),y=u;else r[u+1]=Em(w,0),0===y?y=u:r[w+1]=xa(r[w+1],u),w=u;C&&(r[u+1]=pr(r[u+1])),Xm(r,T,u,!0),Xm(r,T,u,!1),function(r,i,o,u,c){const d=c?r.residualClasses:r.residualStyles;null!=d&&"string"==typeof i&&x(d,i)>=0&&(o[u+1]=kc(o[u+1]))}(i,T,r,u,d),m=Em(y,w),d?i.classBindings=m:i.styleBindings=m}(c,d,i,o,m,u)}}(d,r,m,u),i!==Et&&ni(c,m,i)&&function(r,i,o,u,c,d,m,y){if(!(3&i.type))return;const w=r.data,C=w[y+1];$p(function(r){return 1==(1&r)}(C)?kb(w,i,o,c,Tu(C),m):void 0)||($p(d)||function(r){return 2==(2&r)}(C)&&(d=kb(w,null,o,c,y,m)),function(r,i,o,u,c){const d=an(r);if(i)c?d?r.addClass(o,u):o.classList.add(u):d?r.removeClass(o,u):o.classList.remove(u);else{let m=-1===u.indexOf("-")?void 0:ko.DashCase;if(null==c)d?r.removeStyle(o,u,m):o.style.removeProperty(u);else{const y="string"==typeof c&&c.endsWith("!important");y&&(c=c.slice(0,-10),m|=ko.Important),d?r.setStyle(o,u,c,m):o.style.setProperty(u,c,y?"important":"")}}}(u,m,function(r,i){return bt(i[r])}(Jr(),o),c,d))}(d,d.data[Jr()],c,c[11],r,c[m+1]=function(r,i){return null==r||("string"==typeof i?r+=i:"object"==typeof r&&(r=z(Ds(r)))),r}(i,o),u,m)}(r,i,null,!0),Bp}function jp(r,i,o,u,c){let d=null;const m=o.directiveEnd;let y=o.directiveStylingLast;for(-1===y?y=o.directiveStart:y++;y<m&&(d=i[y],u=Ed(u,d.hostAttrs,c),d!==r);)y++;return null!==r&&(o.directiveStylingLast=y),u}function Ed(r,i,o){const u=o?1:2;let c=-1;if(null!==i)for(let d=0;d<i.length;d++){const m=i[d];"number"==typeof m?c=m:c===u&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),b(r,m,!!o||i[++d]))}return void 0===r?null:r}function kb(r,i,o,u,c,d){const m=null===i;let y;for(;c>0;){const w=r[c],C=Array.isArray(w),T=C?w[1]:w,R=null===T;let O=o[c+1];O===Et&&(O=R?Ge:void 0);let B=R?D(O,u):T===u?O:void 0;if(C&&!$p(B)&&(B=D(w,u)),$p(B)&&(y=B,m))return y;const q=r[c+1];c=m?yn(q):Tu(q)}if(null!==i){let w=d?i.residualClasses:i.residualStyles;null!=w&&(y=D(w,u))}return y}function $p(r){return void 0!==r}function $v(r,i=""){const o=Se(),u=Tt(),c=r+20,d=u.firstCreatePass?is(u,c,1,i,null):u.data[c],m=o[c]=function(r,i){return an(r)?r.createText(i):r.createTextNode(i)}(o[11],i);Cu(u,o,m,d),ci(d,!1)}function Hp(r,i,o){const u=Se();return ni(u,Ji(),i)&&Ss(Tt(),un(),u,r,i,u[11],o,!0),Hp}const Mu=void 0;var Xv=["en",[["a","p"],["AM","PM"],Mu],[["AM","PM"],Mu,Mu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Mu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Mu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Mu,"{1} 'at' {0}",Mu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(r){const i=Math.floor(Math.abs(r)),o=r.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===o?1:5}];let nf={};function fy(r){const i=function(r){return r.toLowerCase().replace(/_/g,"-")}(r);let o=Qb(i);if(o)return o;const u=i.split("-")[0];if(o=Qb(u),o)return o;if("en"===u)return Xv;throw new Error(`Missing locale data for the locale "${r}".`)}function eE(r){return fy(r)[ot.PluralCase]}function Qb(r){return r in nf||(nf[r]=j.ng&&j.ng.common&&j.ng.common.locales&&j.ng.common.locales[r]),nf[r]}var ot=(()=>((ot=ot||{})[ot.LocaleId=0]="LocaleId",ot[ot.DayPeriodsFormat=1]="DayPeriodsFormat",ot[ot.DayPeriodsStandalone=2]="DayPeriodsStandalone",ot[ot.DaysFormat=3]="DaysFormat",ot[ot.DaysStandalone=4]="DaysStandalone",ot[ot.MonthsFormat=5]="MonthsFormat",ot[ot.MonthsStandalone=6]="MonthsStandalone",ot[ot.Eras=7]="Eras",ot[ot.FirstDayOfWeek=8]="FirstDayOfWeek",ot[ot.WeekendRange=9]="WeekendRange",ot[ot.DateFormat=10]="DateFormat",ot[ot.TimeFormat=11]="TimeFormat",ot[ot.DateTimeFormat=12]="DateTimeFormat",ot[ot.NumberSymbols=13]="NumberSymbols",ot[ot.NumberFormats=14]="NumberFormats",ot[ot.CurrencyCode=15]="CurrencyCode",ot[ot.CurrencySymbol=16]="CurrencySymbol",ot[ot.CurrencyName=17]="CurrencyName",ot[ot.Currencies=18]="Currencies",ot[ot.Directionality=19]="Directionality",ot[ot.PluralCase=20]="PluralCase",ot[ot.ExtraData=21]="ExtraData",ot))();const rf="en-US";let rE=rf;function sf(r){hn(r,"Expected localeId to be defined"),"string"==typeof r&&(rE=r.toLowerCase().replace(/_/g,"-"))}function uf(r,i,o,u,c){if(r=G(r),Array.isArray(r))for(let d=0;d<r.length;d++)uf(r[d],i,o,u,c);else{const d=Tt(),m=Se();let y=rd(r)?r:G(r.provide),w=Lh(r);const C=vn(),T=1048575&C.providerIndexes,R=C.directiveStart,O=C.providerIndexes>>20;if(rd(r)||!r.multi){const B=new nu(w,c,md),q=Jp(y,i,c?T:T+O,R);-1===q?(Ni(Un(C,m),d,y),Td(d,r,i.length),i.push(y),C.directiveStart++,C.directiveEnd++,c&&(C.providerIndexes+=1048576),o.push(B),m.push(B)):(o[q]=B,m[q]=B)}else{const B=Jp(y,i,T+O,R),q=Jp(y,i,T,T+O),ae=B>=0&&o[B],X=q>=0&&o[q];if(c&&!X||!c&&!ae){Ni(Un(C,m),d,y);const ke=function(r,i,o,u,c){const d=new nu(r,o,md);return d.multi=[],d.index=i,d.componentProviders=0,_E(d,c,u&&!o),d}(c?hA:dA,o.length,c,u,w);!c&&X&&(o[q].providerFactory=ke),Td(d,r,i.length,0),i.push(y),C.directiveStart++,C.directiveEnd++,c&&(C.providerIndexes+=1048576),o.push(ke),m.push(ke)}else Td(d,r,B>-1?B:q,_E(o[c?q:B],w,!c&&u));!c&&u&&X&&o[q].componentProviders++}}}function Td(r,i,o,u){const c=rd(i);if(c||function(r){return!!r.useClass}(i)){const m=(i.useClass||i).prototype.ngOnDestroy;if(m){const y=r.destroyHooks||(r.destroyHooks=[]);if(!c&&i.multi){const w=y.indexOf(o);-1===w?y.push(o,[u,m]):y[w+1].push(u,m)}else y.push(o,m)}}}function _E(r,i,o){return o&&r.componentProviders++,r.multi.push(i)-1}function Jp(r,i,o,u){for(let c=o;c<u;c++)if(i[c]===r)return c;return-1}function dA(r,i,o,u){return vE(this.multi,[])}function hA(r,i,o,u){const c=this.multi;let d;if(this.providerFactory){const m=this.providerFactory.componentProviders,y=pt(o,o[1],this.providerFactory.index,u);d=y.slice(0,m),vE(c,d);for(let w=m;w<y.length;w++)d.push(y[w])}else d=[],vE(c,d);return d}function vE(r,i){for(let o=0;o<r.length;o++)i.push((0,r[o])());return i}function Ey(r,i=[]){return o=>{o.providersResolver=(u,c)=>function(r,i,o){const u=Tt();if(u.firstCreatePass){const c=Si(r);uf(o,u.data,u.blueprint,c,!0),uf(i,u.data,u.blueprint,c,!1)}}(u,c?c(r):r,i)}}class Jc{}const bE="ngComponent";class IE{resolveComponentFactory(i){throw function(r){const i=Error(`No component factory found for ${z(r)}. Did you add it to @NgModule.entryComponents?`);return i[bE]=r,i}(i)}}let cf=(()=>{class r{}return r.NULL=new IE,r})();function Xp(...r){}function df(r,i){return new us(Ir(r,i))}const Pu=function(){return df(vn(),Se())};let us=(()=>{class r{constructor(o){this.nativeElement=o}}return r.__NG_ELEMENT_ID__=Pu,r})();function ku(r){return r instanceof us?r.nativeElement:r}class tg{}let wI=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>fA(),r})();const fA=function(){const r=Se(),o=Xn(vn().index,r);return function(r){return r[11]}(Yr(o)?o:r)};let CE=(()=>{class r{}return r.\u0275prov=on({token:r,providedIn:"root",factory:()=>null}),r})();class DE{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const TE=new DE("12.2.10");class bI{constructor(){}supports(i){return Oa(i)}create(i){return new mA(i)}}const II=(r,i)=>i;class mA{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||II}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,u=this._removalsHead,c=0,d=null;for(;o||u;){const m=!u||o&&o.currentIndex<AE(u,c,d)?o:u,y=AE(m,c,d),w=m.currentIndex;if(m===u)c--,u=u._nextRemoved;else if(o=o._next,null==m.previousIndex)c++;else{d||(d=[]);const C=y-c,T=w-c;if(C!=T){for(let O=0;O<C;O++){const B=O<d.length?d[O]:d[O]=0,q=B+O;T<=q&&q<C&&(d[O]=B+1)}d[m.previousIndex]=T-C}}y!==w&&i(m,y,w)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!Oa(i))throw new Error(`Error trying to diff '${z(i)}'. Only arrays and iterables are allowed`);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let c,d,m,o=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let y=0;y<this.length;y++)d=i[y],m=this._trackByFn(y,d),null!==o&&Object.is(o.trackById,m)?(u&&(o=this._verifyReinsertion(o,d,m,y)),Object.is(o.item,d)||this._addIdentityChange(o,d)):(o=this._mismatch(o,d,m,y),u=!0),o=o._next}else c=0,function(r,i){if(Array.isArray(r))for(let o=0;o<r.length;o++)i(r[o]);else{const o=r[ad()]();let u;for(;!(u=o.next()).done;)i(u.value)}}(i,y=>{m=this._trackByFn(c,y),null!==o&&Object.is(o.trackById,m)?(u&&(o=this._verifyReinsertion(o,y,m,c)),Object.is(o.item,y)||this._addIdentityChange(o,y)):(o=this._mismatch(o,y,m,c),u=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,u,c){let d;return null===i?d=this._itTail:(d=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,d,c)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,c))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,d,c)):i=this._addAfter(new CI(o,u),d,c),i}_verifyReinsertion(i,o,u,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==d?i=this._reinsertAfter(d,i._prev,c):i.currentIndex!=c&&(i.currentIndex=c,this._addToMoves(i,c)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const c=i._prevRemoved,d=i._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(i,o,u),this._addToMoves(i,u),i}_moveAfter(i,o,u){return this._unlink(i),this._insertAfter(i,o,u),this._addToMoves(i,u),i}_addAfter(i,o,u){return this._insertAfter(i,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,u){const c=null===o?this._itHead:o._next;return i._next=c,i._prev=o,null===c?this._itTail=i:c._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new DI),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,u=i._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new DI),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class CI{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class yA{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const o=i._prevDup,u=i._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class DI{constructor(){this.map=new Map}put(i){const o=i.trackById;let u=this.map.get(o);u||(u=new yA,this.map.set(o,u)),u.add(i)}get(i,o){const c=this.map.get(i);return c?c.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function AE(r,i,o){const u=r.previousIndex;if(null===u)return u;let c=0;return o&&u<o.length&&(c=o[u]),u+i+c}class SE{constructor(){}supports(i){return i instanceof Map||Np(i)}create(){return new TI}}class TI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||Np(i)))throw new Error(`Error trying to diff '${z(i)}'. Only maps and objects are allowed`)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const d=this._getOrCreateRecordForKey(c,u);o=this._insertBeforeOrAppend(o,d)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const u=i._prev;return o._next=i,o._prev=u,i._prev=o,u&&(u._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const c=this._records.get(i);this._maybeAddToChanges(c,o);const d=c._prev,m=c._next;return d&&(d._next=m),m&&(m._prev=d),c._next=null,c._prev=null,c}const u=new AI(i);return this._records.set(i,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(u=>o(i[u],u))}}class AI{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function by(){return new Sd([new bI])}let Sd=(()=>{class r{constructor(o){this.factories=o}static create(o,u){if(null!=u){const c=u.factories.slice();o=o.concat(c)}return new r(o)}static extend(o){return{provide:r,useFactory:u=>r.create(o,u||by()),deps:[[r,new Mo,new ns]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(null!=u)return u;throw new Error(`Cannot find a differ supporting object '${o}' of type '${function(r){return r.name||typeof r}(o)}'`)}}return r.\u0275prov=on({token:r,providedIn:"root",factory:by}),r})();function xE(){return new Go([new SE])}let Go=(()=>{class r{constructor(o){this.factories=o}static create(o,u){if(u){const c=u.factories.slice();o=o.concat(c)}return new r(o)}static extend(o){return{provide:r,useFactory:u=>r.create(o,u||xE()),deps:[[r,new Mo,new ns]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(u)return u;throw new Error(`Cannot find a differ supporting object '${o}'`)}}return r.\u0275prov=on({token:r,providedIn:"root",factory:xE}),r})();function Iy(r,i,o,u,c=!1){for(;null!==o;){const d=i[o.index];if(null!==d&&u.push(bt(d)),Gt(d))for(let y=10;y<d.length;y++){const w=d[y],C=w[1].firstChild;null!==C&&Iy(w[1],w,C,u)}const m=o.type;if(8&m)Iy(r,i,o.child,u);else if(32&m){const y=dp(o,i);let w;for(;w=y();)u.push(w)}else if(16&m){const y=vm(i,o);if(Array.isArray(y))u.push(...y);else{const w=Zl(i[16]);Iy(w[1],w,y,u,!0)}}o=c?o.projectionNext:o.next}return u}class qo{constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,o=i[1];return Iy(o,i,o.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(Gt(i)){const o=i[8],u=o?o.indexOf(this):-1;u>-1&&(gm(i,u),pi(o,u))}this._attachedToViewContainer=!1}F_(this._lView[1],this._lView)}onDestroy(i){A0(this._lView[1],this._lView,null,i)}markForCheck(){ir(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Mn(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(r,i,o){Qi(!0);try{Mn(r,i,o)}finally{Qi(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var i;this._appRef=null,Du(this._lView[1],i=this._lView,i[11],2,null,null)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=i}}class vA extends qo{constructor(i){super(i),this._view=i}detectChanges(){ev(this._view)}checkNoChanges(){!function(r){Qi(!0);try{ev(r)}finally{Qi(!1)}}(this._view)}get context(){return null}}const wA=function(r){return function(r,i,o){if(zu(r)&&!o){const u=Xn(r.index,i);return new qo(u,u)}return 47&r.type?new qo(i[16],i):null}(vn(),Se(),16==(16&r))};let bA=(()=>{class r{}return r.__NG_ELEMENT_ID__=wA,r})();const IA=[new SE],RI=new Sd([new bI]),DA=new Go(IA),TA=function(){return Cy(vn(),Se())};let rg=(()=>{class r{}return r.__NG_ELEMENT_ID__=TA,r})();const AA=rg,SA=class extends AA{constructor(i,o,u){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(i){const o=this._declarationTContainer.tViews,u=Mh(this._declarationLView,o,i,16,null,o.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const d=this._declarationLView[19];return null!==d&&(u[19]=d.createEmbeddedView(o)),Lc(o,u,i),new qo(u)}};function Cy(r,i){return 4&r.type?new SA(i,r,df(r,i)):null}class xd{}class RA{}const MA=function(){return PI(vn(),Se())};let pf=(()=>{class r{}return r.__NG_ELEMENT_ID__=MA,r})();const OI=pf,gf=class extends OI{constructor(i,o,u){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=u}get element(){return df(this._hostTNode,this._hostLView)}get injector(){return new Is(this._hostTNode,this._hostLView)}get parentInjector(){const i=mn(this._hostTNode,this._hostLView);if(cc(i)){const o=au(i,this._hostLView),u=ou(i);return new Is(o[1].data[u+8],o)}return new Is(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=Dy(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,o,u){const c=i.createEmbeddedView(o||{});return this.insert(c,u),c}createComponent(i,o,u,c,d){const m=u||this.parentInjector;if(!d&&null==i.ngModule&&m){const w=m.get(xd,null);w&&(d=w)}const y=i.create(m,c,void 0,d);return this.insert(y.hostView,o),y}insert(i,o){const u=i._lView,c=u[1];if(Gt(u[3])){const T=this.indexOf(i);if(-1!==T)this.detach(T);else{const R=u[3],O=new gf(R,R[6],R[3]);O.detach(O.indexOf(i))}}const d=this._adjustIndex(o),m=this._lContainer;!function(r,i,o,u){const c=10+u,d=o.length;u>0&&(o[c-1][4]=i),u<d-10?(i[4]=o[c],fi(o,10+u,i)):(o.push(i),i[4]=null),i[3]=o;const m=i[17];null!==m&&o!==m&&function(r,i){const o=r[9];i[16]!==i[3][3][16]&&(r[2]=!0),null===o?r[9]=[i]:o.push(i)}(m,i);const y=i[19];null!==y&&y.insertView(r),i[2]|=128}(c,u,m,d);const y=V_(d,m),w=u[11],C=ym(w,m[7]);return null!==C&&function(r,i,o,u,c,d){u[0]=c,u[6]=i,Du(r,u,o,1,c,d)}(c,m[6],w,u,C,y),i.attachToViewContainerRef(),fi(RE(m),d,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=Dy(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),u=gm(this._lContainer,o);u&&(pi(RE(this._lContainer),o),F_(u[1],u))}detach(i){const o=this._adjustIndex(i,-1),u=gm(this._lContainer,o);return u&&null!=pi(RE(this._lContainer),o)?new qo(u):null}_adjustIndex(i,o=0){return null==i?this.length+o:i}};function Dy(r){return r[8]}function RE(r){return r[8]||(r[8]=[])}function PI(r,i){let o;const u=i[r.index];if(Gt(u))o=u;else{let c;if(8&r.type)c=bt(u);else{const d=i[11];c=d.createComment("");const m=Ir(r,i);Kl(d,ym(d,m),c,function(r,i){return an(r)?r.nextSibling(i):i.nextSibling}(d,m),!1)}i[r.index]=o=J_(u,i,c,r),Dp(i,o)}return new gf(o,r,i)}const wf={};class iC extends cf{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=cr(i);return new oC(o,this.ngModule)}}function pg(r){const i=[];for(let o in r)r.hasOwnProperty(o)&&i.push({propName:r[o],templateName:o});return i}const sC=new Fe("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>cp});class oC extends Jc{constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=i.selectors.map(Ct).join(","),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return pg(this.componentDef.inputs)}get outputs(){return pg(this.componentDef.outputs)}create(i,o,u,c){const d=(c=c||this.ngModule)?function(r,i){return{get:(o,u,c)=>{const d=r.get(o,wf,c);return d!==wf||u===wf?d:i.get(o,u,c)}}}(i,c.injector):i,m=d.get(tg,ia),y=d.get(CE,null),w=m.createRenderer(null,this.componentDef),C=this.componentDef.selectors[0][0]||"div",T=u?function(r,i,o){if(an(r))return r.selectRootElement(i,o===pn.ShadowDom);let u="string"==typeof i?r.querySelector(i):i;return u.textContent="",u}(w,u,this.componentDef.encapsulation):gp(m.createRenderer(null,this.componentDef),C,function(r){const i=r.toLowerCase();return"svg"===i?"http://www.w3.org/2000/svg":"math"===i?"http://www.w3.org/1998/MathML/":null}(C)),R=this.componentDef.onPush?576:528,O=function(r,i){return{components:[],scheduler:r||cp,clean:iT,playerHandler:i||null,flags:0}}(),B=Uc(0,null,null,1,0,null,null,null,null,null),q=Mh(null,B,O,R,null,null,m,w,y,d);let ae,X;To(q);try{const ke=function(r,i,o,u,c,d){const m=o[1];o[20]=r;const w=is(m,20,2,"#host",null),C=w.mergedAttrs=i.hostAttrs;null!==C&&($c(w,C,!0),null!==r&&(cn(c,r,C),null!==w.classes&&me(c,r,w.classes),null!==w.styles&&$e(c,r,w.styles)));const T=u.createRenderer(r,i),R=Mh(o,W_(i),null,i.onPush?64:16,o[20],w,u,T,d||null,null);return m.firstCreatePass&&(Ni(Un(w,o),m,i.type),Ip(m,w),Om(w,o.length,1)),Dp(o,R),o[20]=R}(T,this.componentDef,q,m,w);if(T)if(u)cn(w,T,["ng-version",TE.full]);else{const{attrs:Ie,classes:tt}=function(r){const i=[],o=[];let u=1,c=2;for(;u<r.length;){let d=r[u];if("string"==typeof d)2===c?""!==d&&i.push(d,r[++u]):8===c&&o.push(d);else{if(!Lo(c))break;c=d}u++}return{attrs:i,classes:o}}(this.componentDef.selectors[0]);Ie&&cn(w,T,Ie),tt&&tt.length>0&&me(w,T,tt.join(" "))}if(X=Yi(B,20),void 0!==o){const Ie=X.projection=[];for(let tt=0;tt<this.ngContentSelectors.length;tt++){const lt=o[tt];Ie.push(null!=lt?Array.from(lt):null)}}ae=function(r,i,o,u,c){const d=o[1],m=function(r,i,o){const u=vn();r.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),P0(r,u,i,Uo(r,i,1,null),o));const c=pt(i,r,u.directiveStart,u);Ar(c,i);const d=Ir(u,i);return d&&Ar(d,i),c}(d,o,i);if(u.components.push(m),r[8]=m,c&&c.forEach(w=>w(m,i)),i.contentQueries){const w=vn();i.contentQueries(1,m,w.directiveStart)}const y=vn();return!d.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(Xi(y.index),Q_(o[1],y,0,y.directiveStart,y.directiveEnd,i),O0(i,m)),m}(ke,this.componentDef,q,O,[yT]),Lc(B,q,null)}finally{Bf()}return new rS(this.componentType,ae,df(X,q),q,X)}}class rS extends class{}{constructor(i,o,u,c,d){super(),this.location=u,this._rootLView=c,this._tNode=d,this.instance=o,this.hostView=this.changeDetectorRef=new vA(c),this.componentType=i}get injector(){return new Is(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}const bf=new Map;class oS extends xd{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new iC(this);const u=Yn(i),c=i[Dt]||null;c&&sf(c),this._bootstrapComponents=ki(u.bootstrap),this._r3Injector=iv(i,o,[{provide:xd,useValue:this},{provide:cf,useValue:this.componentFactoryResolver}],z(i)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(i)}get(i,o=In.THROW_IF_NOT_FOUND,u=Re.Default){return i===In||i===xd||i===nd?this:this._r3Injector.get(i,o,u)}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class gg extends RA{constructor(i){super(),this.moduleType=i,null!==Yn(i)&&function(r){const i=new Set;!function o(u){const c=Yn(u,!0),d=c.id;null!==d&&(function(r,i,o){if(i&&i!==o)throw new Error(`Duplicate module registered for ${r} - ${z(i)} vs ${z(i.name)}`)}(d,bf.get(d),u),bf.set(d,u));const m=ki(c.imports);for(const y of m)i.has(y)||(i.add(y),o(y))}(r)}(i)}create(i){return new oS(this.moduleType,i)}}function pC(r){return i=>{setTimeout(r,void 0,i)}}const Lu=class extends h.xQ{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,u){var c,d,m;let y=i,w=o||(()=>null),C=u;if(i&&"object"==typeof i){const R=i;y=null===(c=R.next)||void 0===c?void 0:c.bind(R),w=null===(d=R.error)||void 0===d?void 0:d.bind(R),C=null===(m=R.complete)||void 0===m?void 0:m.bind(R)}this.__isAsync&&(w=pC(w),y&&(y=pC(y)),C&&(C=pC(C)));const T=super.subscribe({next:y,error:w,complete:C});return i instanceof ee.w&&i.add(T),T}};function UR(){return this._results[ad()]()}class YE{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=ad(),u=YE.prototype;u[o]||(u[o]=UR)}get changes(){return this._changes||(this._changes=new Lu)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const u=this;u.dirty=!1;const c=hi(i);(this._changesDetected=!function(r,i,o){if(r.length!==i.length)return!1;for(let u=0;u<r.length;u++){let c=r[u],d=i[u];if(o&&(c=o(c),d=o(d)),d!==c)return!1}return!0}(u._results,c,o))&&(u._results=c,u.length=c.length,u.last=c[this.length-1],u.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class By{constructor(i){this.queryList=i,this.matches=null}clone(){return new By(this.queryList)}setDirty(){this.queryList.setDirty()}}class jy{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const u=null!==i.contentQueries?i.contentQueries[0]:o.length,c=[];for(let d=0;d<u;d++){const m=o.getByIndex(d);c.push(this.queries[m.indexInDeclarationView].clone())}return new jy(c)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==ew(i,o).matches&&this.queries[o].setDirty()}}class QE{constructor(i,o,u=null){this.predicate=i,this.flags=o,this.read=u}}class $y{constructor(i=[]){this.queries=i}elementStart(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let u=0;u<this.length;u++){const c=null!==o?o.length:0,d=this.getByIndex(u).embeddedTView(i,c);d&&(d.indexInDeclarationView=u,null!==o?o.push(d):o=[d])}return null!==o?new $y(o):null}template(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class Hy{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new Hy(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let c=0;c<u.length;c++){const d=u[c];this.matchTNodeWithReadOption(i,o,mC(o,d)),this.matchTNodeWithReadOption(i,o,ga(o,i,d,!1,!1))}else u===rg?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,ga(o,i,u,!1,!1))}matchTNodeWithReadOption(i,o,u){if(null!==u){const c=this.metadata.read;if(null!==c)if(c===us||c===pf||c===rg&&4&o.type)this.addMatch(o.index,-2);else{const d=ga(o,i,c,!1,!1);null!==d&&this.addMatch(o.index,d)}else this.addMatch(o.index,u)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function mC(r,i){const o=r.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===i)return o[u+1];return null}function Gy(r,i,o,u){return-1===o?function(r,i){return 11&r.type?df(r,i):4&r.type?Cy(r,i):null}(i,r):-2===o?function(r,i,o){return o===us?df(i,r):o===rg?Cy(i,r):o===pf?PI(i,r):void 0}(r,i,u):pt(r,r[1],o,i)}function _C(r,i,o,u){const c=i[19].queries[u];if(null===c.matches){const d=r.data,m=o.matches,y=[];for(let w=0;w<m.length;w+=2){const C=m[w];y.push(C<0?null:Gy(i,d[C],m[w+1],o.metadata.read))}c.matches=y}return c.matches}function qy(r,i,o,u){const c=r.queries.getByIndex(o),d=c.matches;if(null!==d){const m=_C(r,i,c,o);for(let y=0;y<d.length;y+=2){const w=d[y];if(w>0)u.push(m[y/2]);else{const C=d[y+1],T=i[-w];for(let R=10;R<T.length;R++){const O=T[R];O[17]===O[3]&&qy(O[1],O,C,u)}if(null!==T[9]){const R=T[9];for(let O=0;O<R.length;O++){const B=R[O];qy(B[1],B,C,u)}}}}}return u}function vC(r){const i=Se(),o=Tt(),u=Do();_l(u+1);const c=ew(o,u);if(r.dirty&&Io(i)===(2==(2&c.metadata.flags))){if(null===c.matches)r.reset([]);else{const d=c.crossesNgTemplate?qy(o,i,u,[]):_C(o,i,c,u);r.reset(d,ku),r.notifyOnChanges()}return!0}return!1}function yg(r,i,o,u){const c=Tt();if(c.firstCreatePass){const d=vn();(function(r,i,o){null===r.queries&&(r.queries=new $y),r.queries.track(new Hy(i,o))})(c,new QE(i,o,u),d.index),function(r,i){const o=r.contentQueries||(r.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(r.queries.length-1,i)}(c,r),2==(2&o)&&(c.staticContentQueries=!0)}!function(r,i,o){const u=new YE(4==(4&o));A0(r,i,u,u.destroy),null===i[19]&&(i[19]=new jy),i[19].queries.push(new By(u))}(c,Se(),o)}function XE(){return r=Se(),i=Do(),r[19].queries[i].queryList;var r,i}function ew(r,i){return r.queries.getByIndex(i)}const cw=new Fe("Application Initializer");let oo=(()=>{class r{constructor(o){this.appInits=o,this.resolve=Xp,this.reject=Xp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,c)=>{this.resolve=u,this.reject=c})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const d=this.appInits[c]();if(Kh(d))o.push(d);else if(Lp(d)){const m=new Promise((y,w)=>{d.subscribe({complete:y,error:w})});o.push(m)}}Promise.all(o).then(()=>{u()}).catch(c=>{this.reject(c)}),0===o.length&&u(),this.initialized=!0}}return r.\u0275fac=function(o){return new(o||r)(Fn(cw,8))},r.\u0275prov=on({token:r,factory:r.\u0275fac}),r})();const UC=new Fe("AppId"),BC={provide:UC,useFactory:function(){return`${dw()}${dw()}${dw()}`},deps:[]};function dw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const bg=new Fe("Platform Initializer"),Cf=new Fe("Platform ID"),hw=new Fe("appBootstrapListener");let jC=(()=>{class r{log(o){console.log(o)}warn(o){console.warn(o)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=on({token:r,factory:r.\u0275fac}),r})();const Df=new Fe("LocaleId"),Ig=new Fe("DefaultCurrencyCode");class US{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}const pw=function(r){return new gg(r)},BS=pw,gw=function(r){return Promise.resolve(pw(r))},Tf=function(r){const i=pw(r),u=ki(Yn(r).declarations).reduce((c,d)=>{const m=cr(d);return m&&c.push(new oC(m)),c},[]);return new US(i,u)},HC=Tf,Af=function(r){return Promise.resolve(Tf(r))};let Sf=(()=>{class r{constructor(){this.compileModuleSync=BS,this.compileModuleAsync=gw,this.compileModuleAndAllComponentsSync=HC,this.compileModuleAndAllComponentsAsync=Af}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=on({token:r,factory:r.\u0275fac}),r})();const GC=(()=>Promise.resolve(0))();function Cg(r){"undefined"==typeof Zone?GC.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class Gi{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Lu(!1),this.onMicrotaskEmpty=new Lu(!1),this.onStable=new Lu(!1),this.onError=new Lu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!u&&o,c.shouldCoalesceRunChangeDetection=u,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function(){let r=j.requestAnimationFrame,i=j.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&i){const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function(r){const i=()=>{!function(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(j,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,_w(r),r.isCheckStableRunning=!0,yw(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),_w(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,c,d,m,y)=>{try{return WC(r),o.invokeTask(c,d,m,y)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||r.shouldCoalesceRunChangeDetection)&&i(),zC(r)}},onInvoke:(o,u,c,d,m,y,w)=>{try{return WC(r),o.invoke(c,d,m,y,w)}finally{r.shouldCoalesceRunChangeDetection&&i(),zC(r)}},onHasTask:(o,u,c,d)=>{o.hasTask(c,d),u===c&&("microTask"==d.change?(r._hasPendingMicrotasks=d.microTask,_w(r),yw(r)):"macroTask"==d.change&&(r.hasPendingMacrotasks=d.macroTask))},onHandleError:(o,u,c,d)=>(o.handleError(c,d),r.runOutsideAngular(()=>r.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Gi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Gi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(i,o,u){return this._inner.run(i,o,u)}runTask(i,o,u,c){const d=this._inner,m=d.scheduleEventTask("NgZoneEvent: "+c,i,mw,Xp,Xp);try{return d.runTask(m,o,u)}finally{d.cancelTask(m)}}runGuarded(i,o,u){return this._inner.runGuarded(i,o,u)}runOutsideAngular(i){return this._outer.run(i)}}const mw={};function yw(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function _w(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function WC(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function zC(r){r._nesting--,yw(r)}class Qy{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Lu,this.onMicrotaskEmpty=new Lu,this.onStable=new Lu,this.onError=new Lu}run(i,o,u){return i.apply(o,u)}runGuarded(i,o,u){return i.apply(o,u)}runOutsideAngular(i){return i()}runTask(i,o,u,c){return i.apply(o,u)}}let xf=(()=>{class r{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Gi.assertNotInAngularZone(),Cg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Cg(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,c){let d=-1;u&&u>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==d),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:d,updateCb:c})}whenStable(o,u,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,u,c){return[]}}return r.\u0275fac=function(o){return new(o||r)(Fn(Gi))},r.\u0275prov=on({token:r,factory:r.\u0275fac}),r})(),Jy=(()=>{class r{constructor(){this._applications=new Map,vw.addToWindow(this)}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return vw.findTestabilityInTree(this,o,u)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=on({token:r,factory:r.\u0275fac}),r})();class KC{addToWindow(i){}findTestabilityInTree(i,o,u){return null}}function YC(r){vw=r}let vw=new KC,Xy=!0,QC=!1;function Ew(){return QC=!0,Xy}function GS(){if(QC)throw new Error("Cannot enable prod mode after platform setup.");Xy=!1}let ao;const tD=new Fe("AllowMultipleToken");class bw{constructor(i,o){this.name=i,this.token=o}}function nD(r,i,o=[]){const u=`Platform: ${i}`,c=new Fe(u);return(d=[])=>{let m=rD();if(!m||m.injector.get(tD,!1))if(r)r(o.concat(d).concat({provide:c,useValue:!0}));else{const y=o.concat(d).concat({provide:c,useValue:!0},{provide:kh,useValue:"platform"});!function(r){if(ao&&!ao.destroyed&&!ao.injector.get(tD,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ao=r.get(iD);const i=r.get(bg,null);i&&i.forEach(o=>o())}(In.create({providers:y,name:u}))}return function(r){const i=rD();if(!i)throw new Error("No platform exists!");if(!i.injector.get(r,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return i}(c)}}function rD(){return ao&&!ao.destroyed?ao:null}let iD=(()=>{class r{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const y=function(r,i){let o;return o="noop"===r?new Qy:("zone.js"===r?void 0:r)||new Gi({enableLongStackTrace:Ew(),shouldCoalesceEventChangeDetection:!!(null==i?void 0:i.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==i?void 0:i.ngZoneRunCoalescing)}),o}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),w=[{provide:Gi,useValue:y}];return y.run(()=>{const C=In.create({providers:w,parent:this.injector,name:o.moduleType.name}),T=o.create(C),R=T.injector.get(_e,null);if(!R)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return y.runOutsideAngular(()=>{const O=y.onError.subscribe({next:B=>{R.handleError(B)}});T.onDestroy(()=>{t_(this._modules,T),O.unsubscribe()})}),function(r,i,o){try{const u=o();return Kh(u)?u.catch(c=>{throw i.runOutsideAngular(()=>r.handleError(c)),c}):u}catch(u){throw i.runOutsideAngular(()=>r.handleError(u)),u}}(R,y,()=>{const O=T.injector.get(oo);return O.runInitializers(),O.donePromise.then(()=>(sf(T.injector.get(Df,rf)||rf),this._moduleDoBootstrap(T),T))})})}bootstrapModule(o,u=[]){const c=Rf({},u);return function(r,i,o){const u=new gg(o);return Promise.resolve(u)}(0,0,o).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(o){const u=o.injector.get(Nf);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(c=>u.bootstrap(c));else{if(!o.instance.ngDoBootstrap)throw new Error(`The module ${z(o.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(o){return new(o||r)(Fn(In))},r.\u0275prov=on({token:r,factory:r.\u0275fac}),r})();function Rf(r,i){return Array.isArray(i)?i.reduce(Rf,r):Object.assign(Object.assign({},r),i)}let Nf=(()=>{class r{constructor(o,u,c,d,m){this._zone=o,this._injector=u,this._exceptionHandler=c,this._componentFactoryResolver=d,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new F.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),w=new F.y(C=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{Gi.assertNotInAngularZone(),Cg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const R=this._zone.onUnstable.subscribe(()=>{Gi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{T.unsubscribe(),R.unsubscribe()}});this.isStable=(0,ce.T)(y,w.pipe(r=>(0,le.x)()(function(r,i){return function(u){let c;c="function"==typeof r?r:function(){return r};const d=Object.create(u,te.N);return d.source=u,d.subjectFactory=c,d}}(Z)(r))))}bootstrap(o,u){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let c;c=o instanceof Jc?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(c.componentType);const d=function(r){return r.isBoundToModule}(c)?void 0:this._injector.get(xd),y=c.create(In.NULL,[],u||c.selector,d),w=y.location.nativeElement,C=y.injector.get(xf,null),T=C&&y.injector.get(Jy);return C&&T&&T.registerApplication(w,C),y.onDestroy(()=>{this.detachView(y.hostView),t_(this.components,y),T&&T.unregisterApplication(w)}),this._loadComponent(y),y}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;t_(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(hw,[]).concat(this._bootstrapListeners).forEach(c=>c(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return r.\u0275fac=function(o){return new(o||r)(Fn(Gi),Fn(In),Fn(_e),Fn(cf),Fn(oo))},r.\u0275prov=on({token:r,factory:r.\u0275fac}),r})();function t_(r,i){const o=r.indexOf(i);o>-1&&r.splice(o,1)}class Iw{}class QS{}const JS={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let XS=(()=>{class r{constructor(o,u){this._compiler=o,this._config=u||JS}load(o){return this.loadAndCompile(o)}loadAndCompile(o){let[u,c]=o.split("#");return void 0===c&&(c="default"),V(8255)(u).then(d=>d[c]).then(d=>Sg(d,u,c)).then(d=>this._compiler.compileModuleAsync(d))}loadFactory(o){let[u,c]=o.split("#"),d="NgFactory";return void 0===c&&(c="default",d=""),V(8255)(this._config.factoryPathPrefix+u+this._config.factoryPathSuffix).then(m=>m[c+d]).then(m=>Sg(m,u,c))}}return r.\u0275fac=function(o){return new(o||r)(Fn(Sf),Fn(QS,8))},r.\u0275prov=on({token:r,factory:r.\u0275fac}),r})();function Sg(r,i,o){if(!r)throw new Error(`Cannot find '${o}' in '${i}'`);return r}const ox=function(r){return null},lD=nD(null,"core",[{provide:Cf,useValue:"unknown"},{provide:iD,deps:[In]},{provide:Jy,deps:[]},{provide:jC,deps:[]}]),dD=[{provide:Nf,useClass:Nf,deps:[Gi,In,_e,cf,oo]},{provide:sC,deps:[Gi],useFactory:function(r){let i=[];return r.onStable.subscribe(()=>{for(;i.length;)i.pop()()}),function(o){i.push(o)}}},{provide:oo,useClass:oo,deps:[[new ns,cw]]},{provide:Sf,useClass:Sf,deps:[]},BC,{provide:Sd,useFactory:function(){return RI},deps:[]},{provide:Go,useFactory:function(){return DA},deps:[]},{provide:Df,useFactory:function(r){return sf(r=r||"undefined"!=typeof $localize&&$localize.locale||rf),r},deps:[[new yu(Df),new ns,new Mo]]},{provide:Ig,useValue:"USD"}];let hD=(()=>{class r{constructor(o){}}return r.\u0275fac=function(o){return new(o||r)(Fn(Nf))},r.\u0275mod=qa({type:r}),r.\u0275inj=Di({providers:dD}),r})()},8939:(Xe,Te,V)=>{"use strict";V.d(Te,{hO:()=>z,xv:()=>Z,Dh:()=>le,GT:()=>ie,cc:()=>re,on:()=>k,pX:()=>te});var h=V(3018),ee=V(7841),F=V(6643);Xe=V.hmd(Xe);const ce=["ngOnDestroy"],te=(ye,ve,he,Ce={})=>new Proxy(ye,{get:(Le,Ve)=>he.runOutsideAngular(()=>{var _t;if(ye[Ve])return(null===(_t=null==Ce?void 0:Ce.spy)||void 0===_t?void 0:_t.get)&&Ce.spy.get(Ve,ye[Ve]),ye[Ve];if(ce.indexOf(Ve)>-1)return()=>{};const ft=ve.toPromise().then(De=>{const ne=De&&De[Ve];return"function"==typeof ne?ne.bind(De):ne&&ne.then?ne.then(oe=>he.run(()=>oe)):he.run(()=>ne)});return new Proxy(()=>{},{get:(De,ne)=>ft[ne],apply:(De,ne,oe)=>ft.then(fe=>{var ue;const Pe=fe&&fe(...oe);return(null===(ue=null==Ce?void 0:Ce.spy)||void 0===ue?void 0:ue.apply)&&Ce.spy.apply(Ve,oe,Pe),Pe})})})}),ie=(ye,ve)=>{ve.forEach(he=>{Object.getOwnPropertyNames(he.prototype||he).forEach(Ce=>{Object.defineProperty(ye.prototype,Ce,Object.getOwnPropertyDescriptor(he.prototype||he,Ce))})})};class we{constructor(ve){return ve}}const le=new h.OlP("angularfire2.app.options"),Z=new h.OlP("angularfire2.app.name");function k(ye,ve,he){const Le="object"==typeof he&&he||{};Le.name=Le.name||"string"==typeof he&&he||"[DEFAULT]";const _t=ee.Z.apps.filter(ft=>ft&&ft.name===Le.name)[0]||ve.runOutsideAngular(()=>ee.Z.initializeApp(ye,Le));try{JSON.stringify(ye)!==JSON.stringify(_t.options)&&L("error",`${_t.name} Firebase App already initialized with different options${Xe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ft){}return new we(_t)}const L=(ye,...ve)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[ye](...ve)},Q={provide:we,useFactory:k,deps:[le,h.R0b,[new h.FiY,Z]]};let z=(()=>{class ye{constructor(he){ee.Z.registerVersion("angularfire",F.q4.full,"core"),ee.Z.registerVersion("angularfire",F.q4.full,"app-compat"),ee.Z.registerVersion("angular",h.q4F.full,he.toString())}static initializeApp(he,Ce){return{ngModule:ye,providers:[{provide:le,useValue:he},{provide:Z,useValue:Ce}]}}}return ye.\u0275fac=function(he){return new(he||ye)(h.LFG(h.Lbi))},ye.\u0275mod=h.oAB({type:ye}),ye.\u0275inj=h.cJS({providers:[Q]}),ye})();function re(ye,ve,he,Ce,Le){const[,Ve,_t]=globalThis.\u0275AngularfireInstanceCache.find(ft=>ft[0]===ye)||[];if(Ve)return function(ye,ve){try{return ye.toString()===ve.toString()}catch(he){return ye===ve}}(Le,_t)||(G("error",`${ve} was already initialized on the ${he} Firebase App with different settings.${de?" You may need to reload as Firebase is not HMR aware.":""}`),G("warn",{is:Le,was:_t})),Ve;{const ft=Ce();return globalThis.\u0275AngularfireInstanceCache.push([ye,ft,Le]),ft}}const de=!!Xe.hot,G=(ye,...ve)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[ye](...ve)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6643:(Xe,Te,V)=>{"use strict";V.d(Te,{q4:()=>ch,iC:()=>hr,HU:()=>Xr,vb:()=>ya,JM:()=>mc});var h=V(3018),ee=V(2329),F=V(8239),ce=V(5452),te=V(3854),ie=V(6034),we=V(5601),le=V(6676);const Z="@firebase/installations",k="0.5.2",Q=`w:${k}`,z="FIS_v2",ve=new te.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function he(b){return b instanceof te.ZR&&b.code.includes("request-failed")}function Ce({projectId:b}){return`https://firebaseinstallations.googleapis.com/v1/projects/${b}/installations`}function Le(b){return{token:b.token,requestStatus:2,expiresIn:fe(b.expiresIn),creationTime:Date.now()}}function Ve(b,D){return _t.apply(this,arguments)}function _t(){return(_t=(0,F.Z)(function*(b,D){const U=(yield D.json()).error;return ve.create("request-failed",{requestName:b,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function ft({apiKey:b}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b})}function De(b,{refreshToken:D}){const x=ft(b);return x.append("Authorization",function(b){return`${z} ${b}`}(D)),x}function ne(b){return oe.apply(this,arguments)}function oe(){return(oe=(0,F.Z)(function*(b){const D=yield b();return D.status>=500&&D.status<600?b():D})).apply(this,arguments)}function fe(b){return Number(b.replace("s","000"))}function Pe(b,D){return pe.apply(this,arguments)}function pe(){return(pe=(0,F.Z)(function*(b,{fid:D}){const x=Ce(b),ge={method:"POST",headers:ft(b),body:JSON.stringify({fid:D,authVersion:z,appId:b.appId,sdkVersion:Q})},Ne=yield ne(()=>fetch(x,ge));if(Ne.ok){const We=yield Ne.json();return{fid:We.fid||D,registrationStatus:2,refreshToken:We.refreshToken,authToken:Le(We.authToken)}}throw yield Ve("Create Installation",Ne)})).apply(this,arguments)}function nt(b){return new Promise(D=>{setTimeout(D,b)})}const Pn=/^[cdef][\w-]{21}$/;function Zt(){try{const b=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(b),b[0]=112+b[0]%16;const x=function(b){return function(b){return btoa(String.fromCharCode(...b)).replace(/\+/g,"-").replace(/\//g,"_")}(b).substr(0,22)}(b);return Pn.test(x)?x:""}catch(b){return""}}function zt(b){return`${b.appName}!${b.appId}`}const Kn=new Map;function Wr(b,D){const x=zt(b);St(x,D),function(b,D){const x=(!Er&&"BroadcastChannel"in self&&(Er=new BroadcastChannel("[Firebase] FID Change"),Er.onmessage=b=>{St(b.data.key,b.data.fid)}),Er);x&&x.postMessage({key:b,fid:D}),0===Kn.size&&Er&&(Er.close(),Er=null)}(x,D)}function St(b,D){const x=Kn.get(b);if(x)for(const U of x)U(D)}let Er=null;const ai="firebase-installations-store";let Zi=null;function fs(){return Zi||(Zi=(0,le.openDb)("firebase-installations-database",1,b=>{switch(b.oldVersion){case 0:b.createObjectStore(ai)}})),Zi}function ui(b,D){return En.apply(this,arguments)}function En(){return(En=(0,F.Z)(function*(b,D){const x=zt(b),Y=(yield fs()).transaction(ai,"readwrite"),ge=Y.objectStore(ai),Ne=yield ge.get(x);return yield ge.put(D,x),yield Y.complete,(!Ne||Ne.fid!==D.fid)&&Wr(b,D.fid),D})).apply(this,arguments)}function wr(b){return ho.apply(this,arguments)}function ho(){return(ho=(0,F.Z)(function*(b){const D=zt(b),U=(yield fs()).transaction(ai,"readwrite");yield U.objectStore(ai).delete(D),yield U.complete})).apply(this,arguments)}function st(b,D){return Re.apply(this,arguments)}function Re(){return(Re=(0,F.Z)(function*(b,D){const x=zt(b),Y=(yield fs()).transaction(ai,"readwrite"),ge=Y.objectStore(ai),Ne=yield ge.get(x),We=D(Ne);return void 0===We?yield ge.delete(x):yield ge.put(We,x),yield Y.complete,We&&(!Ne||Ne.fid!==We.fid)&&Wr(b,We.fid),We})).apply(this,arguments)}function $t(b){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,F.Z)(function*(b){let D;const x=yield st(b,U=>{const Y=fn(U),ge=kt(b,Y);return D=ge.registrationPromise,ge.installationEntry});return""===x.fid?{installationEntry:yield D}:{installationEntry:x,registrationPromise:D}})).apply(this,arguments)}function fn(b){return pn(b||{fid:Zt(),registrationStatus:0})}function kt(b,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(ve.create("app-offline"))};const x={fid:D.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:x,registrationPromise:function(b,D){return Ye.apply(this,arguments)}(b,x)}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:_n(b)}:{installationEntry:D}}function Ye(){return(Ye=(0,F.Z)(function*(b,D){try{return ui(b,yield Pe(b,D))}catch(x){throw he(x)&&409===x.customData.serverCode?yield wr(b):yield ui(b,{fid:D.fid,registrationStatus:0}),x}})).apply(this,arguments)}function _n(b){return ps.apply(this,arguments)}function ps(){return(ps=(0,F.Z)(function*(b){let D=yield Ti(b);for(;1===D.registrationStatus;)yield nt(100),D=yield Ti(b);if(0===D.registrationStatus){const{installationEntry:x,registrationPromise:U}=yield $t(b);return U||x}return D})).apply(this,arguments)}function Ti(b){return st(b,D=>{if(!D)throw ve.create("installation-not-found");return pn(D)})}function pn(b){return function(b){return 1===b.registrationStatus&&b.registrationTime+1e4<Date.now()}(b)?{fid:b.fid,registrationStatus:0}:b}function fo(b,D){return $.apply(this,arguments)}function $(){return($=(0,F.Z)(function*({appConfig:b,platformLoggerProvider:D},x){const U=H(b,x),Y=De(b,x),ge=D.getImmediate({optional:!0});ge&&Y.append("x-firebase-client",ge.getPlatformInfoString());const We={method:"POST",headers:Y,body:JSON.stringify({installation:{sdkVersion:Q}})},qe=yield ne(()=>fetch(U,We));if(qe.ok)return Le(yield qe.json());throw yield Ve("Generate Auth Token",qe)})).apply(this,arguments)}function H(b,{fid:D}){return`${Ce(b)}/${D}/authTokens:generate`}function j(b){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,F.Z)(function*(b,D=!1){let x;const U=yield st(b.appConfig,ge=>{if(!Qt(ge))throw ve.create("not-registered");const Ne=ge.authToken;if(!D&&zr(Ne))return ge;if(1===Ne.requestStatus)return x=se(b,D),ge;{if(!navigator.onLine)throw ve.create("app-offline");const We=tn(ge);return x=Ft(b,We),We}});return x?yield x:U.authToken})).apply(this,arguments)}function se(b,D){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,F.Z)(function*(b,D){let x=yield Ge(b.appConfig);for(;1===x.authToken.requestStatus;)yield nt(100),x=yield Ge(b.appConfig);const U=x.authToken;return 0===U.requestStatus?j(b,D):U})).apply(this,arguments)}function Ge(b){return st(b,D=>{if(!Qt(D))throw ve.create("not-registered");return function(b){return 1===b.requestStatus&&b.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function Ft(b,D){return en.apply(this,arguments)}function en(){return(en=(0,F.Z)(function*(b,D){try{const x=yield fo(b,D),U=Object.assign(Object.assign({},D),{authToken:x});return yield ui(b.appConfig,U),x}catch(x){if(!he(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const U=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield ui(b.appConfig,U)}else yield wr(b.appConfig);throw x}})).apply(this,arguments)}function Qt(b){return void 0!==b&&2===b.registrationStatus}function zr(b){return 2===b.requestStatus&&!function(b){const D=Date.now();return D<b.creationTime||b.creationTime+b.expiresIn<D+36e5}(b)}function tn(b){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},b),{authToken:D})}function Ko(){return(Ko=(0,F.Z)(function*(b){const D=b,{installationEntry:x,registrationPromise:U}=yield $t(D.appConfig);return U?U.catch(console.error):j(D).catch(console.error),x.fid})).apply(this,arguments)}function Ga(){return(Ga=(0,F.Z)(function*(b,D=!1){const x=b;return yield qu(x.appConfig),(yield j(x,D)).token})).apply(this,arguments)}function qu(b){return ks.apply(this,arguments)}function ks(){return(ks=(0,F.Z)(function*(b){const{registrationPromise:D}=yield $t(b);D&&(yield D)})).apply(this,arguments)}function Yn(b){return ve.create("missing-app-config-values",{valueName:b})}const jd="installations";(0,ce._registerComponent)(new ie.wA(jd,b=>{const D=b.getProvider("app").getImmediate();return{app:D,appConfig:function(b){if(!b||!b.options)throw Yn("App Configuration");if(!b.name)throw Yn("App Name");const D=["projectId","apiKey","appId"];for(const x of D)if(!b.options[x])throw Yn(x);return{appName:b.name,projectId:b.options.projectId,apiKey:b.options.apiKey,appId:b.options.appId}}(D),platformLoggerProvider:(0,ce._getProvider)(D,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,ce._registerComponent)(new ie.wA("installations-internal",b=>{const D=b.getProvider("app").getImmediate(),x=(0,ce._getProvider)(D,jd).getImmediate();return{getId:()=>function(b){return Ko.apply(this,arguments)}(x),getToken:Y=>function(b){return Ga.apply(this,arguments)}(x,Y)}},"PRIVATE")),(0,ce.registerVersion)(Z,k),(0,ce.registerVersion)(Z,k,"esm2017");const br="@firebase/remote-config",An=new te.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class dl{constructor(D,x,U,Y){this.client=D,this.storage=x,this.storageCache=U,this.logger=Y}isCachedDataFresh(D,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-x,Y=U<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${Y}.`),Y}fetch(D){var x=this;return(0,F.Z)(function*(){const[U,Y]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(Y&&x.isCachedDataFresh(D.cacheMaxAgeMillis,U))return Y;D.eTag=Y&&Y.eTag;const ge=yield x.client.fetch(D),Ne=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ge.status&&Ne.push(x.storage.setLastSuccessfulFetchResponse(ge)),yield Promise.all(Ne),ge})()}}function Yr(b=navigator){return b.languages&&b.languages[0]||b.language}class Gt{constructor(D,x,U,Y,ge,Ne){this.firebaseInstallations=D,this.sdkVersion=x,this.namespace=U,this.projectId=Y,this.apiKey=ge,this.appId=Ne}fetch(D){var x=this;return(0,F.Z)(function*(){const[U,Y]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),Ne=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,We={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},qe={sdk_version:x.sdkVersion,app_instance_id:U,app_instance_id_token:Y,app_id:x.appId,language_code:Yr()},xt={method:"POST",headers:We,body:JSON.stringify(qe)},Lt=fetch(Ne,xt),Bn=new Promise((es,ts)=>{D.signal.addEventListener(()=>{const _c=new Error("The operation was aborted.");_c.name="AbortError",ts(_c)})});let jn;try{yield Promise.race([Lt,Bn]),jn=yield Lt}catch(es){let ts="fetch-client-network";throw"AbortError"===es.name&&(ts="fetch-timeout"),An.create(ts,{originalErrorMessage:es.message})}let $n=jn.status;const gi=jn.headers.get("ETag")||void 0;let No,mi;if(200===jn.status){let es;try{es=yield jn.json()}catch(ts){throw An.create("fetch-client-parse",{originalErrorMessage:ts.message})}No=es.entries,mi=es.state}if("INSTANCE_STATE_UNSPECIFIED"===mi?$n=500:"NO_CHANGE"===mi?$n=304:("NO_TEMPLATE"===mi||"EMPTY_CONFIG"===mi)&&(No={}),304!==$n&&200!==$n)throw An.create("fetch-status",{httpStatus:$n});return{status:$n,eTag:gi,config:No}})()}}class Qr{constructor(D,x){this.client=D,this.storage=x}fetch(D){var x=this;return(0,F.Z)(function*(){const U=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(D,U)})()}attemptFetch(D,{throttleEndTimeMillis:x,backoffCount:U}){var Y=this;return(0,F.Z)(function*(){yield function(b,D){return new Promise((x,U)=>{const Y=Math.max(D-Date.now(),0),ge=setTimeout(x,Y);b.addEventListener(()=>{clearTimeout(ge),U(An.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,x);try{const ge=yield Y.client.fetch(D);return yield Y.storage.deleteThrottleMetadata(),ge}catch(ge){if(!function(b){if(!(b instanceof te.ZR&&b.customData))return!1;const D=Number(b.customData.httpStatus);return 429===D||500===D||503===D||504===D}(ge))throw ge;const Ne={throttleEndTimeMillis:Date.now()+(0,te.$s)(U),backoffCount:U+1};return yield Y.storage.setThrottleMetadata(Ne),Y.attemptFetch(D,Ne)}})()}}class Bg{constructor(D,x,U,Y,ge){this.app=D,this._client=x,this._storageCache=U,this._storage=Y,this._logger=ge,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Qo(b,D){const x=b.target.error||void 0;return An.create(D,{originalErrorMessage:x&&x.message})}const yo="app_namespace_store";class qd{constructor(D,x,U,Y=function(){return new Promise((b,D)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=U=>{D(Qo(U,"storage-open"))},x.onsuccess=U=>{b(U.target.result)},x.onupgradeneeded=U=>{const Y=U.target.result;switch(U.oldVersion){case 0:Y.createObjectStore(yo,{keyPath:"compositeKey"})}}}catch(x){D(An.create("storage-open",{originalErrorMessage:x}))}})}()){this.appId=D,this.appName=x,this.namespace=U,this.openDbPromise=Y}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var x=this;return(0,F.Z)(function*(){const U=yield x.openDbPromise;return new Promise((Y,ge)=>{const We=U.transaction([yo],"readonly").objectStore(yo),qe=x.createCompositeKey(D);try{const xt=We.get(qe);xt.onerror=Lt=>{ge(Qo(Lt,"storage-get"))},xt.onsuccess=Lt=>{const Bn=Lt.target.result;Y(Bn?Bn.value:void 0)}}catch(xt){ge(An.create("storage-get",{originalErrorMessage:xt&&xt.message}))}})})()}set(D,x){var U=this;return(0,F.Z)(function*(){const Y=yield U.openDbPromise;return new Promise((ge,Ne)=>{const qe=Y.transaction([yo],"readwrite").objectStore(yo),xt=U.createCompositeKey(D);try{const Lt=qe.put({compositeKey:xt,value:x});Lt.onerror=Bn=>{Ne(Qo(Bn,"storage-set"))},Lt.onsuccess=()=>{ge()}}catch(Lt){Ne(An.create("storage-set",{originalErrorMessage:Lt&&Lt.message}))}})})()}delete(D){var x=this;return(0,F.Z)(function*(){const U=yield x.openDbPromise;return new Promise((Y,ge)=>{const We=U.transaction([yo],"readwrite").objectStore(yo),qe=x.createCompositeKey(D);try{const xt=We.delete(qe);xt.onerror=Lt=>{ge(Qo(Lt,"storage-delete"))},xt.onsuccess=()=>{Y()}}catch(xt){ge(An.create("storage-delete",{originalErrorMessage:xt&&xt.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class Jo{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,F.Z)(function*(){const x=D.storage.getLastFetchStatus(),U=D.storage.getLastSuccessfulFetchTimestampMillis(),Y=D.storage.getActiveConfig(),ge=yield x;ge&&(D.lastFetchStatus=ge);const Ne=yield U;Ne&&(D.lastSuccessfulFetchTimestampMillis=Ne);const We=yield Y;We&&(D.activeConfig=We)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function Gg(){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,F.Z)(function*(){if(!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch(b){return!1}})).apply(this,arguments)}(0,ce._registerComponent)(new ie.wA("remote-config",function(D,{instanceIdentifier:x}){const U=D.getProvider("app").getImmediate(),Y=D.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw An.create("registration-window");if(!(0,te.hl)())throw An.create("indexed-db-unavailable");const{projectId:ge,apiKey:Ne,appId:We}=U.options;if(!ge)throw An.create("registration-project-id");if(!Ne)throw An.create("registration-api-key");if(!We)throw An.create("registration-app-id");const qe=new qd(We,U.name,x=x||"firebase"),xt=new Jo(qe),Lt=new we.Yd(br);Lt.logLevel=we.in.ERROR;const Bn=new Gt(Y,ce.SDK_VERSION,x,ge,Ne,We),jn=new Qr(Bn,qe),$n=new dl(jn,qe,xt,Lt),gi=new Bg(U,$n,xt,qe,Lt);return function(b){const D=(0,te.m9)(b);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(gi),gi},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(br,"0.3.1"),(0,ce.registerVersion)(br,"0.3.1","esm2017");const _o="/firebase-messaging-sw.js",Ka="/firebase-cloud-messaging-push-scope",Us="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Yu="google.c.a.c_id",pl="google.c.a.c_l",qg="google.c.a.ts",ea="google.c.a.e";var Pr=(()=>{return(b=Pr||(Pr={})).PUSH_RECEIVED="push-received",b.NOTIFICATION_CLICKED="notification-clicked",Pr;var b})();function xi(b){const D=new Uint8Array(b);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function gl(b){const x=(b+"=".repeat((4-b.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(x),Y=new Uint8Array(U.length);for(let ge=0;ge<U.length;++ge)Y[ge]=U.charCodeAt(ge);return Y}const vo="fcm_token_details_db",Zd="fcm_token_object_Store";function Lf(b){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,F.Z)(function*(b){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ge=>ge.name).includes(vo))return null;let D=null;return(yield(0,le.openDb)(vo,5,function(){var U=(0,F.Z)(function*(Y){var ge;if(Y.oldVersion<2||!Y.objectStoreNames.contains(Zd))return;const Ne=Y.transaction.objectStore(Zd),We=yield Ne.index("fcmSenderId").get(b);if(yield Ne.clear(),We)if(2===Y.oldVersion){const qe=We;if(!qe.auth||!qe.p256dh||!qe.endpoint)return;D={token:qe.fcmToken,createTime:null!==(ge=qe.createTime)&&void 0!==ge?ge:Date.now(),subscriptionOptions:{auth:qe.auth,p256dh:qe.p256dh,endpoint:qe.endpoint,swScope:qe.swScope,vapidKey:"string"==typeof qe.vapidKey?qe.vapidKey:xi(qe.vapidKey)}}}else if(3===Y.oldVersion){const qe=We;D={token:qe.fcmToken,createTime:qe.createTime,subscriptionOptions:{auth:xi(qe.auth),p256dh:xi(qe.p256dh),endpoint:qe.endpoint,swScope:qe.swScope,vapidKey:xi(qe.vapidKey)}}}else if(4===Y.oldVersion){const qe=We;D={token:qe.fcmToken,createTime:qe.createTime,subscriptionOptions:{auth:xi(qe.auth),p256dh:xi(qe.p256dh),endpoint:qe.endpoint,swScope:qe.swScope,vapidKey:xi(qe.vapidKey)}}}});return function(Y){return U.apply(this,arguments)}}())).close(),yield(0,le.deleteDb)(vo),yield(0,le.deleteDb)("fcm_vapid_details_db"),yield(0,le.deleteDb)("undefined"),Qu(D)?D:null})).apply(this,arguments)}function Qu(b){if(!b||!b.subscriptionOptions)return!1;const{subscriptionOptions:D}=b;return"number"==typeof b.createTime&&b.createTime>0&&"string"==typeof b.token&&b.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const Jn="firebase-messaging-store";let ta=null;function na(){return ta||(ta=(0,le.openDb)("firebase-messaging-database",1,b=>{switch(b.oldVersion){case 0:b.createObjectStore(Jn)}})),ta}function Bs(b){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,F.Z)(function*(b){const D=ia(b),U=yield(yield na()).transaction(Jn).objectStore(Jn).get(D);if(U)return U;{const Y=yield Lf(b.appConfig.senderId);if(Y)return yield wo(b,Y),Y}})).apply(this,arguments)}function wo(b,D){return ra.apply(this,arguments)}function ra(){return(ra=(0,F.Z)(function*(b,D){const x=ia(b),Y=(yield na()).transaction(Jn,"readwrite");return yield Y.objectStore(Jn).put(D,x),yield Y.complete,D})).apply(this,arguments)}function an(b){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,F.Z)(function*(b){const D=ia(b),U=(yield na()).transaction(Jn,"readwrite");yield U.objectStore(Jn).delete(D),yield U.complete})).apply(this,arguments)}function ia({appConfig:b}){return b.appId}const bt=new te.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function zd(b,D){return ec.apply(this,arguments)}function ec(){return(ec=(0,F.Z)(function*(b,D){const x=yield Xn(b),U=sa(D),Y={method:"POST",headers:x,body:JSON.stringify(U)};let ge;try{ge=yield(yield fetch(bo(b.appConfig),Y)).json()}catch(Ne){throw bt.create("token-subscribe-failed",{errorInfo:Ne})}if(ge.error)throw bt.create("token-subscribe-failed",{errorInfo:ge.error.message});if(!ge.token)throw bt.create("token-subscribe-no-token");return ge.token})).apply(this,arguments)}function Qa(b,D){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,F.Z)(function*(b,D){const x=yield Xn(b),U=sa(D.subscriptionOptions),Y={method:"PATCH",headers:x,body:JSON.stringify(U)};let ge;try{ge=yield(yield fetch(`${bo(b.appConfig)}/${D.token}`,Y)).json()}catch(Ne){throw bt.create("token-update-failed",{errorInfo:Ne})}if(ge.error)throw bt.create("token-update-failed",{errorInfo:ge.error.message});if(!ge.token)throw bt.create("token-update-no-token");return ge.token})).apply(this,arguments)}function Vf(b,D){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,F.Z)(function*(b,D){const U={method:"DELETE",headers:yield Xn(b)};try{const ge=yield(yield fetch(`${bo(b.appConfig)}/${D}`,U)).json();if(ge.error)throw bt.create("token-unsubscribe-failed",{errorInfo:ge.error.message})}catch(Y){throw bt.create("token-unsubscribe-failed",{errorInfo:Y})}})).apply(this,arguments)}function bo({projectId:b}){return`https://fcmregistrations.googleapis.com/v1/projects/${b}/registrations`}function Xn(b){return Io.apply(this,arguments)}function Io(){return(Io=(0,F.Z)(function*({appConfig:b,installations:D}){const x=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function sa({p256dh:b,auth:D,endpoint:x,vapidKey:U}){const Y={web:{endpoint:x,auth:D,p256dh:b}};return U!==Us&&(Y.web.applicationPubKey=U),Y}const Ja=6048e5;function js(b){return oa.apply(this,arguments)}function oa(){return(oa=(0,F.Z)(function*(b){const D=yield ml(b.swRegistration,b.vapidKey),x={vapidKey:b.vapidKey,swScope:b.swRegistration.scope,endpoint:D.endpoint,auth:xi(D.getKey("auth")),p256dh:xi(D.getKey("p256dh"))},U=yield Bs(b.firebaseDependencies);if(U){if(Kd(U.subscriptionOptions,x))return Date.now()>=U.createTime+Ja?Zg(b,{token:U.token,createTime:Date.now(),subscriptionOptions:x}):U.token;try{yield Vf(b.firebaseDependencies,U.token)}catch(Y){console.warn(Y)}return aa(b.firebaseDependencies,x)}return aa(b.firebaseDependencies,x)})).apply(this,arguments)}function tc(b){return ut.apply(this,arguments)}function ut(){return(ut=(0,F.Z)(function*(b){const D=yield Bs(b.firebaseDependencies);D&&(yield Vf(b.firebaseDependencies,D.token),yield an(b.firebaseDependencies));const x=yield b.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function Zg(b,D){return _s.apply(this,arguments)}function _s(){return(_s=(0,F.Z)(function*(b,D){try{const x=yield Qa(b.firebaseDependencies,D),U=Object.assign(Object.assign({},D),{token:x,createTime:Date.now()});return yield wo(b.firebaseDependencies,U),x}catch(x){throw yield tc(b),x}})).apply(this,arguments)}function aa(b,D){return Co.apply(this,arguments)}function Co(){return(Co=(0,F.Z)(function*(b,D){const U={token:yield zd(b,D),createTime:Date.now(),subscriptionOptions:D};return yield wo(b,U),U.token})).apply(this,arguments)}function ml(b,D){return vs.apply(this,arguments)}function vs(){return(vs=(0,F.Z)(function*(b,D){return(yield b.pushManager.getSubscription())||b.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:gl(D)})})).apply(this,arguments)}function Kd(b,D){return D.vapidKey===b.vapidKey&&D.endpoint===b.endpoint&&D.auth===b.auth&&D.p256dh===b.p256dh}function Se(b){const D={from:b.from,collapseKey:b.collapse_key,messageId:b.fcm_message_id};return function(b,D){if(!D.notification)return;b.notification={};const x=D.notification.title;x&&(b.notification.title=x);const U=D.notification.body;U&&(b.notification.body=U);const Y=D.notification.image;Y&&(b.notification.image=Y)}(D,b),function(b,D){!D.data||(b.data=D.data)}(D,b),function(b,D){if(!D.fcmOptions)return;b.fcmOptions={};const x=D.fcmOptions.link;x&&(b.fcmOptions.link=x);const U=D.fcmOptions.analytics_label;U&&(b.fcmOptions.analyticsLabel=U)}(D,b),D}function Qd(b){return"object"==typeof b&&!!b&&Yu in b}function ua(b,D){const x=[];for(let U=0;U<b.length;U++)x.push(b.charAt(U)),U<D.length&&x.push(D.charAt(U));return x.join("")}function Xa(b){return bt.create("missing-app-config-values",{valueName:b})}ua("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ua("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class $s{constructor(D,x,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Y=function(b){if(!b||!b.options)throw Xa("App Configuration Object");if(!b.name)throw Xa("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:x}=b;for(const U of D)if(!x[U])throw Xa(U);return{appName:b.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:Y,installations:x,analyticsProvider:U}}_delete(){return Promise.resolve()}}function Jd(b){return nc.apply(this,arguments)}function nc(){return(nc=(0,F.Z)(function*(b){try{b.swRegistration=yield navigator.serviceWorker.register(_o,{scope:Ka}),b.swRegistration.update().catch(()=>{})}catch(D){throw bt.create("failed-service-worker-registration",{browserErrorMessage:D.message})}})).apply(this,arguments)}function ca(b,D){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,F.Z)(function*(b,D){if(!D&&!b.swRegistration&&(yield Jd(b)),D||!b.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw bt.create("invalid-sw-registration");b.swRegistration=D}})).apply(this,arguments)}function kr(b,D){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,F.Z)(function*(b,D){D?b.vapidKey=D:b.vapidKey||(b.vapidKey=Us)})).apply(this,arguments)}function Ji(){return(Ji=(0,F.Z)(function*(b,D){if(!navigator)throw bt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw bt.create("permission-blocked");return yield kr(b,null==D?void 0:D.vapidKey),yield ca(b,null==D?void 0:D.serviceWorkerRegistration),js(b)})).apply(this,arguments)}function Es(b,D,x){return eu.apply(this,arguments)}function eu(){return(eu=(0,F.Z)(function*(b,D,x){const U=Xd(D);(yield b.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:x[Yu],message_name:x[pl],message_time:x[qg],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Xd(b){switch(b){case Pr.NOTIFICATION_CLICKED:return"notification_open";case Pr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function tu(){return(tu=(0,F.Z)(function*(b,D){const x=D.data;if(!x.isFirebaseMessaging)return;b.onMessageHandler&&x.messageType===Pr.PUSH_RECEIVED&&("function"==typeof b.onMessageHandler?b.onMessageHandler(Se(x)):b.onMessageHandler.next(Se(x)));const U=x.data;Qd(U)&&"1"===U[ea]&&(yield Es(b,x.messageType,U))})).apply(this,arguments)}const la="@firebase/messaging";function eh(){return To.apply(this,arguments)}function To(){return(To=(0,F.Z)(function*(){return"undefined"!=typeof window&&(0,te.hl)()&&(yield(0,te.eu)())&&(0,te.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,ce._registerComponent)(new ie.wA("messaging",b=>{const D=new $s(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),b.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function(b,D){return tu.apply(this,arguments)}(D,x)),D},"PUBLIC")),(0,ce._registerComponent)(new ie.wA("messaging-internal",b=>{const D=b.getProvider("messaging").getImmediate();return{getToken:U=>function(b,D){return Ji.apply(this,arguments)}(D,U)}},"PRIVATE")),(0,ce.registerVersion)(la,"0.9.2"),(0,ce.registerVersion)(la,"0.9.2","esm2017");const Xi="analytics",un="firebase_id",El="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rh="https://www.googletagmanager.com/gtag/js",er=new we.Yd("@firebase/analytics");function ih(b){return Promise.all(b.map(D=>D.catch(x=>x)))}function da(b,D){const x=document.createElement("script");x.src=`${rh}?l=${b}&id=${D}`,x.async=!0,document.head.appendChild(x)}function wl(b,D,x,U,Y,ge){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,F.Z)(function*(b,D,x,U,Y,ge){const Ne=U[Y];try{if(Ne)yield D[Ne];else{const qe=(yield ih(x)).find(xt=>xt.measurementId===Y);qe&&(yield D[qe.appId])}}catch(We){er.error(We)}b("config",Y,ge)})).apply(this,arguments)}function bl(b,D,x,U,Y){return Il.apply(this,arguments)}function Il(){return(Il=(0,F.Z)(function*(b,D,x,U,Y){try{let ge=[];if(Y&&Y.send_to){let Ne=Y.send_to;Array.isArray(Ne)||(Ne=[Ne]);const We=yield ih(x);for(const qe of Ne){const xt=We.find(Bn=>Bn.measurementId===qe),Lt=xt&&D[xt.appId];if(!Lt){ge=[];break}ge.push(Lt)}}0===ge.length&&(ge=Object.values(D)),yield Promise.all(ge),b("event",U,Y||{})}catch(ge){er.error(ge)}})).apply(this,arguments)}function v_(){const b=window.document.getElementsByTagName("script");for(const D of Object.values(b))if(D.src&&D.src.includes(rh))return D;return null}const Cr=new te.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ru=new class{constructor(D={},x=1e3){this.throttleMetadata=D,this.intervalMillis=x}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,x){this.throttleMetadata[D]=x}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function Wg(b){return new Headers({Accept:"application/json","x-goog-api-key":b})}function cn(b){return iu.apply(this,arguments)}function iu(){return(iu=(0,F.Z)(function*(b){var D;const{appId:x,apiKey:U}=b,Y={method:"GET",headers:Wg(U)},ge=El.replace("{app-id}",x),Ne=yield fetch(ge,Y);if(200!==Ne.status&&304!==Ne.status){let We="";try{const qe=yield Ne.json();(null===(D=qe.error)||void 0===D?void 0:D.message)&&(We=qe.error.message)}catch(qe){}throw Cr.create("config-fetch-failed",{httpStatus:Ne.status,responseMessage:We})}return Ne.json()})).apply(this,arguments)}function ac(b){return su.apply(this,arguments)}function su(){return(su=(0,F.Z)(function*(b,D=ru,x){const{appId:U,apiKey:Y,measurementId:ge}=b.options;if(!U)throw Cr.create("no-app-id");if(!Y){if(ge)return{measurementId:ge,appId:U};throw Cr.create("no-api-key")}const Ne=D.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},We=new au;return setTimeout((0,F.Z)(function*(){We.abort()}),void 0!==x?x:6e4),uc({appId:U,apiKey:Y,measurementId:ge},Ne,We,D)})).apply(this,arguments)}function uc(b,D,x){return cc.apply(this,arguments)}function cc(){return(cc=(0,F.Z)(function*(b,{throttleEndTimeMillis:D,backoffCount:x},U,Y=ru){const{appId:ge,measurementId:Ne}=b;try{yield ou(U,D)}catch(We){if(Ne)return er.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ne} provided in the "measurementId" field in the local Firebase config. [${We.message}]`),{appId:ge,measurementId:Ne};throw We}try{const We=yield cn(b);return Y.deleteThrottleMetadata(ge),We}catch(We){if(!sh(We)){if(Y.deleteThrottleMetadata(ge),Ne)return er.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ne} provided in the "measurementId" field in the local Firebase config. [${We.message}]`),{appId:ge,measurementId:Ne};throw We}const qe=503===Number(We.customData.httpStatus)?(0,te.$s)(x,Y.intervalMillis,30):(0,te.$s)(x,Y.intervalMillis),xt={throttleEndTimeMillis:Date.now()+qe,backoffCount:x+1};return Y.setThrottleMetadata(ge,xt),er.debug(`Calling attemptFetch again in ${qe} millis`),uc(b,xt,U,Y)}})).apply(this,arguments)}function ou(b,D){return new Promise((x,U)=>{const Y=Math.max(D-Date.now(),0),ge=setTimeout(x,Y);b.addEventListener(()=>{clearTimeout(ge),U(Cr.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function sh(b){if(!(b instanceof te.ZR&&b.customData))return!1;const D=Number(b.customData.httpStatus);return 429===D||500===D||503===D||504===D}class au{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}function uu(){return fa.apply(this,arguments)}function fa(){return(fa=(0,F.Z)(function*(){if(!(0,te.hl)())return er.warn(Cr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,te.eu)()}catch(b){return er.warn(Cr.create("indexeddb-unavailable",{errorInfo:b}).message),!1}return!0})).apply(this,arguments)}function pa(){return(pa=(0,F.Z)(function*(b,D,x,U,Y,ge,Ne){var We;const qe=ac(b);qe.then($n=>{x[$n.measurementId]=$n.appId,b.options.measurementId&&$n.measurementId!==b.options.measurementId&&er.warn(`The measurement ID in the local Firebase config (${b.options.measurementId}) does not match the measurement ID fetched from the server (${$n.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch($n=>er.error($n)),D.push(qe);const xt=uu().then($n=>{if($n)return U.getId()}),[Lt,Bn]=yield Promise.all([qe,xt]);v_()||da(ge,Lt.measurementId),Y("js",new Date);const jn=null!==(We=null==Ne?void 0:Ne.config)&&void 0!==We?We:{};return jn.origin="firebase",jn.update=!0,null!=Bn&&(jn[un]=Bn),Y("config",Lt.measurementId,jn),Lt.measurementId})).apply(this,arguments)}class Cl{constructor(D){this.app=D}_delete(){return delete wn[this.app.options.appId],Promise.resolve()}}let wn={},Dl=[];const Un={};let mn,Ni,Yt="dataLayer",Tl=!1;function cu(b,D,x){!function(){const b=[];if((0,te.ru)()&&b.push("This is a browser extension environment."),(0,te.zI)()||b.push("Cookies are not available."),b.length>0){const D=b.map((U,Y)=>`(${Y+1}) ${U}`).join(" "),x=Cr.create("invalid-analytics-context",{errorInfo:D});er.warn(x.message)}}();const U=b.options.appId;if(!U)throw Cr.create("no-app-id");if(!b.options.apiKey){if(!b.options.measurementId)throw Cr.create("no-api-key");er.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${b.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=wn[U])throw Cr.create("already-exists",{id:U});if(!Tl){!function(b){let D=[];Array.isArray(window[b])?D=window[b]:window[b]=D}(Yt);const{wrappedGtag:ge,gtagCore:Ne}=function(b,D,x,U,Y){let ge=function(...Ne){window[U].push(arguments)};return window[Y]&&"function"==typeof window[Y]&&(ge=window[Y]),window[Y]=function(b,D,x,U){function ge(){return(ge=(0,F.Z)(function*(Ne,We,qe){try{"event"===Ne?yield bl(b,D,x,We,qe):"config"===Ne?yield wl(b,D,x,U,We,qe):b("set",We)}catch(xt){er.error(xt)}})).apply(this,arguments)}return function(Ne,We,qe){return ge.apply(this,arguments)}}(ge,b,D,x),{gtagCore:ge,wrappedGtag:window[Y]}}(wn,Dl,Un,Yt,"gtag");Ni=ge,mn=Ne,Tl=!0}return wn[U]=function(b,D,x,U,Y,ge,Ne){return pa.apply(this,arguments)}(b,Dl,Un,D,mn,Yt,x),new Cl(b)}function lu(){return(lu=(0,F.Z)(function*(b,D,x,U,Y){if(Y&&Y.global)b("event",x,U);else{const ge=yield D;b("event",x,Object.assign(Object.assign({},U),{send_to:ge}))}})).apply(this,arguments)}function Zs(){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,F.Z)(function*(){if((0,te.ru)()||!(0,te.zI)()||!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch(b){return!1}})).apply(this,arguments)}const zs="@firebase/analytics";(0,ce._registerComponent)(new ie.wA(Xi,(D,{options:x})=>cu(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,ce._registerComponent)(new ie.wA("analytics-internal",function(D){try{const x=D.getProvider(Xi).getImmediate();return{logEvent:(U,Y,ge)=>function(b,D,x,U){b=(0,te.m9)(b),function(b,D,x,U,Y){return lu.apply(this,arguments)}(Ni,wn[b.app.options.appId],D,x,U).catch(Y=>er.error(Y))}(x,U,Y,ge)}}catch(x){throw Cr.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,ce.registerVersion)(zs,"0.7.2"),(0,ce.registerVersion)(zs,"0.7.2","esm2017");var Oi=V(7771),Fe=V(3637),du=V(3342),dt=V(3101),hu=V(309);const ch=new h.GfV("7.1.1"),fu="__angularfire_symbol__analyticsIsSupported",lh="__angularfire_symbol__remoteConfigIsSupported",ma="__angularfire_symbol__messagingIsSupported";function mc(b,D,x){if(D){if(1===D.length)return D[0];const ge=D.filter(Ne=>Ne.app===x);if(1===ge.length)return ge[0]}return x.container.getProvider(b).getImmediate({optional:!0})}globalThis[fu]||(globalThis[fu]=Zs().then(b=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=b)),globalThis[ma]||(globalThis[ma]=eh().then(b=>globalThis.__angularfire_symbol__messagingIsSupportedValue=b)),globalThis[lh]||(globalThis[lh]=Gg().then(b=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=b));const ya=(b,D)=>{const x=D?[D]:(0,ee.C6)(),U=[];return x.forEach(Y=>{Y.container.getProvider(b).instances.forEach(Ne=>{U.includes(Ne)||U.push(Ne)})}),U};function Ro(){}class xl{constructor(D,x=Oi.N){this.zone=D,this.delegate=x}now(){return this.delegate.now()}schedule(D,x,U){const Y=this.zone;return this.delegate.schedule(function(Ne){Y.runGuarded(()=>{D.apply(this,[Ne])})},x,U)}}class hi{constructor(D){this.zone=D,this.task=null}call(D,x){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ro,{},Ro,Ro)),x.pipe((0,du.b)({next:U,complete:U,error:U})).subscribe(D).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Xr=(()=>{class b{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new xl(Zone.current)),this.insideAngular=x.run(()=>new xl(Zone.current,Fe.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return b.\u0275fac=function(x){return new(x||b)(h.LFG(h.R0b))},b.\u0275prov=h.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();function fi(){const b=globalThis.\u0275AngularFireScheduler;if(!b)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return b}function hr(b){return fi(),function(b){return function(x){return(x=x.lift(new hi(b.ngZone))).pipe((0,dt.R)(b.outsideAngular),(0,hu.QV)(b.insideAngular))}}(fi())(b)}},4486:(Xe,Te,V)=>{"use strict";V.d(Te,{Z:()=>be});var h=V(3854),ee=V(6034),F=V(5452),ce=V(5601);class te{constructor(G,ye){this._delegate=G,this.firebase=ye,(0,F._addComponent)(G,new ee.wA("app-compat",()=>this,"PUBLIC")),this.container=G.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(G){this._delegate.automaticDataCollectionEnabled=G}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(G=>{this._delegate.checkDestroyed(),G()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(G,ye=F._DEFAULT_ENTRY_NAME){var ve;this._delegate.checkDestroyed();const he=this._delegate.container.getProvider(G);return!he.isInitialized()&&"EXPLICIT"===(null===(ve=he.getComponent())||void 0===ve?void 0:ve.instantiationMode)&&he.initialize(),he.getImmediate({identifier:ye})}_removeServiceInstance(G,ye=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(G).clearInstance(ye)}_addComponent(G){(0,F._addComponent)(this._delegate,G)}_addOrOverwriteComponent(G){(0,F._addOrOverwriteComponent)(this._delegate,G)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const we=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),k=function Z(){const de=function(de){const G={},ye={__esModule:!0,initializeApp:function(ft,De={}){const ne=F.initializeApp(ft,De);if((0,h.r3)(G,ne.name))return G[ne.name];const oe=new de(ne,ye);return G[ne.name]=oe,oe},app:he,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function(ft){const De=ft.name,ne=De.replace("-compat","");if(F._registerComponent(ft)&&"PUBLIC"===ft.type){const oe=(fe=he())=>{if("function"!=typeof fe[ne])throw we.create("invalid-app-argument",{appName:De});return fe[ne]()};void 0!==ft.serviceProps&&(0,h.ZB)(oe,ft.serviceProps),ye[ne]=oe,de.prototype[ne]=function(...fe){return this._getService.bind(this,De).apply(this,ft.multipleInstances?fe:[])}}return"PUBLIC"===ft.type?ye[ne]:null},removeApp:function(ft){delete G[ft]},useAsService:function(ft,De){return"serverAuth"===De?null:De},modularAPIs:F}};function he(ft){if(!(0,h.r3)(G,ft=ft||F._DEFAULT_ENTRY_NAME))throw we.create("no-app",{appName:ft});return G[ft]}return ye.default=ye,Object.defineProperty(ye,"apps",{get:function(){return Object.keys(G).map(ft=>G[ft])}}),he.App=de,ye}(te);return de.INTERNAL=Object.assign(Object.assign({},de.INTERNAL),{createFirebaseNamespace:Z,extendNamespace:function(ye){(0,h.ZB)(de,ye)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),de}(),L=new ce.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){L.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const de=self.firebase.SDK_VERSION;de&&de.indexOf("LITE")>=0&&L.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const be=k;(0,F.registerVersion)("@firebase/app-compat","0.1.5",undefined)},5452:(Xe,Te,V)=>{"use strict";V.r(Te),V.d(Te,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>oi,_DEFAULT_ENTRY_NAME:()=>Pn,_addComponent:()=>zt,_addOrOverwriteComponent:()=>Kn,_apps:()=>Zt,_clearComponents:()=>St,_components:()=>kn,_getProvider:()=>hn,_registerComponent:()=>Wr,_removeServiceInstance:()=>at,deleteApp:()=>Zi,getApp:()=>Mr,getApps:()=>ai,initializeApp:()=>Di,onLog:()=>En,registerVersion:()=>ui,setLogLevel:()=>wr});var h=V(8239),ee=V(6034),F=V(5601),ce=V(3854);class te{constructor(Re){this.container=Re}getPlatformInfoString(){return this.container.getProviders().map($t=>{if(function(st){const Re=st.getComponent();return"VERSION"===(null==Re?void 0:Re.type)}($t)){const Xt=$t.getImmediate();return`${Xt.library}/${Xt.version}`}return null}).filter($t=>$t).join(" ")}}const we="@firebase/app",Z=new F.Yd("@firebase/app"),Pn="[DEFAULT]",vt={[we]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Zt=new Map,kn=new Map;function zt(st,Re){try{st.container.addComponent(Re)}catch($t){Z.debug(`Component ${Re.name} failed to register with FirebaseApp ${st.name}`,$t)}}function Kn(st,Re){st.container.addOrOverwriteComponent(Re)}function Wr(st){const Re=st.name;if(kn.has(Re))return Z.debug(`There were multiple attempts to register component ${Re}.`),!1;kn.set(Re,st);for(const $t of Zt.values())zt($t,st);return!0}function hn(st,Re){return st.container.getProvider(Re)}function at(st,Re,$t=Pn){hn(st,Re).clearInstance($t)}function St(){kn.clear()}const Er=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class on{constructor(Re,$t,Xt){this._isDeleted=!1,this._options=Object.assign({},Re),this._config=Object.assign({},$t),this._name=$t.name,this._automaticDataCollectionEnabled=$t.automaticDataCollectionEnabled,this._container=Xt,this.container.addComponent(new ee.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Re){this.checkDestroyed(),this._automaticDataCollectionEnabled=Re}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Re){this._isDeleted=Re}checkDestroyed(){if(this.isDeleted)throw Er.create("app-deleted",{appName:this._name})}}const oi="9.1.3";function Di(st,Re={}){"object"!=typeof Re&&(Re={name:Re});const $t=Object.assign({name:Pn,automaticDataCollectionEnabled:!1},Re),Xt=$t.name;if("string"!=typeof Xt||!Xt)throw Er.create("bad-app-name",{appName:String(Xt)});const fn=Zt.get(Xt);if(fn){if((0,ce.vZ)(st,fn.options)&&(0,ce.vZ)($t,fn.config))return fn;throw Er.create("duplicate-app",{appName:Xt})}const kt=new ee.H0(Xt);for(const Ye of kn.values())kt.addComponent(Ye);const Ke=new on(st,$t,kt);return Zt.set(Xt,Ke),Ke}function Mr(st=Pn){const Re=Zt.get(st);if(!Re)throw Er.create("no-app",{appName:st});return Re}function ai(){return Array.from(Zt.values())}function Zi(st){return fs.apply(this,arguments)}function fs(){return(fs=(0,h.Z)(function*(st){const Re=st.name;Zt.has(Re)&&(Zt.delete(Re),yield Promise.all(st.container.getProviders().map($t=>$t.delete())),st.isDeleted=!0)})).apply(this,arguments)}function ui(st,Re,$t){var Xt;let fn=null!==(Xt=vt[st])&&void 0!==Xt?Xt:st;$t&&(fn+=`-${$t}`);const kt=fn.match(/\s|\//),Ke=Re.match(/\s|\//);if(kt||Ke){const Ye=[`Unable to register library "${fn}" with version "${Re}":`];return kt&&Ye.push(`library name "${fn}" contains illegal characters (whitespace or "/")`),kt&&Ke&&Ye.push("and"),Ke&&Ye.push(`version name "${Re}" contains illegal characters (whitespace or "/")`),void Z.warn(Ye.join(" "))}Wr(new ee.wA(`${fn}-version`,()=>({library:fn,version:Re}),"VERSION"))}function En(st,Re){if(null!==st&&"function"!=typeof st)throw Er.create("invalid-log-argument");(0,F.Am)(st,Re)}function wr(st){(0,F.Ub)(st)}Wr(new ee.wA("platform-logger",Re=>new te(Re),"PRIVATE")),ui(we,"0.7.4",""),ui(we,"0.7.4","esm2017"),ui("fire-js","")},6034:(Xe,Te,V)=>{"use strict";V.d(Te,{wA:()=>F,H0:()=>le});var h=V(4762),ee=V(3854),F=function(){function Z(k,L,Q){this.name=k,this.instanceFactory=L,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Z.prototype.setInstantiationMode=function(k){return this.instantiationMode=k,this},Z.prototype.setMultipleInstances=function(k){return this.multipleInstances=k,this},Z.prototype.setServiceProps=function(k){return this.serviceProps=k,this},Z.prototype.setInstanceCreatedCallback=function(k){return this.onInstanceCreated=k,this},Z}(),ce="[DEFAULT]",te=function(){function Z(k,L){this.name=k,this.container=L,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Z.prototype.get=function(k){var L=this.normalizeInstanceIdentifier(k);if(!this.instancesDeferred.has(L)){var Q=new ee.BH;if(this.instancesDeferred.set(L,Q),this.isInitialized(L)||this.shouldAutoInitialize())try{var z=this.getOrInitializeService({instanceIdentifier:L});z&&Q.resolve(z)}catch(re){}}return this.instancesDeferred.get(L).promise},Z.prototype.getImmediate=function(k){var L,Q=this.normalizeInstanceIdentifier(null==k?void 0:k.identifier),z=null!==(L=null==k?void 0:k.optional)&&void 0!==L&&L;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(z)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(re){if(z)return null;throw re}},Z.prototype.getComponent=function(){return this.component},Z.prototype.setComponent=function(k){var L,Q;if(k.name!==this.name)throw Error("Mismatching Component "+k.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=k,this.shouldAutoInitialize()){if(function(Z){return"EAGER"===Z.instantiationMode}(k))try{this.getOrInitializeService({instanceIdentifier:ce})}catch(he){}try{for(var z=(0,h.XA)(this.instancesDeferred.entries()),re=z.next();!re.done;re=z.next()){var be=(0,h.CR)(re.value,2),G=be[1],ye=this.normalizeInstanceIdentifier(be[0]);try{var ve=this.getOrInitializeService({instanceIdentifier:ye});G.resolve(ve)}catch(he){}}}catch(he){L={error:he}}finally{try{re&&!re.done&&(Q=z.return)&&Q.call(z)}finally{if(L)throw L.error}}}},Z.prototype.clearInstance=function(k){void 0===k&&(k=ce),this.instancesDeferred.delete(k),this.instancesOptions.delete(k),this.instances.delete(k)},Z.prototype.delete=function(){return(0,h.mG)(this,void 0,void 0,function(){var k;return(0,h.Jh)(this,function(L){switch(L.label){case 0:return k=Array.from(this.instances.values()),[4,Promise.all((0,h.ev)((0,h.ev)([],(0,h.CR)(k.filter(function(Q){return"INTERNAL"in Q}).map(function(Q){return Q.INTERNAL.delete()}))),(0,h.CR)(k.filter(function(Q){return"_delete"in Q}).map(function(Q){return Q._delete()}))))];case 1:return L.sent(),[2]}})})},Z.prototype.isComponentSet=function(){return null!=this.component},Z.prototype.isInitialized=function(k){return void 0===k&&(k=ce),this.instances.has(k)},Z.prototype.getOptions=function(k){return void 0===k&&(k=ce),this.instancesOptions.get(k)||{}},Z.prototype.initialize=function(k){var L,Q;void 0===k&&(k={});var z=k.options,re=void 0===z?{}:z,be=this.normalizeInstanceIdentifier(k.instanceIdentifier);if(this.isInitialized(be))throw Error(this.name+"("+be+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var de=this.getOrInitializeService({instanceIdentifier:be,options:re});try{for(var G=(0,h.XA)(this.instancesDeferred.entries()),ye=G.next();!ye.done;ye=G.next()){var ve=(0,h.CR)(ye.value,2),Ce=ve[1];be===this.normalizeInstanceIdentifier(ve[0])&&Ce.resolve(de)}}catch(Ve){L={error:Ve}}finally{try{ye&&!ye.done&&(Q=G.return)&&Q.call(G)}finally{if(L)throw L.error}}return de},Z.prototype.onInit=function(k,L){var Q,z=this.normalizeInstanceIdentifier(L),re=null!==(Q=this.onInitCallbacks.get(z))&&void 0!==Q?Q:new Set;re.add(k),this.onInitCallbacks.set(z,re);var be=this.instances.get(z);return be&&k(be,z),function(){re.delete(k)}},Z.prototype.invokeOnInitCallbacks=function(k,L){var Q,z,re=this.onInitCallbacks.get(L);if(re)try{for(var be=(0,h.XA)(re),de=be.next();!de.done;de=be.next()){var G=de.value;try{G(k,L)}catch(ye){}}}catch(ye){Q={error:ye}}finally{try{de&&!de.done&&(z=be.return)&&z.call(be)}finally{if(Q)throw Q.error}}},Z.prototype.getOrInitializeService=function(k){var L=k.instanceIdentifier,Q=k.options,z=void 0===Q?{}:Q,re=this.instances.get(L);if(!re&&this.component&&(re=this.component.instanceFactory(this.container,{instanceIdentifier:ie(L),options:z}),this.instances.set(L,re),this.instancesOptions.set(L,z),this.invokeOnInitCallbacks(re,L),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,L,re)}catch(be){}return re||null},Z.prototype.normalizeInstanceIdentifier=function(k){return void 0===k&&(k=ce),this.component?this.component.multipleInstances?k:ce:k},Z.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},Z}();function ie(Z){return Z===ce?void 0:Z}var le=function(){function Z(k){this.name=k,this.providers=new Map}return Z.prototype.addComponent=function(k){var L=this.getProvider(k.name);if(L.isComponentSet())throw new Error("Component "+k.name+" has already been registered with "+this.name);L.setComponent(k)},Z.prototype.addOrOverwriteComponent=function(k){this.getProvider(k.name).isComponentSet()&&this.providers.delete(k.name),this.addComponent(k)},Z.prototype.getProvider=function(k){if(this.providers.has(k))return this.providers.get(k);var L=new te(k,this);return this.providers.set(k,L),L},Z.prototype.getProviders=function(){return Array.from(this.providers.values())},Z}()},5601:(Xe,Te,V)=>{"use strict";V.d(Te,{in:()=>ee,Yd:()=>we,Ub:()=>le,Am:()=>Z});const h=[];var ee=(()=>{return(k=ee||(ee={}))[k.DEBUG=0]="DEBUG",k[k.VERBOSE=1]="VERBOSE",k[k.INFO=2]="INFO",k[k.WARN=3]="WARN",k[k.ERROR=4]="ERROR",k[k.SILENT=5]="SILENT",ee;var k})();const F={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},ce=ee.INFO,te={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},ie=(k,L,...Q)=>{if(L<k.logLevel)return;const z=(new Date).toISOString(),re=te[L];if(!re)throw new Error(`Attempted to log a message with an invalid logType (value: ${L})`);console[re](`[${z}]  ${k.name}:`,...Q)};class we{constructor(L){this.name=L,this._logLevel=ce,this._logHandler=ie,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(L){if(!(L in ee))throw new TypeError(`Invalid value "${L}" assigned to \`logLevel\``);this._logLevel=L}setLogLevel(L){this._logLevel="string"==typeof L?F[L]:L}get logHandler(){return this._logHandler}set logHandler(L){if("function"!=typeof L)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=L}get userLogHandler(){return this._userLogHandler}set userLogHandler(L){this._userLogHandler=L}debug(...L){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...L),this._logHandler(this,ee.DEBUG,...L)}log(...L){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...L),this._logHandler(this,ee.VERBOSE,...L)}info(...L){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...L),this._logHandler(this,ee.INFO,...L)}warn(...L){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...L),this._logHandler(this,ee.WARN,...L)}error(...L){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...L),this._logHandler(this,ee.ERROR,...L)}}function le(k){h.forEach(L=>{L.setLogLevel(k)})}function Z(k,L){for(const Q of h){let z=null;L&&L.level&&(z=F[L.level]),Q.userLogHandler=null===k?null:(re,be,...de)=>{const G=de.map(ye=>{if(null==ye)return null;if("string"==typeof ye)return ye;if("number"==typeof ye||"boolean"==typeof ye)return ye.toString();if(ye instanceof Error)return ye.message;try{return JSON.stringify(ye)}catch(ve){return null}}).filter(ye=>ye).join(" ");be>=(null!=z?z:re.logLevel)&&k({level:ee[be].toLowerCase(),message:G,args:de,type:re.name})}}}},3854:(Xe,Te,V)=>{"use strict";V.d(Te,{BH:()=>z,LL:()=>pe,ZR:()=>Pe,zI:()=>oe,US:()=>ie,tV:()=>Z,$s:()=>Ti,r3:()=>hn,Sg:()=>re,ne:()=>Zi,vZ:()=>Er,ZB:()=>L,pd:()=>Mr,m9:()=>fo,z$:()=>be,jU:()=>ye,ru:()=>ve,d:()=>Ce,xb:()=>St,w1:()=>Le,hl:()=>De,uI:()=>de,UG:()=>G,b$:()=>he,G6:()=>ft,Mn:()=>Ve,xO:()=>oi,zd:()=>Di,eu:()=>ne});const ce=function($){const H=[];let j=0;for(let Ae=0;Ae<$.length;Ae++){let se=$.charCodeAt(Ae);se<128?H[j++]=se:se<2048?(H[j++]=se>>6|192,H[j++]=63&se|128):55296==(64512&se)&&Ae+1<$.length&&56320==(64512&$.charCodeAt(Ae+1))?(se=65536+((1023&se)<<10)+(1023&$.charCodeAt(++Ae)),H[j++]=se>>18|240,H[j++]=se>>12&63|128,H[j++]=se>>6&63|128,H[j++]=63&se|128):(H[j++]=se>>12|224,H[j++]=se>>6&63|128,H[j++]=63&se|128)}return H},ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,H){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const j=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ae=[];for(let se=0;se<$.length;se+=3){const Ze=$[se],Ge=se+1<$.length,Ft=Ge?$[se+1]:0,en=se+2<$.length,Qt=en?$[se+2]:0;let tn=(15&Ft)<<2|Qt>>6,ur=63&Qt;en||(ur=64,Ge||(tn=64)),Ae.push(j[Ze>>2],j[(3&Ze)<<4|Ft>>4],j[tn],j[ur])}return Ae.join("")},encodeString($,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa($):this.encodeByteArray(ce($),H)},decodeString($,H){return this.HAS_NATIVE_SUPPORT&&!H?atob($):function($){const H=[];let j=0,Ae=0;for(;j<$.length;){const se=$[j++];if(se<128)H[Ae++]=String.fromCharCode(se);else if(se>191&&se<224){const Ze=$[j++];H[Ae++]=String.fromCharCode((31&se)<<6|63&Ze)}else if(se>239&&se<365){const en=((7&se)<<18|(63&$[j++])<<12|(63&$[j++])<<6|63&$[j++])-65536;H[Ae++]=String.fromCharCode(55296+(en>>10)),H[Ae++]=String.fromCharCode(56320+(1023&en))}else{const Ze=$[j++],Ge=$[j++];H[Ae++]=String.fromCharCode((15&se)<<12|(63&Ze)<<6|63&Ge)}}return H.join("")}(this.decodeStringToByteArray($,H))},decodeStringToByteArray($,H){this.init_();const j=H?this.charToByteMapWebSafe_:this.charToByteMap_,Ae=[];for(let se=0;se<$.length;){const Ze=j[$.charAt(se++)],Ft=se<$.length?j[$.charAt(se)]:0;++se;const Qt=se<$.length?j[$.charAt(se)]:64;++se;const Dt=se<$.length?j[$.charAt(se)]:64;if(++se,null==Ze||null==Ft||null==Qt||null==Dt)throw Error();Ae.push(Ze<<2|Ft>>4),64!==Qt&&(Ae.push(Ft<<4&240|Qt>>2),64!==Dt&&Ae.push(Qt<<6&192|Dt))}return Ae},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}},le=function($){return function($){const H=ce($);return ie.encodeByteArray(H,!0)}($).replace(/\./g,"")},Z=function($){try{return ie.decodeString($,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function L($,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return H}for(const j in H)!H.hasOwnProperty(j)||!Q(j)||($[j]=L($[j],H[j]));return $}function Q($){return"__proto__"!==$}class z{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,j)=>{this.resolve=H,this.reject=j})}wrapCallback(H){return(j,Ae)=>{j?this.reject(j):this.resolve(Ae),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(j):H(j,Ae))}}}function re($,H){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ae=H||"demo-project",se=$.iat||0,Ze=$.sub||$.user_id;if(!Ze)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ge=Object.assign({iss:`https://securetoken.google.com/${Ae}`,aud:Ae,iat:se,exp:se+3600,auth_time:se,sub:Ze,user_id:Ze,firebase:{sign_in_provider:"custom",identities:{}}},$);return[le(JSON.stringify({alg:"none",type:"JWT"})),le(JSON.stringify(Ge)),""].join(".")}function be(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function de(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(be())}function G(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch($){return!1}}function ye(){return"object"==typeof self&&self.self===self}function ve(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function he(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ce(){return be().indexOf("Electron/")>=0}function Le(){const $=be();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function Ve(){return be().indexOf("MSAppHost/")>=0}function ft(){return!G()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function De(){return"object"==typeof indexedDB}function ne(){return new Promise(($,H)=>{try{let j=!0;const Ae="validate-browser-context-for-indexeddb-analytics-module",se=self.indexedDB.open(Ae);se.onsuccess=()=>{se.result.close(),j||self.indexedDB.deleteDatabase(Ae),$(!0)},se.onupgradeneeded=()=>{j=!1},se.onerror=()=>{var Ze;H((null===(Ze=se.error)||void 0===Ze?void 0:Ze.message)||"")}}catch(j){H(j)}})}function oe(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Pe extends Error{constructor(H,j,Ae){super(j),this.code=H,this.customData=Ae,this.name="FirebaseError",Object.setPrototypeOf(this,Pe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pe.prototype.create)}}class pe{constructor(H,j,Ae){this.service=H,this.serviceName=j,this.errors=Ae}create(H,...j){const Ae=j[0]||{},se=`${this.service}/${H}`,Ze=this.errors[H],Ge=Ze?function($,H){return $.replace(jt,(j,Ae)=>{const se=H[Ae];return null!=se?String(se):`<${Ae}?>`})}(Ze,Ae):"Error";return new Pe(se,`${this.serviceName}: ${Ge} (${se}).`,Ae)}}const jt=/\{\$([^}]+)}/g;function hn($,H){return Object.prototype.hasOwnProperty.call($,H)}function St($){for(const H in $)if(Object.prototype.hasOwnProperty.call($,H))return!1;return!0}function Er($,H){if($===H)return!0;const j=Object.keys($),Ae=Object.keys(H);for(const se of j){if(!Ae.includes(se))return!1;const Ze=$[se],Ge=H[se];if(on(Ze)&&on(Ge)){if(!Er(Ze,Ge))return!1}else if(Ze!==Ge)return!1}for(const se of Ae)if(!j.includes(se))return!1;return!0}function on($){return null!==$&&"object"==typeof $}function oi($){const H=[];for(const[j,Ae]of Object.entries($))Array.isArray(Ae)?Ae.forEach(se=>{H.push(encodeURIComponent(j)+"="+encodeURIComponent(se))}):H.push(encodeURIComponent(j)+"="+encodeURIComponent(Ae));return H.length?"&"+H.join("&"):""}function Di($){const H={};return $.replace(/^\?/,"").split("&").forEach(Ae=>{if(Ae){const[se,Ze]=Ae.split("=");H[decodeURIComponent(se)]=decodeURIComponent(Ze)}}),H}function Mr($){const H=$.indexOf("?");if(!H)return"";const j=$.indexOf("#",H);return $.substring(H,j>0?j:void 0)}function Zi($,H){const j=new fs($,H);return j.subscribe.bind(j)}class fs{constructor(H,j){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=j,this.task.then(()=>{H(this)}).catch(Ae=>{this.error(Ae)})}next(H){this.forEachObserver(j=>{j.next(H)})}error(H){this.forEachObserver(j=>{j.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,j,Ae){let se;if(void 0===H&&void 0===j&&void 0===Ae)throw new Error("Missing Observer.");se=function($,H){if("object"!=typeof $||null===$)return!1;for(const j of["next","error","complete"])if(j in $&&"function"==typeof $[j])return!0;return!1}(H)?H:{next:H,error:j,complete:Ae},void 0===se.next&&(se.next=wr),void 0===se.error&&(se.error=wr),void 0===se.complete&&(se.complete=wr);const Ze=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?se.error(this.finalError):se.complete()}catch(Ge){}}),this.observers.push(se),Ze}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let j=0;j<this.observers.length;j++)this.sendOne(j,H)}sendOne(H,j){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{j(this.observers[H])}catch(Ae){"undefined"!=typeof console&&console.error&&console.error(Ae)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wr(){}function Ti($,H=1e3,j=2){const Ae=H*Math.pow(j,$),se=Math.round(.5*Ae*(Math.random()-.5)*2);return Math.min(144e5,Ae+se)}function fo($){return $&&$._delegate?$._delegate:$}},2329:(Xe,Te,V)=>{"use strict";V.d(Te,{Mq:()=>h.getApp,C6:()=>h.getApps});var h=V(5452);(0,h.registerVersion)("firebase","9.1.3","app")},7841:(Xe,Te,V)=>{"use strict";V.d(Te,{Z:()=>h.Z});var h=V(4486);h.Z.registerVersion("firebase","9.1.3","app-compat")},4671:(Xe,Te,V)=>{"use strict";V.r(Te);var h=V(8239),ee=V(4486),F=V(3854),ce=V(5452),te=V(4762),ie=V(5601),we=V(6034);const be=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},de=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},G=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ve=new ie.Yd("@firebase/auth");function he(_,...f){ve.logLevel<=ie.in.ERROR&&ve.error(`Auth (${ce.SDK_VERSION}): ${_}`,...f)}function Ce(_,...f){throw ft(_,...f)}function Le(_,...f){return ft(_,...f)}function Ve(_,f,g){const E=Object.assign(Object.assign({},de()),{[f]:g});return new F.LL("auth","Firebase",E).create(f,{appName:_.name})}function _t(_,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&Ce(_,"argument-error"),Ve(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ft(_,...f){if("string"!=typeof _){const g=f[0],E=[...f.slice(1)];return E[0]&&(E[0].appName=_.name),_._errorFactory.create(g,...E)}return G.create(_,...f)}function De(_,f,...g){if(!_)throw ft(f,...g)}function ne(_){const f="INTERNAL ASSERTION FAILED: "+_;throw he(f),new Error(f)}function oe(_,f){_||ne(f)}const fe=new Map;function ue(_){oe(_ instanceof Function,"Expected a class definition");let f=fe.get(_);return f?(oe(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,fe.set(_,f),f)}function nt(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function jt(){return"http:"===Pn()||"https:"===Pn()}function Pn(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class kn{constructor(f,g){this.shortDelay=f,this.longDelay=g,oe(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(jt()||(0,F.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function zt(_,f){oe(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class Kn{static initialize(f,g,E){this.fetchImpl=f,g&&(this.headersImpl=g),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ne("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ne("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ne("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Wr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},hn=new kn(3e4,6e4);function at(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function St(_,f,g,E){return lo.apply(this,arguments)}function lo(){return(lo=(0,h.Z)(function*(_,f,g,E,A={}){return Er(_,A,()=>{let N={},W={};E&&("GET"===f?W=E:N={body:JSON.stringify(E)});const _e=(0,F.xO)(Object.assign({key:_.config.apiKey},W)).slice(1),Be=new(Kn.headers());return Be.set("Content-Type","application/json"),Be.set("X-Client-Version",_._getSdkClientVersion()),_.languageCode&&Be.set("X-Firebase-Locale",_.languageCode),Kn.fetch()(Mr(_,_.config.apiHost,g,_e),Object.assign({method:f,headers:Be,referrerPolicy:"no-referrer"},N))})})).apply(this,arguments)}function Er(_,f,g){return on.apply(this,arguments)}function on(){return(on=(0,h.Z)(function*(_,f,g){_._canInitEmulator=!1;const E=Object.assign(Object.assign({},Wr),f);try{const A=new ai(_),N=yield Promise.race([g(),A.promise]);A.clearNetworkTimeout();const W=yield N.json();if("needConfirmation"in W)throw Zi(_,"account-exists-with-different-credential",W);if(N.ok&&!("errorMessage"in W))return W;{const _e=N.ok?W.errorMessage:W.error.message,[Be,Qe]=_e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Be)throw Zi(_,"credential-already-in-use",W);if("EMAIL_EXISTS"===Be)throw Zi(_,"email-already-in-use",W);const ct=E[Be]||Be.toLowerCase().replace(/[_\s]+/g,"-");if(Qe)throw Ve(_,ct,Qe);Ce(_,ct)}}catch(A){if(A instanceof F.ZR)throw A;Ce(_,"network-request-failed")}})).apply(this,arguments)}function oi(_,f,g,E){return Di.apply(this,arguments)}function Di(){return(Di=(0,h.Z)(function*(_,f,g,E,A={}){const N=yield St(_,f,g,E,A);return"mfaPendingCredential"in N&&Ce(_,"multi-factor-auth-required",{serverResponse:N}),N})).apply(this,arguments)}function Mr(_,f,g,E){const A=`${f}${g}?${E}`;return _.config.emulator?zt(_.config,A):`${_.config.apiScheme}://${A}`}class ai{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,E)=>{this.timer=setTimeout(()=>E(Le(this.auth,"timeout")),hn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zi(_,f,g){const E={appName:_.name};g.email&&(E.email=g.email),g.phoneNumber&&(E.phoneNumber=g.phoneNumber);const A=Le(_,f,E);return A.customData._tokenResponse=g,A}function ui(){return(ui=(0,h.Z)(function*(_,f){return St(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function En(_,f){return wr.apply(this,arguments)}function wr(){return(wr=(0,h.Z)(function*(_,f){return St(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ho(_,f){return st.apply(this,arguments)}function st(){return(st=(0,h.Z)(function*(_,f){return St(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Re(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function fn(){return(fn=(0,h.Z)(function*(_,f=!1){const g=(0,F.m9)(_),E=yield g.getIdToken(f),A=Ke(E);De(A&&A.exp&&A.auth_time&&A.iat,g.auth,"internal-error");const N="object"==typeof A.firebase?A.firebase:void 0,W=null==N?void 0:N.sign_in_provider;return{claims:A,token:E,authTime:Re(kt(A.auth_time)),issuedAtTime:Re(kt(A.iat)),expirationTime:Re(kt(A.exp)),signInProvider:W||null,signInSecondFactor:(null==N?void 0:N.sign_in_second_factor)||null}})).apply(this,arguments)}function kt(_){return 1e3*Number(_)}function Ke(_){const[f,g,E]=_.split(".");if(void 0===f||void 0===g||void 0===E)return he("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,F.tV)(g);return A?JSON.parse(A):(he("Failed to decode base64 JWT payload"),null)}catch(A){return he("Caught error parsing JWT payload as JSON",A),null}}function _n(_,f){return ps.apply(this,arguments)}function ps(){return(ps=(0,h.Z)(function*(_,f,g=!1){if(g)return f;try{return yield f}catch(E){throw E instanceof F.ZR&&Ti(E)&&_.auth.currentUser===_&&(yield _.auth.signOut()),E}})).apply(this,arguments)}function Ti({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class pn{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const A=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const E=this.getInterval(f);this.timerId=setTimeout((0,h.Z)(function*(){yield g.iteration()}),E)}iteration(){var f=this;return(0,h.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&f.schedule(!0))}f.schedule()})()}}class Or{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Re(this.lastLoginAt),this.creationTime=Re(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function fo(_){return $.apply(this,arguments)}function $(){return($=(0,h.Z)(function*(_){var f;const g=_.auth,E=yield _.getIdToken(),A=yield _n(_,ho(g,{idToken:E}));De(null==A?void 0:A.users.length,g,"internal-error");const N=A.users[0];_._notifyReloadListener(N);const W=(null===(f=N.providerUserInfo)||void 0===f?void 0:f.length)?se(N.providerUserInfo):[],_e=Ae(_.providerData,W),ct=!!_.isAnonymous&&!(_.email&&N.passwordHash||(null==_e?void 0:_e.length)),rt={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:_e,metadata:new Or(N.createdAt,N.lastLoginAt),isAnonymous:ct};Object.assign(_,rt)})).apply(this,arguments)}function j(){return(j=(0,h.Z)(function*(_){const f=(0,F.m9)(_);yield fo(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Ae(_,f){return[..._.filter(E=>!f.some(A=>A.providerId===E.providerId)),...f]}function se(_){return _.map(f=>{var{providerId:g}=f,E=(0,te._T)(f,["providerId"]);return{providerId:g,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function Ge(){return(Ge=(0,h.Z)(function*(_,f){const g=yield Er(_,{},()=>{const E=(0,F.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:A,apiKey:N}=_.config,W=Mr(_,A,"/v1/token",`key=${N}`);return Kn.fetch()(W,{method:"POST",headers:{"X-Client-Version":_._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:E})});return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Ft{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){De(f.idToken,"internal-error"),De(void 0!==f.idToken,"internal-error"),De(void 0!==f.refreshToken,"internal-error");const g="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function(_){const f=Ke(_);return De(f,"internal-error"),De(void 0!==f.exp,"internal-error"),De(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var E=this;return(0,h.Z)(function*(){return De(!E.accessToken||E.refreshToken,f,"user-token-expired"),g||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(f,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var E=this;return(0,h.Z)(function*(){const{accessToken:A,refreshToken:N,expiresIn:W}=yield function(_,f){return Ge.apply(this,arguments)}(f,g);E.updateTokensAndExpiration(A,N,Number(W))})()}updateTokensAndExpiration(f,g,E){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(f,g){const{refreshToken:E,accessToken:A,expirationTime:N}=g,W=new Ft;return E&&(De("string"==typeof E,"internal-error",{appName:f}),W.refreshToken=E),A&&(De("string"==typeof A,"internal-error",{appName:f}),W.accessToken=A),N&&(De("number"==typeof N,"internal-error",{appName:f}),W.expirationTime=N),W}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Ft,this.toJSON())}_performRefresh(){return ne("not implemented")}}function en(_,f){De("string"==typeof _||void 0===_,"internal-error",{appName:f})}class Qt{constructor(f){var{uid:g,auth:E,stsTokenManager:A}=f,N=(0,te._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new pn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=E,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.metadata=new Or(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,h.Z)(function*(){const E=yield _n(g,g.stsTokenManager.getToken(g.auth,f));return De(E,g.auth,"internal-error"),g.accessToken!==E&&(g.accessToken=E,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),E})()}getIdTokenResult(f){return function(_){return fn.apply(this,arguments)}(this,f)}reload(){return function(_){return j.apply(this,arguments)}(this)}_assign(f){this!==f&&(De(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new Qt(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var E=this;return(0,h.Z)(function*(){let A=!1;f.idToken&&f.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(f),A=!0),g&&(yield fo(E)),yield E.auth._persistUserIfCurrent(E),A&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var f=this;return(0,h.Z)(function*(){const g=yield f.getIdToken();return yield _n(f,function(_,f){return ui.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var E,A,N,W,_e,Be,Qe,ct;const rt=null!==(E=g.displayName)&&void 0!==E?E:void 0,Rn=null!==(A=g.email)&&void 0!==A?A:void 0,Ur=null!==(N=g.phoneNumber)&&void 0!==N?N:void 0,Br=null!==(W=g.photoURL)&&void 0!==W?W:void 0,wu=null!==(_e=g.tenantId)&&void 0!==_e?_e:void 0,bu=null!==(Be=g._redirectEventId)&&void 0!==Be?Be:void 0,lm=null!==(Qe=g.createdAt)&&void 0!==Qe?Qe:void 0,Nn=null!==(ct=g.lastLoginAt)&&void 0!==ct?ct:void 0,{uid:up,emailVerified:cp,isAnonymous:dm,providerData:lp,stsTokenManager:hm}=g;De(up&&hm,f,"internal-error");const Iu=Ft.fromJSON(this.name,hm);De("string"==typeof up,f,"internal-error"),en(rt,f.name),en(Rn,f.name),De("boolean"==typeof cp,f,"internal-error"),De("boolean"==typeof dm,f,"internal-error"),en(Ur,f.name),en(Br,f.name),en(wu,f.name),en(bu,f.name),en(lm,f.name),en(Nn,f.name);const ki=new Qt({uid:up,auth:f,email:Rn,emailVerified:cp,displayName:rt,isAnonymous:dm,photoURL:Br,phoneNumber:Ur,tenantId:wu,stsTokenManager:Iu,createdAt:lm,lastLoginAt:Nn});return lp&&Array.isArray(lp)&&(ki.providerData=lp.map(A_=>Object.assign({},A_))),bu&&(ki._redirectEventId=bu),ki}static _fromIdTokenResponse(f,g,E=!1){return(0,h.Z)(function*(){const A=new Ft;A.updateFromServerResponse(g);const N=new Qt({uid:g.localId,auth:f,stsTokenManager:A,isAnonymous:E});return yield fo(N),N})()}}const Dt=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(g,E){var A=this;return(0,h.Z)(function*(){A.storage[g]=E})()}_get(g){var E=this;return(0,h.Z)(function*(){const A=E.storage[g];return void 0===A?null:A})()}_remove(g){var E=this;return(0,h.Z)(function*(){delete E.storage[g]})()}_addListener(g,E){}_removeListener(g,E){}}return _.type="NONE",_})();function tn(_,f,g){return`firebase:${_}:${f}:${g}`}class ur{constructor(f,g,E){this.persistence=f,this.auth=g,this.userKey=E;const{config:A,name:N}=this.auth;this.fullUserKey=tn(this.userKey,A.apiKey,N),this.fullPersistenceKey=tn("persistence",A.apiKey,N),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,h.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?Qt._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,h.Z)(function*(){if(g.persistence===f)return;const E=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,E?g.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,E="authUser"){return(0,h.Z)(function*(){if(!g.length)return new ur(ue(Dt),f,E);const A=(yield Promise.all(g.map(function(){var Qe=(0,h.Z)(function*(ct){if(yield ct._isAvailable())return ct});return function(ct){return Qe.apply(this,arguments)}}()))).filter(Qe=>Qe);let N=A[0]||ue(Dt);const W=tn(E,f.config.apiKey,f.name);let _e=null;for(const Qe of g)try{const ct=yield Qe._get(W);if(ct){const rt=Qt._fromJSON(f,ct);Qe!==N&&(_e=rt),N=Qe;break}}catch(ct){}const Be=A.filter(Qe=>Qe._shouldAllowMigration);return N._shouldAllowMigration&&Be.length?(N=Be[0],_e&&(yield N._set(W,_e.toJSON())),yield Promise.all(g.map(function(){var Qe=(0,h.Z)(function*(ct){if(ct!==N)try{yield ct._remove(W)}catch(rt){}});return function(ct){return Qe.apply(this,arguments)}}())),new ur(N,f,E)):new ur(N,f,E)})()}}function Gu(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(qu(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Ko(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(qa(f))return"Blackberry";if(Fs(f))return"Webos";if(cl(f))return"Safari";if((f.includes("chrome/")||Ga(f))&&!f.includes("edge/"))return"Chrome";if(ks(f))return"Android";{const E=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function Ko(_=(0,F.z$)()){return/firefox\//i.test(_)}function cl(_=(0,F.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Ga(_=(0,F.z$)()){return/crios\//i.test(_)}function qu(_=(0,F.z$)()){return/iemobile/i.test(_)}function ks(_=(0,F.z$)()){return/android/i.test(_)}function qa(_=(0,F.z$)()){return/blackberry/i.test(_)}function Fs(_=(0,F.z$)()){return/webos/i.test(_)}function Ai(_=(0,F.z$)()){return/iphone|ipad|ipod/i.test(_)}function gs(_=(0,F.z$)()){return Ai(_)||ks(_)||Fs(_)||qa(_)||/windows phone/i.test(_)||qu(_)}function Yn(_,f=[]){let g;switch(_){case"Browser":g=Gu((0,F.z$)());break;case"Worker":g=`${Gu((0,F.z$)())}-${_}`;break;default:g=_}const E=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${ce.SDK_VERSION}/${E}`}class jd{constructor(f,g){this.app=f,this.config=g,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new je(this),this.idTokenSubscription=new je(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=G,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=g.sdkClientVersion}_initializeWithPersistence(f,g){var E=this;return g&&(this._popupRedirectResolver=ue(g)),this._initializationPromise=this.queue((0,h.Z)(function*(){var A;E._deleted||(E.persistenceManager=yield ur.create(E,f),!E._deleted&&((null===(A=E._popupRedirectResolver)||void 0===A?void 0:A._shouldInitProactively)&&(yield E._popupRedirectResolver._initialize(E)),yield E.initializeCurrentUser(g),!E._deleted&&(E._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,h.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g)}})()}initializeCurrentUser(f){var g=this;return(0,h.Z)(function*(){var E;let A=yield g.assertedPersistence.getCurrentUser();if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const N=null===(E=g.redirectUser)||void 0===E?void 0:E._redirectEventId,W=null==A?void 0:A._redirectEventId,_e=yield g.tryRedirectSignIn(f);(!N||N===W)&&(null==_e?void 0:_e.user)&&(A=_e.user)}return A?A._redirectEventId?(De(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===A._redirectEventId?g.directlySetCurrentUser(A):g.reloadAndSetCurrentUserOrClear(A)):g.reloadAndSetCurrentUserOrClear(A):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(f){var g=this;return(0,h.Z)(function*(){let E=null;try{E=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch(A){yield g._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,h.Z)(function*(){try{yield fo(f)}catch(E){if("auth/network-request-failed"!==E.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,h.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,h.Z)(function*(){const E=f?(0,F.m9)(f):null;return E&&De(E.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(E&&E._clone(g))})()}_updateCurrentUser(f){var g=this;return(0,h.Z)(function*(){if(!g._deleted)return f&&De(g.tenantId===f.tenantId,g,"tenant-id-mismatch"),g.queue((0,h.Z)(function*(){yield g.directlySetCurrentUser(f),g.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,h.Z)(function*(){return(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null)})()}setPersistence(f){var g=this;return this.queue((0,h.Z)(function*(){yield g.assertedPersistence.setPersistence(ue(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new F.LL("auth","Firebase",f())}onAuthStateChanged(f,g,E){return this.registerStateListener(this.authStateSubscription,f,g,E)}onIdTokenChanged(f,g,E){return this.registerStateListener(this.idTokenSubscription,f,g,E)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var E=this;return(0,h.Z)(function*(){const A=yield E.getOrInitRedirectPersistenceManager(g);return null===f?A.removeCurrentUser():A.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,h.Z)(function*(){if(!g.redirectPersistenceManager){const E=f&&ue(f)||g._popupRedirectResolver;De(E,g,"argument-error"),g.redirectPersistenceManager=yield ur.create(g,[ue(E._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,h.Z)(function*(){var E,A;return g._isInitialized&&(yield g.queue((0,h.Z)(function*(){}))),(null===(E=g._currentUser)||void 0===E?void 0:E._redirectEventId)===f?g._currentUser:(null===(A=g.redirectUser)||void 0===A?void 0:A._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,h.Z)(function*(){if(f===g.currentUser)return g.queue((0,h.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,E,A){if(this._deleted)return()=>{};const N="function"==typeof g?g:g.next.bind(g),W=this._isInitialized?Promise.resolve():this._initializationPromise;return De(W,this,"internal-error"),W.then(()=>N(this.currentUser)),"function"==typeof g?f.addObserver(g,E,A):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,h.Z)(function*(){g.currentUser&&g.currentUser!==f&&(g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh()),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Yn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Ht(_){return(0,F.m9)(_)}class je{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,F.ne)(g=>this.observer=g)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function nn(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function ms(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class lr{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return ne("not implemented")}_getIdTokenResponse(f){return ne("not implemented")}_linkToIdToken(f,g){return ne("not implemented")}_getReauthenticationResolver(f){return ne("not implemented")}}function gn(_,f){return An.apply(this,arguments)}function An(){return(An=(0,h.Z)(function*(_,f){return St(_,"POST","/v1/accounts:resetPassword",at(_,f))})).apply(this,arguments)}function Yo(_,f){return mt.apply(this,arguments)}function mt(){return(mt=(0,h.Z)(function*(_,f){return St(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Wu(_,f){return ys.apply(this,arguments)}function ys(){return(ys=(0,h.Z)(function*(_,f){return St(_,"POST","/v1/accounts:update",at(_,f))})).apply(this,arguments)}function Wi(){return(Wi=(0,h.Z)(function*(_,f){return oi(_,"POST","/v1/accounts:signInWithPassword",at(_,f))})).apply(this,arguments)}function Qn(_,f){return go.apply(this,arguments)}function go(){return(go=(0,h.Z)(function*(_,f){return St(_,"POST","/v1/accounts:sendOobCode",at(_,f))})).apply(this,arguments)}function zi(_,f){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,h.Z)(function*(_,f){return Qn(_,f)})).apply(this,arguments)}function Kt(_,f){return mo.apply(this,arguments)}function mo(){return(mo=(0,h.Z)(function*(_,f){return Qn(_,f)})).apply(this,arguments)}function $d(_,f){return Za.apply(this,arguments)}function Za(){return(Za=(0,h.Z)(function*(_,f){return Qn(_,f)})).apply(this,arguments)}function Hd(_,f){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,h.Z)(function*(_,f){return Qn(_,f)})).apply(this,arguments)}function Vs(){return(Vs=(0,h.Z)(function*(_,f){return oi(_,"POST","/v1/accounts:signInWithEmailLink",at(_,f))})).apply(this,arguments)}function dl(){return(dl=(0,h.Z)(function*(_,f){return oi(_,"POST","/v1/accounts:signInWithEmailLink",at(_,f))})).apply(this,arguments)}class Yr extends lr{constructor(f,g,E,A=null){super("password",E),this._email=f,this._password=g,this._tenantId=A}static _fromEmailAndPassword(f,g){return new Yr(f,g,"password")}static _fromEmailAndCode(f,g,E=null){return new Yr(f,g,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,h.Z)(function*(){switch(g.signInMethod){case"password":return function(_,f){return Wi.apply(this,arguments)}(f,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function(_,f){return Vs.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:Ce(f,"internal-error")}})()}_linkToIdToken(f,g){var E=this;return(0,h.Z)(function*(){switch(E.signInMethod){case"password":return Yo(f,{idToken:g,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function(_,f){return dl.apply(this,arguments)}(f,{idToken:g,email:E._email,oobCode:E._password});default:Ce(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Gt(_,f){return za.apply(this,arguments)}function za(){return(za=(0,h.Z)(function*(_,f){return oi(_,"POST","/v1/accounts:signInWithIdp",at(_,f))})).apply(this,arguments)}class Qr extends lr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new Qr(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):Ce("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:E,signInMethod:A}=g,N=(0,te._T)(g,["providerId","signInMethod"]);if(!E||!A)return null;const W=new Qr(E,A);return W.idToken=N.idToken||void 0,W.accessToken=N.accessToken||void 0,W.secret=N.secret,W.nonce=N.nonce,W.pendingToken=N.pendingToken||null,W}_getIdTokenResponse(f){return Gt(f,this.buildRequest())}_linkToIdToken(f,g){const E=this.buildRequest();return E.idToken=g,Gt(f,E)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Gt(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,F.xO)(g)}return f}}function Si(_,f){return hl.apply(this,arguments)}function hl(){return(hl=(0,h.Z)(function*(_,f){return St(_,"POST","/v1/accounts:sendVerificationCode",at(_,f))})).apply(this,arguments)}function Qo(){return(Qo=(0,h.Z)(function*(_,f){return oi(_,"POST","/v1/accounts:signInWithPhoneNumber",at(_,f))})).apply(this,arguments)}function Gd(){return(Gd=(0,h.Z)(function*(_,f){const g=yield oi(_,"POST","/v1/accounts:signInWithPhoneNumber",at(_,f));if(g.temporaryProof)throw Zi(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const jg={USER_NOT_FOUND:"user-not-found"};function qd(){return(qd=(0,h.Z)(function*(_,f){return oi(_,"POST","/v1/accounts:signInWithPhoneNumber",at(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),jg)})).apply(this,arguments)}class Jo extends lr{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new Jo({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new Jo({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function(_,f){return Qo.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function(_,f){return Gd.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function(_,f){return qd.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:E,verificationCode:A}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:E,code:A}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:E,phoneNumber:A,temporaryProof:N}=f;return E||g||A||N?new Jo({verificationId:g,verificationCode:E,phoneNumber:A,temporaryProof:N}):null}}class Xo{constructor(f){var g,E,A,N,W,_e;const Be=(0,F.zd)((0,F.pd)(f)),Qe=null!==(g=Be.apiKey)&&void 0!==g?g:null,ct=null!==(E=Be.oobCode)&&void 0!==E?E:null,rt=function(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Be.mode)&&void 0!==A?A:null);De(Qe&&ct&&rt,"argument-error"),this.apiKey=Qe,this.operation=rt,this.code=ct,this.continueUrl=null!==(N=Be.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(W=Be.languageCode)&&void 0!==W?W:null,this.tenantId=null!==(_e=Be.tenantId)&&void 0!==_e?_e:null}static parseLink(f){const g=function(_){const f=(0,F.zd)((0,F.pd)(_)).link,g=f?(0,F.zd)((0,F.pd)(f)).deep_link_id:null,E=(0,F.zd)((0,F.pd)(_)).deep_link_id;return(E?(0,F.zd)((0,F.pd)(E)).link:null)||E||g||f||_}(f);try{return new Xo(g)}catch(E){return null}}}let Ku=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,E){return Yr._fromEmailAndPassword(g,E)}static credentialWithLink(g,E){const A=Xo.parseLink(E);return De(A,"argument-error"),Yr._fromEmailAndCode(g,A.code,A.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class _o{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Ka extends _o{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Us extends Ka{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return De("providerId"in g&&"signInMethod"in g,"argument-error"),Qr._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return De(f.idToken||f.accessToken,"argument-error"),Qr._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Us.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Us.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:E,oauthTokenSecret:A,pendingToken:N,nonce:W,providerId:_e}=f;if(!E&&!A&&!g&&!N||!_e)return null;try{return new Us(_e)._credential({idToken:g,accessToken:E,nonce:W,pendingToken:N})}catch(Be){return null}}}let fl=(()=>{class _ extends Ka{constructor(){super("facebook.com")}static credential(g){return Qr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(E){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Yu=(()=>{class _ extends Ka{constructor(){super("google.com"),this.addScope("profile")}static credential(g,E){return Qr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:E})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:E,oauthAccessToken:A}=g;if(!E&&!A)return null;try{return _.credential(E,A)}catch(N){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),pl=(()=>{class _ extends Ka{constructor(){super("github.com")}static credential(g){return Qr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(E){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class ea extends lr{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return Gt(f,this.buildRequest())}_linkToIdToken(f,g){const E=this.buildRequest();return E.idToken=g,Gt(f,E)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Gt(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:E,signInMethod:A,pendingToken:N}=g;return E&&A&&N&&E===A?new ea(E,N):null}static _create(f,g){return new ea(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let xi=(()=>{class _ extends Ka{constructor(){super("twitter.com")}static credential(g,E){return Qr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:E})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:E,oauthTokenSecret:A}=g;if(!E||!A)return null;try{return _.credential(E,A)}catch(N){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function gl(_,f){return vo.apply(this,arguments)}function vo(){return(vo=(0,h.Z)(function*(_,f){return oi(_,"POST","/v1/accounts:signUp",at(_,f))})).apply(this,arguments)}class Ri{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,E,A=!1){return(0,h.Z)(function*(){const N=yield Qt._fromIdTokenResponse(f,E,A),W=Zd(E);return new Ri({user:N,providerId:W,_tokenResponse:E,operationType:g})})()}static _forOperation(f,g,E){return(0,h.Z)(function*(){yield f._updateTokensIfNecessary(E,!0);const A=Zd(E);return new Ri({user:f,providerId:A,_tokenResponse:E,operationType:g})})()}}function Zd(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function Eo(){return(Eo=(0,h.Z)(function*(_){var f;const g=Ht(_);if(yield g._initializationPromise,null===(f=g.currentUser)||void 0===f?void 0:f.isAnonymous)return new Ri({user:g.currentUser,providerId:null,operationType:"signIn"});const E=yield gl(g,{returnSecureToken:!0}),A=yield Ri._fromIdTokenResponse(g,"signIn",E,!0);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class Qu extends F.ZR{constructor(f,g,E,A){var N;super(g.code,g.message),this.operationType=E,this.user=A,this.name="FirebaseError",Object.setPrototypeOf(this,Qu.prototype),this.appName=f.name,this.code=g.code,this.tenantId=null!==(N=f.tenantId)&&void 0!==N?N:void 0,this.serverResponse=g.customData.serverResponse}static _fromErrorAndOperation(f,g,E,A){return new Qu(f,g,E,A)}}function Ya(_,f,g,E){return("reauthenticate"===f?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?Qu._fromErrorAndOperation(_,N,f,E):N})}function Wd(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function ta(){return(ta=(0,h.Z)(function*(_,f){const g=(0,F.m9)(_);yield Ki(!0,g,f);const{providerUserInfo:E}=yield En(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),A=Wd(E||[]);return g.providerData=g.providerData.filter(N=>A.has(N.providerId)),A.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function na(_,f){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,h.Z)(function*(_,f,g=!1){const E=yield _n(_,f._linkToIdToken(_.auth,yield _.getIdToken()),g);return Ri._forOperation(_,"link",E)})).apply(this,arguments)}function Ki(_,f,g){return wo.apply(this,arguments)}function wo(){return(wo=(0,h.Z)(function*(_,f,g){yield fo(f);const A=!1===_?"provider-already-linked":"no-such-provider";De(Wd(f.providerData).has(g)===_,f.auth,A)})).apply(this,arguments)}function ra(_,f){return an.apply(this,arguments)}function an(){return(an=(0,h.Z)(function*(_,f,g=!1){const{auth:E}=_,A="reauthenticate";try{const N=yield _n(_,Ya(E,A,f,_),g);De(N.idToken,E,"internal-error");const W=Ke(N.idToken);De(W,E,"internal-error");const{sub:_e}=W;return De(_.uid===_e,E,"user-mismatch"),Ri._forOperation(_,A,N)}catch(N){throw"auth/user-not-found"===(null==N?void 0:N.code)&&Ce(E,"user-mismatch"),N}})).apply(this,arguments)}function Ju(_,f){return ia.apply(this,arguments)}function ia(){return(ia=(0,h.Z)(function*(_,f,g=!1){const E="signIn",A=yield Ya(_,E,f),N=yield Ri._fromIdTokenResponse(_,E,A);return g||(yield _._updateCurrentUser(N.user)),N})).apply(this,arguments)}function Xu(_,f){return bt.apply(this,arguments)}function bt(){return(bt=(0,h.Z)(function*(_,f){return Ju(Ht(_),f)})).apply(this,arguments)}function zd(_,f){return ec.apply(this,arguments)}function ec(){return(ec=(0,h.Z)(function*(_,f){const g=(0,F.m9)(_);return yield Ki(!1,g,f.providerId),na(g,f)})).apply(this,arguments)}function Qa(_,f){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,h.Z)(function*(_,f){return ra((0,F.m9)(_),f)})).apply(this,arguments)}function Vf(_,f){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,h.Z)(function*(_,f){return oi(_,"POST","/v1/accounts:signInWithCustomToken",at(_,f))})).apply(this,arguments)}function Xn(){return(Xn=(0,h.Z)(function*(_,f){const g=Ht(_),E=yield Vf(g,{token:f,returnSecureToken:!0}),A=yield Ri._fromIdTokenResponse(g,"signIn",E);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class Io{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?sa._fromServerResponse(f,g):Ce(f,"internal-error")}}class sa extends Io{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new sa(g)}}function Ja(_,f,g){var E;De((null===(E=g.url)||void 0===E?void 0:E.length)>0,_,"invalid-continue-uri"),De(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(De(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(De(g.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function oa(){return(oa=(0,h.Z)(function*(_,f,g){const E=(0,F.m9)(_),A={requestType:"PASSWORD_RESET",email:f};g&&Ja(E,A,g),yield Kt(E,A)})).apply(this,arguments)}function ut(){return(ut=(0,h.Z)(function*(_,f,g){yield gn((0,F.m9)(_),{oobCode:f,newPassword:g})})).apply(this,arguments)}function _s(){return(_s=(0,h.Z)(function*(_,f){yield Wu((0,F.m9)(_),{oobCode:f})})).apply(this,arguments)}function aa(_,f){return Co.apply(this,arguments)}function Co(){return(Co=(0,h.Z)(function*(_,f){const g=(0,F.m9)(_),E=yield gn(g,{oobCode:f}),A=E.requestType;switch(De(A,g,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":De(E.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":De(E.mfaInfo,g,"internal-error");default:De(E.email,g,"internal-error")}let N=null;return E.mfaInfo&&(N=Io._fromServerResponse(Ht(g),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:N},operation:A}})).apply(this,arguments)}function vs(){return(vs=(0,h.Z)(function*(_,f){const{data:g}=yield aa((0,F.m9)(_),f);return g.email})).apply(this,arguments)}function Se(){return(Se=(0,h.Z)(function*(_,f,g){const E=Ht(_),A=yield gl(E,{returnSecureToken:!0,email:f,password:g}),N=yield Ri._fromIdTokenResponse(E,"signIn",A);return yield E._updateCurrentUser(N.user),N})).apply(this,arguments)}function vn(){return(vn=(0,h.Z)(function*(_,f,g){const E=(0,F.m9)(_),A={requestType:"EMAIL_SIGNIN",email:f};De(g.handleCodeInApp,E,"argument-error"),g&&Ja(E,A,g),yield $d(E,A)})).apply(this,arguments)}function ci(){return(ci=(0,h.Z)(function*(_,f,g){const E=(0,F.m9)(_),A=Ku.credentialWithLink(f,g||nt());return De(A._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Xu(E,A)})).apply(this,arguments)}function Xa(_,f){return $s.apply(this,arguments)}function $s(){return($s=(0,h.Z)(function*(_,f){return St(_,"POST","/v1/accounts:createAuthUri",at(_,f))})).apply(this,arguments)}function nc(){return(nc=(0,h.Z)(function*(_,f){const E={identifier:f,continueUri:jt()?nt():"http://localhost"},{signinMethods:A}=yield Xa((0,F.m9)(_),E);return A||[]})).apply(this,arguments)}function Qi(){return(Qi=(0,h.Z)(function*(_,f){const g=(0,F.m9)(_),A={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&Ja(g.auth,A,f);const{email:N}=yield zi(g.auth,A);N!==_.email&&(yield _.reload())})).apply(this,arguments)}function Fr(){return(Fr=(0,h.Z)(function*(_,f,g){const E=(0,F.m9)(_),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};g&&Ja(E.auth,N,g);const{email:W}=yield Hd(E.auth,N);W!==_.email&&(yield _.reload())})).apply(this,arguments)}function rc(_,f){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,h.Z)(function*(_,f){return St(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function eu(){return(eu=(0,h.Z)(function*(_,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const E=(0,F.m9)(_),N={idToken:yield E.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},W=yield _n(E,rc(E.auth,N));E.displayName=W.displayName||null,E.photoURL=W.photoUrl||null;const _e=E.providerData.find(({providerId:Be})=>"password"===Be);_e&&(_e.displayName=E.displayName,_e.photoURL=E.photoURL),yield E._updateTokensIfNecessary(W)})).apply(this,arguments)}function tu(_,f,g){return la.apply(this,arguments)}function la(){return(la=(0,h.Z)(function*(_,f,g){const{auth:E}=_,N={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(N.email=f),g&&(N.password=g);const W=yield _n(_,Yo(E,N));yield _._updateTokensIfNecessary(W,!0)})).apply(this,arguments)}class Do{constructor(f,g,E={}){this.isNewUser=f,this.providerId=g,this.profile=E}}class _l extends Do{constructor(f,g,E,A){super(f,g,E),this.username=A}}class Uf extends Do{constructor(f,g){super(f,"facebook.com",g)}}class eh extends _l{constructor(f,g){super(f,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class To extends Do{constructor(f,g){super(f,"google.com",g)}}class th extends _l{constructor(f,g,E){super(f,"twitter.com",g,E)}}function sc(_){const{user:f,_tokenResponse:g}=_;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function(_){var f,g;if(!_)return null;const{providerId:E}=_,A=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},N=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!E&&(null==_?void 0:_.idToken)){const W=null===(g=null===(f=Ke(_.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(W)return new Do(N,"anonymous"!==W&&"custom"!==W?W:null)}if(!E)return null;switch(E){case"facebook.com":return new Uf(N,A);case"github.com":return new eh(N,A);case"google.com":return new To(N,A);case"twitter.com":return new th(N,A,_.screenName||null);case"custom":case"anonymous":return new Do(N,null);default:return new Do(N,E,A)}}(g)}class ws{constructor(f,g){this.type=f,this.credential=g}static _fromIdtoken(f){return new ws("enroll",f)}static _fromMfaPendingCredential(f){return new ws("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,E;if(null==f?void 0:f.multiFactorSession){if(null===(g=f.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return ws._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(E=f.multiFactorSession)||void 0===E?void 0:E.idToken)return ws._fromIdtoken(f.multiFactorSession.idToken)}return null}}class vl{constructor(f,g,E){this.session=f,this.hints=g,this.signInResolver=E}static _fromError(f,g){const E=Ht(f),A=(g.serverResponse.mfaInfo||[]).map(W=>Io._fromServerResponse(E,W));De(g.serverResponse.mfaPendingCredential,E,"internal-error");const N=ws._fromMfaPendingCredential(g.serverResponse.mfaPendingCredential);return new vl(N,A,function(){var W=(0,h.Z)(function*(_e){const Be=yield _e._process(E,N);delete g.serverResponse.mfaInfo,delete g.serverResponse.mfaPendingCredential;const Qe=Object.assign(Object.assign({},g.serverResponse),{idToken:Be.idToken,refreshToken:Be.refreshToken});switch(g.operationType){case"signIn":const ct=yield Ri._fromIdTokenResponse(E,g.operationType,Qe);return yield E._updateCurrentUser(ct.user),ct;case"reauthenticate":return De(g.user,E,"internal-error"),Ri._forOperation(g.user,g.operationType,Qe);default:Ce(E,"internal-error")}});return function(_e){return W.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,h.Z)(function*(){return g.signInResolver(f)})()}}function rh(_,f){return St(_,"POST","/v2/accounts/mfaEnrollment:start",at(_,f))}class da{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(E=>Io._fromServerResponse(f.auth,E)))})}static _fromUser(f){return new da(f)}getSession(){var f=this;return(0,h.Z)(function*(){return ws._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,g){var E=this;return(0,h.Z)(function*(){const A=f,N=yield E.getSession(),W=yield _n(E.user,A._process(E.user.auth,N,g));return yield E.user._updateTokensIfNecessary(W),E.user.reload()})()}unenroll(f){var g=this;return(0,h.Z)(function*(){const E="string"==typeof f?f:f.uid,A=yield g.user.getIdToken(),N=yield _n(g.user,function(_,f){return St(_,"POST","/v2/accounts/mfaEnrollment:withdraw",at(_,f))}(g.user.auth,{idToken:A,mfaEnrollmentId:E}));g.enrolledFactors=g.enrolledFactors.filter(({uid:W})=>W!==E),yield g.user._updateTokensIfNecessary(N);try{yield g.user.reload()}catch(W){if("auth/user-token-expired"!==W.code)throw W}})()}}const ha=new WeakMap,Ao="__sak";class bl{constructor(f,g){this.storage=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Ao,"1"),this.storage.removeItem(Ao),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}}const oc=(()=>{class _ extends bl{constructor(){super(window.localStorage,"LOCAL"),this.boundEventHandler=(g,E)=>this.onStorageEvent(g,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const _=(0,F.z$)();return cl(_)||Ai(_)}()&&function(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=gs(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const E of Object.keys(this.listeners)){const A=this.storage.getItem(E),N=this.localCache[E];A!==N&&g(E,N,A)}}onStorageEvent(g,E=!1){if(!g.key)return void this.forAllChangedKeys((_e,Be,Qe)=>{this.notifyListeners(_e,Qe)});const A=g.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const _e=this.storage.getItem(A);if(g.newValue!==_e)null!==g.newValue?this.storage.setItem(A,g.newValue):this.storage.removeItem(A);else if(this.localCache[A]===g.newValue&&!E)return}const N=()=>{const _e=this.storage.getItem(A);!E&&this.localCache[A]===_e||this.notifyListeners(A,_e)},W=this.storage.getItem(A);(0,F.w1)()&&10===document.documentMode&&W!==g.newValue&&g.newValue!==g.oldValue?setTimeout(N,10):N()}notifyListeners(g,E){this.localCache[g]=E;const A=this.listeners[g];if(A)for(const N of Array.from(A))N(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,E,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:E,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(E)}_removeListener(g,E){this.listeners[g]&&(this.listeners[g].delete(E),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,E){var A=()=>super._set,N=this;return(0,h.Z)(function*(){yield A().call(N,g,E),N.localCache[g]=JSON.stringify(E)})()}_get(g){var E=()=>super._get,A=this;return(0,h.Z)(function*(){const N=yield E().call(A,g);return A.localCache[g]=JSON.stringify(N),N})()}_remove(g){var E=()=>super._remove,A=this;return(0,h.Z)(function*(){yield E().call(A,g),delete A.localCache[g]})()}}return _.type="LOCAL",_})(),bs=(()=>{class _ extends bl{constructor(){super(window.sessionStorage,"SESSION")}_addListener(g,E){}_removeListener(g,E){}}return _.type="SESSION",_})();let Gs=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const E=this.receivers.find(N=>N.isListeningto(g));if(E)return E;const A=new _(g);return this.receivers.push(A),A}isListeningto(g){return this.eventTarget===g}handleEvent(g){var E=this;return(0,h.Z)(function*(){const A=g,{eventId:N,eventType:W,data:_e}=A.data,Be=E.handlersMap[W];if(!(null==Be?void 0:Be.size))return;A.ports[0].postMessage({status:"ack",eventId:N,eventType:W});const Qe=Array.from(Be).map(function(){var rt=(0,h.Z)(function*(Rn){return Rn(A.origin,_e)});return function(Rn){return rt.apply(this,arguments)}}()),ct=yield function(_){return Promise.all(_.map(function(){var f=(0,h.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(E){return{fulfilled:!1,reason:E}}});return function(g){return f.apply(this,arguments)}}()))}(Qe);A.ports[0].postMessage({status:"done",eventId:N,eventType:W,response:ct})})()}_subscribe(g,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(E)}_unsubscribe(g,E){this.handlersMap[g]&&E&&this.handlersMap[g].delete(E),(!E||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function ru(_="",f=10){let g="";for(let E=0;E<f;E++)g+=Math.floor(10*Math.random());return _+g}class Wg{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,E=50){var A=this;return(0,h.Z)(function*(){const N="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let W,_e;return new Promise((Be,Qe)=>{const ct=ru("",20);N.port1.start();const rt=setTimeout(()=>{Qe(new Error("unsupported_event"))},E);_e={messageChannel:N,onMessage(Rn){const Ur=Rn;if(Ur.data.eventId===ct)switch(Ur.data.status){case"ack":clearTimeout(rt),W=setTimeout(()=>{Qe(new Error("timeout"))},3e3);break;case"done":clearTimeout(W),Be(Ur.data.response);break;default:clearTimeout(rt),clearTimeout(W),Qe(new Error("invalid_response"))}}},A.handlers.add(_e),N.port1.addEventListener("message",_e.onMessage),A.target.postMessage({eventType:f,eventId:ct,data:g},[N.port2])}).finally(()=>{_e&&A.removeMessageHandler(_e)})})()}}function cn(){return window}function ac(){return void 0!==cn().WorkerGlobalScope&&"function"==typeof cn().importScripts}function uc(){return(uc=(0,h.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const sh="firebaseLocalStorageDb",uu="firebaseLocalStorage",fa="fbase_key";class lc{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function pa(_,f){return _.transaction([uu],f?"readwrite":"readonly").objectStore(uu)}function wn(){const _=indexedDB.open(sh,1);return new Promise((f,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const E=_.result;try{E.createObjectStore(uu,{keyPath:fa})}catch(A){g(A)}}),_.addEventListener("success",(0,h.Z)(function*(){const E=_.result;E.objectStoreNames.contains(uu)?f(E):(E.close(),yield function(){const _=indexedDB.deleteDatabase(sh);return new lc(_).toPromise()}(),f(yield wn()))}))})}function Dl(_,f,g){return Un.apply(this,arguments)}function Un(){return(Un=(0,h.Z)(function*(_,f,g){const E=pa(_,!0).put({[fa]:f,value:g});return new lc(E).toPromise()})).apply(this,arguments)}function it(){return(it=(0,h.Z)(function*(_,f){const g=pa(_,!1).get(f),E=yield new lc(g).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function mn(_,f){const g=pa(_,!0).delete(f);return new lc(g).toPromise()}const So=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,h.Z)(function*(){return g.db||(g.db=yield wn()),g.db})()}_withRetries(g){var E=this;return(0,h.Z)(function*(){let A=0;for(;;)try{const N=yield E._openDb();return yield g(N)}catch(N){if(A++>3)throw N;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,h.Z)(function*(){return ac()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,h.Z)(function*(){g.receiver=Gs._getInstance(ac()?self:null),g.receiver._subscribe("keyChanged",function(){var E=(0,h.Z)(function*(A,N){return{keyProcessed:(yield g._poll()).includes(N.key)}});return function(A,N){return E.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var E=(0,h.Z)(function*(A,N){return["keyChanged"]});return function(A,N){return E.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,h.Z)(function*(){var E,A;if(g.activeServiceWorker=yield function(){return uc.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Wg(g.activeServiceWorker);const N=yield g.sender._send("ping",{},800);!N||(null===(E=N[0])||void 0===E?void 0:E.fulfilled)&&(null===(A=N[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var E=this;return(0,h.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:g},E.serviceWorkerReceiverAvailable?800:50)}catch(A){}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const g=yield wn();return yield Dl(g,Ao,"1"),yield mn(g,Ao),!0}catch(g){}return!1})()}_withPendingWrite(g){var E=this;return(0,h.Z)(function*(){E.pendingWrites++;try{yield g()}finally{E.pendingWrites--}})()}_set(g,E){var A=this;return(0,h.Z)(function*(){return A._withPendingWrite((0,h.Z)(function*(){return yield A._withRetries(N=>Dl(N,g,E)),A.localCache[g]=E,A.notifyServiceWorker(g)}))})()}_get(g){var E=this;return(0,h.Z)(function*(){const A=yield E._withRetries(N=>function(_,f){return it.apply(this,arguments)}(N,g));return E.localCache[g]=A,A})()}_remove(g){var E=this;return(0,h.Z)(function*(){return E._withPendingWrite((0,h.Z)(function*(){return yield E._withRetries(A=>mn(A,g)),delete E.localCache[g],E.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,h.Z)(function*(){const E=yield g._withRetries(W=>{const _e=pa(W,!1).getAll();return new lc(_e).toPromise()});if(!E)return[];if(0!==g.pendingWrites)return[];const A=[],N=new Set;for(const{fbase_key:W,value:_e}of E)N.add(W),JSON.stringify(g.localCache[W])!==JSON.stringify(_e)&&(g.notifyListeners(W,_e),A.push(W));for(const W of Object.keys(g.localCache))g.localCache[W]&&!N.has(W)&&(g.notifyListeners(W,null),A.push(W));return A})()}notifyListeners(g,E){this.localCache[g]=E;const A=this.listeners[g];if(A)for(const N of Array.from(A))N(E)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(E)}_removeListener(g,E){this.listeners[g]&&(this.listeners[g].delete(E),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function cu(_,f){return St(_,"POST","/v2/accounts/mfaSignIn:start",at(_,f))}function Al(){return(Al=(0,h.Z)(function*(_){return(yield St(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function pt(_){return new Promise((f,g)=>{const E=document.createElement("script");E.setAttribute("src",_),E.onload=f,E.onerror=A=>{const N=Le("internal-error");N.customData=A,g(N)},E.type="text/javascript",E.charset="UTF-8",function(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(E)})}function qs(_){return`__${_}${Math.floor(1e6*Math.random())}`}const Is=1e12;class hc{constructor(f){this.auth=f,this.counter=Is,this._widgets=new Map}render(f,g){const E=this.counter;return this._widgets.set(E,new uh(f,this.auth.name,g||{})),this.counter++,E}reset(f){var g;const E=f||Is;null===(g=this._widgets.get(E))||void 0===g||g.delete(),this._widgets.delete(E)}getResponse(f){var g;return(null===(g=this._widgets.get(f||Is))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,h.Z)(function*(){var E;return null===(E=g._widgets.get(f||Is))||void 0===E||E.execute(),""})()}}class uh{constructor(f,g,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof f?document.getElementById(f):f;De(A,"argument-error",{appName:g}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(_){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<50;E++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}();const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Zs=qs("rcb"),Ws=new kn(3e4,6e4);class pc{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!cn().grecaptcha}load(f,g=""){return De((_=g).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_),f,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(cn().grecaptcha):new Promise((E,A)=>{const N=cn().setTimeout(()=>{A(Le(f,"network-request-failed"))},Ws.get());cn()[Zs]=()=>{cn().clearTimeout(N),delete cn()[Zs];const _e=cn().grecaptcha;if(!_e)return void A(Le(f,"internal-error"));const Be=_e.render;_e.render=(Qe,ct)=>{const rt=Be(Qe,ct);return this.counter++,rt},this.hostLanguage=g,E(_e)},pt(`https://www.google.com/recaptcha/api.js??${(0,F.xO)({onload:Zs,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(N),A(Le(f,"internal-error"))})});var _}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!cn().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class di{load(f){return(0,h.Z)(function*(){return new hc(f)})()}clearedOneInstance(){}}const gc="recaptcha",zs={theme:"light",type:"image"};class It{constructor(f,g=Object.assign({},zs),E){this.parameters=g,this.type=gc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ht(E),this.isInvisible="invisible"===this.parameters.size,De("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof f?document.getElementById(f):f;De(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new di:new pc,this.validateStartingState()}verify(){var f=this;return(0,h.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),E=f.getAssertedRecaptcha();return E.getResponse(g)||new Promise(N=>{const W=_e=>{!_e||(f.tokenChangeListeners.delete(W),N(_e))};f.tokenChangeListeners.add(W),f.isInvisible&&E.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){De(!this.parameters.sitekey,this.auth,"argument-error"),De(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),De("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(E=>E(g)),"function"==typeof f)f(g);else if("string"==typeof f){const E=cn()[f];"function"==typeof E&&E(g)}}}assertNotDestroyed(){De(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,h.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const E=document.createElement("div");g.appendChild(E),g=E}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,h.Z)(function*(){De(jt()&&!ac(),f.auth,"internal-error"),yield function(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function(_){return Al.apply(this,arguments)}(f.auth);De(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return De(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Oi{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=Jo._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function du(){return(du=(0,h.Z)(function*(_,f,g){const E=Ht(_),A=yield fu(E,f,(0,F.m9)(g));return new Oi(A,N=>Xu(E,N))})).apply(this,arguments)}function hu(){return(hu=(0,h.Z)(function*(_,f,g){const E=(0,F.m9)(_);yield Ki(!1,E,"phone");const A=yield fu(E.auth,f,(0,F.m9)(g));return new Oi(A,N=>zd(E,N))})).apply(this,arguments)}function xo(){return(xo=(0,h.Z)(function*(_,f,g){const E=(0,F.m9)(_),A=yield fu(E.auth,f,(0,F.m9)(g));return new Oi(A,N=>Qa(E,N))})).apply(this,arguments)}function fu(_,f,g){return pu.apply(this,arguments)}function pu(){return(pu=(0,h.Z)(function*(_,f,g){var E;const A=yield g.verify();try{let N;if(De("string"==typeof A,_,"argument-error"),De(g.type===gc,_,"argument-error"),N="string"==typeof f?{phoneNumber:f}:f,"session"in N){const W=N.session;if("phoneNumber"in N)return De("enroll"===W.type,_,"internal-error"),(yield rh(_,{idToken:W.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{De("signin"===W.type,_,"internal-error");const _e=(null===(E=N.multiFactorHint)||void 0===E?void 0:E.uid)||N.multiFactorUid;return De(_e,_,"missing-multi-factor-info"),(yield cu(_,{mfaPendingCredential:W.credential,mfaEnrollmentId:_e,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:W}=yield Si(_,{phoneNumber:N.phoneNumber,recaptchaToken:A});return W}}finally{g._reset()}})).apply(this,arguments)}function Sl(){return(Sl=(0,h.Z)(function*(_,f){yield na((0,F.m9)(_),f)})).apply(this,arguments)}let ma=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=Ht(g)}verifyPhoneNumber(g,E){return fu(this.auth,g,(0,F.m9)(E))}static credential(g,E){return Jo._fromVerification(g,E)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:E,temporaryProof:A}=g;return E&&A?Jo._fromTokenResponse(E,A):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function ln(_,f){return f?ue(f):(De(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Cs extends lr{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Gt(f,this._buildIdpRequest())}_linkToIdToken(f,g){return Gt(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return Gt(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function Dr(_){return Ju(_.auth,new Cs(_),_.bypassAuthState)}function rn(_){const{auth:f,user:g}=_;return De(g,f,"internal-error"),ra(g,new Cs(_),_.bypassAuthState)}function mc(_){return ya.apply(this,arguments)}function ya(){return(ya=(0,h.Z)(function*(_){const{auth:f,user:g}=_;return De(g,f,"internal-error"),na(g,new Cs(_),_.bypassAuthState)})).apply(this,arguments)}class Ro{constructor(f,g,E,A,N=!1){this.auth=f,this.resolver=E,this.user=A,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,h.Z)(function*(E,A){f.pendingPromise={resolve:E,reject:A};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(N){f.reject(N)}});return function(E,A){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,h.Z)(function*(){const{urlResponse:E,sessionId:A,postBody:N,tenantId:W,error:_e,type:Be}=f;if(_e)return void g.reject(_e);const Qe={auth:g.auth,requestUri:E,sessionId:A,tenantId:W||void 0,postBody:N||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Be)(Qe))}catch(ct){g.reject(ct)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Dr;case"linkViaPopup":case"linkViaRedirect":return mc;case"reauthViaPopup":case"reauthViaRedirect":return rn;default:Ce(this.auth,"internal-error")}}resolve(f){oe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){oe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const xl=new kn(2e3,1e4);function Xr(){return(Xr=(0,h.Z)(function*(_,f,g){const E=Ht(_);_t(_,f,_o);const A=ln(E,g);return new yc(E,"signInViaPopup",f,A).executeNotNull()})).apply(this,arguments)}function pi(){return(pi=(0,h.Z)(function*(_,f,g){const E=(0,F.m9)(_);_t(E.auth,f,_o);const A=ln(E.auth,g);return new yc(E.auth,"reauthViaPopup",f,A,E).executeNotNull()})).apply(this,arguments)}function tr(){return(tr=(0,h.Z)(function*(_,f,g){const E=(0,F.m9)(_);_t(E.auth,f,_o);const A=ln(E.auth,g);return new yc(E.auth,"linkViaPopup",f,A,E).executeNotNull()})).apply(this,arguments)}let yc=(()=>{class _ extends Ro{constructor(g,E,A,N,W){super(g,E,N,W),this.provider=A,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,h.Z)(function*(){const E=yield g.execute();return De(E,g.auth,"internal-error"),E})()}onExecution(){var g=this;return(0,h.Z)(function*(){oe(1===g.filter.length,"Popup operations only handle one event");const E=ru();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],E),g.authWindow.associatedEvent=E,g.resolver._originValidation(g.auth).catch(A=>{g.reject(A)}),g.resolver._isIframeWebStorageSupported(g.auth,A=>{A||g.reject(Le(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Le(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var E,A;this.pollId=(null===(A=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===A?void 0:A.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Le(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,xl.get())};g()}}return _.currentPopupAction=null,_})();const Rl=new Map;class Hf extends Ro{constructor(f,g,E=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,E),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,h.Z)(function*(){let E=Rl.get(g.auth._key());if(!E){try{const N=(yield function(_,f){return b.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;E=()=>Promise.resolve(N)}catch(A){E=()=>Promise.reject(A)}Rl.set(g.auth._key(),E)}return E()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,E=this;return(0,h.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(E,f);if("unknown"!==f.type){if(f.eventId){const A=yield E.auth._redirectUserForId(f.eventId);if(A)return E.user=A,g().call(E,f);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function b(){return(b=(0,h.Z)(function*(_,f){const g=ge(f),E="true"===(yield Y(_)._get(g));return yield Y(_)._remove(g),E})).apply(this,arguments)}function D(_,f){return x.apply(this,arguments)}function x(){return(x=(0,h.Z)(function*(_,f){return Y(_)._set(ge(f),"true")})).apply(this,arguments)}function Y(_){return ue(_._redirectPersistence)}function ge(_){return tn("pendingRedirect",_.config.apiKey,_.name)}function qe(){return(qe=(0,h.Z)(function*(_,f,g){const E=Ht(_);_t(_,f,_o);const A=ln(E,g);return yield D(A,E),A._openRedirect(E,f,"signInViaRedirect")})).apply(this,arguments)}function Bn(){return(Bn=(0,h.Z)(function*(_,f,g){const E=(0,F.m9)(_);_t(E.auth,f,_o);const A=ln(E.auth,g);yield D(A,E.auth);const N=yield _c(E);return A._openRedirect(E.auth,f,"reauthViaRedirect",N)})).apply(this,arguments)}function gi(){return(gi=(0,h.Z)(function*(_,f,g){const E=(0,F.m9)(_);_t(E.auth,f,_o);const A=ln(E.auth,g);yield Ki(!1,E,f.providerId),yield D(A,E.auth);const N=yield _c(E);return A._openRedirect(E.auth,f,"linkViaRedirect",N)})).apply(this,arguments)}function mi(){return(mi=(0,h.Z)(function*(_,f){return yield Ht(_)._initializationPromise,es(_,f,!1)})).apply(this,arguments)}function es(_,f){return ts.apply(this,arguments)}function ts(){return(ts=(0,h.Z)(function*(_,f,g=!1){const E=Ht(_),A=ln(E,f),W=yield new Hf(E,A,g).execute();return W&&!g&&(delete W.user._redirectEventId,yield E._persistUserIfCurrent(W.user),yield E._setRedirectUser(null,f)),W})).apply(this,arguments)}function _c(_){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,h.Z)(function*(_){const f=ru(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class nr{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(f,E)&&(g=!0,this.sendToConsumer(f,E),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gu(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var E;if(f.error&&!gu(f)){const A=(null===(E=f.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";g.onError(Le(this.auth,A))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const E=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&E}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ks(f))}saveEventToCache(f){this.cachedEventUids.add(Ks(f)),this.lastProcessedEventTime=Date.now()}}function Ks(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function gu({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===(null==f?void 0:f.code)}function Fn(_){return dh.apply(this,arguments)}function dh(){return(dh=(0,h.Z)(function*(_,f={}){return St(_,"GET","/v1/projects",f)})).apply(this,arguments)}const Gf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ys=/^https?/;function Pl(){return(Pl=(0,h.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield Fn(_);for(const g of f)try{if(hh(g))return}catch(E){}Ce(_,"unauthorized-domain")})).apply(this,arguments)}function hh(_){const f=nt(),{protocol:g,hostname:E}=new URL(f);if(_.startsWith("chrome-extension://")){const W=new URL(_);return""===W.hostname&&""===E?"chrome-extension:"===g&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&W.hostname===E}if(!Ys.test(g))return!1;if(Gf.test(_))return E===_;const A=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(E)}const fh=new kn(3e4,6e4);function Kg(){const _=cn().___jsl;if(null==_?void 0:_.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let ns=null;function kl(_){return ns=ns||function(_){return new Promise((f,g)=>{var E,A,N;function W(){Kg(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Kg(),g(Le(_,"network-request-failed"))},timeout:fh.get()})}if(null===(A=null===(E=cn().gapi)||void 0===E?void 0:E.iframes)||void 0===A?void 0:A.Iframe)f(gapi.iframes.getContext());else{if(!(null===(N=cn().gapi)||void 0===N?void 0:N.load)){const _e=qs("iframefcb");return cn()[_e]=()=>{gapi.load?W():g(Le(_,"network-request-failed"))},pt(`https://apis.google.com/js/api.js?onload=${_e}`)}W()}}).catch(f=>{throw ns=null,f})}(_),ns}const Mo=new kn(5e3,15e3),Wf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},vc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ph(_){const f=_.config;De(f.authDomain,_,"auth-domain-config-required");const g=f.emulator?zt(f,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,E={apiKey:f.apiKey,appName:_.name,v:ce.SDK_VERSION},A=vc.get(_.config.apiHost);A&&(E.eid=A);const N=_._getFrameworks();return N.length&&(E.fw=N.join(",")),`${g}?${(0,F.xO)(E).slice(1)}`}function Hn(){return(Hn=(0,h.Z)(function*(_){const f=yield kl(_),g=cn().gapi;return De(g,_,"internal-error"),f.open({where:document.body,url:ph(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wf,dontclear:!0},E=>new Promise(function(){var A=(0,h.Z)(function*(N,W){yield E.restyle({setHideOnLeave:!1});const _e=Le(_,"network-request-failed"),Be=cn().setTimeout(()=>{W(_e)},Mo.get());function Qe(){cn().clearTimeout(Be),N(E)}E.ping(Qe).then(Qe,()=>{W(_e)})});return function(N,W){return A.apply(this,arguments)}}()))})).apply(this,arguments)}const Sn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Yf{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function Ec(_,f,g,E,A,N){De(_.config.authDomain,_,"auth-domain-config-required"),De(_.config.apiKey,_,"invalid-api-key");const W={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:E,v:ce.SDK_VERSION,eventId:A};if(f instanceof _o){f.setDefaultLanguage(_.languageCode),W.providerId=f.providerId||"",(0,F.xb)(f.getCustomParameters())||(W.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Be,Qe]of Object.entries(N||{}))W[Be]=Qe}if(f instanceof Ka){const Be=f.getScopes().filter(Qe=>""!==Qe);Be.length>0&&(W.scopes=Be.join(","))}_.tenantId&&(W.tid=_.tenantId);const _e=W;for(const Be of Object.keys(_e))void 0===_e[Be]&&delete _e[Be];return`${function({config:_}){return _.emulator?zt(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,F.xO)(_e).slice(1)}`}const Oo="webStorageSupport";class va extends class{constructor(f){this.factorId=f}_process(f,g,E){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,E);case"signin":return this._finalizeSignIn(f,g.credential);default:return ne("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new va(f)}_finalizeEnroll(f,g,E){return function(_,f){return St(_,"POST","/v2/accounts/mfaEnrollment:finalize",at(_,f))}(f,{idToken:g,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function(_,f){return St(_,"POST","/v2/accounts/mfaSignIn:finalize",at(_,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let gh=(()=>{class _{constructor(){}static assertion(g){return va._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var _,Xf="@firebase/auth";class ep{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,h.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(E=>{var A;f((null===(A=E)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);!g||(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function vu(){return window}function Ds(){return(Ds=(0,h.Z)(function*(_,f,g){var E;const{BuildInfo:A}=vu();oe(f.sessionId,"AuthEvent did not contain a session ID");const N=yield em(f.sessionId),W={};return Ai()?W.ibi=A.packageName:ks()?W.apn=A.packageName:Ce(_,"operation-not-supported-in-this-environment"),A.displayName&&(W.appDisplayName=A.displayName),W.sessionId=N,Ec(_,g,f.type,void 0,null!==(E=f.eventId)&&void 0!==E?E:void 0,W)})).apply(this,arguments)}function Qs(){return(Qs=(0,h.Z)(function*(_){const{BuildInfo:f}=vu(),g={};Ai()?g.iosBundleId=f.packageName:ks()?g.androidPackageName=f.packageName:Ce(_,"operation-not-supported-in-this-environment"),yield Fn(_,g)})).apply(this,arguments)}function yh(){return(yh=(0,h.Z)(function*(_,f,g){const{cordova:E}=vu();let A=()=>{};try{yield new Promise((N,W)=>{let _e=null;function Be(){var rt;N();const Rn=null===(rt=E.plugins.browsertab)||void 0===rt?void 0:rt.close;"function"==typeof Rn&&Rn(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function Qe(){_e||(_e=window.setTimeout(()=>{W(Le(_,"redirect-cancelled-by-user"))},2e3))}function ct(){"visible"===(null==document?void 0:document.visibilityState)&&Qe()}f.addPassiveListener(Be),document.addEventListener("resume",Qe,!1),ks()&&document.addEventListener("visibilitychange",ct,!1),A=()=>{f.removePassiveListener(Be),document.removeEventListener("resume",Qe,!1),document.removeEventListener("visibilitychange",ct,!1),_e&&window.clearTimeout(_e)}})}finally{A()}})).apply(this,arguments)}function em(_){return fr.apply(this,arguments)}function fr(){return(fr=(0,h.Z)(function*(_){const f=tm(_),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function tm(_){if(oe(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const f=new ArrayBuffer(_.length),g=new Uint8Array(f);for(let E=0;E<_.length;E++)g[E]=_.charCodeAt(E);return g}_="Browser",(0,ce._registerComponent)(new we.wA("auth",(f,{options:g})=>{const E=f.getProvider("app").getImmediate(),{apiKey:A,authDomain:N}=E.options;return(W=>{De(A&&!A.includes(":"),"invalid-api-key",{appName:W.name}),De(!(null==N?void 0:N.includes(":")),"argument-error",{appName:W.name});const _e={apiKey:A,authDomain:N,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Yn(_)},Be=new jd(W,_e);return function(_,f){const g=(null==f?void 0:f.persistence)||[],E=(Array.isArray(g)?g:[g]).map(ue);(null==f?void 0:f.errorMap)&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(E,null==f?void 0:f.popupRedirectResolver)}(Be,g),Be})(E)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,E)=>{f.getProvider("auth-internal").initialize()})),(0,ce._registerComponent)(new we.wA("auth-internal",f=>{const g=Ht(f.getProvider("auth").getImmediate());return new ep(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ce.registerVersion)(Xf,"0.18.3",void 0),(0,ce.registerVersion)(Xf,"0.18.3","esm2017");class _h extends nr{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,h.Z)(function*(){yield f.initPromise})()}}function np(_){return wa.apply(this,arguments)}function wa(){return(wa=(0,h.Z)(function*(_){const f=yield Po()._get(Cc(_));return f&&(yield Po()._remove(Cc(_))),f})).apply(this,arguments)}function rs(){const _=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const E=Math.floor(Math.random()*f.length);_.push(f.charAt(E))}return _.join("")}function Po(){return ue(oc)}function Cc(_){return tn("authEvent",_.config.apiKey,_.name)}function vh(_){if(!(null==_?void 0:_.includes("?")))return{};const[f,...g]=_.split("?");return(0,F.zd)(g.join("?"))}function Ac(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Le("no-auth-event")}}function ba(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function jl(_=(0,F.z$)()){return!("file:"!==ba()&&"ionic:"!==ba()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function xc(){try{const _=self.localStorage,f=ru();if(_)return _.setItem(f,"1"),_.removeItem(f),!function(_=(0,F.z$)()){return(0,F.w1)()&&11===(null==document?void 0:document.documentMode)||function(_=(0,F.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,F.hl)()}catch(_){return Ca()&&(0,F.hl)()}return!1}function Ca(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function dn(){return("http:"===ba()||"https:"===ba()||(0,F.ru)()||jl())&&!((0,F.b$)()||(0,F.UG)())&&xc()&&!Ca()}function Da(){return jl()&&"undefined"!=typeof document}function Hl(){return(Hl=(0,h.Z)(function*(){return!!Da()&&new Promise(_=>{const f=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),_(!0)})})})).apply(this,arguments)}const Gn={LOCAL:"local",NONE:"none",SESSION:"session"},Pi=De,Gl="persistence";function Rc(_){return bh.apply(this,arguments)}function bh(){return(bh=(0,h.Z)(function*(_){yield _._initializationPromise;const f=Ih(),g=tn(Gl,_.config.apiKey,_.name);(null==f?void 0:f.sessionStorage)&&f.sessionStorage.setItem(g,_._getPersistence())})).apply(this,arguments)}function Ih(){return"undefined"!=typeof window?window:null}const ql=De;class xn{constructor(){this.browserResolver=ue(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bs,this._completeRedirectFn=es}_openPopup(f,g,E,A){var N=this;return(0,h.Z)(function*(){var W;oe(null===(W=N.eventManagers[f._key()])||void 0===W?void 0:W.manager,"_initialize() not called before _openPopup()");const _e=Ec(f,g,E,nt(),A);return function(_,f,g,E=500,A=600){const N=Math.max((window.screen.availHeight-A)/2,0).toString(),W=Math.max((window.screen.availWidth-E)/2,0).toString();let _e="";const Be=Object.assign(Object.assign({},Sn),{width:E.toString(),height:A.toString(),top:N,left:W}),Qe=(0,F.z$)().toLowerCase();g&&(_e=Ga(Qe)?"_blank":g),Ko(Qe)&&(f=f||"http://localhost",Be.scrollbars="yes");const ct=Object.entries(Be).reduce((Rn,[Ur,Br])=>`${Rn}${Ur}=${Br},`,"");if(function(_=(0,F.z$)()){var f;return Ai(_)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(Qe)&&"_self"!==_e)return function(_,f){const g=document.createElement("a");g.href=_,g.target=f;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(E)}(f||"",_e),new Yf(null);const rt=window.open(f||"",_e,ct);De(rt,_,"popup-blocked");try{rt.focus()}catch(Rn){}return new Yf(rt)}(f,_e,ru())})()}_openRedirect(f,g,E,A){var N=this;return(0,h.Z)(function*(){return yield N._originValidation(f),_=Ec(f,g,E,nt(),A),cn().location.href=_,new Promise(()=>{});var _})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:A,promise:N}=this.eventManagers[g];return A?Promise.resolve(A):(oe(N,"If manager is not set, promise should be"),N)}const E=this.initAndGetManager(f);return this.eventManagers[g]={promise:E},E}initAndGetManager(f){var g=this;return(0,h.Z)(function*(){const E=yield function(_){return Hn.apply(this,arguments)}(f),A=new nr(f);return E.register("authEvent",N=>(De(null==N?void 0:N.authEvent,f,"invalid-auth-event"),{status:A.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:A},g.iframes[f._key()]=E,A})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(Oo,{type:Oo},A=>{var N;const W=null===(N=null==A?void 0:A[0])||void 0===N?void 0:N[Oo];void 0!==W&&g(!!W),Ce(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(_){return Pl.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return gs()||cl()||Ai()}}),this.cordovaResolver=ue(class{constructor(){this._redirectPersistence=bs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=es}_initialize(f){var g=this;return(0,h.Z)(function*(){const E=f._key();let A=g.eventManagers.get(E);return A||(A=new _h(f),g.eventManagers.set(E,A),g.attachCallbackListeners(f,A)),A})()}_openPopup(f){Ce(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,E,A){var N=this;return(0,h.Z)(function*(){!function(_){var f,g,E,A,N,W,_e,Be,Qe,ct;const rt=vu();De("function"==typeof(null===(f=null==rt?void 0:rt.universalLinks)||void 0===f?void 0:f.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),De(void 0!==(null===(g=null==rt?void 0:rt.BuildInfo)||void 0===g?void 0:g.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),De("function"==typeof(null===(N=null===(A=null===(E=null==rt?void 0:rt.cordova)||void 0===E?void 0:E.plugins)||void 0===A?void 0:A.browsertab)||void 0===N?void 0:N.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),De("function"==typeof(null===(Be=null===(_e=null===(W=null==rt?void 0:rt.cordova)||void 0===W?void 0:W.plugins)||void 0===_e?void 0:_e.browsertab)||void 0===Be?void 0:Be.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),De("function"==typeof(null===(ct=null===(Qe=null==rt?void 0:rt.cordova)||void 0===Qe?void 0:Qe.InAppBrowser)||void 0===ct?void 0:ct.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const W=yield N._initialize(f);yield W.initialized(),W.resetRedirect(),Rl.clear(),yield N._originValidation(f);const _e=function(_,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:rs(),postBody:null,tenantId:_.tenantId,error:Le(_,"no-auth-event")}}(f,E,A);yield function(_,f){return Po()._set(Cc(_),f)}(f,_e);const Be=yield function(_,f,g){return Ds.apply(this,arguments)}(f,_e,g),Qe=yield function(_){const{cordova:f}=vu();return new Promise(g=>{f.plugins.browsertab.isAvailable(E=>{let A=null;E?f.plugins.browsertab.openUrl(_):A=f.InAppBrowser.open(_,function(_=(0,F.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),g(A)})})}(Be);return function(_,f,g){return yh.apply(this,arguments)}(f,W,Qe)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(_){return Qs.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:E,handleOpenURL:A,BuildInfo:N}=vu(),W=setTimeout((0,h.Z)(function*(){yield np(f),g.onEvent(Ac())}),500),_e=function(){var ct=(0,h.Z)(function*(rt){clearTimeout(W);const Rn=yield np(f);let Ur=null;Rn&&(null==rt?void 0:rt.url)&&(Ur=function(_,f){var g,E;const A=function(_){const f=vh(_),g=f.link?decodeURIComponent(f.link):void 0,E=vh(g).link,A=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return vh(A).link||A||E||g||_}(f);if(A.includes("/__/auth/callback")){const N=vh(A),W=N.firebaseError?function(_){try{return JSON.parse(_)}catch(f){return null}}(decodeURIComponent(N.firebaseError)):null,_e=null===(E=null===(g=null==W?void 0:W.code)||void 0===g?void 0:g.split("auth/"))||void 0===E?void 0:E[1],Be=_e?Le(_e):null;return Be?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Be,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:A,postBody:null}}return null}(Rn,rt.url)),g.onEvent(Ur||Ac())});return function(Rn){return ct.apply(this,arguments)}}();void 0!==E&&"function"==typeof E.subscribe&&E.subscribe(null,_e);const Be=A,Qe=`${N.packageName.toLowerCase()}://`;vu().handleOpenURL=function(){var ct=(0,h.Z)(function*(rt){if(rt.toLowerCase().startsWith(Qe)&&_e({url:rt}),"function"==typeof Be)try{Be(rt)}catch(Rn){console.error(Rn)}});return function(rt){return ct.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=bs,this._completeRedirectFn=es}_initialize(f){var g=this;return(0,h.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,E,A){var N=this;return(0,h.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openPopup(f,g,E,A)})()}_openRedirect(f,g,E,A){var N=this;return(0,h.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openRedirect(f,g,E,A)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Da()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ql(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,h.Z)(function*(){if(f.underlyingResolver)return;const g=yield function(){return Hl.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function Ta(_){return _.unwrap()}function cm(_){return Mc(_)}function Mc(_){const{_tokenResponse:f}=_ instanceof F.ZR?_.customData:_;if(!f)return null;if(!(_ instanceof F.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return ma.credentialFromResult(_);const g=f.providerId;if(!g||"password"===g)return null;let E;switch(g){case"google.com":E=Yu;break;case"facebook.com":E=fl;break;case"github.com":E=pl;break;case"twitter.com":E=xi;break;default:const{oauthIdToken:A,oauthAccessToken:N,oauthTokenSecret:W,pendingToken:_e,nonce:Be}=f;return N||W||A||_e?_e?g.startsWith("saml.")?ea._create(g,_e):Qr._fromParams({providerId:g,signInMethod:g,pendingToken:_e,idToken:A,accessToken:N}):new Us(g).credential({idToken:A,accessToken:N,rawNonce:Be}):null}return _ instanceof F.ZR?E.credentialFromError(_):E.credentialFromResult(_)}function Lr(_,f){return f.catch(g=>{throw g instanceof F.ZR&&function(_,f){var g;const E=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f.code)f.resolver=new Oc(_,function(_,f){var g;const E=(0,F.m9)(_),A=f;return De(f.operationType,E,"argument-error"),De(null===(g=A.serverResponse)||void 0===g?void 0:g.mfaPendingCredential,E,"argument-error"),vl._fromError(E,A)}(_,f));else if(E){const A=Mc(f),N=f;A&&(N.credential=A,N.tenantId=E.tenantId||void 0,N.email=E.email||void 0,N.phoneNumber=E.phoneNumber||void 0)}}(_,g),g}).then(g=>{const A=g.user;return{operationType:g.operationType,credential:cm(g),additionalUserInfo:sc(g),user:Vr.getOrCreate(A)}})}function rp(_,f){return ip.apply(this,arguments)}function ip(){return(ip=(0,h.Z)(function*(_,f){const g=yield f;return{verificationId:g.verificationId,confirm:E=>Lr(_,g.confirm(E))}})).apply(this,arguments)}class Oc{constructor(f,g){this.resolver=g,this.auth=function(_){return _.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Lr(Ta(this.auth),this.resolver.resolveSignIn(f))}}class Vr{constructor(f){this._delegate=f,this.multiFactor=function(_){const f=(0,F.m9)(_);return ha.has(f)||ha.set(f,da._fromUser(f)),ha.get(f)}(f)}static getOrCreate(f){return Vr.USER_MAP.has(f)||Vr.USER_MAP.set(f,new Vr(f)),Vr.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,h.Z)(function*(){return Lr(g.auth,zd(g._delegate,f))})()}linkWithPhoneNumber(f,g){var E=this;return(0,h.Z)(function*(){return rp(E.auth,function(_,f,g){return hu.apply(this,arguments)}(E._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,h.Z)(function*(){return Lr(g.auth,function(_,f,g){return tr.apply(this,arguments)}(g._delegate,f,xn))})()}linkWithRedirect(f){var g=this;return(0,h.Z)(function*(){return yield Rc(Ht(g.auth)),function(_,f,g){return function(_,f,g){return gi.apply(this,arguments)}(_,f,g)}(g._delegate,f,xn)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,h.Z)(function*(){return Lr(g.auth,Qa(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return rp(this.auth,function(_,f,g){return xo.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return Lr(this.auth,function(_,f,g){return pi.apply(this,arguments)}(this._delegate,f,xn))}reauthenticateWithRedirect(f){var g=this;return(0,h.Z)(function*(){return yield Rc(Ht(g.auth)),function(_,f,g){return function(_,f,g){return Bn.apply(this,arguments)}(_,f,g)}(g._delegate,f,xn)})()}sendEmailVerification(f){return function(_,f){return Qi.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,h.Z)(function*(){return yield function(_,f){return ta.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function(_,f){return tu((0,F.m9)(_),f,null)}(this._delegate,f)}updatePassword(f){return function(_,f){return tu((0,F.m9)(_),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function(_,f){return Sl.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function(_,f){return eu.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function(_,f,g){return Fr.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Vr.USER_MAP=new WeakMap;const Eu=De;let sp=(()=>{class _{constructor(g,E){if(this.app=g,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=g.options;Eu(A,"invalid-api-key",{appName:g.name});let N=[Dt];if("undefined"!=typeof window){N=function(_,f){const g=Ih();if(!(null==g?void 0:g.sessionStorage))return[];const E=tn(Gl,_,f);switch(g.sessionStorage.getItem(E)){case Gn.NONE:return[Dt];case Gn.LOCAL:return[So,bs];case Gn.SESSION:return[bs];default:return[]}}(A,g.name);for(const _e of[So,oc,bs])N.includes(_e)||N.push(_e)}Eu(A,"invalid-api-key",{appName:g.name});const W="undefined"!=typeof window?xn:void 0;this._delegate=E.initialize({options:{persistence:N,popupRedirectResolver:W}}),this._delegate._updateErrorMap(be),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Vr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,E){!function(_,f,g){const E=Ht(_);De(E._canInitEmulator,E,"emulator-config-failed"),De(/^https?:\/\//.test(f),E,"invalid-emulator-scheme");const A=!!(null==g?void 0:g.disableWarnings),N=nn(f),{host:W,port:_e}=function(_){const f=nn(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!g)return{host:"",port:null};const E=g[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(E);if(A){const N=A[1];return{host:N,port:ms(E.substr(N.length+1))}}{const[N,W]=E.split(":");return{host:N,port:ms(W)}}}(f);E.config.emulator={url:`${N}//${W}${null===_e?"":`:${_e}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:W,port:_e,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function(){function _(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,g,E)}applyActionCode(g){return function(_,f){return _s.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return aa(this._delegate,g)}confirmPasswordReset(g,E){return function(_,f,g){return ut.apply(this,arguments)}(this._delegate,g,E)}createUserWithEmailAndPassword(g,E){var A=this;return(0,h.Z)(function*(){return Lr(A._delegate,function(_,f,g){return Se.apply(this,arguments)}(A._delegate,g,E))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function(_,f){return nc.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function(_,f){const g=Xo.parseLink(f);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,h.Z)(function*(){Eu(dn(),g._delegate,"operation-not-supported-in-this-environment");const E=yield function(_,f){return mi.apply(this,arguments)}(g._delegate,xn);return E?Lr(g._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function(_,f){Ht(_)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,E,A){const{next:N,error:W,complete:_e}=Ch(g,E,A);return this._delegate.onAuthStateChanged(N,W,_e)}onIdTokenChanged(g,E,A){const{next:N,error:W,complete:_e}=Ch(g,E,A);return this._delegate.onIdTokenChanged(N,W,_e)}sendSignInLinkToEmail(g,E){return function(_,f,g){return vn.apply(this,arguments)}(this._delegate,g,E)}sendPasswordResetEmail(g,E){return function(_,f,g){return oa.apply(this,arguments)}(this._delegate,g,E||void 0)}setPersistence(g){var E=this;return(0,h.Z)(function*(){let A;switch(function(_,f){Pi(Object.values(Gn).includes(f),_,"invalid-persistence-type"),(0,F.b$)()?Pi(f!==Gn.SESSION,_,"unsupported-persistence-type"):(0,F.UG)()?Pi(f===Gn.NONE,_,"unsupported-persistence-type"):Ca()?Pi(f===Gn.NONE||f===Gn.LOCAL&&(0,F.hl)(),_,"unsupported-persistence-type"):Pi(f===Gn.NONE||xc(),_,"unsupported-persistence-type")}(E._delegate,g),g){case Gn.SESSION:A=bs;break;case Gn.LOCAL:A=(yield ue(So)._isAvailable())?So:oc;break;case Gn.NONE:A=Dt;break;default:return Ce("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Lr(this._delegate,function(_){return Eo.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Lr(this._delegate,Xu(this._delegate,g))}signInWithCustomToken(g){return Lr(this._delegate,function(_,f){return Xn.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,E){return Lr(this._delegate,function(_,f,g){return Xu((0,F.m9)(_),Ku.credential(f,g))}(this._delegate,g,E))}signInWithEmailLink(g,E){return Lr(this._delegate,function(_,f,g){return ci.apply(this,arguments)}(this._delegate,g,E))}signInWithPhoneNumber(g,E){return rp(this._delegate,function(_,f,g){return du.apply(this,arguments)}(this._delegate,g,E))}signInWithPopup(g){var E=this;return(0,h.Z)(function*(){return Eu(dn(),E._delegate,"operation-not-supported-in-this-environment"),Lr(E._delegate,function(_,f,g){return Xr.apply(this,arguments)}(E._delegate,g,xn))})()}signInWithRedirect(g){var E=this;return(0,h.Z)(function*(){return Eu(dn(),E._delegate,"operation-not-supported-in-this-environment"),yield Rc(E._delegate),function(_,f,g){return function(_,f,g){return qe.apply(this,arguments)}(_,f,g)}(E._delegate,g,xn)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function(_,f){return vs.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=Gn,_})();function Ch(_,f,g){let E=_;"function"!=typeof _&&({next:E,error:f,complete:g}=_);const A=E;return{next:W=>A(W&&Vr.getOrCreate(W)),error:f,complete:g}}class Aa{constructor(){this.providerId="phone",this._delegate=new ma(Ta(ee.Z.auth()))}static credential(f,g){return ma.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}Aa.PHONE_SIGN_IN_METHOD=ma.PHONE_SIGN_IN_METHOD,Aa.PROVIDER_ID=ma.PROVIDER_ID;const D_=De;class T_{constructor(f,g,E=ee.Z.app()){var A;D_(null===(A=E.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new It(f,g,E.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(_){_.INTERNAL.registerComponent(new we.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),E=f.getProvider("auth");return new sp(g,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ku,FacebookAuthProvider:fl,GithubAuthProvider:pl,GoogleAuthProvider:Yu,OAuthProvider:Us,PhoneAuthProvider:Aa,PhoneMultiFactorGenerator:gh,RecaptchaVerifier:T_,TwitterAuthProvider:xi,Auth:sp,AuthCredential:lr,Error:F.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.1.6")}(ee.Z)},6676:function(Xe,Te){!function(V){"use strict";function h(G){return Array.prototype.slice.call(G)}function ee(G){return new Promise(function(ye,ve){G.onsuccess=function(){ye(G.result)},G.onerror=function(){ve(G.error)}})}function F(G,ye,ve){var he,Ce=new Promise(function(Le,Ve){ee(he=G[ye].apply(G,ve)).then(Le,Ve)});return Ce.request=he,Ce}function ce(G,ye,ve){var he=F(G,ye,ve);return he.then(function(Ce){if(Ce)return new k(Ce,he.request)})}function te(G,ye,ve){ve.forEach(function(he){Object.defineProperty(G.prototype,he,{get:function(){return this[ye][he]},set:function(Ce){this[ye][he]=Ce}})})}function ie(G,ye,ve,he){he.forEach(function(Ce){Ce in ve.prototype&&(G.prototype[Ce]=function(){return F(this[ye],Ce,arguments)})})}function we(G,ye,ve,he){he.forEach(function(Ce){Ce in ve.prototype&&(G.prototype[Ce]=function(){return this[ye][Ce].apply(this[ye],arguments)})})}function le(G,ye,ve,he){he.forEach(function(Ce){Ce in ve.prototype&&(G.prototype[Ce]=function(){return ce(this[ye],Ce,arguments)})})}function Z(G){this._index=G}function k(G,ye){this._cursor=G,this._request=ye}function L(G){this._store=G}function Q(G){this._tx=G,this.complete=new Promise(function(ye,ve){G.oncomplete=function(){ye()},G.onerror=function(){ve(G.error)},G.onabort=function(){ve(G.error)}})}function z(G,ye,ve){this._db=G,this.oldVersion=ye,this.transaction=new Q(ve)}function re(G){this._db=G}te(Z,"_index",["name","keyPath","multiEntry","unique"]),ie(Z,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),le(Z,"_index",IDBIndex,["openCursor","openKeyCursor"]),te(k,"_cursor",["direction","key","primaryKey","value"]),ie(k,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(G){G in IDBCursor.prototype&&(k.prototype[G]=function(){var ye=this,ve=arguments;return Promise.resolve().then(function(){return ye._cursor[G].apply(ye._cursor,ve),ee(ye._request).then(function(he){if(he)return new k(he,ye._request)})})})}),L.prototype.createIndex=function(){return new Z(this._store.createIndex.apply(this._store,arguments))},L.prototype.index=function(){return new Z(this._store.index.apply(this._store,arguments))},te(L,"_store",["name","keyPath","indexNames","autoIncrement"]),ie(L,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),le(L,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),we(L,"_store",IDBObjectStore,["deleteIndex"]),Q.prototype.objectStore=function(){return new L(this._tx.objectStore.apply(this._tx,arguments))},te(Q,"_tx",["objectStoreNames","mode"]),we(Q,"_tx",IDBTransaction,["abort"]),z.prototype.createObjectStore=function(){return new L(this._db.createObjectStore.apply(this._db,arguments))},te(z,"_db",["name","version","objectStoreNames"]),we(z,"_db",IDBDatabase,["deleteObjectStore","close"]),re.prototype.transaction=function(){return new Q(this._db.transaction.apply(this._db,arguments))},te(re,"_db",["name","version","objectStoreNames"]),we(re,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(G){[L,Z].forEach(function(ye){G in ye.prototype&&(ye.prototype[G.replace("open","iterate")]=function(){var ve=h(arguments),he=ve[ve.length-1],Ce=this._store||this._index,Le=Ce[G].apply(Ce,ve.slice(0,-1));Le.onsuccess=function(){he(Le.result)}})})}),[Z,L].forEach(function(G){G.prototype.getAll||(G.prototype.getAll=function(ye,ve){var he=this,Ce=[];return new Promise(function(Le){he.iterateCursor(ye,function(Ve){Ve?(Ce.push(Ve.value),void 0===ve||Ce.length!=ve?Ve.continue():Le(Ce)):Le(Ce)})})})}),V.openDb=function(G,ye,ve){var he=F(indexedDB,"open",[G,ye]),Ce=he.request;return Ce&&(Ce.onupgradeneeded=function(Le){ve&&ve(new z(Ce.result,Le.oldVersion,Ce.transaction))}),he.then(function(Le){return new re(Le)})},V.deleteDb=function(G){return F(indexedDB,"deleteDatabase",[G])},Object.defineProperty(V,"__esModule",{value:!0})}(Te)},7574:(Xe,Te,V)=>{"use strict";V.d(Te,{y:()=>L});var h=V(7393),F=V(9181),ce=V(6490),ie=V(6554),we=V(4487);var k=V(2494);let L=(()=>{class z{constructor(be){this._isScalar=!1,be&&(this._subscribe=be)}lift(be){const de=new z;return de.source=this,de.operator=be,de}subscribe(be,de,G){const{operator:ye}=this,ve=function(z,re,be){if(z){if(z instanceof h.L)return z;if(z[F.b])return z[F.b]()}return z||re||be?new h.L(z,re,be):new h.L(ce.c)}(be,de,G);if(ve.add(ye?ye.call(ve,this.source):this.source||k.v.useDeprecatedSynchronousErrorHandling&&!ve.syncErrorThrowable?this._subscribe(ve):this._trySubscribe(ve)),k.v.useDeprecatedSynchronousErrorHandling&&ve.syncErrorThrowable&&(ve.syncErrorThrowable=!1,ve.syncErrorThrown))throw ve.syncErrorValue;return ve}_trySubscribe(be){try{return this._subscribe(be)}catch(de){k.v.useDeprecatedSynchronousErrorHandling&&(be.syncErrorThrown=!0,be.syncErrorValue=de),function(z){for(;z;){const{closed:re,destination:be,isStopped:de}=z;if(re||de)return!1;z=be&&be instanceof h.L?be:null}return!0}(be)?be.error(de):console.warn(de)}}forEach(be,de){return new(de=Q(de))((G,ye)=>{let ve;ve=this.subscribe(he=>{try{be(he)}catch(Ce){ye(Ce),ve&&ve.unsubscribe()}},ye,G)})}_subscribe(be){const{source:de}=this;return de&&de.subscribe(be)}[ie.L](){return this}pipe(...be){return 0===be.length?this:function(z){return 0===z.length?we.y:1===z.length?z[0]:function(be){return z.reduce((de,G)=>G(de),be)}}(be)(this)}toPromise(be){return new(be=Q(be))((de,G)=>{let ye;this.subscribe(ve=>ye=ve,ve=>G(ve),()=>de(ye))})}}return z.create=re=>new z(re),z})();function Q(z){if(z||(z=k.v.Promise||Promise),!z)throw new Error("no Promise impl found");return z}},6490:(Xe,Te,V)=>{"use strict";V.d(Te,{c:()=>F});var h=V(2494),ee=V(4449);const F={closed:!0,next(ce){},error(ce){if(h.v.useDeprecatedSynchronousErrorHandling)throw ce;(0,ee.z)(ce)},complete(){}}},9765:(Xe,Te,V)=>{"use strict";V.d(Te,{Yc:()=>we,xQ:()=>le});var h=V(7574),ee=V(7393),F=V(5319),ce=V(7971),te=V(8858),ie=V(9181);class we extends ee.L{constructor(L){super(L),this.destination=L}}let le=(()=>{class k extends h.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ie.b](){return new we(this)}lift(Q){const z=new Z(this,this);return z.operator=Q,z}next(Q){if(this.closed)throw new ce.N;if(!this.isStopped){const{observers:z}=this,re=z.length,be=z.slice();for(let de=0;de<re;de++)be[de].next(Q)}}error(Q){if(this.closed)throw new ce.N;this.hasError=!0,this.thrownError=Q,this.isStopped=!0;const{observers:z}=this,re=z.length,be=z.slice();for(let de=0;de<re;de++)be[de].error(Q);this.observers.length=0}complete(){if(this.closed)throw new ce.N;this.isStopped=!0;const{observers:Q}=this,z=Q.length,re=Q.slice();for(let be=0;be<z;be++)re[be].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(Q){if(this.closed)throw new ce.N;return super._trySubscribe(Q)}_subscribe(Q){if(this.closed)throw new ce.N;return this.hasError?(Q.error(this.thrownError),F.w.EMPTY):this.isStopped?(Q.complete(),F.w.EMPTY):(this.observers.push(Q),new te.W(this,Q))}asObservable(){const Q=new h.y;return Q.source=this,Q}}return k.create=(L,Q)=>new Z(L,Q),k})();class Z extends le{constructor(L,Q){super(),this.destination=L,this.source=Q}next(L){const{destination:Q}=this;Q&&Q.next&&Q.next(L)}error(L){const{destination:Q}=this;Q&&Q.error&&this.destination.error(L)}complete(){const{destination:L}=this;L&&L.complete&&this.destination.complete()}_subscribe(L){const{source:Q}=this;return Q?this.source.subscribe(L):F.w.EMPTY}}},8858:(Xe,Te,V)=>{"use strict";V.d(Te,{W:()=>ee});var h=V(5319);class ee extends h.w{constructor(ce,te){super(),this.subject=ce,this.subscriber=te,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ce=this.subject,te=ce.observers;if(this.subject=null,!te||0===te.length||ce.isStopped||ce.closed)return;const ie=te.indexOf(this.subscriber);-1!==ie&&te.splice(ie,1)}}},7393:(Xe,Te,V)=>{"use strict";V.d(Te,{L:()=>we});var h=V(9105),ee=V(6490),F=V(5319),ce=V(9181),te=V(2494),ie=V(4449);class we extends F.w{constructor(k,L,Q){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ee.c;break;case 1:if(!k){this.destination=ee.c;break}if("object"==typeof k){k instanceof we?(this.syncErrorThrowable=k.syncErrorThrowable,this.destination=k,k.add(this)):(this.syncErrorThrowable=!0,this.destination=new le(this,k));break}default:this.syncErrorThrowable=!0,this.destination=new le(this,k,L,Q)}}[ce.b](){return this}static create(k,L,Q){const z=new we(k,L,Q);return z.syncErrorThrowable=!1,z}next(k){this.isStopped||this._next(k)}error(k){this.isStopped||(this.isStopped=!0,this._error(k))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(k){this.destination.next(k)}_error(k){this.destination.error(k),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:k}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=k,this}}class le extends we{constructor(k,L,Q,z){super(),this._parentSubscriber=k;let re,be=this;(0,h.m)(L)?re=L:L&&(re=L.next,Q=L.error,z=L.complete,L!==ee.c&&(be=Object.create(L),(0,h.m)(be.unsubscribe)&&this.add(be.unsubscribe.bind(be)),be.unsubscribe=this.unsubscribe.bind(this))),this._context=be,this._next=re,this._error=Q,this._complete=z}next(k){if(!this.isStopped&&this._next){const{_parentSubscriber:L}=this;te.v.useDeprecatedSynchronousErrorHandling&&L.syncErrorThrowable?this.__tryOrSetError(L,this._next,k)&&this.unsubscribe():this.__tryOrUnsub(this._next,k)}}error(k){if(!this.isStopped){const{_parentSubscriber:L}=this,{useDeprecatedSynchronousErrorHandling:Q}=te.v;if(this._error)Q&&L.syncErrorThrowable?(this.__tryOrSetError(L,this._error,k),this.unsubscribe()):(this.__tryOrUnsub(this._error,k),this.unsubscribe());else if(L.syncErrorThrowable)Q?(L.syncErrorValue=k,L.syncErrorThrown=!0):(0,ie.z)(k),this.unsubscribe();else{if(this.unsubscribe(),Q)throw k;(0,ie.z)(k)}}}complete(){if(!this.isStopped){const{_parentSubscriber:k}=this;if(this._complete){const L=()=>this._complete.call(this._context);te.v.useDeprecatedSynchronousErrorHandling&&k.syncErrorThrowable?(this.__tryOrSetError(k,L),this.unsubscribe()):(this.__tryOrUnsub(L),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(k,L){try{k.call(this._context,L)}catch(Q){if(this.unsubscribe(),te.v.useDeprecatedSynchronousErrorHandling)throw Q;(0,ie.z)(Q)}}__tryOrSetError(k,L,Q){if(!te.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{L.call(this._context,Q)}catch(z){return te.v.useDeprecatedSynchronousErrorHandling?(k.syncErrorValue=z,k.syncErrorThrown=!0,!0):((0,ie.z)(z),!0)}return!1}_unsubscribe(){const{_parentSubscriber:k}=this;this._context=null,this._parentSubscriber=null,k.unsubscribe()}}},5319:(Xe,Te,V)=>{"use strict";V.d(Te,{w:()=>ie});var h=V(9796),ee=V(1555),F=V(9105);const te=(()=>{function le(Z){return Error.call(this),this.message=Z?`${Z.length} errors occurred during unsubscription:\n${Z.map((k,L)=>`${L+1}) ${k.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Z,this}return le.prototype=Object.create(Error.prototype),le})();class ie{constructor(Z){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,Z&&(this._ctorUnsubscribe=!0,this._unsubscribe=Z)}unsubscribe(){let Z;if(this.closed)return;let{_parentOrParents:k,_ctorUnsubscribe:L,_unsubscribe:Q,_subscriptions:z}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,k instanceof ie)k.remove(this);else if(null!==k)for(let re=0;re<k.length;++re)k[re].remove(this);if((0,F.m)(Q)){L&&(this._unsubscribe=void 0);try{Q.call(this)}catch(re){Z=re instanceof te?we(re.errors):[re]}}if((0,h.k)(z)){let re=-1,be=z.length;for(;++re<be;){const de=z[re];if((0,ee.K)(de))try{de.unsubscribe()}catch(G){Z=Z||[],G instanceof te?Z=Z.concat(we(G.errors)):Z.push(G)}}}if(Z)throw new te(Z)}add(Z){let k=Z;if(!Z)return ie.EMPTY;switch(typeof Z){case"function":k=new ie(Z);case"object":if(k===this||k.closed||"function"!=typeof k.unsubscribe)return k;if(this.closed)return k.unsubscribe(),k;if(!(k instanceof ie)){const z=k;k=new ie,k._subscriptions=[z]}break;default:throw new Error("unrecognized teardown "+Z+" added to Subscription.")}let{_parentOrParents:L}=k;if(null===L)k._parentOrParents=this;else if(L instanceof ie){if(L===this)return k;k._parentOrParents=[L,this]}else{if(-1!==L.indexOf(this))return k;L.push(this)}const Q=this._subscriptions;return null===Q?this._subscriptions=[k]:Q.push(k),k}remove(Z){const k=this._subscriptions;if(k){const L=k.indexOf(Z);-1!==L&&k.splice(L,1)}}}var le;function we(le){return le.reduce((Z,k)=>Z.concat(k instanceof te?k.errors:k),[])}ie.EMPTY=((le=new ie).closed=!0,le)},2494:(Xe,Te,V)=>{"use strict";V.d(Te,{v:()=>ee});let h=!1;const ee={Promise:void 0,set useDeprecatedSynchronousErrorHandling(F){if(F){const ce=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ce.stack)}else h&&console.log("RxJS: Back to a better error behavior. Thank you. <3");h=F},get useDeprecatedSynchronousErrorHandling(){return h}}},5345:(Xe,Te,V)=>{"use strict";V.d(Te,{IY:()=>ce,Ds:()=>ie,ft:()=>le});var h=V(7393),ee=V(7574),F=V(7444);class ce extends h.L{constructor(k){super(),this.parent=k}_next(k){this.parent.notifyNext(k)}_error(k){this.parent.notifyError(k),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ie extends h.L{notifyNext(k){this.destination.next(k)}notifyError(k){this.destination.error(k)}notifyComplete(){this.destination.complete()}}function le(Z,k){if(k.closed)return;if(Z instanceof ee.y)return Z.subscribe(k);let L;try{L=(0,F.s)(Z)(k)}catch(Q){k.error(Q)}return L}},2441:(Xe,Te,V)=>{"use strict";V.d(Te,{c:()=>te,N:()=>ie});var h=V(9765),ee=V(7574),F=V(5319),ce=V(1307);class te extends ee.y{constructor(L,Q){super(),this.source=L,this.subjectFactory=Q,this._refCount=0,this._isComplete=!1}_subscribe(L){return this.getSubject().subscribe(L)}getSubject(){const L=this._subject;return(!L||L.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let L=this._connection;return L||(this._isComplete=!1,L=this._connection=new F.w,L.add(this.source.subscribe(new we(this.getSubject(),this))),L.closed&&(this._connection=null,L=F.w.EMPTY)),L}refCount(){return(0,ce.x)()(this)}}const ie=(()=>{const k=te.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:k._subscribe},_isComplete:{value:k._isComplete,writable:!0},getSubject:{value:k.getSubject},connect:{value:k.connect},refCount:{value:k.refCount}}})();class we extends h.Yc{constructor(L,Q){super(L),this.connectable=Q}_error(L){this._unsubscribe(),super._error(L)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const L=this.connectable;if(L){this.connectable=null;const Q=L._connection;L._refCount=0,L._subject=null,L._connection=null,Q&&Q.unsubscribe()}}}},9193:(Xe,Te,V)=>{"use strict";V.d(Te,{E:()=>ee,c:()=>F});var h=V(7574);const ee=new h.y(te=>te.complete());function F(te){return te?function(te){return new h.y(ie=>te.schedule(()=>ie.complete()))}(te):ee}},4402:(Xe,Te,V)=>{"use strict";V.d(Te,{D:()=>be});var h=V(7574),ee=V(7444),F=V(5319),ce=V(6554),we=V(4087),le=V(377),L=V(4072),Q=V(9489);function be(de,G){return G?function(de,G){if(null!=de){if(function(de){return de&&"function"==typeof de[ce.L]}(de))return function(de,G){return new h.y(ye=>{const ve=new F.w;return ve.add(G.schedule(()=>{const he=de[ce.L]();ve.add(he.subscribe({next(Ce){ve.add(G.schedule(()=>ye.next(Ce)))},error(Ce){ve.add(G.schedule(()=>ye.error(Ce)))},complete(){ve.add(G.schedule(()=>ye.complete()))}}))})),ve})}(de,G);if((0,L.t)(de))return function(de,G){return new h.y(ye=>{const ve=new F.w;return ve.add(G.schedule(()=>de.then(he=>{ve.add(G.schedule(()=>{ye.next(he),ve.add(G.schedule(()=>ye.complete()))}))},he=>{ve.add(G.schedule(()=>ye.error(he)))}))),ve})}(de,G);if((0,Q.z)(de))return(0,we.r)(de,G);if(function(de){return de&&"function"==typeof de[le.hZ]}(de)||"string"==typeof de)return function(de,G){if(!de)throw new Error("Iterable cannot be null");return new h.y(ye=>{const ve=new F.w;let he;return ve.add(()=>{he&&"function"==typeof he.return&&he.return()}),ve.add(G.schedule(()=>{he=de[le.hZ](),ve.add(G.schedule(function(){if(ye.closed)return;let Ce,Le;try{const Ve=he.next();Ce=Ve.value,Le=Ve.done}catch(Ve){return void ye.error(Ve)}Le?ye.complete():(ye.next(Ce),this.schedule())}))})),ve})}(de,G)}throw new TypeError((null!==de&&typeof de||de)+" is not observable")}(de,G):de instanceof h.y?de:new h.y((0,ee.s)(de))}},6693:(Xe,Te,V)=>{"use strict";V.d(Te,{n:()=>ce});var h=V(7574),ee=V(5015),F=V(4087);function ce(te,ie){return ie?(0,F.r)(te,ie):new h.y((0,ee.V)(te))}},6682:(Xe,Te,V)=>{"use strict";V.d(Te,{T:()=>te});var h=V(7574),ee=V(4869),F=V(3282),ce=V(6693);function te(...ie){let we=Number.POSITIVE_INFINITY,le=null,Z=ie[ie.length-1];return(0,ee.K)(Z)?(le=ie.pop(),ie.length>1&&"number"==typeof ie[ie.length-1]&&(we=ie.pop())):"number"==typeof Z&&(we=ie.pop()),null===le&&1===ie.length&&ie[0]instanceof h.y?ie[0]:(0,F.J)(we)((0,ce.n)(ie,le))}},5917:(Xe,Te,V)=>{"use strict";V.d(Te,{of:()=>ce});var h=V(4869),ee=V(6693),F=V(4087);function ce(...te){let ie=te[te.length-1];return(0,h.K)(ie)?(te.pop(),(0,F.r)(te,ie)):(0,ee.n)(te)}},8002:(Xe,Te,V)=>{"use strict";V.d(Te,{U:()=>ee});var h=V(7393);function ee(te,ie){return function(le){if("function"!=typeof te)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return le.lift(new F(te,ie))}}class F{constructor(ie,we){this.project=ie,this.thisArg=we}call(ie,we){return we.subscribe(new ce(ie,this.project,this.thisArg))}}class ce extends h.L{constructor(ie,we,le){super(ie),this.project=we,this.count=0,this.thisArg=le||this}_next(ie){let we;try{we=this.project.call(this.thisArg,ie,this.count++)}catch(le){return void this.destination.error(le)}this.destination.next(we)}}},3282:(Xe,Te,V)=>{"use strict";V.d(Te,{J:()=>F});var h=V(9773),ee=V(4487);function F(ce=Number.POSITIVE_INFINITY){return(0,h.zg)(ee.y,ce)}},9773:(Xe,Te,V)=>{"use strict";V.d(Te,{zg:()=>ce});var h=V(8002),ee=V(4402),F=V(5345);function ce(le,Z,k=Number.POSITIVE_INFINITY){return"function"==typeof Z?L=>L.pipe(ce((Q,z)=>(0,ee.D)(le(Q,z)).pipe((0,h.U)((re,be)=>Z(Q,re,z,be))),k)):("number"==typeof Z&&(k=Z),L=>L.lift(new te(le,k)))}class te{constructor(Z,k=Number.POSITIVE_INFINITY){this.project=Z,this.concurrent=k}call(Z,k){return k.subscribe(new ie(Z,this.project,this.concurrent))}}class ie extends F.Ds{constructor(Z,k,L=Number.POSITIVE_INFINITY){super(Z),this.project=k,this.concurrent=L,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(Z){this.active<this.concurrent?this._tryNext(Z):this.buffer.push(Z)}_tryNext(Z){let k;const L=this.index++;try{k=this.project(Z,L)}catch(Q){return void this.destination.error(Q)}this.active++,this._innerSub(k)}_innerSub(Z){const k=new F.IY(this),L=this.destination;L.add(k);const Q=(0,F.ft)(Z,k);Q!==k&&L.add(Q)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(Z){this.destination.next(Z)}notifyComplete(){const Z=this.buffer;this.active--,Z.length>0?this._next(Z.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Xe,Te,V)=>{"use strict";V.d(Te,{ht:()=>L,QV:()=>Z});var h=V(7393),ee=V(9193),F=V(5917),ce=V(7574);class le{constructor(re,be,de){this.kind=re,this.value=be,this.error=de,this.hasValue="N"===re}observe(re){switch(this.kind){case"N":return re.next&&re.next(this.value);case"E":return re.error&&re.error(this.error);case"C":return re.complete&&re.complete()}}do(re,be,de){switch(this.kind){case"N":return re&&re(this.value);case"E":return be&&be(this.error);case"C":return de&&de()}}accept(re,be,de){return re&&"function"==typeof re.next?this.observe(re):this.do(re,be,de)}toObservable(){switch(this.kind){case"N":return(0,F.of)(this.value);case"E":return z=this.error,new ce.y(be=>be.error(z));case"C":return(0,ee.c)()}var z;throw new Error("unexpected notification kind value")}static createNext(re){return void 0!==re?new le("N",re):le.undefinedValueNotification}static createError(re){return new le("E",void 0,re)}static createComplete(){return le.completeNotification}}function Z(z,re=0){return function(de){return de.lift(new k(z,re))}}le.completeNotification=new le("C"),le.undefinedValueNotification=new le("N",void 0);class k{constructor(re,be=0){this.scheduler=re,this.delay=be}call(re,be){return be.subscribe(new L(re,this.scheduler,this.delay))}}class L extends h.L{constructor(re,be,de=0){super(re),this.scheduler=be,this.delay=de}static dispatch(re){const{notification:be,destination:de}=re;be.observe(de),this.unsubscribe()}scheduleMessage(re){this.destination.add(this.scheduler.schedule(L.dispatch,this.delay,new Q(re,this.destination)))}_next(re){this.scheduleMessage(le.createNext(re))}_error(re){this.scheduleMessage(le.createError(re)),this.unsubscribe()}_complete(){this.scheduleMessage(le.createComplete()),this.unsubscribe()}}class Q{constructor(re,be){this.notification=re,this.destination=be}}},1307:(Xe,Te,V)=>{"use strict";V.d(Te,{x:()=>ee});var h=V(7393);function ee(){return function(ie){return ie.lift(new F(ie))}}class F{constructor(ie){this.connectable=ie}call(ie,we){const{connectable:le}=this;le._refCount++;const Z=new ce(ie,le),k=we.subscribe(Z);return Z.closed||(Z.connection=le.connect()),k}}class ce extends h.L{constructor(ie,we){super(ie),this.connectable=we}_unsubscribe(){const{connectable:ie}=this;if(!ie)return void(this.connection=null);this.connectable=null;const we=ie._refCount;if(we<=0)return void(this.connection=null);if(ie._refCount=we-1,we>1)return void(this.connection=null);const{connection:le}=this,Z=ie._connection;this.connection=null,Z&&(!le||Z===le)&&Z.unsubscribe()}}},3101:(Xe,Te,V)=>{"use strict";V.d(Te,{R:()=>G});var h=V(7574);let ee=1;const F=Promise.resolve(),ce={};function te(ve){return ve in ce&&(delete ce[ve],!0)}const ie={setImmediate(ve){const he=ee++;return ce[he]=!0,F.then(()=>te(he)&&ve()),he},clearImmediate(ve){te(ve)}};var le=V(6465),k=V(6102);const z=new class extends k.v{flush(he){this.active=!0,this.scheduled=void 0;const{actions:Ce}=this;let Le,Ve=-1,_t=Ce.length;he=he||Ce.shift();do{if(Le=he.execute(he.state,he.delay))break}while(++Ve<_t&&(he=Ce.shift()));if(this.active=!1,Le){for(;++Ve<_t&&(he=Ce.shift());)he.unsubscribe();throw Le}}}(class extends le.o{constructor(he,Ce){super(he,Ce),this.scheduler=he,this.work=Ce}requestAsyncId(he,Ce,Le=0){return null!==Le&&Le>0?super.requestAsyncId(he,Ce,Le):(he.actions.push(this),he.scheduled||(he.scheduled=ie.setImmediate(he.flush.bind(he,null))))}recycleAsyncId(he,Ce,Le=0){if(null!==Le&&Le>0||null===Le&&this.delay>0)return super.recycleAsyncId(he,Ce,Le);0===he.actions.length&&(ie.clearImmediate(Ce),he.scheduled=void 0)}});var re=V(9796);class de extends h.y{constructor(he,Ce=0,Le=z){var ve;super(),this.source=he,this.delayTime=Ce,this.scheduler=Le,(!(!(0,re.k)(ve=Ce)&&ve-parseFloat(ve)+1>=0)||Ce<0)&&(this.delayTime=0),(!Le||"function"!=typeof Le.schedule)&&(this.scheduler=z)}static create(he,Ce=0,Le=z){return new de(he,Ce,Le)}static dispatch(he){const{source:Ce,subscriber:Le}=he;return this.add(Ce.subscribe(Le))}_subscribe(he){return this.scheduler.schedule(de.dispatch,this.delayTime,{source:this.source,subscriber:he})}}function G(ve,he=0){return function(Le){return Le.lift(new ye(ve,he))}}class ye{constructor(he,Ce){this.scheduler=he,this.delay=Ce}call(he,Ce){return new de(Ce,this.delay,this.scheduler).subscribe(he)}}},3342:(Xe,Te,V)=>{"use strict";V.d(Te,{b:()=>ce});var h=V(7393);function ee(){}var F=V(9105);function ce(we,le,Z){return function(L){return L.lift(new te(we,le,Z))}}class te{constructor(le,Z,k){this.nextOrObserver=le,this.error=Z,this.complete=k}call(le,Z){return Z.subscribe(new ie(le,this.nextOrObserver,this.error,this.complete))}}class ie extends h.L{constructor(le,Z,k,L){super(le),this._tapNext=ee,this._tapError=ee,this._tapComplete=ee,this._tapError=k||ee,this._tapComplete=L||ee,(0,F.m)(Z)?(this._context=this,this._tapNext=Z):Z&&(this._context=Z,this._tapNext=Z.next||ee,this._tapError=Z.error||ee,this._tapComplete=Z.complete||ee)}_next(le){try{this._tapNext.call(this._context,le)}catch(Z){return void this.destination.error(Z)}this.destination.next(le)}_error(le){try{this._tapError.call(this._context,le)}catch(Z){return void this.destination.error(Z)}this.destination.error(le)}_complete(){try{this._tapComplete.call(this._context)}catch(le){return void this.destination.error(le)}return this.destination.complete()}}},4087:(Xe,Te,V)=>{"use strict";V.d(Te,{r:()=>F});var h=V(7574),ee=V(5319);function F(ce,te){return new h.y(ie=>{const we=new ee.w;let le=0;return we.add(te.schedule(function(){le!==ce.length?(ie.next(ce[le++]),ie.closed||we.add(this.schedule())):ie.complete()})),we})}},6465:(Xe,Te,V)=>{"use strict";V.d(Te,{o:()=>F});var h=V(5319);class ee extends h.w{constructor(te,ie){super()}schedule(te,ie=0){return this}}class F extends ee{constructor(te,ie){super(te,ie),this.scheduler=te,this.work=ie,this.pending=!1}schedule(te,ie=0){if(this.closed)return this;this.state=te;const we=this.id,le=this.scheduler;return null!=we&&(this.id=this.recycleAsyncId(le,we,ie)),this.pending=!0,this.delay=ie,this.id=this.id||this.requestAsyncId(le,this.id,ie),this}requestAsyncId(te,ie,we=0){return setInterval(te.flush.bind(te,this),we)}recycleAsyncId(te,ie,we=0){if(null!==we&&this.delay===we&&!1===this.pending)return ie;clearInterval(ie)}execute(te,ie){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const we=this._execute(te,ie);if(we)return we;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(te,ie){let le,we=!1;try{this.work(te)}catch(Z){we=!0,le=!!Z&&Z||new Error(Z)}if(we)return this.unsubscribe(),le}_unsubscribe(){const te=this.id,ie=this.scheduler,we=ie.actions,le=we.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==le&&we.splice(le,1),null!=te&&(this.id=this.recycleAsyncId(ie,te,null)),this.delay=null}}},6102:(Xe,Te,V)=>{"use strict";V.d(Te,{v:()=>ee});let h=(()=>{class F{constructor(te,ie=F.now){this.SchedulerAction=te,this.now=ie}schedule(te,ie=0,we){return new this.SchedulerAction(this,te).schedule(we,ie)}}return F.now=()=>Date.now(),F})();class ee extends h{constructor(ce,te=h.now){super(ce,()=>ee.delegate&&ee.delegate!==this?ee.delegate.now():te()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ce,te=0,ie){return ee.delegate&&ee.delegate!==this?ee.delegate.schedule(ce,te,ie):super.schedule(ce,te,ie)}flush(ce){const{actions:te}=this;if(this.active)return void te.push(ce);let ie;this.active=!0;do{if(ie=ce.execute(ce.state,ce.delay))break}while(ce=te.shift());if(this.active=!1,ie){for(;ce=te.shift();)ce.unsubscribe();throw ie}}}},3637:(Xe,Te,V)=>{"use strict";V.d(Te,{z:()=>F});var h=V(6465);const F=new(V(6102).v)(h.o)},7771:(Xe,Te,V)=>{"use strict";V.d(Te,{c:()=>ie,N:()=>te});var h=V(6465),F=V(6102);const te=new class extends F.v{}(class extends h.o{constructor(le,Z){super(le,Z),this.scheduler=le,this.work=Z}schedule(le,Z=0){return Z>0?super.schedule(le,Z):(this.delay=Z,this.state=le,this.scheduler.flush(this),this)}execute(le,Z){return Z>0||this.closed?super.execute(le,Z):this._execute(le,Z)}requestAsyncId(le,Z,k=0){return null!==k&&k>0||null===k&&this.delay>0?super.requestAsyncId(le,Z,k):le.flush(this)}}),ie=te},377:(Xe,Te,V)=>{"use strict";V.d(Te,{hZ:()=>ee});const ee="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Xe,Te,V)=>{"use strict";V.d(Te,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Xe,Te,V)=>{"use strict";V.d(Te,{b:()=>h});const h="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Xe,Te,V)=>{"use strict";V.d(Te,{N:()=>ee});const ee=(()=>{function F(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return F.prototype=Object.create(Error.prototype),F})()},4449:(Xe,Te,V)=>{"use strict";function h(ee){setTimeout(()=>{throw ee},0)}V.d(Te,{z:()=>h})},4487:(Xe,Te,V)=>{"use strict";function h(ee){return ee}V.d(Te,{y:()=>h})},9796:(Xe,Te,V)=>{"use strict";V.d(Te,{k:()=>h});const h=Array.isArray||(ee=>ee&&"number"==typeof ee.length)},9489:(Xe,Te,V)=>{"use strict";V.d(Te,{z:()=>h});const h=ee=>ee&&"number"==typeof ee.length&&"function"!=typeof ee},9105:(Xe,Te,V)=>{"use strict";function h(ee){return"function"==typeof ee}V.d(Te,{m:()=>h})},1555:(Xe,Te,V)=>{"use strict";function h(ee){return null!==ee&&"object"==typeof ee}V.d(Te,{K:()=>h})},4072:(Xe,Te,V)=>{"use strict";function h(ee){return!!ee&&"function"!=typeof ee.subscribe&&"function"==typeof ee.then}V.d(Te,{t:()=>h})},4869:(Xe,Te,V)=>{"use strict";function h(ee){return ee&&"function"==typeof ee.schedule}V.d(Te,{K:()=>h})},7444:(Xe,Te,V)=>{"use strict";V.d(Te,{s:()=>L});var h=V(5015),ee=V(4449),ce=V(377),ie=V(6554),le=V(9489),Z=V(4072),k=V(1555);const L=Q=>{if(Q&&"function"==typeof Q[ie.L])return(Q=>z=>{const re=Q[ie.L]();if("function"!=typeof re.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return re.subscribe(z)})(Q);if((0,le.z)(Q))return(0,h.V)(Q);if((0,Z.t)(Q))return(Q=>z=>(Q.then(re=>{z.closed||(z.next(re),z.complete())},re=>z.error(re)).then(null,ee.z),z))(Q);if(Q&&"function"==typeof Q[ce.hZ])return(Q=>z=>{const re=Q[ce.hZ]();for(;;){let be;try{be=re.next()}catch(de){return z.error(de),z}if(be.done){z.complete();break}if(z.next(be.value),z.closed)break}return"function"==typeof re.return&&z.add(()=>{re.return&&re.return()}),z})(Q);{const re=`You provided ${(0,k.K)(Q)?"an invalid object":`'${Q}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(re)}}},5015:(Xe,Te,V)=>{"use strict";V.d(Te,{V:()=>h});const h=ee=>F=>{for(let ce=0,te=ee.length;ce<te&&!F.closed;ce++)F.next(ee[ce]);F.complete()}},6673:(Xe,Te,V)=>{"use strict";var h=V(3018);let ee=null;function F(){return ee}const we=new h.OlP("DocumentToken");let le=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,h.Yz7)({factory:Z,token:n,providedIn:"platform"}),n})();function Z(){return(0,h.LFG)(L)}const k=new h.OlP("Location Initialized");let L=(()=>{class n extends le{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(t){const s=F().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",t,!1),()=>s.removeEventListener("popstate",t)}onHashChange(t){const s=F().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",t,!1),()=>s.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,s,a){Q()?this._history.pushState(t,s,a):this.location.hash=a}replaceState(t,s,a){Q()?this._history.replaceState(t,s,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(we))},n.\u0275prov=(0,h.Yz7)({factory:z,token:n,providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function z(){return new L((0,h.LFG)(we))}function re(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function be(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function de(n){return n&&"?"!==n[0]?"?"+n:n}let G=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,h.Yz7)({factory:ye,token:n,providedIn:"root"}),n})();function ye(n){const e=(0,h.LFG)(we).location;return new he((0,h.LFG)(le),e&&e.origin||"")}const ve=new h.OlP("appBaseHref");let he=(()=>{class n extends G{constructor(t,s){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==s&&(s=this._platformLocation.getBaseHrefFromDOM()),null==s)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=s}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return re(this._baseHref,t)}path(t=!1){const s=this._platformLocation.pathname+de(this._platformLocation.search),a=this._platformLocation.hash;return a&&t?`${s}${a}`:s}pushState(t,s,a,l){const p=this.prepareExternalUrl(a+de(l));this._platformLocation.pushState(t,s,p)}replaceState(t,s,a,l){const p=this.prepareExternalUrl(a+de(l));this._platformLocation.replaceState(t,s,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var s,a;null===(a=(s=this._platformLocation).historyGo)||void 0===a||a.call(s,t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(le),h.LFG(ve,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Ce=(()=>{class n extends G{constructor(t,s){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(t){const s=re(this._baseHref,t);return s.length>0?"#"+s:s}pushState(t,s,a,l){let p=this.prepareExternalUrl(a+de(l));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.pushState(t,s,p)}replaceState(t,s,a,l){let p=this.prepareExternalUrl(a+de(l));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.replaceState(t,s,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var s,a;null===(a=(s=this._platformLocation).historyGo)||void 0===a||a.call(s,t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(le),h.LFG(ve,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Le=(()=>{class n{constructor(t,s){this._subject=new h.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const a=this._platformStrategy.getBaseHref();this._platformLocation=s,this._baseHref=be(ft(a)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,s=""){return this.path()==this.normalize(t+de(s))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,ft(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,s="",a=null){this._platformStrategy.pushState(a,"",t,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+de(s)),a)}replaceState(t,s="",a=null){this._platformStrategy.replaceState(a,"",t,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+de(s)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var s,a;null===(a=(s=this._platformStrategy).historyGo)||void 0===a||a.call(s,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}))}_notifyUrlChangeListeners(t="",s){this._urlChangeListeners.forEach(a=>a(t,s))}subscribe(t,s,a){return this._subject.subscribe({next:t,error:s,complete:a})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(G),h.LFG(le))},n.normalizeQueryParams=de,n.joinWithSlash=re,n.stripTrailingSlash=be,n.\u0275prov=(0,h.Yz7)({factory:Ve,token:n,providedIn:"root"}),n})();function Ve(){return new Le((0,h.LFG)(G),(0,h.LFG)(le))}function ft(n){return n.replace(/\/index.html$/,"")}var oe=(()=>((oe=oe||{})[oe.Zero=0]="Zero",oe[oe.One=1]="One",oe[oe.Two=2]="Two",oe[oe.Few=3]="Few",oe[oe.Many=4]="Many",oe[oe.Other=5]="Other",oe))();const Mr=h.kL8;class lr{}let An=(()=>{class n extends lr{constructor(t){super(),this.locale=t}getPluralCategory(t,s){switch(Mr(s||this.locale)(t)){case oe.Zero:return"zero";case oe.One:return"one";case oe.Two:return"two";case oe.Few:return"few";case oe.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.soG))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),zi=(()=>{class n{constructor(t,s){this._viewContainer=t,this._context=new Kr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Kt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Kt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,s){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Kr{constructor(){this.$implicit=null,this.ngIf=null}}function Kt(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,h.AaK)(e)}'.`)}let qg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[{provide:lr,useClass:An}]}),n})();function vo(n){return"server"===n}let Eo=(()=>{class n{}return n.\u0275prov=(0,h.Yz7)({token:n,providedIn:"root",factory:()=>new Qu((0,h.LFG)(we),window)}),n})();class Qu{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const s=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=s.currentNode;for(;a;){const l=a.shadowRoot;if(l){const p=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(p)return p}a=s.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),s=t.left+this.window.pageXOffset,a=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(s-l[0],a-l[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ya(this.window.history)||Ya(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Ya(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Bs extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new Bs,ee||(ee=n)}onAndCancel(e,t,s){return e.addEventListener(t,s,!1),()=>{e.removeEventListener(t,s,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(Ki=Ki||document.querySelector("base"),Ki?Ki.getAttribute("href"):null);return null==t?null:function(n){ra=ra||document.createElement("a"),ra.setAttribute("href",n);const e=ra.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ki=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const s=t.indexOf("="),[a,l]=-1==s?[t,""]:[t.slice(0,s),t.slice(s+1)];if(a.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let ra,Ki=null;const Ju=new h.OlP("TRANSITION_ID"),Xu=[{provide:h.ip1,useFactory:function(n,e,t){return()=>{t.get(h.CZH).donePromise.then(()=>{const s=F(),a=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<a.length;l++)s.remove(a[l])})}},deps:[Ju,we,h.zs3],multi:!0}];class bt{static init(){(0,h.VLi)(new bt)}addToWindow(e){h.dqk.getAngularTestability=(s,a=!0)=>{const l=e.findTestabilityInTree(s,a);if(null==l)throw new Error("Could not find testability for element.");return l},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(s=>{const a=h.dqk.getAllAngularTestabilities();let l=a.length,p=!1;const v=function(I){p=p||I,l--,0==l&&s(p)};a.forEach(function(I){I.whenStable(v)})})}findTestabilityInTree(e,t,s){if(null==t)return null;const a=e.getTestability(t);return null!=a?a:s?F().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let zd=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const _s=new h.OlP("EventManagerPlugins");let aa=(()=>{class n{constructor(t,s){this._zone=s,this._eventNameToPlugin=new Map,t.forEach(a=>a.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,s,a){return this._findPluginFor(s).addEventListener(t,s,a)}addGlobalEventListener(t,s,a){return this._findPluginFor(s).addGlobalEventListener(t,s,a)}getZone(){return this._zone}_findPluginFor(t){const s=this._eventNameToPlugin.get(t);if(s)return s;const a=this._plugins;for(let l=0;l<a.length;l++){const p=a[l];if(p.supports(t))return this._eventNameToPlugin.set(t,p),p}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(_s),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Co{constructor(e){this._doc=e}addGlobalEventListener(e,t,s){const a=F().getGlobalEventTarget(this._doc,e);if(!a)throw new Error(`Unsupported event target ${a} for event ${t}`);return this.addEventListener(a,t,s)}}let ml=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const s=new Set;t.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),s.add(a))}),this.onStylesAdded(s)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),vs=(()=>{class n extends ml{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,s,a){t.forEach(l=>{const p=this._doc.createElement("style");p.textContent=l,a.push(s.appendChild(p))})}addHost(t){const s=[];this._addStylesToHost(this._stylesSet,t,s),this._hostNodes.set(t,s)}removeHost(t){const s=this._hostNodes.get(t);s&&s.forEach(Kd),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((s,a)=>{this._addStylesToHost(t,a,s)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Kd))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(we))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function Kd(n){F().remove(n)}const Se={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Tt=/%COMP%/g;function $s(n,e,t){for(let s=0;s<e.length;s++){let a=e[s];Array.isArray(a)?$s(n,a,t):(a=a.replace(Tt,n),t.push(a))}return t}function Jd(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let ca=(()=>{class n{constructor(t,s,a){this.eventManager=t,this.sharedStylesHost=s,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new Qi(t)}createRenderer(t,s){if(!t||!s)return this.defaultRenderer;switch(s.encapsulation){case h.ifc.Emulated:{let a=this.rendererByCompId.get(s.id);return a||(a=new Ji(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,a)),a.applyToHost(t),a}case 1:case h.ifc.ShadowDom:return new Es(this.eventManager,this.sharedStylesHost,t,s);default:if(!this.rendererByCompId.has(s.id)){const a=$s(s.id,s.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(aa),h.LFG(vs),h.LFG(h.AFp))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Qi{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Se[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,s){e&&e.insertBefore(t,s)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let s="string"==typeof e?document.querySelector(e):e;if(!s)throw new Error(`The selector "${e}" did not match any elements`);return t||(s.textContent=""),s}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,s,a){if(a){t=a+":"+t;const l=Se[a];l?e.setAttributeNS(l,t,s):e.setAttribute(t,s)}else e.setAttribute(t,s)}removeAttribute(e,t,s){if(s){const a=Se[s];a?e.removeAttributeNS(a,t):e.removeAttribute(`${s}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,s,a){a&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(t,s,a&h.JOm.Important?"important":""):e.style[t]=s}removeStyle(e,t,s){s&h.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,s){e[t]=s}setValue(e,t){e.nodeValue=t}listen(e,t,s){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Jd(s)):this.eventManager.addEventListener(e,t,Jd(s))}}class Ji extends Qi{constructor(e,t,s,a){super(e),this.component=s;const l=$s(a+"-"+s.id,s.styles,[]);t.addStyles(l),this.contentAttr="_ngcontent-%COMP%".replace(Tt,a+"-"+s.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Tt,n)}(a+"-"+s.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const s=super.createElement(e,t);return super.setAttribute(s,this.contentAttr,""),s}}class Es extends Qi{constructor(e,t,s,a){super(e),this.sharedStylesHost=t,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=$s(a.id,a.styles,[]);for(let p=0;p<l.length;p++){const v=document.createElement("style");v.textContent=l[p],this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,s){return super.insertBefore(this.nodeOrShadowRoot(e),t,s)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let eu=(()=>{class n extends Co{constructor(t){super(t)}supports(t){return!0}addEventListener(t,s,a){return t.addEventListener(s,a,!1),()=>this.removeEventListener(t,s,a)}removeEventListener(t,s,a){return t.removeEventListener(s,a)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(we))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const To=["alt","control","meta","shift"],sc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nh={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Jr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Xi=(()=>{class n extends Co{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,s,a){const l=n.parseEventName(s),p=n.eventCallback(l.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>F().onAndCancel(t,l.domEventName,p))}static parseEventName(t){const s=t.toLowerCase().split("."),a=s.shift();if(0===s.length||"keydown"!==a&&"keyup"!==a)return null;const l=n._normalizeKey(s.pop());let p="";if(To.forEach(I=>{const S=s.indexOf(I);S>-1&&(s.splice(S,1),p+=I+".")}),p+=l,0!=s.length||0===l.length)return null;const v={};return v.domEventName=a,v.fullKey=p,v}static getEventFullKey(t){let s="",a=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&nh.hasOwnProperty(e)&&(e=nh[e]))}return sc[e]||e}(t);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),To.forEach(l=>{l!=a&&Jr[l](t)&&(s+=l+".")}),s+=a,s}static eventCallback(t,s,a){return l=>{n.getEventFullKey(l)===t&&a.runGuarded(()=>s(l))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(we))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Il=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:"browser"},{provide:h.g9A,useValue:function(){Bs.makeCurrent(),bt.init()},multi:!0},{provide:we,useFactory:function(){return(0,h.RDi)(document),document},deps:[]}]),Hs=[[],{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function(){return new h.qLn},deps:[]},{provide:_s,useClass:eu,multi:!0,deps:[we,h.R0b,h.Lbi]},{provide:_s,useClass:Xi,multi:!0,deps:[we]},[],{provide:ca,useClass:ca,deps:[aa,vs,h.AFp]},{provide:h.FYo,useExisting:ca},{provide:ml,useExisting:vs},{provide:vs,useClass:vs,deps:[we]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b]},{provide:aa,useClass:aa,deps:[_s,h.R0b]},{provide:class{},useClass:zd,deps:[]},[]];let nu=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.AFp,useValue:t.appId},{provide:Ju,useExisting:h.AFp},Xu]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(n,12))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:Hs,imports:[qg,h.hGG]}),n})();"undefined"!=typeof window&&window;const Cl_firebase={apiKey:"AIzaSyDx29_iAIE1hA4DZxwxLE48qY3jEpZaPlQ",authDomain:"jp-ingreso-egreso-app.firebaseapp.com",projectId:"jp-ingreso-egreso-app",storageBucket:"jp-ingreso-egreso-app.appspot.com",messagingSenderId:"78881976602",appId:"1:78881976602:web:92511143d11416e3083ca3",measurementId:"G-10P8M9X1V1",databaseURL:"<your-database-URL>"};var wn=V(8939),Dl=V(3637),Un=V(7574),Yt=V(4402),it=V(5917),mn=V(6643),Ni=V(3282);function oh(...n){return(0,Ni.J)(1)((0,it.of)(...n))}var So=V(4869);function cu(...n){const e=n[n.length-1];return(0,So.K)(e)?(n.pop(),t=>oh(n,t,e)):t=>oh(n,t)}var li=V(7393);function lu(){return n=>n.lift(new Al)}class Al{call(e,t){return t.subscribe(new ga(e))}}class ga extends li.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}var pt=V(8002);function qs(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(a){return a.lift(new ah(n,e,t))}}class ah{constructor(e,t,s=!1){this.accumulator=e,this.seed=t,this.hasSeed=s}call(e,t){return t.subscribe(new dc(e,this.accumulator,this.seed,this.hasSeed))}}class dc extends li.L{constructor(e,t,s,a){super(e),this.accumulator=t,this._seed=s,this.hasSeed=a,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let s;try{s=this.accumulator(this.seed,e,t)}catch(a){this.destination.error(a)}this.seed=s,this.destination.next(s)}}class hc{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new uh(e,this.compare,this.keySelector))}}class uh extends li.L{constructor(e,t,s){super(e),this.keySelector=s,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:a}=this;t=a?a(e):e}catch(a){return this.destination.error(a)}let s=!1;if(this.hasKey)try{const{compare:a}=this;s=a(this.key,t)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=t,this.destination.next(e))}}function Mi(n,e){return function(s){return s.lift(new Zs(n,e))}}class Zs{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Ws(e,this.predicate,this.thisArg))}}class Ws extends li.L{constructor(e,t,s){super(e),this.predicate=t,this.thisArg=s,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(s){return void this.destination.error(s)}t&&this.destination.next(e)}}V(4671);var Fe,pc=V(4486),Ee=V(8239),di=V(5452),gc=V(6034),zs=V(5601),It=V(3854),zg="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Oi={},du=du||{},dt=zg||self;function hu(){}function ch(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function xo(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var pu="closure_uid_"+(1e9*Math.random()>>>0),lh=0;function Sl(n,e,t){return n.call.apply(n.bind,arguments)}function ma(n,e,t){if(!n)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),n.apply(e,a)}}return function(){return n.apply(e,arguments)}}function ln(n,e,t){return(ln=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Sl:ma).apply(null,arguments)}function Cs(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),n.apply(this,s)}}function Dr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(s,a,l){for(var p=Array(arguments.length-2),v=2;v<arguments.length;v++)p[v-2]=arguments[v];return e.prototype[a].apply(s,p)}}function rn(){this.s=this.s,this.o=this.o}var ya={};rn.prototype.s=!1,rn.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,pu)&&n[pu]||(n[pu]=++lh)}(this);delete ya[n]}},rn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ro=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},xl=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const s=n.length,a="string"==typeof n?n.split(""):n;for(let l=0;l<s;l++)l in a&&e.call(t,a[l],l,n)};function Xr(n){return Array.prototype.concat.apply([],arguments)}function fi(n){const e=n.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=n[s];return t}return[]}function pi(n){return/^[\s\xa0]*$/.test(n)}var hr,Tr=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function tr(n,e){return-1!=n.indexOf(e)}function yc(n,e){return n<e?-1:n>e?1:0}e:{var Rl=dt.navigator;if(Rl){var Hf=Rl.userAgent;if(Hf){hr=Hf;break e}}hr=""}function Nl(n,e,t){for(const s in n)e.call(t,n[s],s,n)}function b(n){const e={};for(const t in n)e[t]=n[t];return e}var D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(n,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)n[t]=s[t];for(let l=0;l<D.length;l++)t=D[l],Object.prototype.hasOwnProperty.call(s,t)&&(n[t]=s[t])}}function U(n){return U[" "](n),n}U[" "]=hu;var jn,n,ge=tr(hr,"Opera"),Ne=tr(hr,"Trident")||tr(hr,"MSIE"),We=tr(hr,"Edge"),qe=We||Ne,xt=tr(hr,"Gecko")&&!(tr(hr.toLowerCase(),"webkit")&&!tr(hr,"Edge"))&&!(tr(hr,"Trident")||tr(hr,"MSIE"))&&!tr(hr,"Edge"),Lt=tr(hr.toLowerCase(),"webkit")&&!tr(hr,"Edge");function Bn(){var n=dt.document;return n?n.documentMode:void 0}e:{var $n="",gi=(n=hr,xt?/rv:([^\);]+)(\)|;)/.exec(n):We?/Edge\/([\d\.]+)/.exec(n):Ne?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Lt?/WebKit\/(\S+)/.exec(n):ge?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(gi&&($n=gi?gi[1]:""),Ne){var No=Bn();if(null!=No&&No>parseFloat($n)){jn=String(No);break e}}jn=$n}var mi={};function es(){return e=mi,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=Tr(String(jn)).split("."),t=Tr("9").split("."),s=Math.max(e.length,t.length);for(let p=0;0==n&&p<s;p++){var a=e[p]||"",l=t[p]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==a[0].length&&0==l[0].length)break;n=yc(0==a[1].length?0:parseInt(a[1],10),0==l[1].length?0:parseInt(l[1],10))||yc(0==a[2].length,0==l[2].length)||yc(a[2],l[2]),a=a[3],l=l[3]}while(0==n)}return 0<=n}();var e}var Ml=dt.document&&Ne&&(Bn()||parseInt(jn,10))||void 0,Jw=function(){if(!dt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{dt.addEventListener("test",hu,e),dt.removeEventListener("test",hu,e)}catch(t){}return n}();function nr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Ks(n,e){if(nr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,s=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(xt){e:{try{U(e.nodeName);var a=!0;break e}catch(l){}a=!1}a||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:gu[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Ks.Z.h.call(this)}}nr.prototype.h=function(){this.defaultPrevented=!0},Dr(Ks,nr);var gu={2:"touch",3:"pen",4:"mouse"};Ks.prototype.h=function(){Ks.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ol="closure_listenable_"+(1e6*Math.random()|0),Fn=0;function dh(n,e,t,s,a){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.ia=a,this.key=++Fn,this.ca=this.fa=!1}function Gf(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Ys(n){this.src=n,this.g={},this.h=0}function mu(n,e){var t=e.type;if(t in n.g){var l,s=n.g[t],a=Ro(s,e);(l=0<=a)&&Array.prototype.splice.call(s,a,1),l&&(Gf(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Pl(n,e,t,s){for(var a=0;a<n.length;++a){var l=n[a];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==s)return a}return-1}Ys.prototype.add=function(n,e,t,s,a){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var p=Pl(n,e,s,a);return-1<p?(e=n[p],t||(e.fa=!1)):((e=new dh(e,this.src,l,!!s,a)).fa=t,n.push(e)),e};var hh="closure_lm_"+(1e6*Math.random()|0),fh={};function Kg(n,e,t,s,a){if(s&&s.once)return kl(n,e,t,s,a);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Kg(n,e[l],t,s,a);return null}return t=zf(t),n&&n[Ol]?n.N(e,t,xo(s)?!!s.capture:!!s,a):yu(n,e,t,!1,s,a)}function yu(n,e,t,s,a,l){if(!e)throw Error("Invalid event type");var p=xo(a)?!!a.capture:!!a,v=vc(n);if(v||(n[hh]=v=new Ys(n)),(t=v.add(e,t,s,p,l)).proxy)return t;if(s=function(){var e=Wf;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=s,s.src=n,s.listener=t,n.addEventListener)Jw||(a=p),void 0===a&&(a=!1),n.addEventListener(e.toString(),s,a);else if(n.attachEvent)n.attachEvent(Zf(e.toString()),s);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(s)}return t}function kl(n,e,t,s,a){if(Array.isArray(e)){for(var l=0;l<e.length;l++)kl(n,e[l],t,s,a);return null}return t=zf(t),n&&n[Ol]?n.O(e,t,xo(s)?!!s.capture:!!s,a):yu(n,e,t,!0,s,a)}function Mo(n,e,t,s,a){if(Array.isArray(e))for(var l=0;l<e.length;l++)Mo(n,e[l],t,s,a);else s=xo(s)?!!s.capture:!!s,t=zf(t),n&&n[Ol]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Pl(l=n.g[e],t,s,a))&&(Gf(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=vc(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Pl(e,t,s,a)),(t=-1<n?e[n]:null)&&qf(t))}function qf(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Ol])mu(e.i,n);else{var t=n.type,s=n.proxy;e.removeEventListener?e.removeEventListener(t,s,n.capture):e.detachEvent?e.detachEvent(Zf(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=vc(e))?(mu(t,n),0==t.h&&(t.src=null,e[hh]=null)):Gf(n)}}}function Zf(n){return n in fh?fh[n]:fh[n]="on"+n}function Wf(n,e){if(n.ca)n=!0;else{e=new Ks(e,this);var t=n.listener,s=n.ia||n.src;n.fa&&qf(n),n=t.call(s,e)}return n}function vc(n){return(n=n[hh])instanceof Ys?n:null}var ph="__closure_events_fn_"+(1e9*Math.random()>>>0);function zf(n){return"function"==typeof n?n:(n[ph]||(n[ph]=function(e){return n.handleEvent(e)}),n[ph])}function Hn(){rn.call(this),this.i=new Ys(this),this.P=this,this.I=null}function Sn(n,e){var t,s=n.I;if(s)for(t=[];s;s=s.I)t.push(s);if(n=n.P,s=e.type||e,"string"==typeof e)e=new nr(e,n);else if(e instanceof nr)e.target=e.target||n;else{var a=e;x(e=new nr(s,n),a)}if(a=!0,t)for(var l=t.length-1;0<=l;l--){var p=e.g=t[l];a=_a(p,s,!0,e)&&a}if(a=_a(p=e.g=n,s,!0,e)&&a,a=_a(p,s,!1,e)&&a,t)for(l=0;l<t.length;l++)a=_a(p=e.g=t[l],s,!1,e)&&a}function _a(n,e,t,s){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,l=0;l<e.length;++l){var p=e[l];if(p&&!p.ca&&p.capture==t){var v=p.listener,I=p.ia||p.src;p.fa&&mu(n.i,p),a=!1!==v.call(I,s)&&a}}return a&&!s.defaultPrevented}Dr(Hn,rn),Hn.prototype[Ol]=!0,Hn.prototype.removeEventListener=function(n,e,t,s){Mo(this,n,e,t,s)},Hn.prototype.M=function(){if(Hn.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],s=0;s<t.length;s++)Gf(t[s]);delete n.g[e],n.h--}}this.I=null},Hn.prototype.N=function(n,e,t,s){return this.i.add(String(n),e,!1,t,s)},Hn.prototype.O=function(n,e,t,s){return this.i.add(String(n),e,!0,t,s)};var Kf=dt.JSON.stringify;function Xw(){var n=Oo;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Jf,Yf=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new e0,n=>n.reset());class e0{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function E_(n){dt.setTimeout(()=>{throw n},0)}function Qf(n,e){Jf||function(){var n=dt.Promise.resolve(void 0);Jf=function(){n.then(w_)}}(),Fl||(Jf(),Fl=!0),Oo.add(n,e)}var Fl=!1,Oo=new class{constructor(){this.h=this.g=null}add(e,t){const s=Yf.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function w_(){for(var n;n=Xw();){try{n.h.call(n.g)}catch(t){E_(t)}var e=Yf;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Fl=!1}function Ll(n,e){Hn.call(this),this.h=n||1,this.g=e||dt,this.j=ln(this.kb,this),this.l=Date.now()}function Qg(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function va(n,e,t){if("function"==typeof n)t&&(n=ln(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ln(n.handleEvent,n)}return 2147483647<Number(e)?-1:dt.setTimeout(n,e||0)}function gh(n){n.g=va(()=>{n.g=null,n.i&&(n.i=!1,gh(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Dr(Ll,Hn),(Fe=Ll.prototype).da=!1,Fe.S=null,Fe.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Sn(this,"tick"),this.da&&(Qg(this),this.start()))}},Fe.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Fe.M=function(){Ll.Z.M.call(this),Qg(this),delete this.g};class Xf extends rn{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:gh(this)}M(){super.M(),this.g&&(dt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _u(n){rn.call(this),this.h=n,this.g={}}Dr(_u,rn);var ep=[];function Ea(n,e,t,s){Array.isArray(t)||(t&&(ep[0]=t.toString()),t=ep);for(var a=0;a<t.length;a++){var l=Kg(e,t[a],s||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function Jg(n){Nl(n.g,function(e,t){this.g.hasOwnProperty(t)&&qf(e)},n),n.g={}}function tp(){this.g=!0}function wc(n,e,t,s){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var s=t[n];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var l=a[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var p=1;p<a.length;p++)a[p]=""}}}return Kf(t)}catch(v){return e}}(n,t)+(s?" "+s:"")})}_u.prototype.M=function(){_u.Z.M.call(this),Jg(this)},_u.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},tp.prototype.Aa=function(){this.g=!1},tp.prototype.info=function(){};var Qs={},Xg=null;function mh(){return Xg=Xg||new Hn}function yh(n){nr.call(this,Qs.Ma,n)}function Vl(n){const e=mh();Sn(e,new yh(e,n))}function em(n,e){nr.call(this,Qs.STAT_EVENT,n),this.stat=e}function fr(n){const e=mh();Sn(e,new em(e,n))}function tm(n,e){nr.call(this,Qs.Na,n),this.size=e}function Ul(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return dt.setTimeout(function(){n()},e)}Qs.Ma="serverreachability",Dr(yh,nr),Qs.STAT_EVENT="statevent",Dr(em,nr),Qs.Na="timingevent",Dr(tm,nr);var _h={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},nm={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function rm(){}function wa(){}rm.prototype.h=null;var Cc,Ic={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function rs(){nr.call(this,"d")}function Po(){nr.call(this,"c")}function Bl(){}function Dc(n,e,t,s){this.l=n,this.j=e,this.m=t,this.X=s||1,this.V=new _u(this),this.P=t0,this.W=new Ll(n=qe?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new vh}function vh(){this.i=null,this.g="",this.h=!1}Dr(rs,nr),Dr(Po,nr),Dr(Bl,rm),Bl.prototype.g=function(){return new XMLHttpRequest},Bl.prototype.i=function(){return{}},Cc=new Bl;var t0=45e3,im={},Tc={};function Ac(n,e,t){n.K=1,n.v=Ih(Pi(e)),n.s=t,n.U=!0,Eh(n,null)}function Eh(n,e){n.F=Date.now(),ba(n),n.A=Pi(n.v);var t=n.A,s=n.X;Array.isArray(s)||(s=[String(s)]),Ch(t.h,"t",s),n.C=0,t=n.l.H,n.h=new vh,n.g=gm(n.l,t?e:null,!n.s),0<n.O&&(n.L=new Xf(ln(n.Ia,n,n.g),n.O)),Ea(n.V,n.g,"readystatechange",n.gb),e=n.H?b(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Vl(1),function(n,e,t,s,a,l){n.info(function(){if(n.g)if(l)for(var p="",v=l.split("&"),I=0;I<v.length;I++){var S=v[I].split("=");if(1<S.length){var M=S[0];S=S[1];var P=M.split("_");p=2<=P.length&&"type"==P[1]?p+(M+"=")+S+"&":p+(M+"=redacted&")}}else p=null;else p=l;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+p})}(n.j,n.u,n.A,n.m,n.X,n.s)}function I_(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function C_(n,e,t){let a,s=!0;for(;!n.I&&n.C<t.length;){if(a=sm(n,t),a==Tc){4==e&&(n.o=4,fr(14),s=!1),wc(n.j,n.m,null,"[Incomplete Response]");break}if(a==im){n.o=4,fr(15),wc(n.j,n.m,t,"[Invalid Chunk]"),s=!1;break}wc(n.j,n.m,a,null),Sc(n,a)}I_(n)&&a!=Tc&&a!=im&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,fr(16),s=!1),n.i=n.i&&s,s?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),gp(e),e.L=!0,fr(11))):(wc(n.j,n.m,t,"[Invalid Chunked Response]"),Ia(n),$l(n))}function sm(n,e){var t=n.C,s=e.indexOf("\n",t);return-1==s?Tc:(t=Number(e.substring(t,s)),isNaN(t)?im:(s+=1)+t>e.length?Tc:(e=e.substr(s,t),n.C=s+t,e))}function ba(n){n.Y=Date.now()+n.P,om(n,n.P)}function om(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ul(ln(n.eb,n),e)}function jl(n){n.B&&(dt.clearTimeout(n.B),n.B=null)}function $l(n){0==n.l.G||n.I||s0(n.l,n)}function Ia(n){jl(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Qg(n.W),Jg(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Sc(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||g(t.i,n)))if(t.I=n.N,!n.J&&g(t.i,n)&&3==t.G){try{var s=t.Ca.g.parse(e)}catch(S){s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0])e:if(t.u)t.ta=a[1],0<t.ta-t.U&&37500>a[2]&&t.N&&0==t.A&&!t.v&&(t.v=Ul(ln(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;pm(t),fp(t)}P_(t),fr(18)}if(1>=f(t.i)&&t.ka){try{t.ka()}catch(S){}t.ka=void 0}}else Wl(t,11)}else if((n.J||t.g==n)&&pm(t),!pi(e))for(a=t.Ca.g.parse(e),e=0;e<a.length;e++){let S=a[e];if(t.U=S[0],S=S[1],2==t.G)if("c"==S[0]){t.J=S[1],t.la=S[2];const M=S[3];null!=M&&(t.ma=M,t.h.info("VER="+t.ma));const P=S[4];null!=P&&(t.za=P,t.h.info("SVER="+t.za));const K=S[5];null!=K&&"number"==typeof K&&0<K&&(t.K=s=1.5*K,t.h.info("backChannelRequestTimeoutMs_="+s)),s=t;const J=n.g;if(J){const xe=J.g?J.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xe){var l=s.i;!l.g&&(tr(xe,"spdy")||tr(xe,"quic")||tr(xe,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(E(l,l.h),l.h=null))}if(s.D){const He=J.g?J.g.getResponseHeader("X-HTTP-Session-Id"):null;He&&(s.sa=He,bn(s.F,s.D,He))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var p=n;if((s=t).oa=k_(s,s.H?s.la:null,s.W),p.J){A(s.i,p);var v=p,I=s.K;I&&v.setTimeout(I),v.B&&(jl(v),ba(v)),s.g=p}else O_(s);0<t.l.length&&Dh(t)}else"stop"!=S[0]&&"close"!=S[0]||Wl(t,7);else 3==t.G&&("stop"==S[0]||"close"==S[0]?"stop"==S[0]?Wl(t,7):Zl(t):"noop"!=S[0]&&t.j&&t.j.wa(S),t.A=0)}Vl(4)}catch(S){}}function xc(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(ch(n)||"string"==typeof n)xl(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(ch(n)||"string"==typeof n){t=[];for(var s=n.length,a=0;a<s;a++)t.push(a)}else for(a in t=[],s=0,n)t[s++]=a;a=(s=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(ch(n)){for(var e=[],t=n.length,s=0;s<t;s++)e.push(n[s]);return e}for(s in e=[],t=0,n)e[t++]=n[s];return e}(n)).length;for(var l=0;l<a;l++)e.call(void 0,s[l],t&&t[l],n)}}function Ca(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var s=0;s<t;s+=2)this.set(arguments[s],arguments[s+1])}else if(n)if(n instanceof Ca)for(t=n.T(),s=0;s<t.length;s++)this.set(t[s],n.get(t[s]));else for(s in n)this.set(s,n[s])}function dn(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var s=n.g[e];Da(n.h,s)&&(n.g[t++]=s),e++}n.g.length=t}if(n.i!=n.g.length){var a={};for(t=e=0;e<n.g.length;)Da(a,s=n.g[e])||(n.g[t++]=s,a[s]=1),e++;n.g.length=t}}function Da(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Fe=Dc.prototype).setTimeout=function(n){this.P=n},Fe.gb=function(n){n=n.target;const e=this.L;e&&3==Pc(n)?e.l():this.Ia(n)},Fe.Ia=function(n){try{if(n==this.g)e:{const M=Pc(this.g);var e=this.g.Da();const P=this.g.ba();if(!(3>M)&&(3!=M||qe||this.g&&(this.h.h||this.g.ga()||ko(this.g)))){this.I||4!=M||7==e||Vl(8==e||0>=P?3:2),jl(this);var t=this.g.ba();this.N=t;t:if(I_(this)){var s=ko(this.g);n="";var a=s.length,l=4==Pc(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ia(this),$l(this);var p="";break t}this.h.i=new dt.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,n+=this.h.i.decode(s[e],{stream:l&&e==a-1});s.splice(0,a),this.h.g+=n,this.C=0,p=this.h.g}else p=this.g.ga();if(this.i=200==t,function(n,e,t,s,a,l,p){n.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+l+" "+p})}(this.j,this.u,this.A,this.m,this.X,M,t),this.i){if(this.$&&!this.J){t:{if(this.g){var v,I=this.g;if((v=I.g?I.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pi(v)){var S=v;break t}}S=null}if(!(t=S)){this.i=!1,this.o=3,fr(12),Ia(this),$l(this);break e}wc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Sc(this,t)}this.U?(C_(this,M,p),qe&&this.i&&3==M&&(Ea(this.V,this.W,"tick",this.fb),this.W.start())):(wc(this.j,this.m,p,null),Sc(this,p)),4==M&&Ia(this),this.i&&!this.I&&(4==M?s0(this.l,this):(this.i=!1,ba(this)))}else 400==t&&0<p.indexOf("Unknown SID")?(this.o=3,fr(12)):(this.o=0,fr(13)),Ia(this),$l(this)}}}catch(M){}},Fe.fb=function(){if(this.g){var n=Pc(this.g),e=this.g.ga();this.C<e.length&&(jl(this),C_(this,n,e),this.i&&4!=n&&ba(this))}},Fe.cancel=function(){this.I=!0,Ia(this)},Fe.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Vl(3),fr(17)),Ia(this),this.o=2,$l(this)):om(this,this.Y-n)},(Fe=Ca.prototype).R=function(){dn(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Fe.T=function(){return dn(this),this.g.concat()},Fe.get=function(n,e){return Da(this.h,n)?this.h[n]:e},Fe.set=function(n,e){Da(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Fe.forEach=function(n,e){for(var t=this.T(),s=0;s<t.length;s++){var a=t[s],l=this.get(a);n.call(e,l,a,this)}};var um=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Gn(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Gn){this.g=void 0!==e?e:n.g,Gl(this,n.j),this.s=n.s,wh(this,n.i),Rc(this,n.m),this.l=n.l,e=n.h;var t=new Oc;t.i=e.i,e.g&&(t.g=new Ca(e.g),t.h=e.h),bh(this,t),this.o=n.o}else n&&(t=String(n).match(um))?(this.g=!!e,Gl(this,t[1]||"",!0),this.s=Ta(t[2]||""),wh(this,t[3]||"",!0),Rc(this,t[4]),this.l=Ta(t[5]||"",!0),bh(this,t[6]||"",!0),this.o=Ta(t[7]||"")):(this.g=!!e,this.h=new Oc(null,this.g))}function Pi(n){return new Gn(n)}function Gl(n,e,t){n.j=t?Ta(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function wh(n,e,t){n.i=t?Ta(e,!0):e}function Rc(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function bh(n,e,t){e instanceof Oc?(n.h=e,function(n,e){e&&!n.j&&(Vr(n),n.i=null,n.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(Eu(this,s),Ch(this,a,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Nc(e,rp)),n.h=new Oc(e,n.g))}function bn(n,e,t){n.h.set(e,t)}function Ih(n){return bn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Ta(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Nc(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,cm),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function cm(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Gn.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Nc(e,Ar,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Nc(e,Ar,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Nc(t,"/"==t.charAt(0)?Lr:Mc,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Nc(t,ip)),n.join("")};var Ar=/[#\/\?@]/g,Mc=/[#\?:]/g,Lr=/[#\?]/g,rp=/[#\?@]/g,ip=/#/g;function Oc(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Vr(n){n.g||(n.g=new Ca,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var s=n[t].indexOf("="),a=null;if(0<=s){var l=n[t].substring(0,s);a=n[t].substring(s+1)}else l=n[t];e(l,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Eu(n,e){Vr(n),e=Aa(n,e),Da(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Da((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&dn(n)))}function sp(n,e){return Vr(n),e=Aa(n,e),Da(n.g.h,e)}function Ch(n,e,t){Eu(n,e),0<t.length&&(n.i=null,n.g.set(Aa(n,e),fi(t)),n.h+=t.length)}function Aa(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function op(n){this.l=n||ap,n=dt.PerformanceNavigationTiming?0<(n=dt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(dt.g&&dt.g.Ea&&dt.g.Ea()&&dt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Fe=Oc.prototype).add=function(n,e){Vr(this),this.i=null,n=Aa(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Fe.forEach=function(n,e){Vr(this),this.g.forEach(function(t,s){xl(t,function(a){n.call(e,a,s,this)},this)},this)},Fe.T=function(){Vr(this);for(var n=this.g.R(),e=this.g.T(),t=[],s=0;s<e.length;s++)for(var a=n[s],l=0;l<a.length;l++)t.push(e[s]);return t},Fe.R=function(n){Vr(this);var e=[];if("string"==typeof n)sp(this,n)&&(e=Xr(e,this.g.get(Aa(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Xr(e,n[t])}return e},Fe.set=function(n,e){return Vr(this),this.i=null,sp(this,n=Aa(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Fe.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Fe.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var s=e[t],a=encodeURIComponent(String(s));s=this.R(s);for(var l=0;l<s.length;l++){var p=a;""!==s[l]&&(p+="="+encodeURIComponent(String(s[l]))),n.push(p)}}return this.i=n.join("&")};var ap=10;function _(n){return!!n.h||!!n.g&&n.g.size>=n.j}function f(n){return n.h?1:n.g?n.g.size:0}function g(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function E(n,e){n.g?n.g.add(e):n.h=e}function A(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function N(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return fi(n.i)}function W(){}function _e(){this.g=new W}function Be(n,e,t){const s=t||"";try{xc(n,function(a,l){let p=a;xo(a)&&(p=Kf(a)),e.push(s+l+"="+encodeURIComponent(p))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function ct(n,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch(l){}}function rt(n){this.l=n.$b||null,this.j=n.ib||!1}function Rn(n,e){Hn.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Ur,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}op.prototype.cancel=function(){if(this.i=N(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},W.prototype.stringify=function(n){return dt.JSON.stringify(n,void 0)},W.prototype.parse=function(n){return dt.JSON.parse(n,void 0)},Dr(rt,rm),rt.prototype.g=function(){return new Rn(this.l,this.j)},rt.prototype.i=function(n){return function(){return n}}({}),Dr(Rn,Hn);var Ur=0;function Br(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function wu(n){n.readyState=4,n.l=null,n.j=null,n.A=null,bu(n)}function bu(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Fe=Rn.prototype).open=function(n,e){if(this.readyState!=Ur)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,bu(this)},Fe.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||dt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Fe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,wu(this)),this.readyState=Ur},Fe.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,bu(this)),this.g&&(this.readyState=3,bu(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==dt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Br(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Fe.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?wu(this):bu(this),3==this.readyState&&Br(this)}},Fe.Ua=function(n){this.g&&(this.response=this.responseText=n,wu(this))},Fe.Ta=function(n){this.g&&(this.response=n,wu(this))},Fe.ha=function(){this.g&&wu(this)},Fe.setRequestHeader=function(n,e){this.v.append(n,e)},Fe.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Fe.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Rn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var lm=dt.JSON.parse;function Nn(n){Hn.call(this),this.headers=new Ca,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=up,this.K=this.L=!1}Dr(Nn,Hn);var up="",cp=/^https?$/i,dm=["POST","PUT"];function hm(n){return"content-type"==n.toLowerCase()}function Iu(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,ki(n),S_(n)}function ki(n){n.D||(n.D=!0,Sn(n,"complete"),Sn(n,"error"))}function A_(n){if(n.h&&void 0!==du&&(!n.C[1]||4!=Pc(n)||2!=n.ba()))if(n.v&&4==Pc(n))va(n.Fa,0,n);else if(Sn(n,"readystatechange"),4==Pc(n)){n.h=!1;try{const v=n.ba();e:switch(v){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===v){var a=String(n.H).match(um)[1]||null;if(!a&&dt.self&&dt.self.location){var l=dt.self.location.protocol;a=l.substr(0,l.length-1)}s=!cp.test(a?a.toLowerCase():"")}t=s}if(t)Sn(n,"complete"),Sn(n,"success");else{n.m=6;try{var p=2<Pc(n)?n.g.statusText:""}catch(I){p=""}n.j=p+" ["+n.ba()+"]",ki(n)}}finally{S_(n)}}}function S_(n,e){if(n.g){x_(n);const t=n.g,s=n.C[0]?hu:null;n.g=null,n.C=null,e||Sn(n,"ready");try{t.onreadystatechange=s}catch(a){}}}function x_(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(dt.clearTimeout(n.A),n.A=null)}function Pc(n){return n.g?n.g.readyState:0}function ko(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case up:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function dp(n,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=function(n){let e="";return Nl(n,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):bn(n,e,t))}function hp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function N_(n){this.za=0,this.l=[],this.h=new tp,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=hp("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=hp("baseRetryDelayMs",5e3,n),this.$a=hp("retryDelaySeedMs",1e4,n),this.Ya=hp("forwardChannelMaxRetries",2,n),this.ra=hp("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new op(n&&n.concurrentRequestLimit),this.Ca=new _e,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Zl(n){if(M_(n),3==n.G){var e=n.V++,t=Pi(n.F);bn(t,"SID",n.J),bn(t,"RID",e),bn(t,"TYPE","terminate"),Sa(n,t),(e=new Dc(n,n.h,e,void 0)).K=2,e.v=Ih(Pi(t)),t=!1,dt.navigator&&dt.navigator.sendBeacon&&(t=dt.navigator.sendBeacon(e.v.toString(),"")),!t&&dt.Image&&((new Image).src=e.v,t=!0),t||(e.g=gm(e.l,null),e.g.ea(e.v)),e.F=Date.now(),ba(e)}a0(n)}function fp(n){n.g&&(gp(n),n.g.cancel(),n.g=null)}function M_(n){fp(n),n.u&&(dt.clearTimeout(n.u),n.u=null),pm(n),n.i.cancel(),n.m&&("number"==typeof n.m&&dt.clearTimeout(n.m),n.m=null)}function pp(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Dh(n)}function Dh(n){_(n.i)||n.m||(n.m=!0,Qf(n.Ha,n),n.C=0)}function UD(n,e){var t;t=e?e.m:n.V++;const s=Pi(n.F);bn(s,"SID",n.J),bn(s,"RID",t),bn(s,"AID",n.U),Sa(n,s),n.o&&n.s&&dp(s,n.o,n.s),t=new Dc(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=fm(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),E(n.i,t),Ac(t,s,e)}function Sa(n,e){n.j&&xc({},function(t,s){bn(e,s,t)})}function fm(n,e,t){t=Math.min(n.l.length,t);var s=n.j?ln(n.j.Oa,n.j,n):null;e:{var a=n.l;let l=-1;for(;;){const p=["count="+t];-1==l?0<t?(l=a[0].h,p.push("ofs="+l)):l=0:p.push("ofs="+l);let v=!0;for(let I=0;I<t;I++){let S=a[I].h;const M=a[I].g;if(S-=l,0>S)l=Math.max(0,a[I].h-100),v=!1;else try{Be(M,p,"req"+S+"_")}catch(P){s&&s(M)}}if(v){s=p.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,s}function O_(n){n.g||n.u||(n.Y=1,Qf(n.Ga,n),n.A=0)}function P_(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Ul(ln(n.Ga,n),o0(n,n.A)),n.A++,0))}function gp(n){null!=n.B&&(dt.clearTimeout(n.B),n.B=null)}function r0(n){n.g=new Dc(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Pi(n.oa);bn(e,"RID","rpc"),bn(e,"SID",n.J),bn(e,"CI",n.N?"0":"1"),bn(e,"AID",n.U),Sa(n,e),bn(e,"TYPE","xmlhttp"),n.o&&n.s&&dp(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Ih(Pi(e)),t.s=null,t.U=!0,Eh(t,n)}function pm(n){null!=n.v&&(dt.clearTimeout(n.v),n.v=null)}function s0(n,e){var t=null;if(n.g==e){pm(n),gp(n),n.g=null;var s=2}else{if(!g(n.i,e))return;t=e.D,A(n.i,e),s=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.F;var a=n.C;Sn(s=mh(),new tm(s,t,e,a)),Dh(n)}else O_(n);else if(3==(a=e.o)||0==a&&0<n.I||!(1==s&&function(n,e){return!(f(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Ul(ln(n.Ha,n,e),o0(n,n.C)),n.C++,0)))}(n,e)||2==s&&P_(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),a){case 1:Wl(n,5);break;case 4:Wl(n,10);break;case 3:Wl(n,6);break;default:Wl(n,2)}}function o0(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Wl(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var s=ln(n.jb,n);t||(t=new Gn("//www.google.com/images/cleardot.gif"),dt.location&&"http"==dt.location.protocol||Gl(t,"https"),Ih(t)),function(n,e){const t=new tp;if(dt.Image){const s=new Image;s.onload=Cs(ct,t,s,"TestLoadImage: loaded",!0,e),s.onerror=Cs(ct,t,s,"TestLoadImage: error",!1,e),s.onabort=Cs(ct,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=Cs(ct,t,s,"TestLoadImage: timeout",!1,e),dt.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=n}else e(!1)}(t.toString(),s)}else fr(2);n.G=0,n.j&&n.j.va(e),a0(n),M_(n)}function a0(n){n.G=0,n.I=-1,n.j&&((0!=N(n.i).length||0!=n.l.length)&&(n.i.i.length=0,fi(n.l),n.l.length=0),n.j.ua())}function k_(n,e,t){let s=function(n){return n instanceof Gn?Pi(n):new Gn(n,void 0)}(t);if(""!=s.i)e&&wh(s,e+"."+s.i),Rc(s,s.m);else{const a=dt.location;s=function(n,e,t,s){var a=new Gn(null,void 0);return n&&Gl(a,n),e&&wh(a,e),t&&Rc(a,t),s&&(a.l=s),a}(a.protocol,e?e+"."+a.hostname:a.hostname,+a.port,t)}return n.aa&&Nl(n.aa,function(a,l){bn(s,l,a)}),t=n.sa,(e=n.D)&&t&&bn(s,e,t),bn(s,"VER",n.ma),Sa(n,s),s}function gm(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Nn(t&&n.Ba&&!n.qa?new rt({ib:!0}):n.qa)).L=n.H,e}function F_(){}function Th(){if(Ne&&!(10<=Number(Ml)))throw Error("Environmental error: no available transport.")}function Ts(n,e){Hn.call(this),this.g=new N_(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!pi(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!pi(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new zl(this)}function u0(n){rs.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function L_(){Po.call(this),this.status=1}function zl(n){this.g=n}(Fe=Nn.prototype).ea=function(n,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Cc.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:Cc),this.g.onreadystatechange=ln(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void Iu(this,l)}n=t||"";const a=new Ca(this.headers);s&&xc(s,function(l,p){a.set(p,l)}),s=function(n){e:{var e=hm;const t=n.length,s="string"==typeof n?n.split(""):n;for(let a=0;a<t;a++)if(a in s&&e.call(void 0,s[a],a,n)){e=a;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(a.T()),t=dt.FormData&&n instanceof dt.FormData,!(0<=Ro(dm,e))||s||t||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(l,p){this.g.setRequestHeader(p,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{x_(this),0<this.B&&((this.K=function(n){return Ne&&es()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ln(this.pa,this)):this.A=va(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){Iu(this,l)}},Fe.pa=function(){void 0!==du&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Sn(this,"timeout"),this.abort(8))},Fe.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Sn(this,"complete"),Sn(this,"abort"),S_(this))},Fe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),S_(this,!0)),Nn.Z.M.call(this)},Fe.Fa=function(){this.s||(this.F||this.v||this.l?A_(this):this.cb())},Fe.cb=function(){A_(this)},Fe.ba=function(){try{return 2<Pc(this)?this.g.status:-1}catch(n){return-1}},Fe.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Fe.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),lm(e)}},Fe.Da=function(){return this.m},Fe.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Fe=N_.prototype).ma=8,Fe.G=1,Fe.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Fe.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const a=new Dc(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=b(l),x(l,this.P)):l=this.P),null===this.o&&(a.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var s=this.l[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=fm(this,a,e),bn(t=Pi(this.F),"RID",n),bn(t,"CVER",22),this.D&&bn(t,"X-HTTP-Session-Id",this.D),Sa(this,t),this.o&&l&&dp(t,this.o,l),E(this.i,a),this.Ra&&bn(t,"TYPE","init"),this.ja?(bn(t,"$req",e),bn(t,"SID","null"),a.$=!0,Ac(a,t,null)):Ac(a,t,e),this.G=2}}else 3==this.G&&(n?UD(this,n):0==this.l.length||_(this.i)||UD(this))},Fe.Ga=function(){if(this.u=null,r0(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Ul(ln(this.bb,this),n)}},Fe.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,fr(10),fp(this),r0(this))},Fe.ab=function(){null!=this.v&&(this.v=null,fp(this),P_(this),fr(19))},Fe.jb=function(n){n?(this.h.info("Successfully pinged google.com"),fr(2)):(this.h.info("Failed to ping google.com"),fr(1))},(Fe=F_.prototype).xa=function(){},Fe.wa=function(){},Fe.va=function(){},Fe.ua=function(){},Fe.Oa=function(){},Th.prototype.g=function(n,e){return new Ts(n,e)},Dr(Ts,Hn),Ts.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Qf(ln(n.hb,n,e))),fr(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=k_(n,null,n.W),Dh(n)},Ts.prototype.close=function(){Zl(this.g)},Ts.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,pp(this.g,e)}else this.v?((e={}).__data__=Kf(n),pp(this.g,e)):pp(this.g,n)},Ts.prototype.M=function(){this.g.j=null,delete this.j,Zl(this.g),delete this.g,Ts.Z.M.call(this)},Dr(u0,rs),Dr(L_,Po),Dr(zl,F_),zl.prototype.xa=function(){Sn(this.g,"a")},zl.prototype.wa=function(n){Sn(this.g,new u0(n))},zl.prototype.va=function(n){Sn(this.g,new L_(n))},zl.prototype.ua=function(){Sn(this.g,"b")},Th.prototype.createWebChannel=Th.prototype.g,Ts.prototype.send=Ts.prototype.u,Ts.prototype.open=Ts.prototype.m,Ts.prototype.close=Ts.prototype.close,_h.NO_ERROR=0,_h.TIMEOUT=8,_h.HTTP_ERROR=6,nm.COMPLETE="complete",wa.EventType=Ic,Ic.OPEN="a",Ic.CLOSE="b",Ic.ERROR="c",Ic.MESSAGE="d",Hn.prototype.listen=Hn.prototype.N,Nn.prototype.listenOnce=Nn.prototype.O,Nn.prototype.getLastError=Nn.prototype.La,Nn.prototype.getLastErrorCode=Nn.prototype.Da,Nn.prototype.getStatus=Nn.prototype.ba,Nn.prototype.getResponseJson=Nn.prototype.Qa,Nn.prototype.getResponseText=Nn.prototype.ga,Nn.prototype.send=Nn.prototype.ea;var Kl=Oi.createWebChannelTransport=function(){return new Th},c0=Oi.getStatEventTarget=function(){return mh()},mm=Oi.ErrorCode=_h,BD=Oi.EventType=nm,ym=Oi.Event=Qs,l0=Oi.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},d0=Oi.FetchXmlHttpFactory=rt,mp=Oi.WebChannel=wa,h0=Oi.XhrIo=Nn;const _m="@firebase/firestore";class jr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jr.UNAUTHENTICATED=new jr(null),jr.GOOGLE_CREDENTIALS=new jr("google-credentials-uid"),jr.FIRST_PARTY=new jr("first-party-uid"),jr.MOCK_USER=new jr("mock-user");let Cu="9.1.3";const Fo=new zs.Yd("@firebase/firestore");function vm(){return Fo.logLevel}function Ue(n,...e){if(Fo.logLevel<=zs.in.DEBUG){const t=e.map(U_);Fo.debug(`Firestore (${Cu}): ${n}`,...t)}}function qn(n,...e){if(Fo.logLevel<=zs.in.ERROR){const t=e.map(U_);Fo.error(`Firestore (${Cu}): ${n}`,...t)}}function Du(n,...e){if(Fo.logLevel<=zs.in.WARN){const t=e.map(U_);Fo.warn(`Firestore (${Cu}): ${n}`,...t)}}function U_(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function et(n="Unexpected state"){const e=`FIRESTORE (${Cu}) INTERNAL ASSERTION FAILED: `+n;throw qn(e),new Error(e)}function gt(n,e){n||et()}function $e(n,e){return n}const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ei{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class B_{constructor(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class $D{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(jr.UNAUTHENTICATED))}shutdown(){}}class f0{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class HD{constructor(e){this.t=e,this.currentUser=jr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const l=S=>this.i!==a?(a=this.i,t(S)):Promise.resolve();let p=new ei;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new ei,e.enqueueRetryable(()=>l(this.currentUser))};const v=()=>{const S=p;e.enqueueRetryable((0,Ee.Z)(function*(){yield S.promise,yield l(s.currentUser)}))},I=S=>{Ue("FirebaseCredentialsProvider","Auth detected"),this.auth=S,this.auth.addAuthTokenListener(this.o),v()};this.t.onInit(S=>I(S)),setTimeout(()=>{if(!this.auth){const S=this.t.getImmediate({optional:!0});S?I(S):(Ue("FirebaseCredentialsProvider","Auth not yet detected"),p.resolve(),p=new ei)}},0),v()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Ue("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(gt("string"==typeof s.accessToken),new B_(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return gt(null===e||"string"==typeof e),new jr(e)}}class GD{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=jr.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class Lo{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new GD(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(jr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class As{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.g(s),this.p=s=>t.writeSequenceNumber(s))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function p0(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}As.T=-1;class g0{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=p0(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<t&&(s+=e.charAt(a[l]%e.length))}return s}}function Mt(n,e){return n<e?-1:n>e?1:0}function Ah(n,e,t){return n.length===e.length&&n.every((s,a)=>t(s,e[a]))}function m0(n){return n+"\0"}class Sr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Oe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Oe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Oe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Sr.fromMillis(Date.now())}static fromDate(e){return Sr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Sr(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Mt(this.nanoseconds,e.nanoseconds):Mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ct{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ct(e)}static min(){return new Ct(new Sr(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function y0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Yl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Et(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Sh{constructor(e,t,s){void 0===t?t=0:t>e.length&&et(),void 0===s?s=e.length-t:s>e.length-t&&et(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Sh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Sh?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const l=e.get(a),p=t.get(a);if(l<p)return-1;if(l>p)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Wt extends Sh{construct(e,t,s){return new Wt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Oe(me.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new Wt(t)}static emptyPath(){return new Wt([])}}const Em=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yn extends Sh{construct(e,t,s){return new yn(e,t,s)}static isValidIdentifier(e){return Em.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new yn(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const l=()=>{if(0===s.length)throw new Oe(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let p=!1;for(;a<e.length;){const v=e[a];if("\\"===v){if(a+1===e.length)throw new Oe(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const I=e[a+1];if("\\"!==I&&"."!==I&&"`"!==I)throw new Oe(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=I,a+=2}else"`"===v?(p=!p,a++):"."!==v||p?(s+=v,a++):(l(),a++)}if(l(),p)throw new Oe(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yn(t)}static emptyPath(){return new yn([])}}class Ql{constructor(e){this.fields=e,e.sort(yn.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ah(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class pr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new pr(t)}static fromUint8Array(e){const t=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new pr(t)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pr.EMPTY_BYTE_STRING=new pr("");const Tu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xa(n){if(gt(!!n),"string"==typeof n){let e=0;const t=Tu.exec(n);if(gt(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:rr(n.seconds),nanos:rr(n.nanos)}}function rr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function kc(n){return"string"==typeof n?pr.fromBase64String(n):pr.fromUint8Array(n)}function _0(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function j_(n){const e=n.mapValue.fields.__previous_value__;return _0(e)?j_(e):e}function wm(n){const e=xa(n.mapValue.fields.__local_write_time__.timestampValue);return new Sr(e.seconds,e.nanos)}function Fi(n){return null==n}function Jl(n){return 0===n&&1/n==-1/0}function yp(n){return"number"==typeof n&&Number.isInteger(n)&&!Jl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Je{constructor(e){this.path=e}static fromPath(e){return new Je(Wt.fromString(e))}static fromName(e){return new Je(Wt.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===Wt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Wt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Je(new Wt(e.slice()))}}function xh(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?_0(n)?4:10:et()}function Ra(n,e){const t=xh(n);if(t!==xh(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return wm(n).isEqual(wm(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=xa(s.timestampValue),p=xa(a.timestampValue);return l.seconds===p.seconds&&l.nanos===p.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return a=e,kc(n.bytesValue).isEqual(kc(a.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return rr(s.geoPointValue.latitude)===rr(a.geoPointValue.latitude)&&rr(s.geoPointValue.longitude)===rr(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return rr(s.integerValue)===rr(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=rr(s.doubleValue),p=rr(a.doubleValue);return l===p?Jl(l)===Jl(p):isNaN(l)&&isNaN(p)}return!1}(n,e);case 9:return Ah(n.arrayValue.values||[],e.arrayValue.values||[],Ra);case 10:return function(s,a){const l=s.mapValue.fields||{},p=a.mapValue.fields||{};if(y0(l)!==y0(p))return!1;for(const v in l)if(l.hasOwnProperty(v)&&(void 0===p[v]||!Ra(l[v],p[v])))return!1;return!0}(n,e);default:return et()}var a}function Rh(n,e){return void 0!==(n.values||[]).find(t=>Ra(t,e))}function _p(n,e){const t=xh(n),s=xh(e);if(t!==s)return Mt(t,s);switch(t){case 0:return 0;case 1:return Mt(n.booleanValue,e.booleanValue);case 2:return function(a,l){const p=rr(a.integerValue||a.doubleValue),v=rr(l.integerValue||l.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1}(n,e);case 3:return v0(n.timestampValue,e.timestampValue);case 4:return v0(wm(n),wm(e));case 5:return Mt(n.stringValue,e.stringValue);case 6:return function(a,l){const p=kc(a),v=kc(l);return p.compareTo(v)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const p=a.split("/"),v=l.split("/");for(let I=0;I<p.length&&I<v.length;I++){const S=Mt(p[I],v[I]);if(0!==S)return S}return Mt(p.length,v.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const p=Mt(rr(a.latitude),rr(l.latitude));return 0!==p?p:Mt(rr(a.longitude),rr(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(a,l){const p=a.values||[],v=l.values||[];for(let I=0;I<p.length&&I<v.length;++I){const S=_p(p[I],v[I]);if(S)return S}return Mt(p.length,v.length)}(n.arrayValue,e.arrayValue);case 10:return function(a,l){const p=a.fields||{},v=Object.keys(p),I=l.fields||{},S=Object.keys(I);v.sort(),S.sort();for(let M=0;M<v.length&&M<S.length;++M){const P=Mt(v[M],S[M]);if(0!==P)return P;const K=_p(p[v[M]],I[S[M]]);if(0!==K)return K}return Mt(v.length,S.length)}(n.mapValue,e.mapValue);default:throw et()}}function v0(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Mt(n,e);const t=xa(n),s=xa(e),a=Mt(t.seconds,s.seconds);return 0!==a?a:Mt(t.nanos,s.nanos)}function E0(n){return bm(n)}function bm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(s){const a=xa(s);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?kc(n.bytesValue).toBase64():"referenceValue"in n?Je.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(s){let a="[",l=!0;for(const p of s.values||[])l?l=!1:a+=",",a+=bm(p);return a+"]"}(n.arrayValue):"mapValue"in n?function(s){const a=Object.keys(s.fields||{}).sort();let l="{",p=!0;for(const v of a)p?p=!1:l+=",",l+=`${v}:${bm(s.fields[v])}`;return l+"}"}(n.mapValue):et();var e}function vp(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function $_(n){return!!n&&"integerValue"in n}function Ep(n){return!!n&&"arrayValue"in n}function ZD(n){return!!n&&"nullValue"in n}function WD(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function H_(n){return!!n&&"mapValue"in n}function Im(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Yl(n.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Im(s)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Im(n.arrayValue.values[t]);return e}return Object.assign({},n)}class Li{constructor(e){this.value=e}static empty(){return new Li({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!H_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Im(t)}setAll(e){let t=yn.emptyPath(),s={},a=[];e.forEach((p,v)=>{if(!t.isImmediateParentOf(v)){const I=this.getFieldsMap(t);this.applyChanges(I,s,a),s={},a=[],t=v.popLast()}p?s[v.lastSegment()]=Im(p):a.push(v.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,a)}delete(e){const t=this.field(e.popLast());H_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ra(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];H_(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Yl(t,(a,l)=>e[a]=l);for(const a of s)delete e[a]}clone(){return new Li(Im(this.value))}}function zD(n){const e=[];return Yl(n.fields,(t,s)=>{const a=new yn([t]);if(H_(s)){const l=zD(s.mapValue).fields;if(0===l.length)e.push(a);else for(const p of l)e.push(a.child(p))}else e.push(a)}),new Ql(e)}class Ln{constructor(e,t,s,a,l){this.key=e,this.documentType=t,this.version=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Ln(e,0,Ct.min(),Li.empty(),0)}static newFoundDocument(e,t,s){return new Ln(e,1,t,s,0)}static newNoDocument(e,t){return new Ln(e,2,t,Li.empty(),0)}static newUnknownDocument(e,t){return new Ln(e,3,t,Li.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Li.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Li.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new Ln(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Jx{constructor(e,t=null,s=[],a=[],l=null,p=null,v=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=p,this.endAt=v,this.A=null}}function KD(n,e=null,t=[],s=[],a=null,l=null,p=null){return new Jx(n,e,t,s,a,l,p)}function Cm(n){const e=$e(n);if(null===e.A){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>function(n){return n.field.canonicalString()+n.op.toString()+E0(n.value)}(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),Fi(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=Dm(e.startAt)),e.endAt&&(t+="|ub:",t+=Dm(e.endAt)),e.A=t}return e.A}function Vo(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let a=0;a<n.orderBy.length;a++)if(!QD(n.orderBy[a],e.orderBy[a]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let a=0;a<n.filters.length;a++)if((t=n.filters[a]).op!==(s=e.filters[a]).op||!t.field.isEqual(s.field)||!Ra(t.value,s.value))return!1;var t,s;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Mh(n.startAt,e.startAt)&&Mh(n.endAt,e.endAt)}function Nh(n){return Je.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Vi extends class{}{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,s):new G_(e,t,s):"array-contains"===t?new Fc(e,s):"in"===t?new C0(e,s):"not-in"===t?new YD(e,s):"array-contains-any"===t?new eR(e,s):new Vi(e,t,s)}static R(e,t,s){return"in"===t?new b0(e,s):new q_(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(_p(t,this.value)):null!==t&&xh(this.value)===xh(t)&&this.P(_p(t,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return et()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class G_ extends Vi{constructor(e,t,s){super(e,t,s),this.key=Je.fromName(s.referenceValue)}matches(e){const t=Je.comparator(e.key,this.key);return this.P(t)}}class b0 extends Vi{constructor(e,t){super(e,"in",t),this.keys=I0(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class q_ extends Vi{constructor(e,t){super(e,"not-in",t),this.keys=I0(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function I0(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>Je.fromName(s.referenceValue))}class Fc extends Vi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ep(t)&&Rh(t.arrayValue,this.value)}}class C0 extends Vi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Rh(this.value.arrayValue,t)}}class YD extends Vi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Rh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Rh(this.value.arrayValue,t)}}class eR extends Vi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ep(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Rh(this.value.arrayValue,s))}}class Xl{constructor(e,t){this.position=e,this.before=t}}function Dm(n){return`${n.before?"b":"a"}:${n.position.map(e=>E0(e)).join(",")}`}class ed{constructor(e,t="asc"){this.field=e,this.dir=t}}function QD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function D0(n,e,t){let s=0;for(let a=0;a<n.position.length;a++){const l=e[a],p=n.position[a];if(s=l.field.isKeyField()?Je.comparator(Je.fromName(p.referenceValue),t.key):_p(p,t.data.field(l.field)),"desc"===l.dir&&(s*=-1),0!==s)break}return n.before?s<=0:s<0}function Mh(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ra(n.position[t],e.position[t]))return!1;return!0}class is{constructor(e,t=null,s=[],a=[],l=null,p="F",v=null,I=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=p,this.startAt=v,this.endAt=I,this.V=null,this.S=null}}function Tm(n,e,t,s,a,l,p,v){return new is(n,e,t,s,a,l,p,v)}function Uo(n){return new is(n)}function Lc(n){return!Fi(n.limit)&&"F"===n.limitType}function Au(n){return!Fi(n.limit)&&"L"===n.limitType}function Z_(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Am(n){for(const e of n.filters)if(e.v())return e.field;return null}function Sm(n){return null!==n.collectionGroup}function Vc(n){const e=$e(n);if(null===e.V){e.V=[];const t=Am(e),s=Z_(e);if(null!==t&&null===s)t.isKeyField()||e.V.push(new ed(t)),e.V.push(new ed(yn.keyField(),"asc"));else{let a=!1;for(const l of e.explicitOrderBy)e.V.push(l),l.field.isKeyField()&&(a=!0);if(!a){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.V.push(new ed(yn.keyField(),l))}}}return e.V}function ss(n){const e=$e(n);if(!e.S)if("F"===e.limitType)e.S=KD(e.path,e.collectionGroup,Vc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of Vc(e))t.push(new ed(l.field,"desc"===l.dir?"asc":"desc"));const s=e.endAt?new Xl(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Xl(e.startAt.position,!e.startAt.before):null;e.S=KD(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e.S}function W_(n,e,t){return new is(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Uc(n,e){return Vo(ss(n),ss(e))&&n.limitType===e.limitType}function T0(n){return`${Cm(ss(n))}|lt:${n.limitType}`}function xm(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(s=t).field.canonicalString()} ${s.op} ${E0(s.value)}`;var s}).join(", ")}]`),Fi(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(s=t).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(e+=", startAt: "+Dm(n.startAt)),n.endAt&&(e+=", endAt: "+Dm(n.endAt)),`Target(${e})`}(ss(n))}; limitType=${n.limitType})`}function Rm(n,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):Je.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(n,e)&&function(t,s){for(const a of t.explicitOrderBy)if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(n,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(n,e)&&(s=e,!((t=n).startAt&&!D0(t.startAt,Vc(t),s)||t.endAt&&D0(t.endAt,Vc(t),s)));var t,s}function z_(n){return(e,t)=>{let s=!1;for(const a of Vc(n)){const l=A0(a,e,t);if(0!==l)return l;s=s||a.field.isKeyField()}return 0}}function A0(n,e,t){const s=n.field.isKeyField()?Je.comparator(e.key,t.key):function(a,l,p){const v=l.data.field(a),I=p.data.field(a);return null!==v&&null!==I?_p(v,I):et()}(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return et()}}function S0(n,e){if(n.D){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jl(e)?"-0":e}}function K_(n){return{integerValue:""+n}}function x0(n,e){return yp(e)?K_(e):S0(n,e)}class Nm{constructor(){this._=void 0}}function Ss(n,e,t){return n instanceof wp?function(s,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&(l.fields.__previous_value__=a),{mapValue:l}}(t,e):n instanceof Oh?Y_(n,e):n instanceof Ph?N0(n,e):function(s,a){const l=R0(s,a),p=Q_(l)+Q_(s.C);return $_(l)&&$_(s.C)?K_(p):S0(s.N,p)}(n,e)}function JD(n,e,t){return n instanceof Oh?Y_(n,e):n instanceof Ph?N0(n,e):t}function R0(n,e){return n instanceof Bc?$_(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class wp extends Nm{}class Oh extends Nm{constructor(e){super(),this.elements=e}}function Y_(n,e){const t=M0(e);for(const s of n.elements)t.some(a=>Ra(a,s))||t.push(s);return{arrayValue:{values:t}}}class Ph extends Nm{constructor(e){super(),this.elements=e}}function N0(n,e){let t=M0(e);for(const s of n.elements)t=t.filter(a=>!Ra(a,s));return{arrayValue:{values:t}}}class Bc extends Nm{constructor(e,t){super(),this.N=e,this.C=t}}function Q_(n){return rr(n.integerValue||n.doubleValue)}function M0(n){return Ep(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class bp{constructor(e,t){this.field=e,this.transform=t}}class O0{constructor(e,t){this.version=e,this.transformResults=t}}class gr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new gr}static exists(e){return new gr(void 0,e)}static updateTime(e){return new gr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ip(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Mm{}function eT(n,e,t){n instanceof td?function(s,a,l){const p=s.value.clone(),v=tT(s.fieldTransforms,a,l.transformResults);p.setAll(v),a.convertToFoundDocument(l.version,p).setHasCommittedMutations()}(n,e,t):n instanceof jc?function(s,a,l){if(!Ip(s.precondition,a))return void a.convertToUnknownDocument(l.version);const p=tT(s.fieldTransforms,a,l.transformResults),v=a.data;v.setAll(F0(s)),v.setAll(p),a.convertToFoundDocument(l.version,v).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Om(n,e,t){var a;n instanceof td?function(s,a,l){if(!Ip(s.precondition,a))return;const p=s.value.clone(),v=J_(s.fieldTransforms,l,a);p.setAll(v),a.convertToFoundDocument(Bo(a),p).setHasLocalMutations()}(n,e,t):n instanceof jc?function(s,a,l){if(!Ip(s.precondition,a))return;const p=J_(s.fieldTransforms,l,a),v=a.data;v.setAll(F0(s)),v.setAll(p),a.convertToFoundDocument(Bo(a),v).setHasLocalMutations()}(n,e,t):Ip(n.precondition,a=e)&&a.convertToNoDocument(Ct.min())}function P0(n,e){let t=null;for(const s of n.fieldTransforms){const a=e.data.field(s.field),l=R0(s.transform,a||null);null!=l&&(null==t&&(t=Li.empty()),t.set(s.field,l))}return t||null}function k0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===s||t&&s&&Ah(t,s,(a,l)=>function(n,e){return n.field.isEqual(e.field)&&(s=e.transform,(t=n.transform)instanceof Oh&&s instanceof Oh||t instanceof Ph&&s instanceof Ph?Ah(t.elements,s.elements,Ra):t instanceof Bc&&s instanceof Bc?Ra(t.C,s.C):t instanceof wp&&s instanceof wp);var t,s}(a,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,s}function Bo(n){return n.isFoundDocument()?n.version:Ct.min()}class td extends Mm{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}}class jc extends Mm{constructor(e,t,s,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}}function F0(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}}),e}function tT(n,e,t){const s=new Map;gt(n.length===t.length);for(let a=0;a<t.length;a++){const l=n[a],p=l.transform,v=e.data.field(l.field);s.set(l.field,JD(p,v,t[a]))}return s}function J_(n,e,t){const s=new Map;for(const a of n){const l=a.transform,p=t.data.field(a.field);s.set(a.field,Ss(l,p,e))}return s}class Cp extends Mm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class X_ extends Mm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class nT{constructor(e){this.count=e}}var Zn,Vt;function L0(n){switch(n){default:return et();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function Dp(n){if(void 0===n)return qn("GRPC error has no .code"),me.UNKNOWN;switch(n){case Zn.OK:return me.OK;case Zn.CANCELLED:return me.CANCELLED;case Zn.UNKNOWN:return me.UNKNOWN;case Zn.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case Zn.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case Zn.INTERNAL:return me.INTERNAL;case Zn.UNAVAILABLE:return me.UNAVAILABLE;case Zn.UNAUTHENTICATED:return me.UNAUTHENTICATED;case Zn.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case Zn.NOT_FOUND:return me.NOT_FOUND;case Zn.ALREADY_EXISTS:return me.ALREADY_EXISTS;case Zn.PERMISSION_DENIED:return me.PERMISSION_DENIED;case Zn.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case Zn.ABORTED:return me.ABORTED;case Zn.OUT_OF_RANGE:return me.OUT_OF_RANGE;case Zn.UNIMPLEMENTED:return me.UNIMPLEMENTED;case Zn.DATA_LOSS:return me.DATA_LOSS;default:return et()}}(Vt=Zn||(Zn={}))[Vt.OK=0]="OK",Vt[Vt.CANCELLED=1]="CANCELLED",Vt[Vt.UNKNOWN=2]="UNKNOWN",Vt[Vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Vt[Vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Vt[Vt.NOT_FOUND=5]="NOT_FOUND",Vt[Vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Vt[Vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Vt[Vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Vt[Vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Vt[Vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Vt[Vt.ABORTED=10]="ABORTED",Vt[Vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Vt[Vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Vt[Vt.INTERNAL=13]="INTERNAL",Vt[Vt.UNAVAILABLE=14]="UNAVAILABLE",Vt[Vt.DATA_LOSS=15]="DATA_LOSS";class ir{constructor(e,t){this.comparator=e,this.root=t||xr.EMPTY}insert(e,t){return new ir(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xr.BLACK,null,null))}remove(e){return new ir(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pm(this.root,e,this.comparator,!0)}}class Pm{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xr{constructor(e,t,s,a,l){this.key=e,this.value=t,this.color=null!=s?s:xr.RED,this.left=null!=a?a:xr.EMPTY,this.right=null!=l?l:xr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,l){return new xr(null!=e?e:this.key,null!=t?t:this.value,null!=s?s:this.color,null!=a?a:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===l?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return xr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return xr.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw et();const e=this.left.check();if(e!==this.right.check())throw et();return e+(this.isRed()?0:1)}}xr.EMPTY=null,xr.RED=!0,xr.BLACK=!1,xr.EMPTY=new class{constructor(){this.size=0}get key(){throw et()}get value(){throw et()}get color(){throw et()}get left(){throw et()}get right(){throw et()}copy(n,e,t,s,a){return this}insert(n,e,t){return new xr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mn{constructor(e){this.comparator=e,this.data=new ir(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ev(this.data.getIterator())}getIteratorFrom(e){return new ev(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Mn)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(0!==this.comparator(a,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Mn(this.comparator);return t.data=e,t}}class ev{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const rT=new ir(Je.comparator);function Js(){return rT}const tv=new ir(Je.comparator);function V0(){return tv}const iT=new ir(Je.comparator);function nv(){return iT}const U0=new Mn(Je.comparator);function Jt(...n){let e=U0;for(const t of n)e=e.add(t);return e}const B0=new Mn(Mt);function Tp(){return B0}class xs{constructor(e,t,s,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const s=new Map;return s.set(e,$c.createSynthesizedTargetChangeForCurrentChange(e,t)),new xs(Ct.min(),s,Tp(),Js(),Jt())}}class $c{constructor(e,t,s,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new $c(pr.EMPTY_BYTE_STRING,t,Jt(),Jt(),Jt())}}class km{constructor(e,t,s,a){this.k=e,this.removedTargetIds=t,this.key=s,this.$=a}}class j0{constructor(e,t){this.targetId=e,this.O=t}}class sT{constructor(e,t,s=pr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class nd{constructor(){this.F=0,this.M=Fh(),this.L=pr.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=Jt(),t=Jt(),s=Jt();return this.M.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:et()}}),new $c(this.L,this.B,e,t,s)}G(){this.U=!1,this.M=Fh()}H(e,t){this.U=!0,this.M=this.M.insert(e,t)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class $0{constructor(e){this.tt=e,this.et=new Map,this.nt=Js(),this.st=kh(),this.it=new Mn(Mt)}rt(e){for(const t of e.k)e.$&&e.$.isFoundDocument()?this.ot(t,e.$):this.at(t,e.key,e.$);for(const t of e.removedTargetIds)this.at(t,e.key,e.$)}ct(e){this.forEachTarget(e,t=>{const s=this.ut(t);switch(e.state){case 0:this.ht(t)&&s.j(e.resumeToken);break;case 1:s.X(),s.q||s.G(),s.j(e.resumeToken);break;case 2:s.X(),s.q||this.removeTarget(t);break;case 3:this.ht(t)&&(s.Z(),s.j(e.resumeToken));break;case 4:this.ht(t)&&(this.lt(t),s.j(e.resumeToken));break;default:et()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach((s,a)=>{this.ht(a)&&t(a)})}ft(e){const t=e.targetId,s=e.O.count,a=this.dt(t);if(a){const l=a.target;if(Nh(l))if(0===s){const p=new Je(l.path);this.at(t,p,Ln.newNoDocument(p,Ct.min()))}else gt(1===s);else this.wt(t)!==s&&(this.lt(t),this.it=this.it.add(t))}}_t(e){const t=new Map;this.et.forEach((l,p)=>{const v=this.dt(p);if(v){if(l.current&&Nh(v.target)){const I=new Je(v.target.path);null!==this.nt.get(I)||this.gt(p,I)||this.at(p,I,Ln.newNoDocument(I,e))}l.K&&(t.set(p,l.W()),l.G())}});let s=Jt();this.st.forEach((l,p)=>{let v=!0;p.forEachWhile(I=>{const S=this.dt(I);return!S||2===S.purpose||(v=!1,!1)}),v&&(s=s.add(l))});const a=new xs(e,t,this.it,this.nt,s);return this.nt=Js(),this.st=kh(),this.it=new Mn(Mt),a}ot(e,t){if(!this.ht(e))return;const s=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,s),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}at(e,t,s){if(!this.ht(e))return;const a=this.ut(e);this.gt(e,t)?a.H(t,1):a.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),s&&(this.nt=this.nt.insert(t,s))}removeTarget(e){this.et.delete(e)}wt(e){const t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let t=this.et.get(e);return t||(t=new nd,this.et.set(e,t)),t}yt(e){let t=this.st.get(e);return t||(t=new Mn(Mt),this.st=this.st.insert(e,t)),t}ht(e){const t=null!==this.dt(e);return t||Ue("WatchChangeAggregator","Detected inactive target",e),t}dt(e){const t=this.et.get(e);return t&&t.q?null:this.tt.Tt(e)}lt(e){this.et.set(e,new nd),this.tt.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}gt(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}function kh(){return new ir(Je.comparator)}function Fh(){return new ir(Je.comparator)}const oT={asc:"ASCENDING",desc:"DESCENDING"},rv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class H0{constructor(e,t){this.databaseId=e,this.D=t}}function Ap(n,e){return n.D?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iv(n,e){return n.D?e.toBase64():e.toUint8Array()}function aT(n,e){return Ap(n,e.toTimestamp())}function mr(n){return gt(!!n),Ct.fromTimestamp(function(e){const t=xa(e);return new Sr(t.seconds,t.nanos)}(n))}function sv(n,e){return(t=n,new Wt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function G0(n){const e=Wt.fromString(n);return gt(J0(e)),e}function Lh(n,e){return sv(n.databaseId,e.path)}function Ui(n,e){const t=G0(e);if(t.get(1)!==n.databaseId.projectId)throw new Oe(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Oe(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Je(rd(t))}function Fm(n,e){return sv(n.databaseId,e)}function q0(n){const e=G0(n);return 4===e.length?Wt.emptyPath():rd(e)}function Sp(n){return new Wt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function rd(n){return gt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Z0(n,e,t){return{name:Lh(n,e),fields:t.value.mapValue.fields}}function W0(n,e,t){const s=Ui(n,e.name),a=mr(e.updateTime),l=new Li({mapValue:{fields:e.fields}}),p=Ln.newFoundDocument(s,a,l);return t&&p.setHasCommittedMutations(),t?p.setHasCommittedMutations():p}function ov(n,e){let t;if(e instanceof td)t={update:Z0(n,e.key,e.value)};else if(e instanceof Cp)t={delete:Lh(n,e.key)};else if(e instanceof jc)t={update:Z0(n,e.key,e.data),updateMask:pT(e.fieldMask)};else{if(!(e instanceof X_))return et();t={verify:Lh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,l){const p=l.transform;if(p instanceof wp)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Oh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ph)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Bc)return{fieldPath:l.field.canonicalString(),increment:p.C};throw et()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:aT(n,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:et()),t;var a}function z0(n,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?gr.updateTime(mr(a.updateTime)):void 0!==a.exists?gr.exists(a.exists):gr.none():gr.none(),s=e.updateTransforms?e.updateTransforms.map(a=>function(l,p){let v=null;"setToServerValue"in p?(gt("REQUEST_TIME"===p.setToServerValue),v=new wp):"appendMissingElements"in p?v=new Oh(p.appendMissingElements.values||[]):"removeAllFromArray"in p?v=new Ph(p.removeAllFromArray.values||[]):"increment"in p?v=new Bc(l,p.increment):et();const I=yn.fromServerFormat(p.fieldPath);return new bp(I,v)}(n,a)):[];var a;if(e.update){const a=Ui(n,e.update.name),l=new Li({mapValue:{fields:e.update.fields}});if(e.updateMask){const p=new Ql((e.updateMask.fieldPaths||[]).map(S=>yn.fromServerFormat(S)));return new jc(a,l,p,t,s)}return new td(a,l,t,s)}if(e.delete){const a=Ui(n,e.delete);return new Cp(a,t)}if(e.verify){const a=Ui(n,e.verify);return new X_(a,t)}return et()}function In(n,e){return{documents:[Fm(n,e.path)]}}function Lm(n,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=Fm(n,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Fm(n,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(v){if(0===v.length)return;const I=v.map(S=>function(M){if("=="===M.op){if(WD(M.value))return{unaryFilter:{field:id(M.field),op:"IS_NAN"}};if(ZD(M.value))return{unaryFilter:{field:id(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(WD(M.value))return{unaryFilter:{field:id(M.field),op:"IS_NOT_NAN"}};if(ZD(M.value))return{unaryFilter:{field:id(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:id(M.field),op:fT(M.op),value:M.value}}}(S));return 1===I.length?I[0]:{compositeFilter:{op:"AND",filters:I}}}(e.filters);a&&(t.structuredQuery.where=a);const l=function(v){if(0!==v.length)return v.map(I=>{return{field:id((S=I).field),direction:hT(S.dir)};var S})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const p=(I=e.limit,n.D||Fi(I)?I:{value:I});var I;return null!==p&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=Um(e.startAt)),e.endAt&&(t.structuredQuery.endAt=Um(e.endAt)),t}function lT(n){let e=q0(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){gt(1===s);const M=t.from[0];M.allDescendants?a=M.collectionId:e=e.child(M.collectionId)}let l=[];t.where&&(l=Vm(t.where));let p=[];t.orderBy&&(p=t.orderBy.map(M=>{return new ed(sd((P=M).field),function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction));var P}));let v=null;t.limit&&(v=function(M){let P;return P="object"==typeof M?M.value:M,Fi(P)?null:P}(t.limit));let I=null;t.startAt&&(I=dT(t.startAt));let S=null;return t.endAt&&(S=dT(t.endAt)),Tm(e,a,p,l,v,"F",I,S)}function Vm(n){return n?void 0!==n.unaryFilter?[Q0(n)]:void 0!==n.fieldFilter?[Y0(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Vm(e)).reduce((e,t)=>e.concat(t)):et():[]}function Um(n){return{before:n.before,values:n.position}}function dT(n){return new Xl(n.values||[],!!n.before)}function hT(n){return oT[n]}function fT(n){return rv[n]}function id(n){return{fieldPath:n.canonicalString()}}function sd(n){return yn.fromServerFormat(n.fieldPath)}function Y0(n){return Vi.create(sd(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return et()}}(n.fieldFilter.op),n.fieldFilter.value)}function Q0(n){switch(n.unaryFilter.op){case"IS_NAN":const e=sd(n.unaryFilter.field);return Vi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=sd(n.unaryFilter.field);return Vi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=sd(n.unaryFilter.field);return Vi.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=sd(n.unaryFilter.field);return Vi.create(a,"!=",{nullValue:"NULL_VALUE"});default:return et()}}function pT(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function J0(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Bi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=uv(e)),e=av(n.get(t),e);return uv(e)}function av(n,e){let t=e;const s=n.length;for(let a=0;a<s;a++){const l=n.charAt(a);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function uv(n){return n+"\x01\x01"}function Na(n){const e=n.length;if(gt(e>=2),2===e)return gt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Wt.emptyPath();const t=e-2,s=[];let a="";for(let l=0;l<e;){const p=n.indexOf("\x01",l);switch((p<0||p>t)&&et(),n.charAt(p+1)){case"\x01":const v=n.substring(l,p);let I;0===a.length?I=v:(a+=v,I=a,a=""),s.push(I);break;case"\x10":a+=n.substring(l,p),a+="\0";break;case"\x11":a+=n.substring(l,p+1);break;default:et()}l=p+2}return new Wt(s)}class X0{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class os{constructor(e,t,s){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=s}}os.store="owner",os.key="owner";class Hc{constructor(e,t,s){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=s}}Hc.store="mutationQueues",Hc.keyPath="userId";class Cn{constructor(e,t,s,a,l){this.userId=e,this.batchId=t,this.localWriteTimeMs=s,this.baseMutations=a,this.mutations=l}}Cn.store="mutations",Cn.keyPath="batchId",Cn.userMutationsIndex="userMutationsIndex",Cn.userMutationsKeyPath=["userId","batchId"];class yi{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Bi(t)]}static key(e,t,s){return[e,Bi(t),s]}}yi.store="documentMutations",yi.PLACEHOLDER=new yi;class gT{constructor(e,t){this.path=e,this.readTime=t}}class eb{constructor(e,t){this.path=e,this.version=t}}class sr{constructor(e,t,s,a,l,p){this.unknownDocument=e,this.noDocument=t,this.document=s,this.hasCommittedMutations=a,this.readTime=l,this.parentPath=p}}sr.store="remoteDocuments",sr.readTimeIndex="readTimeIndex",sr.readTimeIndexPath="readTime",sr.collectionReadTimeIndex="collectionReadTimeIndex",sr.collectionReadTimeIndexPath=["parentPath","readTime"];class jo{constructor(e){this.byteSize=e}}jo.store="remoteDocumentGlobal",jo.key="remoteDocumentGlobalKey";class as{constructor(e,t,s,a,l,p,v){this.targetId=e,this.canonicalId=t,this.readTime=s,this.resumeToken=a,this.lastListenSequenceNumber=l,this.lastLimboFreeSnapshotVersion=p,this.query=v}}as.store="targets",as.keyPath="targetId",as.queryTargetsIndexName="queryTargetsIndex",as.queryTargetsKeyPath=["canonicalId","targetId"];class ti{constructor(e,t,s){this.targetId=e,this.path=t,this.sequenceNumber=s}}ti.store="targetDocuments",ti.keyPath=["targetId","path"],ti.documentTargetsIndex="documentTargetsIndex",ti.documentTargetsKeyPath=["path","targetId"];class Xs{constructor(e,t,s,a){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=s,this.targetCount=a}}Xs.key="targetGlobalKey",Xs.store="targetGlobal";class Vh{constructor(e,t){this.collectionId=e,this.parent=t}}Vh.store="collectionParents",Vh.keyPath=["collectionId","parent"];class $o{constructor(e,t,s,a){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=s,this.inForeground=a}}$o.store="clientMetadata",$o.keyPath="clientId";class Uh{constructor(e,t,s){this.bundleId=e,this.createTime=t,this.version=s}}Uh.store="bundles",Uh.keyPath="bundleId";class od{constructor(e,t,s){this.name=e,this.readTime=t,this.bundledQuery=s}}od.store="namedQueries",od.keyPath="name";const tb=[Hc.store,Cn.store,yi.store,sr.store,as.store,os.store,Xs.store,ti.store,$o.store,jo.store,Vh.store,Uh.store,od.store],mT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eo{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Me((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Me?t:Me.resolve(t)}catch(t){return Me.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Me.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Me.reject(t)}static resolve(e){return new Me((t,s)=>{t(e)})}static reject(e){return new Me((t,s)=>{s(e)})}static waitFor(e){return new Me((t,s)=>{let a=0,l=0,p=!1;e.forEach(v=>{++a,v.next(()=>{++l,p&&l===a&&t()},I=>s(I))}),p=!0,l===a&&t()})}static or(e){let t=Me.resolve(!1);for(const s of e)t=t.next(a=>a?Me.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,l)=>{s.push(t.call(this,a,l))}),this.waitFor(s)}}class cv{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.Et=new ei,this.transaction.oncomplete=()=>{this.Et.resolve()},this.transaction.onabort=()=>{t.error?this.Et.reject(new Bh(e,t.error)):this.Et.resolve()},this.transaction.onerror=s=>{const a=xp(s.target.error);this.Et.reject(new Bh(e,a))}}static open(e,t,s,a){try{return new cv(t,e.transaction(a,s))}catch(l){throw new Bh(t,l)}}get It(){return this.Et.promise}abort(e){e&&this.Et.reject(e),this.aborted||(Ue("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new yT(t)}}class Ma{constructor(e,t,s){this.name=e,this.version=t,this.At=s,12.2===Ma.Rt((0,It.z$)())&&qn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ue("SimpleDb","Removing database:",e),jh(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!(0,It.hl)())return!1;if(Ma.Pt())return!0;const e=(0,It.z$)(),t=Ma.Rt(e),s=0<t&&t<10,a=Ma.vt(e),l=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||l)}static Pt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Vt)}static St(e,t){return e.store(t)}static Rt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static vt(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}Dt(e){var t=this;return(0,Ee.Z)(function*(){return t.db||(Ue("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,a)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=p=>{s(p.target.result)},l.onblocked=()=>{a(new Bh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=p=>{const v=p.target.error;a("VersionError"===v.name?new Oe(me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===v.name?new Oe(me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+v):new Bh(e,v))},l.onupgradeneeded=p=>{Ue("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',p.oldVersion),t.At.Ct(p.target.result,l.transaction,p.oldVersion,t.version).next(()=>{Ue("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Nt&&(t.db.onversionchange=s=>t.Nt(s)),t.db})()}xt(e){this.Nt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,a){var l=this;return(0,Ee.Z)(function*(){const p="readonly"===t;let v=0;for(;;){++v;try{l.db=yield l.Dt(e);const I=cv.open(l.db,e,p?"readonly":"readwrite",s),S=a(I).catch(M=>(I.abort(M),Me.reject(M))).toPromise();return S.catch(()=>{}),yield I.It,S}catch(I){const S="FirebaseError"!==I.name&&v<3;if(Ue("SimpleDb","Transaction failed with error:",I.message,"Retrying:",S),l.close(),!S)return Promise.reject(I)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class nb{constructor(e){this.kt=e,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(e){this.kt=e}done(){this.$t=!0}Mt(e){this.Ot=e}delete(){return jh(this.kt.delete())}}class Bh extends Oe{constructor(e,t){super(me.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Gc(n){return"IndexedDbTransactionError"===n.name}class yT{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(Ue("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(Ue("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),jh(s)}add(e){return Ue("SimpleDb","ADD",this.store.name,e,e),jh(this.store.add(e))}get(e){return jh(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ue("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ue("SimpleDb","DELETE",this.store.name,e),jh(this.store.delete(e))}count(){return Ue("SimpleDb","COUNT",this.store.name),jh(this.store.count())}Lt(e,t){const s=this.cursor(this.options(e,t)),a=[];return this.Bt(s,(l,p)=>{a.push(p)}).next(()=>a)}Ut(e,t){Ue("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.qt=!1;const a=this.cursor(s);return this.Bt(a,(l,p,v)=>v.delete())}Kt(e,t){let s;t?s=e:(s={},t=e);const a=this.cursor(s);return this.Bt(a,t)}jt(e){const t=this.cursor({});return new Me((s,a)=>{t.onerror=l=>{const p=xp(l.target.error);a(p)},t.onsuccess=l=>{const p=l.target.result;p?e(p.primaryKey,p.value).next(v=>{v?p.continue():s()}):s()}})}Bt(e,t){const s=[];return new Me((a,l)=>{e.onerror=p=>{l(p.target.error)},e.onsuccess=p=>{const v=p.target.result;if(!v)return void a();const I=new nb(v),S=t(v.primaryKey,v.value,I);if(S instanceof Me){const M=S.catch(P=>(I.done(),Me.reject(P)));s.push(M)}I.isDone?a():null===I.Ft?v.continue():v.continue(I.Ft)}}).next(()=>Me.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.qt?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function jh(n){return new Me((e,t)=>{n.onsuccess=s=>{e(s.target.result)},n.onerror=s=>{const a=xp(s.target.error);t(a)}})}let lv=!1;function xp(n){const e=Ma.Rt((0,It.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const s=new Oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return lv||(lv=!0,setTimeout(()=>{throw s},0)),s}}return n}class rb extends eo{constructor(e,t){super(),this.Qt=e,this.currentSequenceNumber=t}}function _i(n,e){const t=$e(n);return Ma.St(t.Qt,e)}class dv{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&eT(l,e,s[a])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Om(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Om(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const s=e.get(t.key),a=s;this.applyToLocalView(a),s.isValidDocument()||a.convertToNoDocument(Ct.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Jt())}isEqual(e){return this.batchId===e.batchId&&Ah(this.mutations,e.mutations,(t,s)=>k0(t,s))&&Ah(this.baseMutations,e.baseMutations,(t,s)=>k0(t,s))}}class hv{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){gt(e.mutations.length===s.length);let a=nv();const l=e.mutations;for(let p=0;p<l.length;p++)a=a.insert(l[p].key,s[p].version);return new hv(e,t,s,a)}}class qc{constructor(e,t,s,a,l=Ct.min(),p=Ct.min(),v=pr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=v}withSequenceNumber(e){return new qc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new qc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new qc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class ib{constructor(e){this.Wt=e}}function fv(n,e){if(e.document)return W0(n.Wt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=Je.fromSegments(e.noDocument.path),s=vi(e.noDocument.readTime),a=Ln.newNoDocument(t,s);return e.hasCommittedMutations?a.setHasCommittedMutations():a}if(e.unknownDocument){const t=Je.fromSegments(e.unknownDocument.path),s=vi(e.unknownDocument.version);return Ln.newUnknownDocument(t,s)}return et()}function sb(n,e,t){const s=$h(t),a=e.key.path.popLast().toArray();if(e.isFoundDocument()){const l={name:Lh(v=n.Wt,(I=e).key),fields:I.data.value.mapValue.fields,updateTime:Ap(v,I.version.toTimestamp())};return new sr(null,null,l,e.hasCommittedMutations,s,a)}var v,I;if(e.isNoDocument()){const l=e.key.path.toArray(),p=ud(e.version),v=e.hasCommittedMutations;return new sr(null,new gT(l,p),null,v,s,a)}if(e.isUnknownDocument()){const l=e.key.path.toArray(),p=ud(e.version);return new sr(new eb(l,p),null,null,!0,s,a)}return et()}function $h(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function ad(n){const e=new Sr(n[0],n[1]);return Ct.fromTimestamp(e)}function ud(n){const e=n.toTimestamp();return new X0(e.seconds,e.nanoseconds)}function vi(n){const e=new Sr(n.seconds,n.nanoseconds);return Ct.fromTimestamp(e)}function Oa(n,e){const t=(e.baseMutations||[]).map(l=>z0(n.Wt,l));for(let l=0;l<e.mutations.length-1;++l){const p=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(p.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const s=e.mutations.map(l=>z0(n.Wt,l)),a=Sr.fromMillis(e.localWriteTimeMs);return new dv(e.batchId,a,t,s)}function Rp(n){const e=vi(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?vi(n.lastLimboFreeSnapshotVersion):Ct.min();let s;var a;return void 0!==n.query.documents?(gt(1===(a=n.query).documents.length),s=ss(Uo(q0(a.documents[0])))):s=ss(lT(n.query)),new qc(s,n.targetId,0,n.lastListenSequenceNumber,e,t,pr.fromBase64String(n.resumeToken))}function ob(n,e){const t=ud(e.snapshotVersion),s=ud(e.lastLimboFreeSnapshotVersion);let a;a=Nh(e.target)?In(n.Wt,e.target):Lm(n.Wt,e.target);const l=e.resumeToken.toBase64();return new as(e.targetId,Cm(e.target),t,l,e.sequenceNumber,s,a)}function Np(n){const e=lT({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?W_(e,e.limit,"L"):e}class Pa{getBundleMetadata(e,t){return Hh(e).get(t).next(s=>{if(s)return{id:(a=s).bundleId,createTime:vi(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return Hh(e).put({bundleId:(s=t).id,createTime:ud(mr(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return ni(e).get(t).next(s=>{if(s)return{name:(a=s).name,query:Np(a.bundledQuery),readTime:vi(a.readTime)};var a})}saveNamedQuery(e,t){return ni(e).put({name:(s=t).name,readTime:ud(mr(s.readTime)),bundledQuery:s.bundledQuery});var s}}function Hh(n){return _i(n,Uh.store)}function ni(n){return _i(n,od.store)}class cd{constructor(){this.Gt=new Gh}addToCollectionParentIndex(e,t){return this.Gt.add(t),Me.resolve()}getCollectionParents(e,t){return Me.resolve(this.Gt.getEntries(t))}}class Gh{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Mn(Wt.comparator),l=!a.has(s);return this.index[t]=a.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Mn(Wt.comparator)).toArray()}}class to{constructor(){this.zt=new Gh}addToCollectionParentIndex(e,t){if(!this.zt.has(t)){const s=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.zt.add(t)});const l={collectionId:s,parent:Bi(a)};return Bm(e).put(l)}return Me.resolve()}getCollectionParents(e,t){const s=[],a=IDBKeyRange.bound([t,""],[m0(t),""],!1,!0);return Bm(e).Lt(a).next(l=>{for(const p of l){if(p.collectionId!==t)break;s.push(Na(p.parent))}return s})}}function Bm(n){return _i(n,Vh.store)}const ld={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Rr{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Rr(e,Rr.DEFAULT_COLLECTION_PERCENTILE,Rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function dd(n,e,t){const s=n.store(Cn.store),a=n.store(yi.store),l=[],p=IDBKeyRange.only(t.batchId);let v=0;const I=s.Kt({range:p},(M,P,K)=>(v++,K.delete()));l.push(I.next(()=>{gt(1===v)}));const S=[];for(const M of t.mutations){const P=yi.key(e,M.key.path,t.batchId);l.push(a.delete(P)),S.push(M.key)}return Me.waitFor(l).next(()=>S)}function xu(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw et();e=n.noDocument}return JSON.stringify(e).length}Rr.DEFAULT_COLLECTION_PERCENTILE=10,Rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rr.DEFAULT=new Rr(41943040,Rr.DEFAULT_COLLECTION_PERCENTILE,Rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rr.DISABLED=new Rr(-1,0,0);class Zc{constructor(e,t,s,a){this.userId=e,this.N=t,this.Ht=s,this.referenceDelegate=a,this.Jt={}}static Yt(e,t,s,a){gt(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new Zc(l,t,s,a)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Rs(e).Kt({index:Cn.userMutationsIndex,range:s},(a,l,p)=>{t=!1,p.done()}).next(()=>t)}addMutationBatch(e,t,s,a){const l=Ho(e),p=Rs(e);return p.add({}).next(v=>{gt("number"==typeof v);const I=new dv(v,t,s,a),S=function(K,J,xe){const He=xe.baseMutations.map(Ot=>ov(K.Wt,Ot)),ze=xe.mutations.map(Ot=>ov(K.Wt,Ot));return new Cn(J,xe.batchId,xe.localWriteTime.toMillis(),He,ze)}(this.N,this.userId,I),M=[];let P=new Mn((K,J)=>Mt(K.canonicalString(),J.canonicalString()));for(const K of a){const J=yi.key(this.userId,K.key.path,v);P=P.add(K.key.path.popLast()),M.push(p.put(S)),M.push(l.put(J,yi.PLACEHOLDER))}return P.forEach(K=>{M.push(this.Ht.addToCollectionParentIndex(e,K))}),e.addOnCommittedListener(()=>{this.Jt[v]=I.keys()}),Me.waitFor(M).next(()=>I)})}lookupMutationBatch(e,t){return Rs(e).get(t).next(s=>s?(gt(s.userId===this.userId),Oa(this.N,s)):null)}Xt(e,t){return this.Jt[t]?Me.resolve(this.Jt[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const a=s.keys();return this.Jt[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=IDBKeyRange.lowerBound([this.userId,s]);let l=null;return Rs(e).Kt({index:Cn.userMutationsIndex,range:a},(p,v,I)=>{v.userId===this.userId&&(gt(v.batchId>=s),l=Oa(this.N,v)),I.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Rs(e).Kt({index:Cn.userMutationsIndex,range:t,reverse:!0},(a,l,p)=>{s=l.batchId,p.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Rs(e).Lt(Cn.userMutationsIndex,t).next(s=>s.map(a=>Oa(this.N,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=yi.prefixForPath(this.userId,t.path),a=IDBKeyRange.lowerBound(s),l=[];return Ho(e).Kt({range:a},(p,v,I)=>{const[S,M,P]=p,K=Na(M);if(S===this.userId&&t.path.isEqual(K))return Rs(e).get(P).next(J=>{if(!J)throw et();gt(J.userId===this.userId),l.push(Oa(this.N,J))});I.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Mn(Mt);const a=[];return t.forEach(l=>{const p=yi.prefixForPath(this.userId,l.path),v=IDBKeyRange.lowerBound(p),I=Ho(e).Kt({range:v},(S,M,P)=>{const[K,J,xe]=S,He=Na(J);K===this.userId&&l.path.isEqual(He)?s=s.add(xe):P.done()});a.push(I)}),Me.waitFor(a).next(()=>this.Zt(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1,l=yi.prefixForPath(this.userId,s),p=IDBKeyRange.lowerBound(l);let v=new Mn(Mt);return Ho(e).Kt({range:p},(I,S,M)=>{const[P,K,J]=I,xe=Na(K);P===this.userId&&s.isPrefixOf(xe)?xe.length===a&&(v=v.add(J)):M.done()}).next(()=>this.Zt(e,v))}Zt(e,t){const s=[],a=[];return t.forEach(l=>{a.push(Rs(e).get(l).next(p=>{if(null===p)throw et();gt(p.userId===this.userId),s.push(Oa(this.N,p))}))}),Me.waitFor(a).next(()=>s)}removeMutationBatch(e,t){return dd(e.Qt,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.te(t.batchId)}),Me.forEach(s,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}te(e){delete this.Jt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Me.resolve();const s=IDBKeyRange.lowerBound(yi.prefixForUser(this.userId)),a=[];return Ho(e).Kt({range:s},(l,p,v)=>{if(l[0]===this.userId){const I=Na(l[1]);a.push(I)}else v.done()}).next(()=>{gt(0===a.length)})})}containsKey(e,t){return hd(e,this.userId,t)}ee(e){return fd(e).get(this.userId).next(t=>t||new Hc(this.userId,-1,""))}}function hd(n,e,t){const s=yi.prefixForPath(e,t.path),a=s[1],l=IDBKeyRange.lowerBound(s);let p=!1;return Ho(n).Kt({range:l,qt:!0},(v,I,S)=>{const[M,P,K]=v;M===e&&P===a&&(p=!0),S.done()}).next(()=>p)}function Rs(n){return _i(n,Cn.store)}function Ho(n){return _i(n,yi.store)}function fd(n){return _i(n,Hc.store)}class Wc{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new Wc(0)}static ie(){return new Wc(-1)}}class ab{constructor(e,t){this.referenceDelegate=e,this.N=t}allocateTargetId(e){return this.re(e).next(t=>{const s=new Wc(t.highestTargetId);return t.highestTargetId=s.next(),this.oe(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.re(e).next(t=>Ct.fromTimestamp(new Sr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.re(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.re(e).next(a=>(a.highestListenSequenceNumber=t,s&&(a.lastRemoteSnapshotVersion=s.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.oe(e,a)))}addTargetData(e,t){return this.ae(e,t).next(()=>this.re(e).next(s=>(s.targetCount+=1,this.ce(t,s),this.oe(e,s))))}updateTargetData(e,t){return this.ae(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>pd(e).delete(t.targetId)).next(()=>this.re(e)).next(s=>(gt(s.targetCount>0),s.targetCount-=1,this.oe(e,s)))}removeTargets(e,t,s){let a=0;const l=[];return pd(e).Kt((p,v)=>{const I=Rp(v);I.sequenceNumber<=t&&null===s.get(I.targetId)&&(a++,l.push(this.removeTargetData(e,I)))}).next(()=>Me.waitFor(l)).next(()=>a)}forEachTarget(e,t){return pd(e).Kt((s,a)=>{const l=Rp(a);t(l)})}re(e){return pv(e).get(Xs.key).next(t=>(gt(null!==t),t))}oe(e,t){return pv(e).put(Xs.key,t)}ae(e,t){return pd(e).put(ob(this.N,t))}ce(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.re(e).next(t=>t.targetCount)}getTargetData(e,t){const s=Cm(t),a=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let l=null;return pd(e).Kt({range:a,index:as.queryTargetsIndexName},(p,v,I)=>{const S=Rp(v);Vo(t,S.target)&&(l=S,I.done())}).next(()=>l)}addMatchingKeys(e,t,s){const a=[],l=Ru(e);return t.forEach(p=>{const v=Bi(p.path);a.push(l.put(new ti(s,v))),a.push(this.referenceDelegate.addReference(e,s,p))}),Me.waitFor(a)}removeMatchingKeys(e,t,s){const a=Ru(e);return Me.forEach(t,l=>{const p=Bi(l.path);return Me.waitFor([a.delete([s,p]),this.referenceDelegate.removeReference(e,s,l)])})}removeMatchingKeysForTargetId(e,t){const s=Ru(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(a)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),a=Ru(e);let l=Jt();return a.Kt({range:s,qt:!0},(p,v,I)=>{const S=Na(p[1]),M=new Je(S);l=l.add(M)}).next(()=>l)}containsKey(e,t){const s=Bi(t.path),a=IDBKeyRange.bound([s],[m0(s)],!1,!0);let l=0;return Ru(e).Kt({index:ti.documentTargetsIndex,qt:!0,range:a},([p,v],I,S)=>{0!==p&&(l++,S.done())}).next(()=>l>0)}Tt(e,t){return pd(e).get(t).next(s=>s?Rp(s):null)}}function pd(n){return _i(n,as.store)}function pv(n){return _i(n,Xs.store)}function Ru(n){return _i(n,ti.store)}function zc(n){return jm.apply(this,arguments)}function jm(){return(jm=(0,Ee.Z)(function*(n){if(n.code!==me.FAILED_PRECONDITION||n.message!==mT)throw n;Ue("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function gv([n,e],[t,s]){const a=Mt(n,t);return 0===a?Mt(e,s):a}class ub{constructor(e){this.ue=e,this.buffer=new Mn(gv),this.he=0}le(){return++this.he}fe(e){const t=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();gv(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class _T{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.de=!1,this.we=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(e){var t=this;const s=this.de?3e5:6e4;Ue("LruGarbageCollector",`Garbage collection scheduled in ${s}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",s,(0,Ee.Z)(function*(){t.we=null,t.de=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(a){Gc(a)?Ue("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield zc(a)}yield t._e(e)}))}}class cb{constructor(e,t){this.me=e,this.params=t}calculateTargetCount(e,t){return this.me.ge(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return Me.resolve(As.T);const s=new ub(t);return this.me.forEachTarget(e,a=>s.fe(a.sequenceNumber)).next(()=>this.me.ye(e,a=>s.fe(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.me.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.me.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector","Garbage collection skipped; disabled"),Me.resolve(ld)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ld):this.pe(e,t))}getCacheSize(e){return this.me.getCacheSize(e)}pe(e,t){let s,a,l,p,v,I,S;const M=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(P=>(P>this.params.maximumSequenceNumbersToCollect?(Ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${P}`),a=this.params.maximumSequenceNumbersToCollect):a=P,p=Date.now(),this.nthSequenceNumber(e,a))).next(P=>(s=P,v=Date.now(),this.removeTargets(e,s,t))).next(P=>(l=P,I=Date.now(),this.removeOrphanedDocuments(e,s))).next(P=>(S=Date.now(),vm()<=zs.in.DEBUG&&Ue("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${p-M}ms\n\tDetermined least recently used ${a} in `+(v-p)+`ms\n\tRemoved ${l} targets in `+(I-v)+`ms\n\tRemoved ${P} documents in `+(S-I)+`ms\nTotal Duration: ${S-M}ms`),Me.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:P})))}}class vT{constructor(e,t){this.db=e,this.garbageCollector=new cb(this,t)}ge(e){const t=this.Te(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}Te(e){let t=0;return this.ye(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ye(e,t){return this.Ee(e,(s,a)=>t(a))}addReference(e,t,s){return $m(e,s)}removeReference(e,t,s){return $m(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return $m(e,t)}Ie(e,t){return function(s,a){let l=!1;return fd(s).jt(p=>hd(s,p,a).next(v=>(v&&(l=!0),Me.resolve(!v)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.Ee(e,(p,v)=>{if(v<=t){const I=this.Ie(e,p).next(S=>{if(!S)return l++,s.getEntry(e,p).next(()=>(s.removeEntry(p),Ru(e).delete([0,Bi(p.path)])))});a.push(I)}}).next(()=>Me.waitFor(a)).next(()=>s.apply(e)).next(()=>l)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return $m(e,t)}Ee(e,t){const s=Ru(e);let a,l=As.T;return s.Kt({index:ti.documentTargetsIndex},([p,v],{path:I,sequenceNumber:S})=>{0===p?(l!==As.T&&t(new Je(Na(a)),l),l=S,a=I):l=As.T}).next(()=>{l!==As.T&&t(new Je(Na(a)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function $m(n,e){return Ru(n).put((s=n.currentSequenceNumber,new ti(0,Bi(e.path),s)));var s}class gd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,l]of s)if(this.equalsFn(a,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0!==a){for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t])}else this.inner[s]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),!0;return!1}forEach(e){Yl(this.inner,(t,s)=>{for(const[a,l]of s)e(a,l)})}isEmpty(){return Et(this.inner)}}class lb{constructor(){this.changes=new gd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:Ct.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Ln.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?Me.resolve(s.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class tR{constructor(e,t){this.N=e,this.Ht=t}addEntry(e,t,s){return Kc(e).put(Mp(t),s)}removeEntry(e,t){const s=Kc(e),a=Mp(t);return s.delete(a)}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Ae(e,s)))}getEntry(e,t){return Kc(e).get(Mp(t)).next(s=>this.Re(t,s))}be(e,t){return Kc(e).get(Mp(t)).next(s=>({document:this.Re(t,s),size:xu(s)}))}getEntries(e,t){let s=Js();return this.Pe(e,t,(a,l)=>{const p=this.Re(a,l);s=s.insert(a,p)}).next(()=>s)}ve(e,t){let s=Js(),a=new ir(Je.comparator);return this.Pe(e,t,(l,p)=>{const v=this.Re(l,p);s=s.insert(l,v),a=a.insert(l,xu(p))}).next(()=>({documents:s,Ve:a}))}Pe(e,t,s){if(t.isEmpty())return Me.resolve();const a=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),l=t.getIterator();let p=l.getNext();return Kc(e).Kt({range:a},(v,I,S)=>{const M=Je.fromSegments(v);for(;p&&Je.comparator(p,M)<0;)s(p,null),p=l.getNext();p&&p.isEqual(M)&&(s(p,I),p=l.hasNext()?l.getNext():null),p?S.Mt(p.path.toArray()):S.done()}).next(()=>{for(;p;)s(p,null),p=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,s){let a=Js();const l=t.path.length+1,p={};if(s.isEqual(Ct.min())){const v=t.path.toArray();p.range=IDBKeyRange.lowerBound(v)}else{const v=t.path.toArray(),I=$h(s);p.range=IDBKeyRange.lowerBound([v,I],!0),p.index=sr.collectionReadTimeIndex}return Kc(e).Kt(p,(v,I,S)=>{if(v.length!==l)return;const M=fv(this.N,I);t.path.isPrefixOf(M.key.path)?Rm(t,M)&&(a=a.insert(M.key,M)):S.done()}).next(()=>a)}newChangeBuffer(e){return new ET(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return mv(e).get(jo.key).next(t=>(gt(!!t),t))}Ae(e,t){return mv(e).put(jo.key,t)}Re(e,t){if(t){const s=fv(this.N,t);if(!s.isNoDocument()||!s.version.isEqual(Ct.min()))return s}return Ln.newInvalidDocument(e)}}class ET extends lb{constructor(e,t){super(),this.Se=e,this.trackRemovals=t,this.De=new gd(s=>s.toString(),(s,a)=>s.isEqual(a))}applyChanges(e){const t=[];let s=0,a=new Mn((l,p)=>Mt(l.canonicalString(),p.canonicalString()));return this.changes.forEach((l,p)=>{const v=this.De.get(l);if(p.document.isValidDocument()){const I=sb(this.Se.N,p.document,this.getReadTime(l));a=a.add(l.path.popLast()),s+=xu(I)-v,t.push(this.Se.addEntry(e,l,I))}else if(s-=v,this.trackRemovals){const I=sb(this.Se.N,Ln.newNoDocument(l,Ct.min()),this.getReadTime(l));t.push(this.Se.addEntry(e,l,I))}else t.push(this.Se.removeEntry(e,l))}),a.forEach(l=>{t.push(this.Se.Ht.addToCollectionParentIndex(e,l))}),t.push(this.Se.updateMetadata(e,s)),Me.waitFor(t)}getFromCache(e,t){return this.Se.be(e,t).next(s=>(this.De.set(t,s.size),s.document))}getAllFromCache(e,t){return this.Se.ve(e,t).next(({documents:s,Ve:a})=>(a.forEach((l,p)=>{this.De.set(l,p)}),s))}}function mv(n){return _i(n,jo.store)}function Kc(n){return _i(n,sr.store)}function Mp(n){return n.path.toArray()}class wT{constructor(e){this.N=e}Ct(e,t,s,a){gt(s<a&&s>=0&&a<=11);const l=new cv("createOrUpgrade",t);var v;s<1&&a>=1&&(e.createObjectStore(os.store),(v=e).createObjectStore(Hc.store,{keyPath:Hc.keyPath}),v.createObjectStore(Cn.store,{keyPath:Cn.keyPath,autoIncrement:!0}).createIndex(Cn.userMutationsIndex,Cn.userMutationsKeyPath,{unique:!0}),v.createObjectStore(yi.store),db(e),function(v){v.createObjectStore(sr.store)}(e));let p=Me.resolve();return s<3&&a>=3&&(0!==s&&(function(v){v.deleteObjectStore(ti.store),v.deleteObjectStore(as.store),v.deleteObjectStore(Xs.store)}(e),db(e)),p=p.next(()=>function(v){const I=v.store(Xs.store),S=new Xs(0,0,Ct.min().toTimestamp(),0);return I.put(Xs.key,S)}(l))),s<4&&a>=4&&(0!==s&&(p=p.next(()=>function(v,I){return I.store(Cn.store).Lt().next(S=>{v.deleteObjectStore(Cn.store),v.createObjectStore(Cn.store,{keyPath:Cn.keyPath,autoIncrement:!0}).createIndex(Cn.userMutationsIndex,Cn.userMutationsKeyPath,{unique:!0});const M=I.store(Cn.store),P=S.map(K=>M.put(K));return Me.waitFor(P)})}(e,l))),p=p.next(()=>{!function(v){v.createObjectStore($o.store,{keyPath:$o.keyPath})}(e)})),s<5&&a>=5&&(p=p.next(()=>this.Ce(l))),s<6&&a>=6&&(p=p.next(()=>(function(v){v.createObjectStore(jo.store)}(e),this.Ne(l)))),s<7&&a>=7&&(p=p.next(()=>this.xe(l))),s<8&&a>=8&&(p=p.next(()=>this.ke(e,l))),s<9&&a>=9&&(p=p.next(()=>{(function(v){v.objectStoreNames.contains("remoteDocumentChanges")&&v.deleteObjectStore("remoteDocumentChanges")})(e),function(v){const I=v.objectStore(sr.store);I.createIndex(sr.readTimeIndex,sr.readTimeIndexPath,{unique:!1}),I.createIndex(sr.collectionReadTimeIndex,sr.collectionReadTimeIndexPath,{unique:!1})}(t)})),s<10&&a>=10&&(p=p.next(()=>this.$e(l))),s<11&&a>=11&&(p=p.next(()=>{(function(v){v.createObjectStore(Uh.store,{keyPath:Uh.keyPath})})(e),function(v){v.createObjectStore(od.store,{keyPath:od.keyPath})}(e)})),p}Ne(e){let t=0;return e.store(sr.store).Kt((s,a)=>{t+=xu(a)}).next(()=>{const s=new jo(t);return e.store(jo.store).put(jo.key,s)})}Ce(e){const t=e.store(Hc.store),s=e.store(Cn.store);return t.Lt().next(a=>Me.forEach(a,l=>{const p=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return s.Lt(Cn.userMutationsIndex,p).next(v=>Me.forEach(v,I=>{gt(I.userId===l.userId);const S=Oa(this.N,I);return dd(e,l.userId,S).next(()=>{})}))}))}xe(e){const t=e.store(ti.store),s=e.store(sr.store);return e.store(Xs.store).get(Xs.key).next(a=>{const l=[];return s.Kt((p,v)=>{const I=new Wt(p),S=[0,Bi(I)];l.push(t.get(S).next(M=>M?Me.resolve():t.put(new ti(0,Bi(I),a.highestListenSequenceNumber))))}).next(()=>Me.waitFor(l))})}ke(e,t){e.createObjectStore(Vh.store,{keyPath:Vh.keyPath});const s=t.store(Vh.store),a=new Gh,l=p=>{if(a.add(p)){const v=p.lastSegment(),I=p.popLast();return s.put({collectionId:v,parent:Bi(I)})}};return t.store(sr.store).Kt({qt:!0},(p,v)=>{const I=new Wt(p);return l(I.popLast())}).next(()=>t.store(yi.store).Kt({qt:!0},([p,v,I],S)=>{const M=Na(v);return l(M.popLast())}))}$e(e){const t=e.store(as.store);return t.Kt((s,a)=>{const l=Rp(a),p=ob(this.N,l);return t.put(p)})}}function db(n){n.createObjectStore(ti.store,{keyPath:ti.keyPath}).createIndex(ti.documentTargetsIndex,ti.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(as.store,{keyPath:as.keyPath}).createIndex(as.queryTargetsIndexName,as.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(Xs.store)}const hb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class yv{constructor(e,t,s,a,l,p,v,I,S,M){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.Oe=l,this.window=p,this.document=v,this.Fe=S,this.Me=M,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=P=>Promise.resolve(),!yv.bt())throw new Oe(me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new vT(this,a),this.We=t+"main",this.N=new ib(I),this.Ge=new Ma(this.We,11,new wT(this.N)),this.ze=new ab(this.referenceDelegate,this.N),this.Ht=new to,this.He=new tR(this.N,this.Ht),this.Je=new Pa,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===M&&qn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Oe(me.FAILED_PRECONDITION,hb);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ze.getHighestSequenceNumber(e))}).then(e=>{this.Le=new As(e,this.Fe)}).then(()=>{this.Be=!0}).catch(e=>(this.Ge&&this.Ge.close(),Promise.reject(e)))}nn(e){var t=this;return this.Qe=function(){var s=(0,Ee.Z)(function*(a){if(t.started)return e(a)});return function(a){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ge.xt(function(){var t=(0,Ee.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,Ee.Z)(function*(){t.started&&(yield t.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>_v(e).put(new $o(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(e).next(t=>{t||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(e)).next(t=>this.isPrimary&&!t?this.on(e).next(()=>!1):!!t&&this.an(e).next(()=>!0))).catch(e=>{if(Gc(e))return Ue("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ue("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.Qe(e)),this.isPrimary=e})}sn(e){return qh(e).get(os.key).next(t=>Me.resolve(this.cn(t)))}un(e){return _v(e).delete(this.clientId)}hn(){var e=this;return(0,Ee.Z)(function*(){if(e.isPrimary&&!e.ln(e.je,18e5)){e.je=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const a=_i(s,$o.store);return a.Lt().next(l=>{const p=e.fn(l,18e5),v=l.filter(I=>-1===p.indexOf(I));return Me.forEach(v,I=>a.delete(I.clientId)).next(()=>v)})}).catch(()=>[]);if(e.Ye)for(const s of t)e.Ye.removeItem(e.dn(s.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(e){return!!e&&e.ownerId===this.clientId}rn(e){return this.Me?Me.resolve(!0):qh(e).get(os.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)){if(this.cn(t)&&this.networkEnabled)return!0;if(!this.cn(t)){if(!t.allowTabSynchronization)throw new Oe(me.FAILED_PRECONDITION,hb);return!1}}return!(!this.networkEnabled||!this.inForeground)||_v(e).Lt().next(s=>void 0===this.fn(s,5e3).find(a=>{if(this.clientId!==a.clientId){const p=!this.inForeground&&a.inForeground,v=this.networkEnabled===a.networkEnabled;if(!this.networkEnabled&&a.networkEnabled||p&&v)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ue("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ee.Z)(function*(){e.Be=!1,e._n(),e.Ke&&(e.Ke.cancel(),e.Ke=null),e.mn(),e.gn(),yield e.Ge.runTransaction("shutdown","readwrite",[os.store,$o.store],t=>{const s=new rb(t,As.T);return e.on(s).next(()=>e.un(s))}),e.Ge.close(),e.yn()})()}fn(e,t){return e.filter(s=>this.ln(s.updateTimeMs,t)&&!this.wn(s.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",e=>_v(e).Lt().next(t=>this.fn(t,18e5).map(s=>s.clientId)))}get started(){return this.Be}getMutationQueue(e){return Zc.Yt(e,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(e,t,s){let l;return Ue("IndexedDbPersistence","Starting transaction:",e),this.Ge.runTransaction(e,"readonly"===t?"readonly":"readwrite",tb,p=>(l=new rb(p,this.Le?this.Le.next():As.T),"readwrite-primary"===t?this.sn(l).next(v=>!!v||this.rn(l)).next(v=>{if(!v)throw qn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Oe(me.FAILED_PRECONDITION,mT);return s(l)}).next(v=>this.an(l).next(()=>v)):this.Tn(l).next(()=>s(l)))).then(p=>(l.raiseOnCommittedEvent(),p))}Tn(e){return qh(e).get(os.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)&&!this.cn(t)&&!(this.Me||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Oe(me.FAILED_PRECONDITION,hb)})}an(e){const t=new os(this.clientId,this.allowTabSynchronization,Date.now());return qh(e).put(os.key,t)}static bt(){return Ma.bt()}on(e){const t=qh(e);return t.get(os.key).next(s=>this.cn(s)?(Ue("IndexedDbPersistence","Releasing primary lease."),t.delete(os.key)):Me.resolve())}ln(e,t){const s=Date.now();return!(e<s-t||e>s&&(qn(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=()=>{this._n(),(0,It.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(e){var t;try{const s=null!==(null===(t=this.Ye)||void 0===t?void 0:t.getItem(this.dn(e)));return Ue("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return qn("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(e){qn("Failed to set zombie client id.",e)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(e){}}dn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function qh(n){return _i(n,os.store)}function _v(n){return _i(n,$o.store)}function fb(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class nR{constructor(e,t){this.progress=e,this.En=t}}class pb{constructor(e,t,s){this.He=e,this.In=t,this.Ht=s}An(e,t){return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next(s=>this.Rn(e,t,s))}Rn(e,t,s){return this.He.getEntry(e,t).next(a=>{for(const l of s)l.applyToLocalView(a);return a})}bn(e,t){e.forEach((s,a)=>{for(const l of t)l.applyToLocalView(a)})}Pn(e,t){return this.He.getEntries(e,t).next(s=>this.vn(e,s).next(()=>s))}vn(e,t){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>this.bn(t,s))}getDocumentsMatchingQuery(e,t,s){return Je.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.Vn(e,t.path):Sm(t)?this.Sn(e,t,s):this.Dn(e,t,s);var a}Vn(e,t){return this.An(e,new Je(t)).next(s=>{let a=V0();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}Sn(e,t,s){const a=t.collectionGroup;let l=V0();return this.Ht.getCollectionParents(e,a).next(p=>Me.forEach(p,v=>{const I=(S=t,M=v.child(a),new is(M,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt));var S,M;return this.Dn(e,I,s).next(S=>{S.forEach((M,P)=>{l=l.insert(M,P)})})}).next(()=>l))}Dn(e,t,s){let a,l;return this.He.getDocumentsMatchingQuery(e,t,s).next(p=>(a=p,this.In.getAllMutationBatchesAffectingQuery(e,t))).next(p=>(l=p,this.Cn(e,l,a).next(v=>{a=v;for(const I of l)for(const S of I.mutations){const M=S.key;let P=a.get(M);null==P&&(P=Ln.newInvalidDocument(M),a=a.insert(M,P)),Om(S,P,I.localWriteTime),P.isFoundDocument()||(a=a.remove(M))}}))).next(()=>(a.forEach((p,v)=>{Rm(t,v)||(a=a.remove(p))}),a))}Cn(e,t,s){let a=Jt();for(const p of t)for(const v of p.mutations)v instanceof jc&&null===s.get(v.key)&&(a=a.add(v.key));let l=s;return this.He.getEntries(e,a).next(p=>(p.forEach((v,I)=>{I.isFoundDocument()&&(l=l.insert(v,I))}),l))}}class gb{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Nn=s,this.xn=a}static kn(e,t){let s=Jt(),a=Jt();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new gb(e,t.fromCache,s,a)}}class mb{$n(e){this.On=e}getDocumentsMatchingQuery(e,t,s,a){return 0===(l=t).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||s.isEqual(Ct.min())?this.Fn(e,t):this.On.Pn(e,a).next(l=>{const p=this.Mn(t,l);return(Lc(t)||Au(t))&&this.Ln(t.limitType,p,a,s)?this.Fn(e,t):(vm()<=zs.in.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),xm(t)),this.On.getDocumentsMatchingQuery(e,t,s).next(v=>(p.forEach(I=>{v=v.insert(I.key,I)}),v)))});var l}Mn(e,t){let s=new Mn(z_(e));return t.forEach((a,l)=>{Rm(e,l)&&(s=s.add(l))}),s}Ln(e,t,s,a){if(s.size!==t.size)return!0;const l="F"===e?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Fn(e,t){return vm()<=zs.in.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",xm(t)),this.On.getDocumentsMatchingQuery(e,t,Ct.min())}}class bT{constructor(e,t,s,a){this.persistence=e,this.Bn=t,this.N=a,this.Un=new ir(Mt),this.qn=new gd(l=>Cm(l),Vo),this.Kn=Ct.min(),this.In=e.getMutationQueue(s),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new pb(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Un))}}function Hm(n,e,t,s){return new bT(n,e,t,s)}function Gm(n,e){return vv.apply(this,arguments)}function vv(){return(vv=(0,Ee.Z)(function*(n,e){const t=$e(n);let s=t.In,a=t.Qn;const l=yield t.persistence.runTransaction("Handle user change","readonly",p=>{let v;return t.In.getAllMutationBatches(p).next(I=>(v=I,s=t.persistence.getMutationQueue(e),a=new pb(t.jn,s,t.persistence.getIndexManager()),s.getAllMutationBatches(p))).next(I=>{const S=[],M=[];let P=Jt();for(const K of v){S.push(K.batchId);for(const J of K.mutations)P=P.add(J.key)}for(const K of I){M.push(K.batchId);for(const J of K.mutations)P=P.add(J.key)}return a.Pn(p,P).next(K=>({Wn:K,removedBatchIds:S,addedBatchIds:M}))})});return t.In=s,t.Qn=a,t.Bn.$n(t.Qn),l})).apply(this,arguments)}function rR(n,e){const t=$e(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),l=t.jn.newChangeBuffer({trackRemovals:!0});return function(p,v,I,S){const M=I.batch,P=M.keys();let K=Me.resolve();return P.forEach(J=>{K=K.next(()=>S.getEntry(v,J)).next(xe=>{const He=I.docVersions.get(J);gt(null!==He),xe.version.compareTo(He)<0&&(M.applyToRemoteDocument(xe,I),xe.isValidDocument()&&S.addEntry(xe,I.commitVersion))})}),K.next(()=>p.In.removeMutationBatch(v,M))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.In.performConsistencyCheck(s)).next(()=>t.Qn.Pn(s,a))})}function IT(n){const e=$e(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ze.getLastRemoteSnapshotVersion(t))}function iR(n,e){const t=$e(n),s=e.snapshotVersion;let a=t.Un;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const p=t.jn.newChangeBuffer({trackRemovals:!0});a=t.Un;const v=[];e.targetChanges.forEach((S,M)=>{const P=a.get(M);if(!P)return;v.push(t.ze.removeMatchingKeys(l,S.removedDocuments,M).next(()=>t.ze.addMatchingKeys(l,S.addedDocuments,M)));const K=S.resumeToken;if(K.approximateByteSize()>0){const J=P.withResumeToken(K,s).withSequenceNumber(l.currentSequenceNumber);a=a.insert(M,J),xe=P,ze=S,gt((He=J).resumeToken.approximateByteSize()>0),(0===xe.resumeToken.approximateByteSize()||He.snapshotVersion.toMicroseconds()-xe.snapshotVersion.toMicroseconds()>=3e8||ze.addedDocuments.size+ze.modifiedDocuments.size+ze.removedDocuments.size>0)&&v.push(t.ze.updateTargetData(l,J))}var xe,He,ze});let I=Js();if(e.documentUpdates.forEach((S,M)=>{e.resolvedLimboDocuments.has(S)&&v.push(t.persistence.referenceDelegate.updateLimboDocument(l,S))}),v.push(yb(l,p,e.documentUpdates,s,void 0).next(S=>{I=S})),!s.isEqual(Ct.min())){const S=t.ze.getLastRemoteSnapshotVersion(l).next(M=>t.ze.setTargetsMetadata(l,l.currentSequenceNumber,s));v.push(S)}return Me.waitFor(v).next(()=>p.apply(l)).next(()=>t.Qn.vn(l,I)).next(()=>I)}).then(l=>(t.Un=a,l))}function yb(n,e,t,s,a){let l=Jt();return t.forEach(p=>l=l.add(p)),e.getEntries(n,l).next(p=>{let v=Js();return t.forEach((I,S)=>{const M=p.get(I),P=(null==a?void 0:a.get(I))||s;S.isNoDocument()&&S.version.isEqual(Ct.min())?(e.removeEntry(I,P),v=v.insert(I,S)):!M.isValidDocument()||S.version.compareTo(M.version)>0||0===S.version.compareTo(M.version)&&M.hasPendingWrites?(e.addEntry(S,P),v=v.insert(I,S)):Ue("LocalStore","Ignoring outdated watch update for ",I,". Current version:",M.version," Watch version:",S.version)}),v})}function _b(n,e){const t=$e(n);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.In.getNextMutationBatchAfterBatchId(s,e)))}function Op(n,e){const t=$e(n);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.ze.getTargetData(s,e).next(l=>l?(a=l,Me.resolve(a)):t.ze.allocateTargetId(s).next(p=>(a=new qc(e,p,0,s.currentSequenceNumber),t.ze.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Un.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Un=t.Un.insert(s.targetId,s),t.qn.set(e,s.targetId)),s})}function Zh(n,e,t){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,Ee.Z)(function*(n,e,t){const s=$e(n),a=s.Un.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",l,p=>s.persistence.referenceDelegate.removeTarget(p,a)))}catch(p){if(!Gc(p))throw p;Ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${p}`)}s.Un=s.Un.remove(e),s.qn.delete(a.target)})).apply(this,arguments)}function qm(n,e,t){const s=$e(n);let a=Ct.min(),l=Jt();return s.persistence.runTransaction("Execute query","readonly",p=>function(v,I,S){const M=$e(v),P=M.qn.get(S);return void 0!==P?Me.resolve(M.Un.get(P)):M.ze.getTargetData(I,S)}(s,p,ss(e)).next(v=>{if(v)return a=v.lastLimboFreeSnapshotVersion,s.ze.getMatchingKeysForTargetId(p,v.targetId).next(I=>{l=I})}).next(()=>s.Bn.getDocumentsMatchingQuery(p,e,t?a:Ct.min(),t?l:Jt())).next(v=>({documents:v,Gn:l})))}function Ev(n,e){const t=$e(n),s=$e(t.ze),a=t.Un.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",l=>s.Tt(l,e).next(p=>p?p.target:null))}function vb(n){const e=$e(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(s,a,l){const p=$e(s);let v=Js(),I=$h(l);const S=Kc(a),M=IDBKeyRange.lowerBound(I,!0);return S.Kt({index:sr.readTimeIndex,range:M},(P,K)=>{const J=fv(p.N,K);v=v.insert(J.key,J),I=K.readTime}).next(()=>({En:v,readTime:ad(I)}))}(e.jn,t,e.Kn)).then(({En:t,readTime:s})=>(e.Kn=s,t))}function Wh(){return(Wh=(0,Ee.Z)(function*(n){const e=$e(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(s){const a=Kc(s);let l=Ct.min();return a.Kt({index:sr.readTimeIndex,reverse:!0},(p,v,I)=>{v.readTime&&(l=ad(v.readTime)),I.done()}).next(()=>l)}(t)).then(t=>{e.Kn=t})})).apply(this,arguments)}function Zm(){return(Zm=(0,Ee.Z)(function*(n,e,t,s){const a=$e(n);let l=Jt(),p=Js(),v=nv();for(const M of t){const P=e.zn(M.metadata.name);M.document&&(l=l.add(P)),p=p.insert(P,e.Hn(M)),v=v.insert(P,e.Jn(M.metadata.readTime))}const I=a.jn.newChangeBuffer({trackRemovals:!0}),S=yield Op(a,(M=s,ss(Uo(Wt.fromString(`__bundle__/docs/${M}`)))));var M;return a.persistence.runTransaction("Apply bundle documents","readwrite",M=>yb(M,I,p,Ct.min(),v).next(P=>(I.apply(M),P)).next(P=>a.ze.removeMatchingKeysForTargetId(M,S.targetId).next(()=>a.ze.addMatchingKeys(M,l,S.targetId)).next(()=>a.Qn.vn(M,P)).next(()=>P)))})).apply(this,arguments)}function DT(n,e){return wv.apply(this,arguments)}function wv(){return(wv=(0,Ee.Z)(function*(n,e,t=Jt()){const s=yield Op(n,ss(Np(e.bundledQuery))),a=$e(n);return a.persistence.runTransaction("Save named query","readwrite",l=>{const p=mr(e.readTime);if(s.snapshotVersion.compareTo(p)>=0)return a.Je.saveNamedQuery(l,e);const v=s.withResumeToken(pr.EMPTY_BYTE_STRING,p);return a.Un=a.Un.insert(v.targetId,v),a.ze.updateTargetData(l,v).next(()=>a.ze.removeMatchingKeysForTargetId(l,s.targetId)).next(()=>a.ze.addMatchingKeys(l,t,s.targetId)).next(()=>a.Je.saveNamedQuery(l,e))})})).apply(this,arguments)}class TT{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return Me.resolve(this.Yn.get(t))}saveBundleMetadata(e,t){var s;return this.Yn.set(t.id,{id:(s=t).id,version:s.version,createTime:mr(s.createTime)}),Me.resolve()}getNamedQuery(e,t){return Me.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(s=t).name,query:Np(s.bundledQuery),readTime:mr(s.readTime)}),Me.resolve();var s}}class bv{constructor(){this.Zn=new Mn($r.ts),this.es=new Mn($r.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const s=new $r(e,t);this.Zn=this.Zn.add(s),this.es=this.es.add(s)}ss(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.rs(new $r(e,t))}os(e,t){e.forEach(s=>this.removeReference(s,t))}cs(e){const t=new Je(new Wt([])),s=new $r(t,e),a=new $r(t,e+1),l=[];return this.es.forEachInRange([s,a],p=>{this.rs(p),l.push(p.key)}),l}us(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new Je(new Wt([])),s=new $r(t,e),a=new $r(t,e+1);let l=Jt();return this.es.forEachInRange([s,a],p=>{l=l.add(p.key)}),l}containsKey(e){const t=new $r(e,0),s=this.Zn.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class $r{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return Je.comparator(e.key,t.key)||Mt(e.ls,t.ls)}static ns(e,t){return Mt(e.ls,t.ls)||Je.comparator(e.key,t.key)}}class wb{constructor(e,t){this.Ht=e,this.referenceDelegate=t,this.In=[],this.fs=1,this.ds=new Mn($r.ts)}checkEmpty(e){return Me.resolve(0===this.In.length)}addMutationBatch(e,t,s,a){const l=this.fs;this.fs++;const p=new dv(l,t,s,a);this.In.push(p);for(const v of a)this.ds=this.ds.add(new $r(v.key,l)),this.Ht.addToCollectionParentIndex(e,v.key.path.popLast());return Me.resolve(p)}lookupMutationBatch(e,t){return Me.resolve(this.ws(t))}getNextMutationBatchAfterBatchId(e,t){const a=this._s(t+1),l=a<0?0:a;return Me.resolve(this.In.length>l?this.In[l]:null)}getHighestUnacknowledgedBatchId(){return Me.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return Me.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new $r(t,0),a=new $r(t,Number.POSITIVE_INFINITY),l=[];return this.ds.forEachInRange([s,a],p=>{const v=this.ws(p.ls);l.push(v)}),Me.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Mn(Mt);return t.forEach(a=>{const l=new $r(a,0),p=new $r(a,Number.POSITIVE_INFINITY);this.ds.forEachInRange([l,p],v=>{s=s.add(v.ls)})}),Me.resolve(this.gs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let l=s;Je.isDocumentKey(l)||(l=l.child(""));const p=new $r(new Je(l),0);let v=new Mn(Mt);return this.ds.forEachWhile(I=>{const S=I.key.path;return!!s.isPrefixOf(S)&&(S.length===a&&(v=v.add(I.ls)),!0)},p),Me.resolve(this.gs(v))}gs(e){const t=[];return e.forEach(s=>{const a=this.ws(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){gt(0===this.ys(t.batchId,"removed")),this.In.shift();let s=this.ds;return Me.forEach(t.mutations,a=>{const l=new $r(a.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.ds=s})}te(e){}containsKey(e,t){const s=new $r(t,0),a=this.ds.firstAfterOrEqual(s);return Me.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Me.resolve()}ys(e,t){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}class AT{constructor(e,t){this.Ht=e,this.ps=t,this.docs=new ir(Je.comparator),this.size=0}addEntry(e,t,s){const a=t.key,l=this.docs.get(a),p=l?l.size:0,v=this.ps(t);return this.docs=this.docs.insert(a,{document:t.clone(),size:v,readTime:s}),this.size+=v-p,this.Ht.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Me.resolve(s?s.document.clone():Ln.newInvalidDocument(t))}getEntries(e,t){let s=Js();return t.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.clone():Ln.newInvalidDocument(a))}),Me.resolve(s)}getDocumentsMatchingQuery(e,t,s){let a=Js();const l=new Je(t.path.child("")),p=this.docs.getIteratorFrom(l);for(;p.hasNext();){const{key:v,value:{document:I,readTime:S}}=p.getNext();if(!t.path.isPrefixOf(v.path))break;S.compareTo(s)<=0||Rm(t,I)&&(a=a.insert(I.key,I.clone()))}return Me.resolve(a)}Ts(e,t){return Me.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new bb(this)}getSize(e){return Me.resolve(this.size)}}class bb extends lb{constructor(e){super(),this.Se=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.document.isValidDocument()?t.push(this.Se.addEntry(e,a.document,this.getReadTime(s))):this.Se.removeEntry(s)}),Me.waitFor(t)}getFromCache(e,t){return this.Se.getEntry(e,t)}getAllFromCache(e,t){return this.Se.getEntries(e,t)}}class Ib{constructor(e){this.persistence=e,this.Es=new gd(t=>Cm(t),Vo),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.Is=0,this.As=new bv,this.targetCount=0,this.Rs=Wc.se()}forEachTarget(e,t){return this.Es.forEach((s,a)=>t(a)),Me.resolve()}getLastRemoteSnapshotVersion(e){return Me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Me.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Me.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Is&&(this.Is=t),Me.resolve()}ae(e){this.Es.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new Wc(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,Me.resolve()}updateTargetData(e,t){return this.ae(t),Me.resolve()}removeTargetData(e,t){return this.Es.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,Me.resolve()}removeTargets(e,t,s){let a=0;const l=[];return this.Es.forEach((p,v)=>{v.sequenceNumber<=t&&null===s.get(v.targetId)&&(this.Es.delete(p),l.push(this.removeMatchingKeysForTargetId(e,v.targetId)),a++)}),Me.waitFor(l).next(()=>a)}getTargetCount(e){return Me.resolve(this.targetCount)}getTargetData(e,t){const s=this.Es.get(t)||null;return Me.resolve(s)}addMatchingKeys(e,t,s){return this.As.ss(t,s),Me.resolve()}removeMatchingKeys(e,t,s){this.As.os(t,s);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(p=>{l.push(a.markPotentiallyOrphaned(e,p))}),Me.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.As.cs(t),Me.resolve()}getMatchingKeysForTargetId(e,t){const s=this.As.hs(t);return Me.resolve(s)}containsKey(e,t){return Me.resolve(this.As.containsKey(t))}}class Iv{constructor(e,t){this.bs={},this.Le=new As(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new Ib(this),this.Ht=new cd,this.He=new AT(this.Ht,s=>this.referenceDelegate.Ps(s)),this.N=new ib(t),this.Je=new TT(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new wb(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,t,s){Ue("MemoryPersistence","Starting transaction:",e);const a=new sR(this.Le.next());return this.referenceDelegate.vs(),s(a).next(l=>this.referenceDelegate.Vs(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ss(e,t){return Me.or(Object.values(this.bs).map(s=>()=>s.containsKey(e,t)))}}class sR extends eo{constructor(e){super(),this.currentSequenceNumber=e}}class Pp{constructor(e){this.persistence=e,this.Ds=new bv,this.Cs=null}static Ns(e){return new Pp(e)}get xs(){if(this.Cs)return this.Cs;throw et()}addReference(e,t,s){return this.Ds.addReference(s,t),this.xs.delete(s.toString()),Me.resolve()}removeReference(e,t,s){return this.Ds.removeReference(s,t),this.xs.add(s.toString()),Me.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Me.resolve()}removeTarget(e,t){this.Ds.cs(t.targetId).forEach(a=>this.xs.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.xs.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}vs(){this.Cs=new Set}Vs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Me.forEach(this.xs,s=>{const a=Je.fromPath(s);return this.ks(e,a).next(l=>{l||t.removeEntry(a)})}).next(()=>(this.Cs=null,t.apply(e)))}updateLimboDocument(e,t){return this.ks(e,t).next(s=>{s?this.xs.delete(t.toString()):this.xs.add(t.toString())})}Ps(e){return 0}ks(e,t){return Me.or([()=>Me.resolve(this.Ds.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ss(e,t)])}}function Cb(n,e){return`firestore_clients_${n}_${e}`}function ST(n,e,t){let s=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function md(n,e){return`firestore_targets_${n}_${e}`}class Wm{constructor(e,t,s,a){this.user=e,this.batchId=t,this.state=s,this.error=a}static $s(e,t,s){const a=JSON.parse(s);let l,p="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return p&&a.error&&(p="string"==typeof a.error.message&&"string"==typeof a.error.code,p&&(l=new Oe(a.error.code,a.error.message))),p?new Wm(e,t,a.state,l):(qn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class yd{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static $s(e,t){const s=JSON.parse(t);let a,l="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return l&&s.error&&(l="string"==typeof s.error.message&&"string"==typeof s.error.code,l&&(a=new Oe(s.error.code,s.error.message))),l?new yd(e,s.state,a):(qn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class zh{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const s=JSON.parse(t);let a="object"==typeof s&&s.activeTargetIds instanceof Array,l=Tp();for(let p=0;a&&p<s.activeTargetIds.length;++p)a=yp(s.activeTargetIds[p]),l=l.add(s.activeTargetIds[p]);return a?new zh(e,l):(qn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Cv{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Cv(t.clientId,t.onlineState):(qn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class kp{constructor(){this.activeTargetIds=Tp()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Fp{constructor(e,t,s,a,l){this.window=e,this.Oe=t,this.persistenceKey=s,this.Ls=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new ir(Mt),this.started=!1,this.Ks=[];const p=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.js=Cb(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new kp),this.Ws=new RegExp(`^firestore_clients_${p}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${p}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${p}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(v){return`firestore_bundle_loaded_${v}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.syncEngine.pn();for(const a of t){if(a===e.Ls)continue;const l=e.getItem(Cb(e.persistenceKey,a));if(l){const p=zh.$s(a,l);p&&(e.qs=e.qs.insert(p.clientId,p))}}e.Ys();const s=e.storage.getItem(e.Hs);if(s){const a=e.Xs(s);a&&e.Zs(a)}for(const a of e.Ks)e.Us(a);e.Ks=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Qs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(e){let t=!1;return this.qs.forEach((s,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ei(e,"pending")}updateMutationState(e,t,s){this.ei(e,t,s),this.ni(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(md(this.persistenceKey,e));if(s){const a=yd.$s(e,s);a&&(t=a.state)}}return this.si.Fs(e),this.Ys(),t}removeLocalQueryTarget(e){this.si.Ms(e),this.Ys()}isLocalQueryTarget(e){return this.si.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(md(this.persistenceKey,e))}updateQueryState(e,t,s){this.ii(e,t,s)}handleUserChange(e,t,s){t.forEach(a=>{this.ni(a)}),this.currentUser=e,s.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.ri(e)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ue("SharedClientState","READ",e,t),t}setItem(e,t){Ue("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ue("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Us(e){var t=this;const s=e;if(s.storageArea===this.storage){if(Ue("SharedClientState","EVENT",s.key,s.newValue),s.key===this.js)return void qn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,Ee.Z)(function*(){if(t.started){if(null!==s.key)if(t.Ws.test(s.key)){if(null==s.newValue){const a=t.ai(s.key);return t.ci(a,null)}{const a=t.ui(s.key,s.newValue);if(a)return t.ci(a.clientId,a)}}else if(t.Gs.test(s.key)){if(null!==s.newValue){const a=t.hi(s.key,s.newValue);if(a)return t.li(a)}}else if(t.zs.test(s.key)){if(null!==s.newValue){const a=t.fi(s.key,s.newValue);if(a)return t.di(a)}}else if(s.key===t.Hs){if(null!==s.newValue){const a=t.Xs(s.newValue);if(a)return t.Zs(a)}}else if(s.key===t.Qs){const a=function(l){let p=As.T;if(null!=l)try{const v=JSON.parse(l);gt("number"==typeof v),p=v}catch(v){qn("SharedClientState","Failed to read sequence number from WebStorage",v)}return p}(s.newValue);a!==As.T&&t.sequenceNumberHandler(a)}else if(s.key===t.Js)return t.syncEngine.wi()}else t.Ks.push(s)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(e,t,s){const a=new Wm(this.currentUser,e,t,s),l=ST(this.persistenceKey,this.currentUser,e);this.setItem(l,a.Os())}ni(e){const t=ST(this.persistenceKey,this.currentUser,e);this.removeItem(t)}ri(e){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:e}))}ii(e,t,s){const a=md(this.persistenceKey,e),l=new yd(e,t,s);this.setItem(a,l.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(e){const t=this.Ws.exec(e);return t?t[1]:null}ui(e,t){const s=this.ai(e);return zh.$s(s,t)}hi(e,t){const s=this.Gs.exec(e),a=Number(s[1]);return Wm.$s(new jr(void 0!==s[2]?s[2]:null),a,t)}fi(e,t){const s=this.zs.exec(e),a=Number(s[1]);return yd.$s(a,t)}Xs(e){return Cv.$s(e)}li(e){var t=this;return(0,Ee.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine._i(e.batchId,e.state,e.error);Ue("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}di(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}ci(e,t){const s=t?this.qs.insert(e,t):this.qs.remove(e),a=this.ti(this.qs),l=this.ti(s),p=[],v=[];return l.forEach(I=>{a.has(I)||p.push(I)}),a.forEach(I=>{l.has(I)||v.push(I)}),this.syncEngine.gi(p,v).then(()=>{this.qs=s})}Zs(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ti(e){let t=Tp();return e.forEach((s,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class Dv{constructor(){this.yi=new kp,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,t,s){this.pi[e]=t}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new kp,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class oR{Ti(e){}shutdown(){}}class Db{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){Ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){Ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Tb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Ab{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class xT extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,t,s,a){const l=this.Bi(e,t);Ue("RestConnection","Sending: ",l,s);const p={};return this.Ui(p,a),this.qi(e,l,p,s).then(v=>(Ue("RestConnection","Received: ",v),v),v=>{throw Du("RestConnection",`${e} failed with error: `,v,"url: ",l,"request:",s),v})}Ki(e,t,s,a){return this.Li(e,t,s,a)}Ui(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+Cu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(const s in t.authHeaders)t.authHeaders.hasOwnProperty(s)&&(e[s]=t.authHeaders[s])}Bi(e,t){return`${this.Fi}/v1/${t}:${Tb[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,t,s,a){return new Promise((l,p)=>{const v=new h0;v.listenOnce(BD.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case mm.NO_ERROR:const S=v.getResponseJson();Ue("Connection","XHR received:",JSON.stringify(S)),l(S);break;case mm.TIMEOUT:Ue("Connection",'RPC "'+e+'" timed out'),p(new Oe(me.DEADLINE_EXCEEDED,"Request time out"));break;case mm.HTTP_ERROR:const M=v.getStatus();if(Ue("Connection",'RPC "'+e+'" failed with status:',M,"response text:",v.getResponseText()),M>0){const P=v.getResponseJson().error;if(P&&P.status&&P.message){const K=function(J){const xe=J.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(xe)>=0?xe:me.UNKNOWN}(P.status);p(new Oe(K,P.message))}else p(new Oe(me.UNKNOWN,"Server responded with status "+v.getStatus()))}else p(new Oe(me.UNAVAILABLE,"Connection failed."));break;default:et()}}finally{Ue("Connection",'RPC "'+e+'" completed.')}});const I=JSON.stringify(a);v.send(t,"POST",I,s,15)})}ji(e,t){const s=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Kl(),l=c0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new d0({})),this.Ui(p.initMessageHeaders,t),(0,It.uI)()||(0,It.b$)()||(0,It.d)()||(0,It.w1)()||(0,It.Mn)()||(0,It.ru)()||(p.httpHeadersOverwriteParam="$httpHeaders");const v=s.join("");Ue("Connection","Creating WebChannel: "+v,p);const I=a.createWebChannel(v,p);let S=!1,M=!1;const P=new Ab({vi:J=>{M?Ue("Connection","Not sending because WebChannel is closed:",J):(S||(Ue("Connection","Opening WebChannel transport."),I.open(),S=!0),Ue("Connection","WebChannel sending:",J),I.send(J))},Vi:()=>I.close()}),K=(J,xe,He)=>{J.listen(xe,ze=>{try{He(ze)}catch(Ot){setTimeout(()=>{throw Ot},0)}})};return K(I,mp.EventType.OPEN,()=>{M||Ue("Connection","WebChannel transport opened.")}),K(I,mp.EventType.CLOSE,()=>{M||(M=!0,Ue("Connection","WebChannel transport closed"),P.$i())}),K(I,mp.EventType.ERROR,J=>{M||(M=!0,Du("Connection","WebChannel transport errored:",J),P.$i(new Oe(me.UNAVAILABLE,"The operation could not be completed")))}),K(I,mp.EventType.MESSAGE,J=>{var xe;if(!M){const He=J.data[0];gt(!!He);const ze=He,Ot=ze.error||(null===(xe=ze[0])||void 0===xe?void 0:xe.error);if(Ot){Ue("Connection","WebChannel received error:",Ot);const sn=Ot.status;let On=function(vr){const Ha=Zn[vr];if(void 0!==Ha)return Dp(Ha)}(sn),Bt=Ot.message;void 0===On&&(On=me.INTERNAL,Bt="Unknown error status: "+sn+" with message "+Ot.message),M=!0,P.$i(new Oe(On,Bt)),I.close()}else Ue("Connection","WebChannel received:",He),P.Oi(He)}}),K(l,ym.STAT_EVENT,J=>{J.stat===l0.PROXY?Ue("Connection","Detected buffering proxy"):J.stat===l0.NOPROXY&&Ue("Connection","Detected no buffering proxy")}),setTimeout(()=>{P.ki()},0),P}}function Sb(){return"undefined"!=typeof window?window:null}function Kh(){return"undefined"!=typeof document?document:null}function Yh(n){return new H0(n,!0)}class Lp{constructor(e,t,s=1e3,a=1.5,l=6e4){this.Oe=e,this.timerId=t,this.Qi=s,this.Wi=a,this.Gi=l,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const t=Math.floor(this.zi+this.Zi()),s=Math.max(0,Date.now()-this.Ji),a=Math.max(0,t-s);a>0&&Ue("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.zi} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,a,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class zm{constructor(e,t,s,a,l,p){this.Oe=e,this.er=s,this.nr=a,this.credentialsProvider=l,this.listener=p,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Lp(e,t)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var e=this;return(0,Ee.Z)(function*(){e.ar()&&(yield e.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(e){this._r(),this.stream.send(e)}dr(){var e=this;return(0,Ee.Z)(function*(){if(e.cr())return e.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(e,t){var s=this;return(0,Ee.Z)(function*(){s._r(),s.rr.cancel(),s.sr++,3!==e?s.rr.reset():t&&t.code===me.RESOURCE_EXHAUSTED?(qn(t.toString()),qn("Using maximum backoff delay to prevent overloading the backend."),s.rr.Yi()):t&&t.code===me.UNAUTHENTICATED&&s.credentialsProvider.invalidateToken(),null!==s.stream&&(s.mr(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Ci(t)})()}mr(){}auth(){this.state=1;const e=this.gr(this.sr),t=this.sr;this.credentialsProvider.getToken().then(s=>{this.sr===t&&this.yr(s)},s=>{e(()=>{const a=new Oe(me.UNKNOWN,"Fetching auth token failed: "+s.message);return this.pr(a)})})}yr(e){const t=this.gr(this.sr);this.stream=this.Tr(e),this.stream.Si(()=>{t(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(s=>{t(()=>this.pr(s))}),this.stream.onMessage(s=>{t(()=>this.onMessage(s))})}ur(){var e=this;this.state=4,this.rr.Xi((0,Ee.Z)(function*(){e.state=0,e.start()}))}pr(e){return Ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(3,e)}gr(e){return t=>{this.Oe.enqueueAndForget(()=>this.sr===e?t():(Ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xb extends zm{constructor(e,t,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle",t,s,l),this.N=a}Tr(e){return this.nr.ji("Listen",e)}onMessage(e){this.rr.reset();const t=function(n,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(I=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===I?1:"REMOVE"===I?2:"CURRENT"===I?3:"RESET"===I?4:et(),a=e.targetChange.targetIds||[],l=function(I,S){return I.D?(gt(void 0===S||"string"==typeof S),pr.fromBase64String(S||"")):(gt(void 0===S||S instanceof Uint8Array),pr.fromUint8Array(S||new Uint8Array))}(n,e.targetChange.resumeToken),p=e.targetChange.cause,v=p&&function(I){const S=void 0===I.code?me.UNKNOWN:Dp(I.code);return new Oe(S,I.message||"")}(p);t=new sT(s,a,l,v||null)}else if("documentChange"in e){const s=e.documentChange,a=Ui(n,s.document.name),l=mr(s.document.updateTime),p=new Li({mapValue:{fields:s.document.fields}}),v=Ln.newFoundDocument(a,l,p);t=new km(s.targetIds||[],s.removedTargetIds||[],v.key,v)}else if("documentDelete"in e){const s=e.documentDelete,a=Ui(n,s.document),l=s.readTime?mr(s.readTime):Ct.min(),p=Ln.newNoDocument(a,l);t=new km([],s.removedTargetIds||[],p.key,p)}else if("documentRemove"in e){const s=e.documentRemove,a=Ui(n,s.document);t=new km([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return et();{const s=e.filter,l=new nT(s.count||0);t=new j0(s.targetId,l)}}var I;return t}(this.N,e),s=function(a){if(!("targetChange"in a))return Ct.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ct.min():l.readTime?mr(l.readTime):Ct.min()}(e);return this.listener.Er(t,s)}Ir(e){const t={};t.database=Sp(this.N),t.addTarget=function(a,l){let p;const v=l.target;return p=Nh(v)?{documents:In(a,v)}:{query:Lm(a,v)},p.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?p.resumeToken=iv(a,l.resumeToken):l.snapshotVersion.compareTo(Ct.min())>0&&(p.readTime=Ap(a,l.snapshotVersion.toTimestamp())),p}(this.N,e);const s=function(n,e){const t=function(s,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return et()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.wr(t)}Ar(e){const t={};t.database=Sp(this.N),t.removeTarget=e,this.wr(t)}}class RT extends zm{constructor(e,t,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle",t,s,l),this.N=a,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Tr(e){return this.nr.ji("Write",e)}onMessage(e){if(gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Rr){this.rr.reset();const t=function(n,e){return n&&n.length>0?(gt(void 0!==e),n.map(t=>function(s,a){let l=mr(s.updateTime?s.updateTime:a);return l.isEqual(Ct.min())&&(l=mr(a)),new O0(l,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=mr(e.commitTime);return this.listener.vr(s,t)}return gt(!e.writeResults||0===e.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const e={};e.database=Sp(this.N),this.wr(e)}Pr(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>ov(this.N,s))};this.wr(t)}}class Rb extends class{}{constructor(e,t,s){super(),this.credentials=e,this.nr=t,this.N=s,this.Dr=!1}Cr(){if(this.Dr)throw new Oe(me.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,t,s){return this.Cr(),this.credentials.getToken().then(a=>this.nr.Li(e,t,s,a)).catch(a=>{throw"FirebaseError"===a.name?(a.code===me.UNAUTHENTICATED&&this.credentials.invalidateToken(),a):new Oe(me.UNKNOWN,a.toString())})}Ki(e,t,s){return this.Cr(),this.credentials.getToken().then(a=>this.nr.Ki(e,t,s,a)).catch(a=>{throw"FirebaseError"===a.name?(a.code===me.UNAUTHENTICATED&&this.credentials.invalidateToken(),a):new Oe(me.UNKNOWN,a.toString())})}terminate(){this.Dr=!0}}class Nb{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(e){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Fr("Offline")))}set(e){this.Br(),this.Nr=0,"Online"===e&&(this.$r=!1),this.Fr(e)}Fr(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Mr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(qn(t),this.$r=!1):Ue("OnlineStateTracker",t)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class Tv{constructor(e,t,s,a,l){var p=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=l,this.Qr.Ti(v=>{s.enqueueAndForget((0,Ee.Z)(function*(){var I;Nu(p)&&(Ue("RemoteStore","Restarting streams for network reachability change."),yield(I=(0,Ee.Z)(function*(S){const M=$e(S);M.Kr.add(4),yield Qh(M),M.Wr.set("Unknown"),M.Kr.delete(4),yield Vp(M)}),function(S){return I.apply(this,arguments)})(p))}))}),this.Wr=new Nb(s,a)}}function Vp(n){return Av.apply(this,arguments)}function Av(){return(Av=(0,Ee.Z)(function*(n){if(Nu(n))for(const e of n.jr)yield e(!0)})).apply(this,arguments)}function Qh(n){return Sv.apply(this,arguments)}function Sv(){return(Sv=(0,Ee.Z)(function*(n){for(const e of n.jr)yield e(!1)})).apply(this,arguments)}function Up(n,e){const t=$e(n);t.qr.has(e.targetId)||(t.qr.set(e.targetId,e),Qm(t)?Ym(t):ef(t).cr()&&Km(t,e))}function _d(n,e){const t=$e(n),s=ef(t);t.qr.delete(e),s.cr()&&xv(t,e),0===t.qr.size&&(s.cr()?s.lr():Nu(t)&&t.Wr.set("Unknown"))}function Km(n,e){n.Gr.Y(e.targetId),ef(n).Ir(e)}function xv(n,e){n.Gr.Y(e),ef(n).Ar(e)}function Ym(n){n.Gr=new $0({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>n.qr.get(e)||null}),ef(n).start(),n.Wr.Or()}function Qm(n){return Nu(n)&&!ef(n).ar()&&n.qr.size>0}function Nu(n){return 0===$e(n).Kr.size}function Rv(n){n.Gr=void 0}function Mb(n){return Jm.apply(this,arguments)}function Jm(){return(Jm=(0,Ee.Z)(function*(n){n.qr.forEach((e,t)=>{Km(n,e)})})).apply(this,arguments)}function aR(n,e){return Nv.apply(this,arguments)}function Nv(){return(Nv=(0,Ee.Z)(function*(n,e){Rv(n),Qm(n)?(n.Wr.Lr(e),Ym(n)):n.Wr.set("Unknown")})).apply(this,arguments)}function NT(n,e,t){return Xm.apply(this,arguments)}function Xm(){return(Xm=(0,Ee.Z)(function*(n,e,t){if(n.Wr.set("Online"),e instanceof sT&&2===e.state&&e.cause)try{yield(s=(0,Ee.Z)(function*(a,l){const p=l.cause;for(const v of l.targetIds)a.qr.has(v)&&(yield a.remoteSyncer.rejectListen(v,p),a.qr.delete(v),a.Gr.removeTarget(v))}),function(a,l){return s.apply(this,arguments)})(n,e)}catch(s){Ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield ey(n,s)}else if(e instanceof km?n.Gr.rt(e):e instanceof j0?n.Gr.ft(e):n.Gr.ct(e),!t.isEqual(Ct.min()))try{const s=yield IT(n.localStore);t.compareTo(s)>=0&&(yield function(a,l){const p=a.Gr._t(l);return p.targetChanges.forEach((v,I)=>{if(v.resumeToken.approximateByteSize()>0){const S=a.qr.get(I);S&&a.qr.set(I,S.withResumeToken(v.resumeToken,l))}}),p.targetMismatches.forEach(v=>{const I=a.qr.get(v);if(!I)return;a.qr.set(v,I.withResumeToken(pr.EMPTY_BYTE_STRING,I.snapshotVersion)),xv(a,v);const S=new qc(I.target,v,1,I.sequenceNumber);Km(a,S)}),a.remoteSyncer.applyRemoteEvent(p)}(n,t))}catch(s){Ue("RemoteStore","Failed to raise snapshot:",s),yield ey(n,s)}var s})).apply(this,arguments)}function ey(n,e,t){return or.apply(this,arguments)}function or(){return(or=(0,Ee.Z)(function*(n,e,t){if(!Gc(e))throw e;n.Kr.add(1),yield Qh(n),n.Wr.set("Offline"),t||(t=()=>IT(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ee.Z)(function*(){Ue("RemoteStore","Retrying IndexedDB access"),yield t(),n.Kr.delete(1),yield Vp(n)}))})).apply(this,arguments)}function Mv(n,e){return e().catch(t=>ey(n,t,e))}function Jh(n){return Ov.apply(this,arguments)}function Ov(){return(Ov=(0,Ee.Z)(function*(n){const e=$e(n),t=Qc(e);let s=e.Ur.length>0?e.Ur[e.Ur.length-1].batchId:-1;for(;Ob(e);)try{const a=yield _b(e.localStore,s);if(null===a){0===e.Ur.length&&t.lr();break}s=a.batchId,MT(e,a)}catch(a){yield ey(e,a)}Pv(e)&&kv(e)})).apply(this,arguments)}function Ob(n){return Nu(n)&&n.Ur.length<10}function MT(n,e){n.Ur.push(e);const t=Qc(n);t.cr()&&t.br&&t.Pr(e.mutations)}function Pv(n){return Nu(n)&&!Qc(n).ar()&&n.Ur.length>0}function kv(n){Qc(n).start()}function Xh(n){return Fv.apply(this,arguments)}function Fv(){return(Fv=(0,Ee.Z)(function*(n){Qc(n).Sr()})).apply(this,arguments)}function OT(n){return ty.apply(this,arguments)}function ty(){return(ty=(0,Ee.Z)(function*(n){const e=Qc(n);for(const t of n.Ur)e.Pr(t.mutations)})).apply(this,arguments)}function PT(n,e,t){return ny.apply(this,arguments)}function ny(){return(ny=(0,Ee.Z)(function*(n,e,t){const s=n.Ur.shift(),a=hv.from(s,e,t);yield Mv(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),yield Jh(n)})).apply(this,arguments)}function uR(n,e){return ry.apply(this,arguments)}function ry(){return(ry=(0,Ee.Z)(function*(n,e){var t;e&&Qc(n).br&&(yield(t=(0,Ee.Z)(function*(s,a){if(L0(l=a.code)&&l!==me.ABORTED){const p=s.Ur.shift();Qc(s).hr(),yield Mv(s,()=>s.remoteSyncer.rejectFailedWrite(p.batchId,a)),yield Jh(s)}var l}),function(s,a){return t.apply(this,arguments)})(n,e)),Pv(n)&&kv(n)})).apply(this,arguments)}function Bp(n,e){return no.apply(this,arguments)}function no(){return(no=(0,Ee.Z)(function*(n,e){const t=$e(n);e?(t.Kr.delete(2),yield Vp(t)):e||(t.Kr.add(2),yield Qh(t),t.Wr.set("Unknown"))})).apply(this,arguments)}function ef(n){return n.zr||(n.zr=function(e,t,s){const a=$e(e);return a.Cr(),new xb(t,a.nr,a.credentials,a.N,s)}(n.datastore,n.asyncQueue,{Si:Mb.bind(null,n),Ci:aR.bind(null,n),Er:NT.bind(null,n)}),n.jr.push(function(){var e=(0,Ee.Z)(function*(t){t?(n.zr.hr(),Qm(n)?Ym(n):n.Wr.set("Unknown")):(yield n.zr.stop(),Rv(n))});return function(t){return e.apply(this,arguments)}}())),n.zr}function Qc(n){return n.Hr||(n.Hr=function(e,t,s){const a=$e(e);return a.Cr(),new RT(t,a.nr,a.credentials,a.N,s)}(n.datastore,n.asyncQueue,{Si:Xh.bind(null,n),Ci:uR.bind(null,n),Vr:OT.bind(null,n),vr:PT.bind(null,n)}),n.jr.push(function(){var e=(0,Ee.Z)(function*(t){t?(n.Hr.hr(),yield Jh(n)):(yield n.Hr.stop(),n.Ur.length>0&&(Ue("RemoteStore",`Stopping write stream with ${n.Ur.length} pending writes`),n.Ur=[]))});return function(t){return e.apply(this,arguments)}}())),n.Hr}class ro{constructor(e,t,s,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new ei,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}static createAndSchedule(e,t,s,a,l){const p=Date.now()+s,v=new ro(e,t,p,a,l);return v.start(s),v}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oe(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ei(n,e){if(qn("AsyncQueue",`${e}: ${n}`),Gc(n))return new Oe(me.UNAVAILABLE,`${e}: ${n}`);throw n}class wi{constructor(e){this.comparator=e?(t,s)=>e(t,s)||Je.comparator(t.key,s.key):(t,s)=>Je.comparator(t.key,s.key),this.keyedMap=V0(),this.sortedSet=new ir(this.comparator)}static emptySet(e){return new wi(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof wi)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new wi;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class Lv{constructor(){this.Jr=new ir(Je.comparator)}track(e){const t=e.doc.key,s=this.Jr.get(t);s?0!==e.type&&3===s.type?this.Jr=this.Jr.insert(t,e):3===e.type&&1!==s.type?this.Jr=this.Jr.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Jr=this.Jr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Jr=this.Jr.remove(t):1===e.type&&2===s.type?this.Jr=this.Jr.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):et():this.Jr=this.Jr.insert(t,e)}Yr(){const e=[];return this.Jr.inorderTraversal((t,s)=>{e.push(s)}),e}}class vd{constructor(e,t,s,a,l,p,v,I){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=p,this.syncStateChanged=v,this.excludesMetadataChanges=I}static fromInitialDocuments(e,t,s,a){const l=[];return t.forEach(p=>{l.push({type:0,doc:p})}),new vd(e,t,wi.emptySet(t),l,s,a,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class kT{constructor(){this.Xr=void 0,this.listeners=[]}}class FT{constructor(){this.queries=new gd(e=>T0(e),Uc),this.onlineState="Unknown",this.Zr=new Set}}function Vv(n,e){return Uv.apply(this,arguments)}function Uv(){return(Uv=(0,Ee.Z)(function*(n,e){const t=$e(n),s=e.query;let a=!1,l=t.queries.get(s);if(l||(a=!0,l=new kT),a)try{l.Xr=yield t.onListen(s)}catch(p){const v=Ei(p,`Initialization of query '${xm(e.query)}' failed`);return void e.onError(v)}t.queries.set(s,l),l.listeners.push(e),e.eo(t.onlineState),l.Xr&&e.no(l.Xr)&&Bv(t)})).apply(this,arguments)}function jp(n,e){return Ed.apply(this,arguments)}function Ed(){return(Ed=(0,Ee.Z)(function*(n,e){const t=$e(n),s=e.query;let a=!1;const l=t.queries.get(s);if(l){const p=l.listeners.indexOf(e);p>=0&&(l.listeners.splice(p,1),a=0===l.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)})).apply(this,arguments)}function LT(n,e){const t=$e(n);let s=!1;for(const a of e){const p=t.queries.get(a.query);if(p){for(const v of p.listeners)v.no(a)&&(s=!0);p.Xr=a}}s&&Bv(t)}function Pb(n,e,t){const s=$e(n),a=s.queries.get(e);if(a)for(const l of a.listeners)l.onError(t);s.queries.delete(e)}function Bv(n){n.Zr.forEach(e=>{e.next()})}class iy{constructor(e,t,s){this.query=e,this.so=t,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=s||{}}no(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new vd(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.io?this.oo(e)&&(this.so.next(e),t=!0):this.ao(e,this.onlineState)&&(this.co(e),t=!0),this.ro=e,t}onError(e){this.so.error(e)}eo(e){this.onlineState=e;let t=!1;return this.ro&&!this.io&&this.ao(this.ro,e)&&(this.co(this.ro),t=!0),t}ao(e,t){return!e.fromCache||!(this.options.uo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}oo(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(e){e=vd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.io=!0,this.so.next(e)}}class kb{constructor(e,t){this.payload=e,this.byteLength=t}ho(){return"metadata"in this.payload}}class $p{constructor(e){this.N=e}zn(e){return Ui(this.N,e)}Hn(e){return e.metadata.exists?W0(this.N,e.document,!1):Ln.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}Jn(e){return mr(e)}}class VT{constructor(e,t,s){this.lo=e,this.localStore=t,this.N=s,this.queries=[],this.documents=[],this.progress=jv(e)}fo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}wo(e){const t=new Map,s=new $p(this.N);for(const a of e)if(a.metadata.queries){const l=s.zn(a.metadata.name);for(const p of a.metadata.queries){const v=(t.get(p)||Jt()).add(l);t.set(p,v)}}return t}complete(){var e=this;return(0,Ee.Z)(function*(){const t=yield function(n,e,t,s){return Zm.apply(this,arguments)}(e.localStore,new $p(e.N),e.documents,e.lo.id),s=e.wo(e.documents);for(const a of e.queries)yield DT(e.localStore,a,s.get(a.name));return e.progress.taskState="Success",new nR(Object.assign({},e.progress),t)})()}}function jv(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class $v{constructor(e){this.key=e}}class Hv{constructor(e){this.key=e}}class sy{constructor(e,t){this.query=e,this._o=t,this.mo=null,this.current=!1,this.yo=Jt(),this.mutatedKeys=Jt(),this.po=z_(e),this.To=new wi(this.po)}get Eo(){return this._o}Io(e,t){const s=t?t.Ao:new Lv,a=t?t.To:this.To;let l=t?t.mutatedKeys:this.mutatedKeys,p=a,v=!1;const I=Lc(this.query)&&a.size===this.query.limit?a.last():null,S=Au(this.query)&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((M,P)=>{const K=a.get(M),J=Rm(this.query,P)?P:null,xe=!!K&&this.mutatedKeys.has(K.key),He=!!J&&(J.hasLocalMutations||this.mutatedKeys.has(J.key)&&J.hasCommittedMutations);let ze=!1;K&&J?K.data.isEqual(J.data)?xe!==He&&(s.track({type:3,doc:J}),ze=!0):this.Ro(K,J)||(s.track({type:2,doc:J}),ze=!0,(I&&this.po(J,I)>0||S&&this.po(J,S)<0)&&(v=!0)):!K&&J?(s.track({type:0,doc:J}),ze=!0):K&&!J&&(s.track({type:1,doc:K}),ze=!0,(I||S)&&(v=!0)),ze&&(J?(p=p.add(J),l=He?l.add(M):l.delete(M)):(p=p.delete(M),l=l.delete(M)))}),Lc(this.query)||Au(this.query))for(;p.size>this.query.limit;){const M=Lc(this.query)?p.last():p.first();p=p.delete(M.key),l=l.delete(M.key),s.track({type:1,doc:M})}return{To:p,Ao:s,Ln:v,mutatedKeys:l}}Ro(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.To;this.To=e.To,this.mutatedKeys=e.mutatedKeys;const l=e.Ao.Yr();l.sort((S,M)=>function(P,K){const J=xe=>{switch(xe){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return et()}};return J(P)-J(K)}(S.type,M.type)||this.po(S.doc,M.doc)),this.bo(s);const p=t?this.Po():[],v=0===this.yo.size&&this.current?1:0,I=v!==this.mo;return this.mo=v,0!==l.length||I?{snapshot:new vd(this.query,e.To,a,l,e.mutatedKeys,0===v,I,!1),vo:p}:{vo:p}}eo(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({To:this.To,Ao:new Lv,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(e){return!this._o.has(e)&&!!this.To.has(e)&&!this.To.get(e).hasLocalMutations}bo(e){e&&(e.addedDocuments.forEach(t=>this._o=this._o.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this._o=this._o.delete(t)),this.current=e.current)}Po(){if(!this.current)return[];const e=this.yo;this.yo=Jt(),this.To.forEach(s=>{this.Vo(s.key)&&(this.yo=this.yo.add(s.key))});const t=[];return e.forEach(s=>{this.yo.has(s)||t.push(new Hv(s))}),this.yo.forEach(s=>{e.has(s)||t.push(new $v(s))}),t}So(e){this._o=e.Gn,this.yo=Jt();const t=this.Io(e.documents);return this.applyChanges(t,!0)}Do(){return vd.fromInitialDocuments(this.query,this.To,this.mutatedKeys,0===this.mo)}}class Fb{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class Lb{constructor(e){this.key=e,this.Co=!1}}class Vb{constructor(e,t,s,a,l,p){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=p,this.No={},this.xo=new gd(v=>T0(v),Uc),this.ko=new Map,this.$o=new Set,this.Oo=new ir(Je.comparator),this.Fo=new Map,this.Mo=new bv,this.Lo={},this.Bo=new Map,this.Uo=Wc.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function Ub(n,e){return oy.apply(this,arguments)}function oy(){return(oy=(0,Ee.Z)(function*(n,e){const t=nE(n);let s,a;const l=t.xo.get(e);if(l)s=l.targetId,t.sharedClientState.addLocalQueryTarget(s),a=l.view.Do();else{const p=yield Op(t.localStore,ss(e)),v=t.sharedClientState.addLocalQueryTarget(p.targetId);s=p.targetId,a=yield ay(t,e,s,"current"===v),t.isPrimaryClient&&Up(t.remoteStore,p)}return a})).apply(this,arguments)}function ay(n,e,t,s){return uy.apply(this,arguments)}function uy(){return(uy=(0,Ee.Z)(function*(n,e,t,s){n.Ko=(M,P,K)=>{return(J=(0,Ee.Z)(function*(xe,He,ze,Ot){let sn=He.view.Io(ze);sn.Ln&&(sn=yield qm(xe.localStore,He.query,!1).then(({documents:vr})=>He.view.Io(vr,sn)));const On=Ot&&Ot.targetChanges.get(He.targetId),Bt=He.view.applyChanges(sn,xe.isPrimaryClient,On);return cy(xe,He.targetId,Bt.vo),Bt.snapshot}),function(xe,He,ze,Ot){return J.apply(this,arguments)})(n,M,P,K);var J};const a=yield qm(n.localStore,e,!0),l=new sy(e,a.Gn),p=l.Io(a.documents),v=$c.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==n.onlineState),I=l.applyChanges(p,n.isPrimaryClient,v);cy(n,t,I.vo);const S=new Fb(e,t,l);return n.xo.set(e,S),n.ko.has(t)?n.ko.get(t).push(e):n.ko.set(t,[e]),I.snapshot})).apply(this,arguments)}function Bb(n,e){return Gv.apply(this,arguments)}function Gv(){return(Gv=(0,Ee.Z)(function*(n,e){const t=$e(n),s=t.xo.get(e),a=t.ko.get(s.targetId);if(a.length>1)return t.ko.set(s.targetId,a.filter(l=>!Uc(l,e))),void t.xo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Zh(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),_d(t.remoteStore,s.targetId),tf(t,s.targetId)}).catch(zc))):(tf(t,s.targetId),yield Zh(t.localStore,s.targetId,!0))})).apply(this,arguments)}function qv(){return(qv=(0,Ee.Z)(function*(n,e,t){const s=rf(n);try{const a=yield function(l,p){const v=$e(l),I=Sr.now(),S=p.reduce((P,K)=>P.add(K.key),Jt());let M;return v.persistence.runTransaction("Locally write mutations","readwrite",P=>v.Qn.Pn(P,S).next(K=>{M=K;const J=[];for(const xe of p){const He=P0(xe,M.get(xe.key));null!=He&&J.push(new jc(xe.key,He,zD(He.value.mapValue),gr.exists(!0)))}return v.In.addMutationBatch(P,I,J,p)})).then(P=>(P.applyToLocalDocumentSet(M),{batchId:P.batchId,changes:M}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(l,p,v){let I=l.Lo[l.currentUser.toKey()];I||(I=new ir(Mt)),I=I.insert(p,v),l.Lo[l.currentUser.toKey()]=I}(s,a.batchId,t),yield ka(s,a.changes),yield Jh(s.remoteStore)}catch(a){const l=Ei(a,"Failed to persist write");t.reject(l)}})).apply(this,arguments)}function jb(n,e){return Zv.apply(this,arguments)}function Zv(){return(Zv=(0,Ee.Z)(function*(n,e){const t=$e(n);try{const s=yield iR(t.localStore,e);e.targetChanges.forEach((a,l)=>{const p=t.Fo.get(l);p&&(gt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?p.Co=!0:a.modifiedDocuments.size>0?gt(p.Co):a.removedDocuments.size>0&&(gt(p.Co),p.Co=!1))}),yield ka(t,s,e)}catch(s){yield zc(s)}})).apply(this,arguments)}function $b(n,e,t){const s=$e(n);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.xo.forEach((l,p)=>{const v=p.view.eo(e);v.snapshot&&a.push(v.snapshot)}),function(l,p){const v=$e(l);v.onlineState=p;let I=!1;v.queries.forEach((S,M)=>{for(const P of M.listeners)P.eo(p)&&(I=!0)}),I&&Bv(v)}(s.eventManager,e),a.length&&s.No.Er(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function BT(n,e,t){return Wv.apply(this,arguments)}function Wv(){return(Wv=(0,Ee.Z)(function*(n,e,t){const s=$e(n);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Fo.get(e),l=a&&a.key;if(l){let p=new ir(Je.comparator);p=p.insert(l,Ln.newNoDocument(l,Ct.min()));const v=Jt().add(l),I=new xs(Ct.min(),new Map,new Mn(Mt),p,v);yield jb(s,I),s.Oo=s.Oo.remove(l),s.Fo.delete(e),ly(s)}else yield Zh(s.localStore,e,!1).then(()=>tf(s,e,t)).catch(zc)})).apply(this,arguments)}function jT(n,e){return zv.apply(this,arguments)}function zv(){return(zv=(0,Ee.Z)(function*(n,e){const t=$e(n),s=e.batch.batchId;try{const a=yield rR(t.localStore,e);Jv(t,s,null),Qv(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield ka(t,a)}catch(a){yield zc(a)}})).apply(this,arguments)}function $T(n,e,t){return Kv.apply(this,arguments)}function Kv(){return(Kv=(0,Ee.Z)(function*(n,e,t){const s=$e(n);try{const a=yield function(l,p){const v=$e(l);return v.persistence.runTransaction("Reject batch","readwrite-primary",I=>{let S;return v.In.lookupMutationBatch(I,p).next(M=>(gt(null!==M),S=M.keys(),v.In.removeMutationBatch(I,M))).next(()=>v.In.performConsistencyCheck(I)).next(()=>v.Qn.Pn(I,S))})}(s.localStore,e);Jv(s,e,t),Qv(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield ka(s,a)}catch(a){yield zc(a)}})).apply(this,arguments)}function Yv(){return(Yv=(0,Ee.Z)(function*(n,e){const t=$e(n);Nu(t.remoteStore)||Ue("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(l){const p=$e(l);return p.persistence.runTransaction("Get highest unacknowledged batch id","readonly",v=>p.In.getHighestUnacknowledgedBatchId(v))}(t.localStore);if(-1===s)return void e.resolve();const a=t.Bo.get(s)||[];a.push(e),t.Bo.set(s,a)}catch(s){const a=Ei(s,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}})).apply(this,arguments)}function Qv(n,e){(n.Bo.get(e)||[]).forEach(t=>{t.resolve()}),n.Bo.delete(e)}function Jv(n,e,t){const s=$e(n);let a=s.Lo[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),s.Lo[s.currentUser.toKey()]=a}}function tf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.ko.get(e))n.xo.delete(s),t&&n.No.jo(s,t);n.ko.delete(e),n.isPrimaryClient&&n.Mo.cs(e).forEach(s=>{n.Mo.containsKey(s)||Hb(n,s)})}function Hb(n,e){n.$o.delete(e.path.canonicalString());const t=n.Oo.get(e);null!==t&&(_d(n.remoteStore,t),n.Oo=n.Oo.remove(e),n.Fo.delete(t),ly(n))}function cy(n,e,t){for(const s of t)s instanceof $v?(n.Mo.addReference(s.key,e),Gb(n,s)):s instanceof Hv?(Ue("SyncEngine","Document no longer in limbo: "+s.key),n.Mo.removeReference(s.key,e),n.Mo.containsKey(s.key)||Hb(n,s.key)):et()}function Gb(n,e){const t=e.key,s=t.path.canonicalString();n.Oo.get(t)||n.$o.has(s)||(Ue("SyncEngine","New document in limbo: "+t),n.$o.add(s),ly(n))}function ly(n){for(;n.$o.size>0&&n.Oo.size<n.maxConcurrentLimboResolutions;){const e=n.$o.values().next().value;n.$o.delete(e);const t=new Je(Wt.fromString(e)),s=n.Uo.next();n.Fo.set(s,new Lb(t)),n.Oo=n.Oo.insert(t,s),Up(n.remoteStore,new qc(ss(Uo(t.path)),s,2,As.T))}}function ka(n,e,t){return dy.apply(this,arguments)}function dy(){return(dy=(0,Ee.Z)(function*(n,e,t){const s=$e(n),a=[],l=[],p=[];var v;s.xo.isEmpty()||(s.xo.forEach((v,I)=>{p.push(s.Ko(I,e,t).then(S=>{if(S){s.isPrimaryClient&&s.sharedClientState.updateQueryState(I.targetId,S.fromCache?"not-current":"current"),a.push(S);const M=gb.kn(I.targetId,S);l.push(M)}}))}),yield Promise.all(p),s.No.Er(a),yield(v=(0,Ee.Z)(function*(I,S){const M=$e(I);try{yield M.persistence.runTransaction("notifyLocalViewChanges","readwrite",P=>Me.forEach(S,K=>Me.forEach(K.Nn,J=>M.persistence.referenceDelegate.addReference(P,K.targetId,J)).next(()=>Me.forEach(K.xn,J=>M.persistence.referenceDelegate.removeReference(P,K.targetId,J)))))}catch(P){if(!Gc(P))throw P;Ue("LocalStore","Failed to update sequence numbers: "+P)}for(const P of S){const K=P.targetId;if(!P.fromCache){const J=M.Un.get(K),He=J.withLastLimboFreeSnapshotVersion(J.snapshotVersion);M.Un=M.Un.insert(K,He)}}}),function(I,S){return v.apply(this,arguments)})(s.localStore,l))})).apply(this,arguments)}function qb(n,e){return hy.apply(this,arguments)}function hy(){return(hy=(0,Ee.Z)(function*(n,e){const t=$e(n);if(!t.currentUser.isEqual(e)){Ue("SyncEngine","User change. New user:",e.toKey());const s=yield Gm(t.localStore,e);t.currentUser=e,(a=t).Bo.forEach(p=>{p.forEach(v=>{v.reject(new Oe(me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Bo.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield ka(t,s.Wn)}var a})).apply(this,arguments)}function Zb(n,e){const t=$e(n),s=t.Fo.get(e);if(s&&s.Co)return Jt().add(s.key);{let a=Jt();const l=t.ko.get(e);if(!l)return a;for(const p of l){const v=t.xo.get(p);a=a.unionWith(v.view.Eo)}return a}}function Wb(n,e){return Hp.apply(this,arguments)}function Hp(){return(Hp=(0,Ee.Z)(function*(n,e){const t=$e(n),s=yield qm(t.localStore,e.query,!0),a=e.view.So(s);return t.isPrimaryClient&&cy(t,e.targetId,a.vo),a})).apply(this,arguments)}function zb(n){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,Ee.Z)(function*(n){const e=$e(n);return vb(e.localStore).then(t=>ka(e,t))})).apply(this,arguments)}function GT(n,e,t,s){return Xv.apply(this,arguments)}function Xv(){return(Xv=(0,Ee.Z)(function*(n,e,t,s){const a=$e(n),l=yield function(p,v){const I=$e(p),S=$e(I.In);return I.persistence.runTransaction("Lookup mutation documents","readonly",M=>S.Xt(M,v).next(P=>P?I.Qn.Pn(M,P):Me.resolve(null)))}(a.localStore,e);var v;null!==l?("pending"===t?yield Jh(a.remoteStore):"acknowledged"===t||"rejected"===t?(Jv(a,e,s||null),Qv(a,e),v=e,$e($e(a.localStore).In).te(v)):et(),yield ka(a,l)):Ue("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function Kb(){return(Kb=(0,Ee.Z)(function*(n,e){const t=$e(n);if(nE(t),rf(t),!0===e&&!0!==t.qo){const s=t.sharedClientState.getAllActiveQueryTargets(),a=yield fy(t,s.toArray());t.qo=!0,yield Bp(t.remoteStore,!0);for(const l of a)Up(t.remoteStore,l)}else if(!1===e&&!1!==t.qo){const s=[];let a=Promise.resolve();t.ko.forEach((l,p)=>{t.sharedClientState.isLocalQueryTarget(p)?s.push(p):a=a.then(()=>(tf(t,p),Zh(t.localStore,p,!0))),_d(t.remoteStore,p)}),yield a,yield fy(t,s),function(l){const p=$e(l);p.Fo.forEach((v,I)=>{_d(p.remoteStore,I)}),p.Mo.us(),p.Fo=new Map,p.Oo=new ir(Je.comparator)}(t),t.qo=!1,yield Bp(t.remoteStore,!1)}})).apply(this,arguments)}function fy(n,e,t){return Yb.apply(this,arguments)}function Yb(){return(Yb=(0,Ee.Z)(function*(n,e,t){const s=$e(n),a=[],l=[];for(const p of e){let v;const I=s.ko.get(p);if(I&&0!==I.length){v=yield Op(s.localStore,ss(I[0]));for(const S of I){const M=s.xo.get(S),P=yield Wb(s,M);P.snapshot&&l.push(P.snapshot)}}else{const S=yield Ev(s.localStore,p);v=yield Op(s.localStore,S),yield ay(s,eE(S),p,!1)}a.push(v)}return s.No.Er(l),a})).apply(this,arguments)}function eE(n){return Tm(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Qb(n){const e=$e(n);return $e($e(e.localStore).persistence).pn()}function cR(n,e,t,s){return ot.apply(this,arguments)}function ot(){return(ot=(0,Ee.Z)(function*(n,e,t,s){const a=$e(n);if(a.qo)Ue("SyncEngine","Ignoring unexpected query state notification.");else if(a.ko.has(e))switch(t){case"current":case"not-current":{const l=yield vb(a.localStore),p=xs.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield ka(a,l,p);break}case"rejected":yield Zh(a.localStore,e,!0),tf(a,e,s);break;default:et()}})).apply(this,arguments)}function qT(n,e,t){return tE.apply(this,arguments)}function tE(){return(tE=(0,Ee.Z)(function*(n,e,t){const s=nE(n);if(s.qo){for(const a of e){if(s.ko.has(a)){Ue("SyncEngine","Adding an already active target "+a);continue}const l=yield Ev(s.localStore,a),p=yield Op(s.localStore,l);yield ay(s,eE(l),p.targetId,!1),Up(s.remoteStore,p)}for(const a of t)s.ko.has(a)&&(yield Zh(s.localStore,a,!1).then(()=>{_d(s.remoteStore,a),tf(s,a)}).catch(zc))}})).apply(this,arguments)}function nE(n){const e=$e(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=jb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Zb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BT.bind(null,e),e.No.Er=LT.bind(null,e.eventManager),e.No.jo=Pb.bind(null,e.eventManager),e}function rf(n){const e=$e(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jT.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$T.bind(null,e),e}class Gp{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ee.Z)(function*(){t.N=Yh(e.databaseInfo.databaseId),t.sharedClientState=t.Wo(e),t.persistence=t.Go(e),yield t.persistence.start(),t.gcScheduler=t.zo(e),t.localStore=t.Ho(e)})()}zo(e){return null}Ho(e){return Hm(this.persistence,new mb,e.initialUser,this.N)}Go(e){return new Iv(Pp.Ns,this.N)}Wo(e){return new Dv}terminate(){var e=this;return(0,Ee.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class qp extends Gp{constructor(e,t,s){super(),this.Jo=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,Ee.Z)(function*(){yield t().call(s,e),yield function(n){return Wh.apply(this,arguments)}(s.localStore),yield s.Jo.initialize(s,e),yield rf(s.Jo.syncEngine),yield Jh(s.Jo.remoteStore),yield s.persistence.nn(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(s.localStore),Promise.resolve()))})()}Ho(e){return Hm(this.persistence,new mb,e.initialUser,this.N)}zo(e){return new _T(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Go(e){const t=fb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Rr.withCacheSize(this.cacheSizeBytes):Rr.DEFAULT;return new yv(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,Sb(),Kh(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(e){return new Dv}}class Wn extends qp{constructor(e,t){super(e,t,!1),this.Jo=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,Ee.Z)(function*(){yield t().call(s,e);const a=s.Jo.syncEngine;s.sharedClientState instanceof Fp&&(s.sharedClientState.syncEngine={_i:GT.bind(null,a),mi:cR.bind(null,a),gi:qT.bind(null,a),pn:Qb.bind(null,a),wi:zb.bind(null,a)},yield s.sharedClientState.start()),yield s.persistence.nn(function(){var l=(0,Ee.Z)(function*(p){yield function(n,e){return Kb.apply(this,arguments)}(s.Jo.syncEngine,p),s.gcScheduler&&(p&&!s.gcScheduler.started?s.gcScheduler.start(s.localStore):p||s.gcScheduler.stop())});return function(p){return l.apply(this,arguments)}}())})()}Wo(e){const t=Sb();if(!Fp.bt(t))throw new Oe(me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=fb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Fp(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class Jb{initialize(e,t){var s=this;return(0,Ee.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>$b(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=qb.bind(null,s.syncEngine),yield Bp(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new FT}createDatastore(e){const t=Yh(e.databaseInfo.databaseId),s=new xT(e.databaseInfo);return new Rb(e.credentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,l=v=>$b(this.syncEngine,v,0),p=Db.bt()?new Db:new oR,new Tv(t,s,a,l,p);var t,s,a,l,p}createSyncEngine(e,t){return function(s,a,l,p,v,I,S){const M=new Vb(s,a,l,p,v,I);return S&&(M.qo=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ee.Z)(function*(t){const s=$e(t);Ue("RemoteStore","RemoteStore shutting down."),s.Kr.add(5),yield Qh(s),s.Qr.shutdown(),s.Wr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function rE(n,e=10240){let t=0;return{read:()=>(0,Ee.Z)(function*(){if(t<n.byteLength){const s={value:n.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,Ee.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class sf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Yo(this.observer.next,e)}error(e){this.observer.error?this.Yo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Xo(){this.muted=!0}Yo(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class WT{constructor(e,t){this.Zo=e,this.N=t,this.metadata=new ei,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(s=>{s&&s.ho()?this.metadata.resolve(s.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.payload)}`))},s=>this.metadata.reject(s))}close(){return this.Zo.cancel()}getMetadata(){var e=this;return(0,Ee.Z)(function*(){return e.metadata.promise})()}Qo(){var e=this;return(0,Ee.Z)(function*(){return yield e.getMetadata(),e.ea()})()}ea(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.na();if(null===t)return null;const s=e.ta.decode(t),a=Number(s);isNaN(a)&&e.sa(`length string (${s}) is not valid number`);const l=yield e.ia(a);return new kb(JSON.parse(l),t.length+a)})()}ra(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}na(){var e=this;return(0,Ee.Z)(function*(){for(;e.ra()<0&&!(yield e.oa()););if(0===e.buffer.length)return null;const t=e.ra();t<0&&e.sa("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}ia(e){var t=this;return(0,Ee.Z)(function*(){for(;t.buffer.length<e;)(yield t.oa())&&t.sa("Reached the end of bundle when more is expected.");const s=t.ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}sa(e){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${e}`)}oa(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.Zo.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class Xb{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ee.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Oe(me.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(a=(0,Ee.Z)(function*(l,p){const v=$e(l),I=Sp(v.N)+"/documents",S={documents:p.map(J=>Lh(v.N,J))},M=yield v.Ki("BatchGetDocuments",I,S),P=new Map;M.forEach(J=>{const xe=function(n,e){return"found"in e?function(t,s){gt(!!s.found);const a=Ui(t,s.found.name),l=mr(s.found.updateTime),p=new Li({mapValue:{fields:s.found.fields}});return Ln.newFoundDocument(a,l,p)}(n,e):"missing"in e?function(t,s){gt(!!s.missing),gt(!!s.readTime);const a=Ui(t,s.missing),l=mr(s.readTime);return Ln.newNoDocument(a,l)}(n,e):et()}(v.N,J);P.set(xe.key.toString(),xe)});const K=[];return p.forEach(J=>{const xe=P.get(J.toString());gt(!!xe),K.push(xe)}),K}),function(l,p){return a.apply(this,arguments)})(t.datastore,e);var a;return s.forEach(a=>t.recordVersion(a)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Cp(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ee.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,a)=>{const l=Je.fromPath(a);e.mutations.push(new X_(l,e.precondition(l)))}),yield(s=(0,Ee.Z)(function*(a,l){const p=$e(a),v=Sp(p.N)+"/documents",I={writes:l.map(S=>ov(p.N,S))};yield p.Li("Commit",v,I)}),function(a,l){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw et();t=Ct.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new Oe(me.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?gr.updateTime(t):gr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ct.min()))throw new Oe(me.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return gr.updateTime(t)}return gr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class eI{constructor(e,t,s,a){this.asyncQueue=e,this.datastore=t,this.updateFunction=s,this.deferred=a,this.aa=5,this.rr=new Lp(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var e=this;this.rr.Xi((0,Ee.Z)(function*(){const t=new Xb(e.datastore),s=e.ua(t);s&&s.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(l=>{e.ha(l)}))}).catch(a=>{e.ha(a)})}))}ua(e){try{const t=this.updateFunction(e);return!Fi(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ha(e){this.aa>0&&this.la(e)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(e)}la(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!L0(t)}return!1}}class tI{constructor(e,t,s){var a=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=s,this.user=jr.UNAUTHENTICATED,this.clientId=g0.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(t,function(){var l=(0,Ee.Z)(function*(p){Ue("FirestoreClient","Received user=",p.uid),yield a.credentialListener(p),a.user=p});return function(p){return l.apply(this,arguments)}}())}getConfiguration(){var e=this;return(0,Ee.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,credentials:e.credentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oe(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ei;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.credentials.shutdown(),t.resolve()}catch(s){const a=Ei(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function iE(n,e){return sE.apply(this,arguments)}function sE(){return(sE=(0,Ee.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ue("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener(function(){var a=(0,Ee.Z)(function*(l){s.isEqual(l)||(yield Gm(e.localStore,l),s=l)});return function(l){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e})).apply(this,arguments)}function nI(n,e){return oE.apply(this,arguments)}function oE(){return(oE=(0,Ee.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield wd(n);Ue("FirestoreClient","Initializing OnlineComponentProvider");const s=yield n.getConfiguration();yield e.initialize(t,s),n.setCredentialChangeListener(a=>{return(l=(0,Ee.Z)(function*(p,v){const I=$e(p);I.asyncQueue.verifyOperationInProgress(),Ue("RemoteStore","RemoteStore received new credentials");const S=Nu(I);I.Kr.add(3),yield Qh(I),S&&I.Wr.set("Unknown"),yield I.remoteSyncer.handleCredentialChange(v),I.Kr.delete(3),yield Vp(I)}),function(p,v){return l.apply(this,arguments)})(e.remoteStore,a);var l}),n.onlineComponents=e})).apply(this,arguments)}function wd(n){return aE.apply(this,arguments)}function aE(){return(aE=(0,Ee.Z)(function*(n){return n.offlineComponents||(Ue("FirestoreClient","Using default OfflineComponentProvider"),yield iE(n,new Gp)),n.offlineComponents})).apply(this,arguments)}function py(n){return uE.apply(this,arguments)}function uE(){return(uE=(0,Ee.Z)(function*(n){return n.onlineComponents||(Ue("FirestoreClient","Using default OnlineComponentProvider"),yield nI(n,new Jb)),n.onlineComponents})).apply(this,arguments)}function Zp(n){return wd(n).then(e=>e.persistence)}function gy(n){return wd(n).then(e=>e.localStore)}function cE(n){return py(n).then(e=>e.remoteStore)}function my(n){return py(n).then(e=>e.syncEngine)}function of(n){return bd.apply(this,arguments)}function bd(){return(bd=(0,Ee.Z)(function*(n){const e=yield py(n),t=e.eventManager;return t.onListen=Ub.bind(null,e.syncEngine),t.onUnlisten=Bb.bind(null,e.syncEngine),t})).apply(this,arguments)}function rI(n,e,t={}){const s=new ei;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(a,l,p,v,I){const S=new sf({next:P=>{l.enqueueAndForget(()=>jp(a,M));const K=P.docs.has(p);!K&&P.fromCache?I.reject(new Oe(me.UNAVAILABLE,"Failed to get document because the client is offline.")):K&&P.fromCache&&v&&"server"===v.source?I.reject(new Oe(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):I.resolve(P)},error:P=>I.reject(P)}),M=new iy(Uo(p.path),S,{includeMetadataChanges:!0,uo:!0});return Vv(a,M)}(yield of(n),n.asyncQueue,e,t,s)})),s.promise}function lE(n,e,t={}){const s=new ei;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(a,l,p,v,I){const S=new sf({next:P=>{l.enqueueAndForget(()=>jp(a,M)),P.fromCache&&"server"===v.source?I.reject(new Oe(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):I.resolve(P)},error:P=>I.reject(P)}),M=new iy(p,S,{includeMetadataChanges:!0,uo:!0});return Vv(a,M)}(yield of(n),n.asyncQueue,e,t,s)})),s.promise}class JT{constructor(e,t,s,a,l,p,v,I){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=p,this.autoDetectLongPolling=v,this.useFetchStreams=I}}class zp{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof zp&&e.projectId===this.projectId&&e.database===this.database}}const XT=new Map;function aI(n,e,t){if(!t)throw new Oe(me.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function eA(n,e,t,s){if(!0===e&&!0===s)throw new Oe(me.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function dE(n){if(!Je.isDocumentKey(n))throw new Oe(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Kp(n){if(Je.isDocumentKey(n))throw new Oe(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function yy(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":et()}function qt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Oe(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=yy(n);throw new Oe(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function hE(n,e){if(e<=0)throw new Oe(me.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class af{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Oe(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Oe(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,eA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yp{constructor(e,t){this._credentials=t,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new af({}),this._settingsFrozen=!1,e instanceof zp?this._databaseId=e:(this._app=e,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new Oe(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zp(s.options.projectId)}(e))}get app(){if(!this._app)throw new Oe(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Oe(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new af(e),void 0!==e.credentials&&(this._credentials=function(t){if(!t)return new $D;switch(t.type){case"gapi":const s=t.client;return gt(!("object"!=typeof s||null===s||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new Lo(s,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Oe(me.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=XT.get(e);t&&(Ue("ComponentProvider","Removing Datastore"),XT.delete(e),t.terminate())}(this),Promise.resolve()}}class Dn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dn(this.firestore,e,this._key)}}class bi{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new bi(this.firestore,e,this._query)}}class Fa extends bi{constructor(e,t,s){super(e,t,Uo(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dn(this.firestore,null,new Je(e))}withConverter(e){return new Fa(this.firestore,e,this._path)}}function fE(n,e,...t){if(n=(0,It.m9)(n),aI("collection","path",e),n instanceof Yp){const s=Wt.fromString(e,...t);return Kp(s),new Fa(n,null,s)}{if(!(n instanceof Dn||n instanceof Fa))throw new Oe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Wt.fromString(e,...t));return Kp(s),new Fa(n.firestore,null,s)}}function _y(n,e,...t){if(n=(0,It.m9)(n),1===arguments.length&&(e=g0.I()),aI("doc","path",e),n instanceof Yp){const s=Wt.fromString(e,...t);return dE(s),new Dn(n,null,new Je(s))}{if(!(n instanceof Dn||n instanceof Fa))throw new Oe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Wt.fromString(e,...t));return dE(s),new Dn(n.firestore,n instanceof Fa?n.converter:null,new Je(s))}}function Id(n,e){return n=(0,It.m9)(n),e=(0,It.m9)(e),(n instanceof Dn||n instanceof Fa)&&(e instanceof Dn||e instanceof Fa)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function uI(n,e){return n=(0,It.m9)(n),e=(0,It.m9)(e),n instanceof bi&&e instanceof bi&&n.firestore===e.firestore&&Uc(n._query,e._query)&&n.converter===e.converter}class cI{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new Lp(this,"async_queue_retry"),this.Ta=()=>{const t=Kh();t&&Ue("AsyncQueue","Visibility state changed to "+t.visibilityState),this.rr.tr()};const e=Kh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ta)}get isShuttingDown(){return this.wa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ea(),this.Ia(e)}enterRestrictedMode(e){if(!this.wa){this.wa=!0,this.ya=e||!1;const t=Kh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ta)}}enqueue(e){if(this.Ea(),this.wa)return new Promise(()=>{});const t=new ei;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.da.push(e),this.Aa()))}Aa(){var e=this;return(0,Ee.Z)(function*(){if(0!==e.da.length){try{yield e.da[0](),e.da.shift(),e.rr.reset()}catch(t){if(!Gc(t))throw t;Ue("AsyncQueue","Operation failed with retryable error: "+t)}e.da.length>0&&e.rr.Xi(()=>e.Aa())}})()}Ia(e){const t=this.fa.then(()=>(this.ga=!0,e().catch(s=>{throw this.ma=s,this.ga=!1,qn("INTERNAL UNHANDLED ERROR: ",function(l){let p=l.message||"";return l.stack&&(p=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),p}(s)),s}).then(s=>(this.ga=!1,s))));return this.fa=t,t}enqueueAfterDelay(e,t,s){this.Ea(),this.pa.indexOf(e)>-1&&(t=0);const a=ro.createAndSchedule(this,e,t,s,l=>this.Ra(l));return this._a.push(a),a}Ea(){this.ma&&et()}verifyOperationInProgress(){}ba(){var e=this;return(0,Ee.Z)(function*(){let t;do{t=e.fa,yield t}while(t!==e.fa)})()}Pa(e){for(const t of this._a)if(t.timerId===e)return!0;return!1}va(e){return this.ba().then(()=>{this._a.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this._a)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ba()})}Va(e){this.pa.push(e)}Ra(e){const t=this._a.indexOf(e);this._a.splice(t,1)}}function pE(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(n)}class lI{constructor(){this._progressObserver={},this._taskCompletionResolver=new ei,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Vn extends Yp{constructor(e,t){super(e,t),this.type="firestore",this._queue=new cI,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||gE(this),this._firestoreClient.terminate()}}function Nr(n){return n._firestoreClient||gE(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function gE(n){var e;const t=n._freezeSettings(),s=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new JT(n._databaseId,l,n._persistenceKey,(v=t).host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,v.useFetchStreams));var l,v;n._firestoreClient=new tI(n._credentials,n._queue,s)}function fI(n,e,t){const s=new ei;return n.asyncQueue.enqueue((0,Ee.Z)(function*(){try{yield iE(n,t),yield nI(n,e),s.resolve()}catch(a){if(!("FirebaseError"===(l=a).name?l.code===me.FAILED_PRECONDITION||l.code===me.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw a;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),s.reject(a)}var l})).then(()=>s.promise)}function gI(n){if(n._initialized||n._terminated)throw new Oe(me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ou{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Oe(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class La{constructor(e){this._byteString=e}static fromBase64String(e){try{return new La(pr.fromBase64String(e))}catch(t){throw new Oe(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new La(pr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Cd{constructor(e){this._methodName=e}}class Qp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Oe(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Oe(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Mt(this._lat,e._lat)||Mt(this._long,e._long)}}const mI=/^__.*__$/;class cA{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new jc(e,this.data,this.fieldMask,t,this.fieldTransforms):new td(e,this.data,t,this.fieldTransforms)}}class yI{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new jc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function yE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw et()}}class vy{constructor(e,t,s,a,l,p){this.settings=e,this.databaseId=t,this.N=s,this.ignoreUndefinedProperties=a,void 0===l&&this.Sa(),this.fieldTransforms=l||[],this.fieldMask=p||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(e){return new vy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.Ca({path:s,xa:!1});return a.ka(e),a}$a(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.Ca({path:s,xa:!1});return a.Sa(),a}Oa(e){return this.Ca({path:void 0,xa:!0})}Fa(e){return lf(e,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Sa(){if(this.path)for(let e=0;e<this.path.length;e++)this.ka(this.path.get(e))}ka(e){if(0===e.length)throw this.Fa("Document fields must not be empty");if(yE(this.Da)&&mI.test(e))throw this.Fa('Document fields cannot begin and end with "__"')}}class lA{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.N=s||Yh(e)}Ba(e,t,s,a=!1){return new vy({Da:e,methodName:t,La:s,path:yn.emptyPath(),xa:!1,Ma:a},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Dd(n){const e=n._freezeSettings(),t=Yh(n._databaseId);return new lA(n._databaseId,!!e.ignoreUndefinedProperties,t)}function uf(n,e,t,s,a,l={}){const p=n.Ba(l.merge||l.mergeFields?2:0,e,t,a);vI("Data must be an object, but it was:",p,s);const v=wE(s,p);let I,S;if(l.merge)I=new Ql(p.fieldMask),S=p.fieldTransforms;else if(l.mergeFields){const M=[];for(const P of l.mergeFields){const K=IE(e,P,t);if(!p.contains(K))throw new Oe(me.INVALID_ARGUMENT,`Field '${K}' is specified in your field mask but missing from your input data.`);Xp(M,K)||M.push(K)}I=new Ql(M),S=p.fieldTransforms.filter(P=>I.covers(P.field))}else I=null,S=p.fieldTransforms;return new cA(new Li(v),I,S)}class Td extends Cd{_toFieldTransform(e){if(2!==e.Da)throw e.Fa(1===e.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Td}}function _E(n,e,t){return new vy({Da:3,La:e.settings.La,methodName:n._methodName,xa:t},e.databaseId,e.N,e.ignoreUndefinedProperties)}class Jp extends Cd{_toFieldTransform(e){return new bp(e.path,new wp)}isEqual(e){return e instanceof Jp}}class dA extends Cd{constructor(e,t){super(e),this.Ua=t}_toFieldTransform(e){const t=_E(this,e,!0),s=this.Ua.map(l=>Jc(l,t)),a=new Oh(s);return new bp(e.path,a)}isEqual(e){return this===e}}class hA extends Cd{constructor(e,t){super(e),this.Ua=t}_toFieldTransform(e){const t=_E(this,e,!0),s=this.Ua.map(l=>Jc(l,t)),a=new Ph(s);return new bp(e.path,a)}isEqual(e){return this===e}}class vE extends Cd{constructor(e,t){super(e),this.qa=t}_toFieldTransform(e){const t=new Bc(e.N,x0(e.N,this.qa));return new bp(e.path,t)}isEqual(e){return this===e}}function EE(n,e,t,s){const a=n.Ba(1,e,t);vI("Data must be an object, but it was:",a,s);const l=[],p=Li.empty();Yl(s,(I,S)=>{const M=EI(e,I,t);S=(0,It.m9)(S);const P=a.$a(M);if(S instanceof Td)l.push(M);else{const K=Jc(S,P);null!=K&&(l.push(M),p.set(M,K))}});const v=new Ql(l);return new yI(p,v,a.fieldTransforms)}function Ey(n,e,t,s,a,l){const p=n.Ba(1,e,t),v=[IE(e,s,t)],I=[a];if(l.length%2!=0)throw new Oe(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let K=0;K<l.length;K+=2)v.push(IE(e,l[K])),I.push(l[K+1]);const S=[],M=Li.empty();for(let K=v.length-1;K>=0;--K)if(!Xp(S,v[K])){const J=v[K];let xe=I[K];xe=(0,It.m9)(xe);const He=p.$a(J);if(xe instanceof Td)S.push(J);else{const ze=Jc(xe,He);null!=ze&&(S.push(J),M.set(J,ze))}}const P=new Ql(S);return new yI(M,P,p.fieldTransforms)}function _I(n,e,t,s=!1){return Jc(t,n.Ba(s?4:3,e))}function Jc(n,e){if(bE(n=(0,It.m9)(n)))return vI("Unsupported field value:",e,n),wE(n,e);if(n instanceof Cd)return function(t,s){if(!yE(s.Da))throw s.Fa(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Fa(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xa&&4!==e.Da)throw e.Fa("Nested arrays are not supported");return function(t,s){const a=[];let l=0;for(const p of t){let v=Jc(p,s.Oa(l));null==v&&(v={nullValue:"NULL_VALUE"}),a.push(v),l++}return{arrayValue:{values:a}}}(n,e)}return function(t,s){if(null===(t=(0,It.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return x0(s.N,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Sr.fromDate(t);return{timestampValue:Ap(s.N,a)}}if(t instanceof Sr){const a=new Sr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ap(s.N,a)}}if(t instanceof Qp)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof La)return{bytesValue:iv(s.N,t._byteString)};if(t instanceof Dn){const a=s.databaseId,l=t.firestore._databaseId;if(!l.isEqual(a))throw s.Fa(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:sv(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s.Fa(`Unsupported field value: ${yy(t)}`)}(n,e)}function wE(n,e){const t={};return Et(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yl(n,(s,a)=>{const l=Jc(a,e.Na(s));null!=l&&(t[s]=l)}),{mapValue:{fields:t}}}function bE(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Sr||n instanceof Qp||n instanceof La||n instanceof Dn||n instanceof Cd)}function vI(n,e,t){if(!bE(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=yy(t);throw e.Fa("an object"===s?n+" a custom object":n+" "+s)}var s}function IE(n,e,t){if((e=(0,It.m9)(e))instanceof Ou)return e._internalPath;if("string"==typeof e)return EI(n,e);throw lf("Field path arguments must be of type string or FieldPath.",n,!1,void 0,t)}const cf=new RegExp("[~\\*/\\[\\]]");function EI(n,e,t){if(e.search(cf)>=0)throw lf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ou(...e.split("."))._internalPath}catch(s){throw lf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function lf(n,e,t,s,a){const l=s&&!s.isEmpty(),p=void 0!==a;let v=`Function ${e}() called with invalid data`;t&&(v+=" (via `toFirestore()`)"),v+=". ";let I="";return(l||p)&&(I+=" (found",l&&(I+=` in field ${s}`),p&&(I+=` in document ${a}`),I+=")"),new Oe(me.INVALID_ARGUMENT,v+n+I)}function Xp(n,e){return n.some(t=>t.isEqual(e))}class eg{constructor(e,t,s,a,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Dn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new df(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(wy("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class df extends eg{data(){return super.data()}}function wy(n,e){return"string"==typeof e?EI(n,e):e instanceof Ou?e._internalPath:e._delegate._internalPath}class hf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pu extends eg{constructor(e,t,s,a,l,p){super(e,t,s,a,p),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new us(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(wy("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class us extends Pu{data(e={}){return super.data(e)}}class ku{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new hf(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new us(this._firestore,this._userDataWriter,s.key,s,new hf(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Oe(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(p=>({type:"added",doc:new us(s._firestore,s._userDataWriter,p.doc.key,p.doc,new hf(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:l++}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(p=>a||3!==p.type).map(p=>{const v=new us(s._firestore,s._userDataWriter,p.doc.key,p.doc,new hf(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter);let I=-1,S=-1;return 0!==p.type&&(I=l.indexOf(p.doc.key),l=l.delete(p.doc.key)),1!==p.type&&(l=l.add(p.doc),S=l.indexOf(p.doc.key)),{type:fR(p.type),doc:v,oldIndex:I,newIndex:S}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function fR(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return et()}}function tg(n,e){return n instanceof Pu&&e instanceof Pu?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof ku&&e instanceof ku&&n._firestore===e._firestore&&uI(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function wI(n){if(Au(n)&&0===n.explicitOrderBy.length)throw new Oe(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ng{}function Ad(n,...e){for(const t of e)n=t._apply(n);return n}class fA extends ng{constructor(e,t,s){super(),this.Ka=e,this.ja=t,this.Qa=s,this.type="where"}_apply(e){const t=Dd(e.firestore),s=function(a,l,p,v,I,S,M){let P;if(I.isKeyField()){if("array-contains"===S||"array-contains-any"===S)throw new Oe(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on FieldPath.documentId().`);if("in"===S||"not-in"===S){TI(M,S);const J=[];for(const xe of M)J.push(SE(v,a,xe));P={arrayValue:{values:J}}}else P=SE(v,a,M)}else"in"!==S&&"not-in"!==S&&"array-contains-any"!==S||TI(M,S),P=_I(p,"where",M,"in"===S||"not-in"===S);const K=Vi.create(I,S,P);return function(J,xe){if(xe.v()){const ze=Am(J);if(null!==ze&&!ze.isEqual(xe.field))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ze.toString()}' and '${xe.field.toString()}'`);const Ot=Z_(J);null!==Ot&&AI(0,xe.field,Ot)}const He=function(ze,Ot){for(const sn of ze.filters)if(Ot.indexOf(sn.op)>=0)return sn.op;return null}(J,function(ze){switch(ze){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(xe.op));if(null!==He)throw new Oe(me.INVALID_ARGUMENT,He===xe.op?`Invalid query. You cannot use more than one '${xe.op.toString()}' filter.`:`Invalid query. You cannot use '${xe.op.toString()}' filters with '${He.toString()}' filters.`)}(a,K),K}(e._query,0,t,e.firestore._databaseId,this.Ka,this.ja,this.Qa);return new bi(e.firestore,e.converter,function(a,l){const p=a.filters.concat([l]);return new is(a.path,a.collectionGroup,a.explicitOrderBy.slice(),p,a.limit,a.limitType,a.startAt,a.endAt)}(e._query,s))}}class gA extends ng{constructor(e,t){super(),this.Ka=e,this.Wa=t,this.type="orderBy"}_apply(e){const t=function(s,a,l){if(null!==s.startAt)throw new Oe(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Oe(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const p=new ed(a,l);return function(v,I){if(null===Z_(v)){const S=Am(v);null!==S&&AI(0,S,I.field)}}(s,p),p}(e._query,this.Ka,this.Wa);return new bi(e.firestore,e.converter,function(s,a){const l=s.explicitOrderBy.concat([a]);return new is(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class DE extends ng{constructor(e,t,s){super(),this.type=e,this.Ga=t,this.za=s}_apply(e){return new bi(e.firestore,e.converter,W_(e._query,this.Ga,this.za))}}class II extends ng{constructor(e,t,s){super(),this.type=e,this.Ha=t,this.Ja=s}_apply(e){const t=AE(e,this.type,this.Ha,this.Ja);return new bi(e.firestore,e.converter,(a=t,new is((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,a,s.endAt)));var s,a}}class CI extends ng{constructor(e,t,s){super(),this.type=e,this.Ha=t,this.Ja=s}_apply(e){const t=AE(e,this.type,this.Ha,this.Ja);return new bi(e.firestore,e.converter,(a=t,new is((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,a)));var s,a}}function AE(n,e,t,s){if(t[0]=(0,It.m9)(t[0]),t[0]instanceof eg)return function(a,l,p,v,I){if(!v)throw new Oe(me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${p}().`);const S=[];for(const M of Vc(a))if(M.field.isKeyField())S.push(vp(l,v.key));else{const P=v.data.field(M.field);if(_0(P))throw new Oe(me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+M.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===P){const K=M.field.canonicalString();throw new Oe(me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${K}' (used as the orderBy) does not exist.`)}S.push(P)}return new Xl(S,I)}(n._query,n.firestore._databaseId,e,t[0]._document,s);{const a=Dd(n.firestore);return function(l,p,v,I,S,M){const P=l.explicitOrderBy;if(S.length>P.length)throw new Oe(me.INVALID_ARGUMENT,`Too many arguments provided to ${I}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const K=[];for(let J=0;J<S.length;J++){const xe=S[J];if(P[J].field.isKeyField()){if("string"!=typeof xe)throw new Oe(me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${I}(), but got a ${typeof xe}`);if(!Sm(l)&&-1!==xe.indexOf("/"))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${I}() must be a plain document ID, but '${xe}' contains a slash.`);const He=l.path.child(Wt.fromString(xe));if(!Je.isDocumentKey(He))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${I}() must result in a valid document path, but '${He}' is not because it contains an odd number of segments.`);const ze=new Je(He);K.push(vp(p,ze))}else{const He=_I(v,I,xe);K.push(He)}}return new Xl(K,M)}(n._query,n.firestore._databaseId,a,e,t,s)}}function SE(n,e,t){if("string"==typeof(t=(0,It.m9)(t))){if(""===t)throw new Oe(me.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Sm(e)&&-1!==t.indexOf("/"))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Wt.fromString(t));if(!Je.isDocumentKey(s))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return vp(n,new Je(s))}if(t instanceof Dn)return vp(n,t._key);throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${yy(t)}.`)}function TI(n,e){if(!Array.isArray(n)||0===n.length)throw new Oe(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Oe(me.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function AI(n,e,t){if(!t.isEqual(e))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class by{convertValue(e,t="none"){switch(xh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(kc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw et()}}convertObject(e,t){const s={};return Yl(e.fields,(a,l)=>{s[a]=this.convertValue(l,t)}),s}convertGeoPoint(e){return new Qp(rr(e.latitude),rr(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=j_(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(wm(e));default:return null}}convertTimestamp(e){const t=xa(e);return new Sr(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Wt.fromString(e);gt(J0(s));const a=new zp(s.get(1),s.get(3)),l=new Je(s.popFirst(5));return a.isEqual(t)||qn(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function Sd(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}class _A extends by{constructor(e){super(),this.firestore=e}convertBytes(e){return new La(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dn(this.firestore,null,t)}}class xE{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Dd(e)}set(e,t,s){this._verifyNotCommitted();const a=Go(e,this._firestore),l=Sd(a.converter,t,s),p=uf(this._dataReader,"WriteBatch.set",a._key,l,null!==a.converter,s);return this._mutations.push(p.toMutation(a._key,gr.none())),this}update(e,t,s,...a){this._verifyNotCommitted();const l=Go(e,this._firestore);let p;return p="string"==typeof(t=(0,It.m9)(t))||t instanceof Ou?Ey(this._dataReader,"WriteBatch.update",l._key,t,s,a):EE(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(p.toMutation(l._key,gr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Go(e,this._firestore);return this._mutations=this._mutations.concat(new Cp(t._key,gr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Oe(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Go(n,e){if((n=(0,It.m9)(n)).firestore!==e)throw new Oe(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class qo extends by{constructor(e){super(),this.firestore=e}convertBytes(e){return new La(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dn(this.firestore,null,t)}}function SI(n,e,t){n=qt(n,Dn);const s=qt(n.firestore,Vn),a=Sd(n.converter,e,t);return ff(s,[uf(Dd(s),"setDoc",n._key,a,null!==n.converter,t).toMutation(n._key,gr.none())])}function xI(n,e,t,...s){n=qt(n,Dn);const a=qt(n.firestore,Vn),l=Dd(a);let p;return p="string"==typeof(e=(0,It.m9)(e))||e instanceof Ou?Ey(l,"updateDoc",n._key,e,t,s):EE(l,"updateDoc",n._key,e),ff(a,[p.toMutation(n._key,gr.exists(!0))])}function RI(n,...e){var t,s,a;n=(0,It.m9)(n);let l={includeMetadataChanges:!1},p=0;"object"!=typeof e[p]||pE(e[p])||(l=e[p],p++);const v={includeMetadataChanges:l.includeMetadataChanges};if(pE(e[p])){const P=e[p];e[p]=null===(t=P.next)||void 0===t?void 0:t.bind(P),e[p+1]=null===(s=P.error)||void 0===s?void 0:s.bind(P),e[p+2]=null===(a=P.complete)||void 0===a?void 0:a.bind(P)}let I,S,M;if(n instanceof Dn)S=qt(n.firestore,Vn),M=Uo(n._key.path),I={next:P=>{e[p]&&e[p](NI(S,n,P))},error:e[p+1],complete:e[p+2]};else{const P=qt(n,bi);S=qt(P.firestore,Vn),M=P._query;const K=new qo(S);I={next:J=>{e[p]&&e[p](new ku(S,K,P,J))},error:e[p+1],complete:e[p+2]},wI(n._query)}return function(P,K,J,xe){const He=new sf(xe),ze=new iy(K,He,J);return P.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return Vv(yield of(P),ze)})),()=>{He.Xo(),P.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return jp(yield of(P),ze)}))}}(Nr(S),M,v,I)}function ff(n,e){return function(t,s){const a=new ei;return t.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(n,e,t){return qv.apply(this,arguments)}(yield my(t),s,a)})),a.promise}(Nr(n),e)}function NI(n,e,t){const s=t.docs.get(e._key),a=new qo(n);return new Pu(n,a,e._key,s,new hf(t.hasPendingWrites,t.fromCache),e.converter)}class TA extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Dd(e)}get(e){const t=Go(e,this._firestore),s=new _A(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return et();const l=a[0];if(l.isFoundDocument())return new eg(this._firestore,s,l.key,l,t.converter);if(l.isNoDocument())return new eg(this._firestore,s,t._key,null,t.converter);throw et()})}set(e,t,s){const a=Go(e,this._firestore),l=Sd(a.converter,t,s),p=uf(this._dataReader,"Transaction.set",a._key,l,null!==a.converter,s);return this._transaction.set(a._key,p),this}update(e,t,s,...a){const l=Go(e,this._firestore);let p;return p="string"==typeof(t=(0,It.m9)(t))||t instanceof Ou?Ey(this._dataReader,"Transaction.update",l._key,t,s,a):EE(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,p),this}delete(e){const t=Go(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Go(e,this._firestore),s=new qo(this._firestore);return super.get(e).then(a=>new Pu(this._firestore,s,t._key,a._document,new hf(!1,!1),t.converter))}}function pf(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Oe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function MI(){if("undefined"==typeof Uint8Array)throw new Oe("unimplemented","Uint8Arrays are not available in this environment.")}function OI(){if("undefined"==typeof atob)throw new Oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(n){Cu=n})(di.SDK_VERSION),(0,di._registerComponent)(new gc.wA("firestore",(n,{options:e})=>{const t=n.getProvider("app").getImmediate(),s=new Vn(t,new HD(n.getProvider("auth-internal")));return e=Object.assign({useFetchStreams:!0},e),s._setSettings(e),s},"PUBLIC")),(0,di.registerVersion)(_m,"3.1.1",void 0),(0,di.registerVersion)(_m,"3.1.1","esm2017");class gf{constructor(e){this._delegate=e}static fromBase64String(e){return OI(),new gf(La.fromBase64String(e))}static fromUint8Array(e){return MI(),new gf(La.fromUint8Array(e))}toBase64(){return OI(),this._delegate.toBase64()}toUint8Array(){return MI(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Dy(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const s of["next","error","complete"])if(s in t&&"function"==typeof t[s])return!0;return!1}(n)}class PI{enableIndexedDbPersistence(e,t){return function(n,e){gI(n=qt(n,Vn));const t=Nr(n),s=n._freezeSettings(),a=new Jb;return fI(t,a,new qp(a,s.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){gI(n=qt(n,Vn));const e=Nr(n),t=n._freezeSettings(),s=new Jb;return fI(e,s,new Wn(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new Oe(me.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ei;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{yield(t=(0,Ee.Z)(function*(s){if(!Ma.bt())return Promise.resolve();const a=s+"main";yield Ma.delete(a)}),function(s){return t.apply(this,arguments)})(fb(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class NE{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof zp||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Du("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function(n,e,t,s={}){var a;const l=(n=qt(n,Yp))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&Du("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let p,v;if("string"==typeof s.mockUserToken)p=s.mockUserToken,v=jr.MOCK_USER;else{p=(0,It.Sg)(s.mockUserToken,null===(a=n._app)||void 0===a?void 0:a.options.projectId);const I=s.mockUserToken.sub||s.mockUserToken.user_id;if(!I)throw new Oe(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new jr(I)}n._credentials=new f0(new B_(p,v))}}(this._delegate,e,t,s)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){const e=yield Zp(n),t=yield cE(n);return e.setNetworkEnabled(!0),function(s){const a=$e(s);return a.Kr.delete(0),Vp(a)}(t)}))}(Nr(n=qt(n,Vn)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){const e=yield Zp(n),t=yield cE(n);return e.setNetworkEnabled(!1),(s=(0,Ee.Z)(function*(a){const l=$e(a);l.Kr.add(0),yield Qh(l),l.Wr.set("Offline")}),function(a){return s.apply(this,arguments)})(t);var s}))}(Nr(n=qt(n,Vn)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,eA("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new ei;return e.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(n,e){return Yv.apply(this,arguments)}(yield my(e),t)})),t.promise}(Nr(n=qt(n,Vn)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new sf(e);return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return s=yield of(n),a=t,$e(s).Zr.add(a),void a.next();var s,a})),()=>{t.Xo(),n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return s=yield of(n),a=t,void $e(s).Zr.delete(a);var s,a}))}}(Nr(n=qt(n,Vn)),pE(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ht(this,fE(this._delegate,e))}catch(t){throw Hr(t,"collection()","Firestore.collection()")}}doc(e){try{return new ji(this,_y(this._delegate,e))}catch(t){throw Hr(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new yr(this,function(n,e){if(n=qt(n,Yp),aI("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Oe(me.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new bi(n,null,(t=e,new is(Wt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Hr(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e){return function(n,e){const t=new ei;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){const s=yield(a=n,py(a).then(l=>l.datastore));var a;new eI(n.asyncQueue,s,e,t).run()})),t.promise}(Nr(n),t=>e(new TA(n,t)))}(this._delegate,t=>e(new ME(this,t)))}batch(){return Nr(this._delegate),new kI(new xE(this._delegate,e=>ff(this._delegate,e)))}loadBundle(e){return function(n,e){const t=Nr(n=qt(n,Vn)),s=new lI;return function(n,e,t,s){const a=function(l,p){let v;return v="string"==typeof l?(new TextEncoder).encode(l):l,I=function(I,S){if(I instanceof Uint8Array)return rE(I,S);if(I instanceof ArrayBuffer)return rE(new Uint8Array(I),S);if(I instanceof ReadableStream)return I.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(v),new WT(I,p);var I}(t,Yh(e));n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){!function(n,e,t){const s=$e(n);var a;(a=(0,Ee.Z)(function*(l,p,v){try{const I=yield p.getMetadata();if(yield function(K,J){const xe=$e(K),He=mr(J.createTime);return xe.persistence.runTransaction("hasNewerBundle","readonly",ze=>xe.Je.getBundleMetadata(ze,J.id)).then(ze=>!!ze&&ze.createTime.compareTo(He)>=0)}(l.localStore,I))return yield p.close(),void v._completeWith((K=I,{taskState:"Success",documentsLoaded:K.totalDocuments,bytesLoaded:K.totalBytes,totalDocuments:K.totalDocuments,totalBytes:K.totalBytes}));v._updateProgress(jv(I));const S=new VT(I,l.localStore,p.N);let M=yield p.Qo();for(;M;){const K=yield S.fo(M);K&&v._updateProgress(K),M=yield p.Qo()}const P=yield S.complete();yield ka(l,P.En,void 0),yield function(K,J){const xe=$e(K);return xe.persistence.runTransaction("Save bundle","readwrite",He=>xe.Je.saveBundleMetadata(He,J))}(l.localStore,I),v._completeWith(P.progress)}catch(I){Du("SyncEngine",`Loading bundle failed with ${I}`),v._failWith(I)}var K}),function(l,p,v){return a.apply(this,arguments)})(s,e,t).then(()=>{s.sharedClientState.notifyBundleLoaded()})}(yield my(n),a,s)}))}(t,n._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){return function(t,s){const a=$e(t);return a.persistence.runTransaction("Get named query","readonly",l=>a.Je.getNamedQuery(l,s))}(yield gy(n),e)}))}(Nr(n=qt(n,Vn)),e).then(t=>t?new bi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new yr(this,t):null)}}class Ty extends by{constructor(e){super(),this.firestore=e}convertBytes(e){return new gf(new La(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ji.forKey(t,this.firestore,null)}}class ME{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Ty(e)}get(e){const t=Gr(e);return this._delegate.get(t).then(s=>new Ut(this._firestore,new Pu(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const a=Gr(e);return s?(pf("Transaction.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const l=Gr(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,s,...a),this}delete(e){const t=Gr(e);return this._delegate.delete(t),this}}class kI{constructor(e){this._delegate=e}set(e,t,s){const a=Gr(e);return s?(pf("WriteBatch.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const l=Gr(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,s,...a),this}delete(e){const t=Gr(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Xc{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new us(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new io(this._firestore,s),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=Xc.INSTANCES;let a=s.get(e);a||(a=new WeakMap,s.set(e,a));let l=a.get(t);return l||(l=new Xc(e,new Ty(e),t),a.set(t,l)),l}}Xc.INSTANCES=new WeakMap;class ji{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ty(e)}static forPath(e,t,s){if(e.length%2!=0)throw new Oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ji(t,new Dn(t._delegate,s,new Je(e)))}static forKey(e,t,s){return new ji(t,new Dn(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new ht(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ht(this.firestore,fE(this._delegate,e))}catch(t){throw Hr(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,It.m9)(e))instanceof Dn&&Id(this._delegate,e)}set(e,t){t=pf("DocumentReference.set",t);try{return t?SI(this._delegate,e,t):SI(this._delegate,e)}catch(s){throw Hr(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?xI(this._delegate,e):xI(this._delegate,e,t,...s)}catch(a){throw Hr(a,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return ff(qt(n.firestore,Vn),[new Cp(n._key,gr.none())])}(this._delegate)}onSnapshot(...e){const t=PA(e),s=mf(e,a=>new Ut(this.firestore,new Pu(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return RI(this._delegate,t,s)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=qt(n,Dn);const e=qt(n.firestore,Vn),t=Nr(e),s=new qo(e);return function(n,e){const t=new ei;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(s=(0,Ee.Z)(function*(a,l,p){try{const v=yield function(I,S){const M=$e(I);return M.persistence.runTransaction("read document","readonly",P=>M.Qn.An(P,S))}(a,l);v.isFoundDocument()?p.resolve(v):v.isNoDocument()?p.resolve(null):p.reject(new Oe(me.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(v){const I=Ei(v,`Failed to get document '${l} from cache`);p.reject(I)}}),function(a,l,p){return s.apply(this,arguments)})(yield gy(n),e,t);var s})),t.promise}(t,n._key).then(a=>new Pu(e,s,n._key,a,new hf(null!==a&&a.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=qt(n,Dn);const e=qt(n.firestore,Vn);return rI(Nr(e),n._key,{source:"server"}).then(t=>NI(e,n,t))}(this._delegate):function(n){n=qt(n,Dn);const e=qt(n.firestore,Vn);return rI(Nr(e),n._key).then(t=>NI(e,n,t))}(this._delegate),t.then(s=>new Ut(this.firestore,new Pu(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new ji(this.firestore,this._delegate.withConverter(e?Xc.getInstance(this.firestore,e):null))}}function Hr(n,e,t){return n.message=n.message.replace(e,t),n}function PA(n){for(const e of n)if("object"==typeof e&&!Dy(e))return e;return{}}function mf(n,e){var t,s;let a;return a=Dy(n[0])?n[0]:Dy(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{a.next&&a.next(e(l))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(s=a.complete)||void 0===s?void 0:s.bind(a)}}class Ut{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ji(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return tg(this._delegate,e._delegate)}}class io extends Ut{data(e){const t=this._delegate.data(e);return function(n,e){n||et()}(void 0!==t),t}}class yr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ty(e)}where(e,t,s){try{return new yr(this.firestore,Ad(this._delegate,function(n,e,t){const s=e,a=wy("where",n);return new fA(a,s,t)}(e,t,s)))}catch(a){throw Hr(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new yr(this.firestore,Ad(this._delegate,function(n,e="asc"){const t=e,s=wy("orderBy",n);return new gA(s,t)}(e,t)))}catch(s){throw Hr(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new yr(this.firestore,Ad(this._delegate,function(n){return hE("limit",n),new DE("limit",n,"F")}(e)))}catch(t){throw Hr(t,"limit()","Query.limit()")}}limitToLast(e){try{return new yr(this.firestore,Ad(this._delegate,function(n){return hE("limitToLast",n),new DE("limitToLast",n,"L")}(e)))}catch(t){throw Hr(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new yr(this.firestore,Ad(this._delegate,function(...n){return new II("startAt",n,!0)}(...e)))}catch(t){throw Hr(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new yr(this.firestore,Ad(this._delegate,function(...n){return new II("startAfter",n,!1)}(...e)))}catch(t){throw Hr(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new yr(this.firestore,Ad(this._delegate,function(...n){return new CI("endBefore",n,!0)}(...e)))}catch(t){throw Hr(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new yr(this.firestore,Ad(this._delegate,function(...n){return new CI("endAt",n,!1)}(...e)))}catch(t){throw Hr(t,"endAt()","Query.endAt()")}}isEqual(e){return uI(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=qt(n,bi);const e=qt(n.firestore,Vn),t=Nr(e),s=new qo(e);return function(n,e){const t=new ei;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(s=(0,Ee.Z)(function*(a,l,p){try{const v=yield qm(a,l,!0),I=new sy(l,v.Gn),S=I.Io(v.documents),M=I.applyChanges(S,!1);p.resolve(M.snapshot)}catch(v){const I=Ei(v,`Failed to execute query '${l} against cache`);p.reject(I)}}),function(a,l,p){return s.apply(this,arguments)})(yield gy(n),e,t);var s})),t.promise}(t,n._query).then(a=>new ku(e,s,n,a))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=qt(n,bi);const e=qt(n.firestore,Vn),t=Nr(e),s=new qo(e);return lE(t,n._query,{source:"server"}).then(a=>new ku(e,s,n,a))}(this._delegate):function(n){n=qt(n,bi);const e=qt(n.firestore,Vn),t=Nr(e),s=new qo(e);return wI(n._query),lE(t,n._query).then(a=>new ku(e,s,n,a))}(this._delegate),t.then(s=>new FI(this.firestore,new ku(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=PA(e),s=mf(e,a=>new FI(this.firestore,new ku(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return RI(this._delegate,t,s)}withConverter(e){return new yr(this.firestore,this._delegate.withConverter(e?Xc.getInstance(this.firestore,e):null))}}class ig{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new io(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class FI{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new yr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new io(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new ig(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new io(this._firestore,s))})}isEqual(e){return tg(this._delegate,e._delegate)}}class ht extends yr{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ji(this.firestore,e):null}doc(e){try{return new ji(this.firestore,void 0===e?_y(this._delegate):_y(this._delegate,e))}catch(t){throw Hr(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=qt(n.firestore,Vn),s=_y(n),a=Sd(n.converter,e);return ff(t,[uf(Dd(n.firestore),"addDoc",s._key,a,null!==n.converter,{}).toMutation(s._key,gr.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new ji(this.firestore,t))}isEqual(e){return Id(this._delegate,e._delegate)}withConverter(e){return new ht(this.firestore,this._delegate.withConverter(e?Xc.getInstance(this.firestore,e):null))}}function Gr(n){return qt(n,Dn)}class sg{constructor(...e){this._delegate=new Ou(...e)}static documentId(){return new sg(yn.keyField().canonicalString())}isEqual(e){return(e=(0,It.m9)(e))instanceof Ou&&this._delegate._internalPath.isEqual(e._internalPath)}}class Ns{constructor(e){this._delegate=e}static serverTimestamp(){const e=new Jp("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Ns(e)}static delete(){const e=new Td("deleteField");return e._methodName="FieldValue.delete",new Ns(e)}static arrayUnion(...e){const t=function(...n){return new dA("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Ns(t)}static arrayRemove(...e){const t=function(...n){return new hA("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Ns(t)}static increment(e){const t=function(n){return new vE("increment",n)}(e);return t._methodName="FieldValue.increment",new Ns(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const yR={Firestore:NE,GeoPoint:Qp,Timestamp:Sr,Blob:gf,Transaction:ME,WriteBatch:kI,DocumentReference:ji,DocumentSnapshot:Ut,Query:yr,QueryDocumentSnapshot:io,QuerySnapshot:FI,CollectionReference:ht,FieldPath:sg,FieldValue:Ns,setLogLevel:function(n){!function(n){Fo.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function(n){(function(n,e){n.INTERNAL.registerComponent(new gc.wA("firestore-compat",t=>((e,t)=>new NE(e,t,new PI))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},yR)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.4")}(pc.Z);var Rd=V(9765),kA=V(6682),og=V(309),ri=V(5345);function At(n,e){return"function"==typeof e?t=>t.pipe(At((s,a)=>(0,Yt.D)(n(s,a)).pipe((0,pt.U)((l,p)=>e(s,l,a,p))))):t=>t.lift(new Zo(n))}class Zo{constructor(e){this.project=e}call(e,t){return t.subscribe(new UI(e,this.project))}}class UI extends ri.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const s=this.index++;try{t=this.project(e,s)}catch(a){return void this.destination.error(a)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const s=new ri.IY(this),a=this.destination;a.add(s),this.innerSubscription=(0,ri.ft)(e,s),this.innerSubscription!==s&&a.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}var FA=V(7771),OE=V(5319),Ay=V(7971),yf=V(8858);class ag extends Rd.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,s){super(),this.scheduler=s,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new LA(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,s=t?this._events:this._trimBufferThenGetEvents(),a=this.scheduler,l=s.length;let p;if(this.closed)throw new Ay.N;if(this.isStopped||this.hasError?p=OE.w.EMPTY:(this.observers.push(e),p=new yf.W(this,e)),a&&e.add(e=new og.ht(e,a)),t)for(let v=0;v<l&&!e.closed;v++)e.next(s[v]);else for(let v=0;v<l&&!e.closed;v++)e.next(s[v].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),p}_getNow(){return(this.scheduler||FA.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,s=this._windowTime,a=this._events,l=a.length;let p=0;for(;p<l&&!(e-a[p].time<s);)p++;return l>t&&(p=Math.max(p,l-t)),p>0&&a.splice(0,p),a}}class LA{constructor(e,t){this.time=e,this.value=t}}function el(n,e,t){let s;return s=n&&"object"==typeof n?n:{bufferSize:n,windowTime:e,refCount:!1,scheduler:t},a=>a.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:t,scheduler:s}){let a,p,l=0,v=!1,I=!1;return function(M){let P;l++,!a||v?(v=!1,a=new ag(n,e,s),P=a.subscribe(this),p=M.subscribe({next(K){a.next(K)},error(K){v=!0,a.error(K)},complete(){I=!0,p=void 0,a.complete()}}),I&&(p=void 0)):P=a.subscribe(this),this.add(()=>{l--,P.unsubscribe(),P=void 0,p&&!I&&t&&0===l&&(p.unsubscribe(),p=void 0,a=void 0)})}}(s))}const _f=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})(),xy=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();var Fu=V(9193);function tl(n){return e=>0===n?(0,Fu.c)():e.lift(new BA(n))}class BA{constructor(e){if(this.total=e,this.total<0)throw new xy}call(e,t){return t.subscribe(new Ry(e,this.total))}}class Ry extends li.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,s=++this.count;s<=t&&(this.destination.next(e),s===t&&(this.destination.complete(),this.unsubscribe()))}}function PE(n=null){return e=>e.lift(new BI(n))}class BI{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new jI(e,this.defaultValue))}}class jI extends li.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function ug(n=FE){return e=>e.lift(new jA(n))}class jA{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new kE(e,this.errorFactory))}}class kE extends li.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function FE(){return new _f}var $A=V(4487);function vf(n,e){const t=arguments.length>=2;return s=>s.pipe(n?Mi((a,l)=>n(a,l,s)):$A.y,tl(1),t?PE(e):ug(()=>new _f))}function yt(n,e){return e?At(()=>n,e):At(()=>n)}var $I=V(3101);V(2329);const ZI=new Map,ZA={activated:!1,tokenObservers:[]},WI={initialized:!1,enabled:!1};function ii(n){return ZI.get(n)||ZA}function Va(n,e){ZI.set(n,e)}function LE(){return WI}class KA{constructor(e,t,s,a,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=s,this.lowerBound=a,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=a,a>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ee.Z)(function*(){t.stop();try{t.pending=new It.BH,yield function(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new It.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(s){t.retryPolicy(s)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ms=new It.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error."});function VE(n){if(!ii(n).activated)throw Ms.create("use-before-activation",{appName:n.name})}function QA(n,e){return My.apply(this,arguments)}function My(){return(My=(0,Ee.Z)(function*({url:n,body:e},t){const s={"Content-Type":"application/json"},a=t.getImmediate({optional:!0});a&&(s["X-Firebase-Client"]=a.getPlatformInfoString());const l={method:"POST",body:JSON.stringify(e),headers:s};let p,v;try{p=yield fetch(n,l)}catch(P){throw Ms.create("fetch-network-error",{originalErrorMessage:P.message})}if(200!==p.status)throw Ms.create("fetch-status-error",{httpStatus:p.status});try{v=yield p.json()}catch(P){throw Ms.create("fetch-parse-error",{originalErrorMessage:P.message})}const I=v.ttl.match(/^([\d.]+)(s)$/);if(!I||!I[2]||isNaN(Number(I[1])))throw Ms.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${v.ttl}`});const S=1e3*Number(I[1]),M=Date.now();return{token:v.attestationToken,expireTimeMillis:M+S,issuedAtTimeMillis:M}})).apply(this,arguments)}function XA(n,e){const{projectId:t,appId:s,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${s}:exchangeDebugToken?key=${a}`,body:{debug_token:e}}}const dg="firebase-app-check-store";let Oy=null;function QI(){return Oy||(Oy=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=s=>{n(s.target.result)},t.onerror=s=>{var a;e(Ms.create("storage-open",{originalErrorMessage:null===(a=s.target.error)||void 0===a?void 0:a.message}))},t.onupgradeneeded=s=>{const a=s.target.result;switch(s.oldVersion){case 0:a.createObjectStore(dg,{keyPath:"compositeKey"})}}}catch(t){e(Ms.create("storage-open",{originalErrorMessage:t.message}))}}),Oy)}function jE(){return(jE=(0,Ee.Z)(function*(n,e){const s=(yield QI()).transaction(dg,"readwrite"),l=s.objectStore(dg).put({compositeKey:n,value:e});return new Promise((p,v)=>{l.onsuccess=I=>{p()},s.onerror=I=>{var S;v(Ms.create("storage-set",{originalErrorMessage:null===(S=I.target.error)||void 0===S?void 0:S.message}))}})})).apply(this,arguments)}const Py=new zs.Yd("@firebase/app-check");function nC(n,e){return(0,It.hl)()?function(n,e){return function(n,e){return jE.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Py.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function HE(){return LE().enabled}function so(){return fg.apply(this,arguments)}function fg(){return(fg=(0,Ee.Z)(function*(){const n=LE();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const rC={error:"UNKNOWN_ERROR"};function iC(n){return It.US.encodeString(JSON.stringify(n),!1)}function pg(n){return GE.apply(this,arguments)}function GE(){return(GE=(0,Ee.Z)(function*(n,e=!1){const t=n.app;VE(t);const s=ii(t);let l,p,a=s.token;if(!a){const v=yield s.cachedTokenPromise;v&&ky(v)&&(a=v,Va(t,Object.assign(Object.assign({},s),{token:a})),aC(t,{token:a.token}))}if(!e&&a&&ky(a))return{token:a.token};if(HE()){const v=yield QA(XA(t,yield so()),n.platformLoggerProvider);return yield nC(t,v),Va(t,Object.assign(Object.assign({},s),{token:v})),{token:v.token}}try{a=yield s.provider.getToken()}catch(v){Py.error(v),l=v}return a?(p={token:a.token},Va(t,Object.assign(Object.assign({},s),{token:a})),yield nC(t,a)):p=rS(l),aC(t,p),p})).apply(this,arguments)}function qE(n,e){const t=ii(n),s=t.tokenObservers.filter(a=>a.next!==e);0===s.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Va(n,Object.assign(Object.assign({},t),{tokenObservers:s}))}function aC(n,e){const t=ii(n).tokenObservers;for(const s of t)try{"EXTERNAL"===s.type&&null!=e.error?s.error(e.error):s.next(e)}catch(a){}}function ky(n){return n.expireTimeMillis-Date.now()>0}function rS(n){return{token:iC(rC),error:n}}class iS{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=ii(this.app);for(const t of e)qE(this.app,t.next);return Promise.resolve()}}const WE="app-check-internal";(0,di._registerComponent)(new gc.wA("app-check",n=>function(n,e){return new iS(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(WE).initialize()})),(0,di._registerComponent)(new gc.wA(WE,n=>function(n){return{getToken:e=>pg(n,e),addTokenListener:e=>function(n,e,t,s){const{app:a}=n,l=ii(a),p={next:t,error:s,type:e},v=Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,p]});if(!v.tokenRefresher){const I=function(n){const{app:e}=n;return new KA((0,Ee.Z)(function*(){let s;if(s=ii(e).token?yield pg(n,!0):yield pg(n),s.error)throw s.error}),()=>!0,()=>{const t=ii(e);if(t.token){let s=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return s=Math.min(s,t.token.expireTimeMillis-3e5),Math.max(0,s-Date.now())}return 0},3e4,96e4)}(n);v.tokenRefresher=I}if(!v.tokenRefresher.isRunning()&&l.isTokenAutoRefreshEnabled&&v.tokenRefresher.start(),l.token&&ky(l.token)){const I=l.token;Promise.resolve().then(()=>t({token:I.token})).catch(()=>{})}else null==l.token&&l.cachedTokenPromise.then(I=>{I&&ky(I)&&t({token:I.token})}).catch(()=>{});Va(a,v)}(n,"INTERNAL",e),removeTokenListener:e=>qE(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,di.registerVersion)("@firebase/app-check","0.4.2");class Ly{constructor(){return(0,mn.vb)("app-check")}}"undefined"!=typeof window&&window;var gC=V(7841);const By=new h.OlP("angularfire2.auth.use-emulator"),jy=new h.OlP("angularfire2.auth.settings"),QE=new h.OlP("angularfire2.auth.tenant-id"),$y=new h.OlP("angularfire2.auth.langugage-code"),Hy=new h.OlP("angularfire2.auth.use-device-language"),mC=new h.OlP("angularfire.auth.persistence"),yC=(n,e,t,s,a,l,p,v)=>(0,wn.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const I=e.runOutsideAngular(()=>n.auth());if(t&&I.useEmulator(...t),s&&(I.tenantId=s),I.languageCode=a,l&&I.useDeviceLanguage(),p)for(const[S,M]of Object.entries(p))I.settings[S]=M;return v&&I.setPersistence(v),I},[t,s,a,l,p,v]);let Gy=(()=>{class n{constructor(t,s,a,l,p,v,I,S,M,P,K,J){const xe=new Rd.xQ,He=(0,it.of)(void 0).pipe((0,og.QV)(p.outsideAngular),At(()=>l.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,4671)))),(0,pt.U)(()=>(0,wn.on)(t,l,s)),(0,pt.U)(ze=>yC(ze,l,v,S,M,P,I,K)),el({bufferSize:1,refCount:!1}));if(vo(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,it.of)(null);else{He.pipe(vf()).subscribe();const Ot=He.pipe(At(Bt=>Bt.getRedirectResult().then(vr=>vr,()=>null)),mn.iC,el({bufferSize:1,refCount:!1})),sn=He.pipe(At(Bt=>new Un.y(vr=>({unsubscribe:l.runOutsideAngular(()=>Bt.onAuthStateChanged(Ha=>vr.next(Ha),Ha=>vr.error(Ha),()=>vr.complete()))})))),On=He.pipe(At(Bt=>new Un.y(vr=>({unsubscribe:l.runOutsideAngular(()=>Bt.onIdTokenChanged(Ha=>vr.next(Ha),Ha=>vr.error(Ha),()=>vr.complete()))}))));this.authState=Ot.pipe(yt(sn),(0,$I.R)(p.outsideAngular),(0,og.QV)(p.insideAngular)),this.user=Ot.pipe(yt(On),(0,$I.R)(p.outsideAngular),(0,og.QV)(p.insideAngular)),this.idToken=this.user.pipe(At(Bt=>Bt?(0,Yt.D)(Bt.getIdToken()):(0,it.of)(null))),this.idTokenResult=this.user.pipe(At(Bt=>Bt?(0,Yt.D)(Bt.getIdTokenResult()):(0,it.of)(null))),this.credential=(0,kA.T)(Ot,xe,this.authState.pipe(Mi(Bt=>!Bt))).pipe((0,pt.U)(Bt=>(null==Bt?void 0:Bt.user)?Bt:null),(0,$I.R)(p.outsideAngular),(0,og.QV)(p.insideAngular))}return(0,wn.pX)(this,He,l,{spy:{apply:(ze,Ot,sn)=>{(ze.startsWith("signIn")||ze.startsWith("createUser"))&&sn.then(On=>xe.next(On))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(wn.Dh),h.LFG(wn.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(mn.HU),h.LFG(By,8),h.LFG(jy,8),h.LFG(QE,8),h.LFG($y,8),h.LFG(Hy,8),h.LFG(mC,8),h.LFG(Ly,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),fS=(()=>{class n{constructor(){gC.Z.registerVersion("angularfire",mn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[Gy]}),n})();function qy(n,e){return function(n,e=Dl.z){return new Un.y(t=>{let s;return null!=e?e.schedule(()=>{s=n.onSnapshot({includeMetadataChanges:!0},t)}):s=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=s&&s()}})}(n,e)}function JE(n,e){return qy(n,e).pipe((0,pt.U)(t=>({payload:t,type:"query"})))}function yg(n,e){return JE(n,e).pipe(cu(void 0),lu(),(0,pt.U)(([t,s])=>{const a=s.payload.docChanges(),l=a.map(p=>({type:p.type,payload:p}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((p,v)=>{const I=a.find(M=>M.doc.ref.isEqual(p.ref)),S=null==t?void 0:t.payload.docs.find(M=>M.ref.isEqual(p.ref));I&&JSON.stringify(I.doc.metadata)===JSON.stringify(p.metadata)||!I&&S&&JSON.stringify(S.metadata)===JSON.stringify(p.metadata)||l.push({type:"modified",payload:{oldIndex:v,newIndex:v,type:"modified",doc:p}})}),l}))}function XE(n,e,t){return yg(n,t).pipe(qs((s,a)=>function(n,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(n=function(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return Zy(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Zy(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Zy(n,e.oldIndex,1)}return n}(n,s))}),n}(s,a.map(l=>l.payload),e),[]),t=>t.lift(new hc(void 0,void 0)),(0,pt.U)(s=>s.map(a=>({type:a.type,payload:a}))))}function Zy(n,e,t,...s){const a=n.slice();return a.splice(e,t,...s),a}function wC(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class ew{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=yg(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,pt.U)(s=>s.filter(a=>e.indexOf(a.type)>-1)))),t.pipe(cu(void 0),lu(),Mi(([s,a])=>a.length>0||!s),(0,pt.U)(([s,a])=>a),mn.iC)}auditTrail(e){return this.stateChanges(e).pipe(qs((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=wC(e);return XE(this.query,t,this.afs.schedulers.outsideAngular).pipe(mn.iC)}valueChanges(e={}){return JE(this.query,this.afs.schedulers.outsideAngular).pipe((0,pt.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),mn.iC)}get(e){return(0,Yt.D)(this.query.get(e)).pipe(mn.iC)}add(e){return this.ref.add(e)}doc(e){return new bC(this.ref.doc(e),this.afs)}}class bC{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:a,query:l}=yS(s,t);return new ew(a,l,this.afs)}snapshotChanges(){return function(n,e){return qy(n,e).pipe(cu(void 0),lu(),(0,pt.U)(([t,s])=>s.exists?(null==t?void 0:t.exists)?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(mn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,pt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Yt.D)(this.ref.get(e)).pipe(mn.iC)}}class $R{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?yg(this.query,this.afs.schedulers.outsideAngular).pipe((0,pt.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),Mi(t=>t.length>0),mn.iC):yg(this.query,this.afs.schedulers.outsideAngular).pipe(mn.iC)}auditTrail(e){return this.stateChanges(e).pipe(qs((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=wC(e);return XE(this.query,t,this.afs.schedulers.outsideAngular).pipe(mn.iC)}valueChanges(e={}){return JE(this.query,this.afs.schedulers.outsideAngular).pipe((0,pt.U)(s=>s.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),mn.iC)}get(e){return(0,Yt.D)(this.query.get(e)).pipe(mn.iC)}}const Ii=new h.OlP("angularfire2.enableFirestorePersistence"),Nd=new h.OlP("angularfire2.firestore.persistenceSettings"),gS=new h.OlP("angularfire2.firestore.settings"),mS=new h.OlP("angularfire2.firestore.use-emulator");function yS(n,e=(t=>t)){return{query:e(n),ref:n}}let _g=(()=>{class n{constructor(t,s,a,l,p,v,I,S,M,P,K,J,xe,He,ze,Ot,sn){this.schedulers=I;const On=(0,wn.on)(t,v,s),Bt=M;P&&yC(On,v,K,xe,He,ze,J,Ot),[this.firestore,this.persistenceEnabled$]=(0,wn.cc)(`${On.name}.firestore`,"AngularFirestore",On.name,()=>{const vr=v.runOutsideAngular(()=>On.firestore());if(l&&vr.settings(l),Bt&&vr.useEmulator(...Bt),a&&!vo(p)){const Ha=()=>{try{return(0,Yt.D)(vr.enablePersistence(S||void 0).then(()=>!0,()=>!1))}catch(BM){return"undefined"!=typeof console&&console.warn(BM),(0,it.of)(!1)}};return[vr,v.runOutsideAngular(Ha)]}return[vr,(0,it.of)(!1)]},[l,Bt,a])}collection(t,s){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:p}=yS(a,s),v=this.schedulers.ngZone.run(()=>l);return new ew(v,p,this)}collectionGroup(t,s){const a=s||(p=>p),l=this.firestore.collectionGroup(t);return new $R(a(l),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>s);return new bC(a,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(wn.Dh),h.LFG(wn.xv,8),h.LFG(Ii,8),h.LFG(gS,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(mn.HU),h.LFG(Nd,8),h.LFG(mS,8),h.LFG(Gy,8),h.LFG(By,8),h.LFG(jy,8),h.LFG(QE,8),h.LFG($y,8),h.LFG(Hy,8),h.LFG(mC,8),h.LFG(Ly,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),_S=(()=>{class n{constructor(){gC.Z.registerVersion("angularfire",mn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:Ii,useValue:!0},{provide:Nd,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[_g]}),n})();class Os extends Rd.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ay.N;return this._value}next(e){super.next(this._value=e)}}var tw=V(9796);class IC extends li.L{notifyNext(e,t,s,a,l){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class vS extends li.L{constructor(e,t,s){super(),this.parent=e,this.outerValue=t,this.outerIndex=s,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var ES=V(7444);function nw(n,e,t,s,a=new vS(n,t,s)){if(!a.closed)return e instanceof Un.y?e.subscribe(a):(0,ES.s)(e)(a)}var CC=V(6693);const rw={};class iw{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new HR(e,this.resultSelector))}}class HR extends IC{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(rw),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let s=0;s<t;s++)this.add(nw(this,e[s],void 0,s))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,s){const a=this.values,p=this.toRespond?a[s]===rw?--this.toRespond:this.toRespond:0;a[s]=t,0===p&&(this.resultSelector?this._tryResultSelector(a):this.destination.next(a.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(s){return void this.destination.error(s)}this.destination.next(t)}}function sw(n){return new Un.y(e=>{let t;try{t=n()}catch(a){return void e.error(a)}return(t?(0,Yt.D)(t):(0,Fu.c)()).subscribe(e)})}var wS=V(2441);function nl(n){return function(t){const s=new zy(n),a=t.lift(s);return s.caught=a}}class zy{constructor(e){this.selector=e}call(e,t){return t.subscribe(new DC(e,this.selector,this.caught))}}class DC extends ri.Ds{constructor(e,t,s){super(e),this.selector=t,this.caught=s}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(l){return void super.error(l)}this._unsubscribeAndRecycle();const s=new ri.IY(this);this.add(s);const a=(0,ri.ft)(t,s);a!==s&&this.add(a)}}}var Hi=V(9773);function Md(n,e){return(0,Hi.zg)(n,e,1)}function vg(n){return function(t){return 0===n?(0,Fu.c)():t.lift(new bS(n))}}class bS{constructor(e){if(this.total=e,this.total<0)throw new xy}call(e,t){return t.subscribe(new IS(e,this.total))}}class IS extends li.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,s=this.total,a=this.count++;t.length<s?t.push(e):t[a%s]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const s=this.count>=this.total?this.total:this.count,a=this.ring;for(let l=0;l<s;l++){const p=t++%s;e.next(a[p])}}e.complete()}}var cs=V(3342),AC=V(1307);class SC{constructor(e){this.callback=e}call(e,t){return t.subscribe(new xC(e,this.callback))}}class xC extends li.L{constructor(e,t){super(e),this.add(new OE.w(t))}}class Vu{constructor(e,t){this.id=e,this.url=t}}class ow extends Vu{constructor(e,t,s="imperative",a=null){super(e,t),this.navigationTrigger=s,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class If extends Vu{constructor(e,t,s){super(e,t),this.urlAfterRedirects=s}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class RC extends Vu{constructor(e,t,s){super(e,t),this.reason=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class NC extends Vu{constructor(e,t,s){super(e,t),this.error=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class MC extends Vu{constructor(e,t,s,a){super(e,t),this.urlAfterRedirects=s,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class OC extends Vu{constructor(e,t,s,a){super(e,t),this.urlAfterRedirects=s,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class PC extends Vu{constructor(e,t,s,a,l){super(e,t),this.urlAfterRedirects=s,this.state=a,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class DS extends Vu{constructor(e,t,s,a){super(e,t),this.urlAfterRedirects=s,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class TS extends Vu{constructor(e,t,s,a){super(e,t),this.urlAfterRedirects=s,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kC{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class aw{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class GR{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qR{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ZR{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class WR{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AS{constructor(e,t,s){this.routerEvent=e,this.position=t,this.anchor=s}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Rt="primary";class zR{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Eg(n){return new zR(n)}const SS="ngNavigationCancelingError";function FC(n){const e=Error("NavigationCancelingError: "+n);return e[SS]=!0,e}function YR(n,e,t){const s=t.path.split("/");if(s.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||s.length<n.length))return null;const a={};for(let l=0;l<s.length;l++){const p=s[l],v=n[l];if(p.startsWith(":"))a[p.substring(1)]=v;else if(p!==v.path)return null}return{consumed:n.slice(0,s.length),posParams:a}}function Uu(n,e){const t=n?Object.keys(n):void 0,s=e?Object.keys(e):void 0;if(!t||!s||t.length!=s.length)return!1;let a;for(let l=0;l<t.length;l++)if(a=t[l],!xS(n[a],e[a]))return!1;return!0}function xS(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),s=[...e].sort();return t.every((a,l)=>s[l]===a)}return n===e}function RS(n){return Array.prototype.concat.apply([],n)}function NS(n){return n.length>0?n[n.length-1]:null}function si(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Ua(n){return(0,h.CqO)(n)?n:(0,h.QGY)(n)?(0,Yt.D)(Promise.resolve(n)):(0,it.of)(n)}const eN={exact:function VC(n,e,t){if(!oo(n.segments,e.segments)||!uw(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const s in e.children)if(!n.children[s]||!VC(n.children[s],e.children[s],t))return!1;return!0},subset:PS},MS={exact:function(n,e){return Uu(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>xS(n[t],e[t]))},ignored:()=>!0};function LC(n,e,t){return eN[t.paths](n.root,e.root,t.matrixParams)&&MS[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function PS(n,e,t){return kS(n,e,e.segments,t)}function kS(n,e,t,s){if(n.segments.length>t.length){const a=n.segments.slice(0,t.length);return!(!oo(a,t)||e.hasChildren()||!uw(a,t,s))}if(n.segments.length===t.length){if(!oo(n.segments,t)||!uw(n.segments,t,s))return!1;for(const a in e.children)if(!n.children[a]||!PS(n.children[a],e.children[a],s))return!1;return!0}{const a=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(oo(n.segments,a)&&uw(n.segments,a,s)&&n.children[Rt])&&kS(n.children[Rt],e,l,s)}}function uw(n,e,t){return e.every((s,a)=>MS[t](n[a].parameters,s.parameters))}class Od{constructor(e,t,s){this.root=e,this.queryParams=t,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Eg(this.queryParams)),this._queryParamMap}toString(){return dw.serialize(this)}}class Pt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,si(t,(s,a)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bg(this)}}class wg{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Eg(this.parameters)),this._parameterMap}toString(){return LS(this)}}function oo(n,e){return n.length===e.length&&n.every((t,s)=>t.path===e[s].path)}class lw{}class BC{parse(e){const t=new BS(e);return new Od(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){return`${`/${Cf(e.root,!0)}`}${function(n){const e=Object.keys(n).map(t=>{const s=n[t];return Array.isArray(s)?s.map(a=>`${fw(t)}=${fw(a)}`).join("&"):`${fw(t)}=${fw(s)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${function(n){return encodeURI(n)}(e.fragment)}`:""}`}}const dw=new BC;function bg(n){return n.segments.map(e=>LS(e)).join("/")}function Cf(n,e){if(!n.hasChildren())return bg(n);if(e){const t=n.children[Rt]?Cf(n.children[Rt],!1):"",s=[];return si(n.children,(a,l)=>{l!==Rt&&s.push(`${l}:${Cf(a,!1)}`)}),s.length>0?`${t}(${s.join("//")})`:t}{const t=function(n,e){let t=[];return si(n.children,(s,a)=>{a===Rt&&(t=t.concat(e(s,a)))}),si(n.children,(s,a)=>{a!==Rt&&(t=t.concat(e(s,a)))}),t}(n,(s,a)=>a===Rt?[Cf(n.children[Rt],!1)]:[`${a}:${Cf(s,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Rt]?`${bg(n)}/${t[0]}`:`${bg(n)}/(${t.join("//")})`}}function hw(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function fw(n){return hw(n).replace(/%3B/gi,";")}function Df(n){return hw(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ig(n){return decodeURIComponent(n)}function FS(n){return Ig(n.replace(/\+/g,"%20"))}function LS(n){return`${Df(n.path)}${function(n){return Object.keys(n).map(e=>`;${Df(e)}=${Df(n[e])}`).join("")}(n.parameters)}`}const rN=/^[^\/()?;=#]+/;function Pd(n){const e=n.match(rN);return e?e[0]:""}const US=/^[^=?&#]+/,sN=/^[^?&#]+/;class BS{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pt([],{}):new Pt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(s[Rt]=new Pt(e,t)),s}parseSegment(){const e=Pd(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new wg(Ig(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Pd(this.remaining);if(!t)return;this.capture(t);let s="";if(this.consumeOptional("=")){const a=Pd(this.remaining);a&&(s=a,this.capture(s))}e[Ig(t)]=Ig(s)}parseQueryParam(e){const t=function(n){const e=n.match(US);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let s="";if(this.consumeOptional("=")){const p=function(n){const e=n.match(sN);return e?e[0]:""}(this.remaining);p&&(s=p,this.capture(s))}const a=FS(t),l=FS(s);if(e.hasOwnProperty(a)){let p=e[a];Array.isArray(p)||(p=[p],e[a]=p),p.push(l)}else e[a]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=Pd(this.remaining),a=this.remaining[s.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let l;s.indexOf(":")>-1?(l=s.substr(0,s.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=Rt);const p=this.parseChildren();t[l]=1===Object.keys(p).length?p[Rt]:new Pt([],p),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class jS{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=$C(e,this._root);return t?t.children.map(s=>s.value):[]}firstChild(e){const t=$C(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=gw(e,this._root);return t.length<2?[]:t[t.length-2].children.map(a=>a.value).filter(a=>a!==e)}pathFromRoot(e){return gw(e,this._root).map(t=>t.value)}}function $C(n,e){if(n===e.value)return e;for(const t of e.children){const s=$C(n,t);if(s)return s}return null}function gw(n,e){if(n===e.value)return[e];for(const t of e.children){const s=gw(n,t);if(s.length)return s.unshift(e),s}return[]}class rl{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Tf(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class HC extends jS{constructor(e,t){super(e),this.snapshot=t,Cg(this,e)}toString(){return this.snapshot.toString()}}function $S(n,e){const t=function(n,e){const p=new Ky([],{},{},"",{},Rt,e,null,n.root,-1,{});return new GC("",new rl(p,[]))}(n,e),s=new Os([new wg("",{})]),a=new Os({}),l=new Os({}),p=new Os({}),v=new Os(""),I=new Af(s,a,p,v,l,Rt,e,t.root);return I.snapshot=t.root,new HC(new rl(I,[]),t)}class Af{constructor(e,t,s,a,l,p,v,I){this.url=e,this.params=t,this.queryParams=s,this.fragment=a,this.data=l,this.outlet=p,this.component=v,this._futureSnapshot=I}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,pt.U)(e=>Eg(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,pt.U)(e=>Eg(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Sf(n,e="emptyOnly"){const t=n.pathFromRoot;let s=0;if("always"!==e)for(s=t.length-1;s>=1;){const a=t[s],l=t[s-1];if(a.routeConfig&&""===a.routeConfig.path)s--;else{if(l.component)break;s--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(s))}class Ky{constructor(e,t,s,a,l,p,v,I,S,M,P){this.url=e,this.params=t,this.queryParams=s,this.fragment=a,this.data=l,this.outlet=p,this.component=v,this.routeConfig=I,this._urlSegment=S,this._lastPathIndex=M,this._resolve=P}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Eg(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Eg(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class GC extends jS{constructor(e,t){super(t),this.url=e,Cg(this,t)}toString(){return qC(this._root)}}function Cg(n,e){e.value._routerState=n,e.children.forEach(t=>Cg(n,t))}function qC(n){const e=n.children.length>0?` { ${n.children.map(qC).join(", ")} } `:"";return`${n.value}${e}`}function Gi(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Uu(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Uu(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Uu(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Uu(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function mw(n,e){return Uu(n.params,e.params)&&function(n,e){return oo(n,e)&&n.every((t,s)=>Uu(t.parameters,e[s].parameters))}(n.url,e.url)&&!(!n.parent!=!e.parent)&&(!n.parent||mw(n.parent,e.parent))}function Yy(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const s=t.value;s._futureSnapshot=e.value;const a=function(n,e,t){return e.children.map(s=>{for(const a of t.children)if(n.shouldReuseRoute(s.value,a.value.snapshot))return Yy(n,s,a);return Yy(n,s)})}(n,e,t);return new rl(s,a)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const p=l.route;return ZC(e,p),p}}const s=function(n){return new Af(new Os(n.url),new Os(n.params),new Os(n.queryParams),new Os(n.fragment),new Os(n.data),n.outlet,n.component,n)}(e.value),a=e.children.map(l=>Yy(n,l));return new rl(s,a)}}function ZC(n,e){if(n.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=n.value;for(let t=0;t<n.children.length;++t)ZC(n.children[t],e.children[t])}function Qy(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function xf(n){return"object"==typeof n&&null!=n&&n.outlets}function Jy(n,e,t,s,a){let l={};return s&&si(s,(p,v)=>{l[v]=Array.isArray(p)?p.map(I=>`${I}`):`${p}`}),new Od(t.root===n?e:KC(t.root,n,e),l,a)}function KC(n,e,t){const s={};return si(n.children,(a,l)=>{s[l]=a===e?t:KC(a,e,t)}),new Pt(n.segments,s)}class YC{constructor(e,t,s){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=s,e&&s.length>0&&Qy(s[0]))throw new Error("Root segment cannot have matrix parameters");const a=s.find(xf);if(a&&a!==NS(s))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Xy{constructor(e,t,s){this.segmentGroup=e,this.processChildren=t,this.index=s}}function ao(n,e,t){if(n||(n=new Pt([],{})),0===n.segments.length&&n.hasChildren())return e_(n,e,t);const s=function(n,e,t){let s=0,a=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(s>=t.length)return l;const p=n.segments[a],v=t[s];if(xf(v))break;const I=`${v}`,S=s<t.length-1?t[s+1]:null;if(a>0&&void 0===I)break;if(I&&S&&"object"==typeof S&&void 0===S.outlets){if(!XC(I,S,p))return l;s+=2}else{if(!XC(I,{},p))return l;s++}a++}return{match:!0,pathIndex:a,commandIndex:s}}(n,e,t),a=t.slice(s.commandIndex);if(s.match&&s.pathIndex<n.segments.length){const l=new Pt(n.segments.slice(0,s.pathIndex),{});return l.children[Rt]=new Pt(n.segments.slice(s.pathIndex),n.children),e_(l,0,a)}return s.match&&0===a.length?new Pt(n.segments,{}):s.match&&!n.hasChildren()?ww(n,e,t):s.match?e_(n,0,a):ww(n,e,t)}function e_(n,e,t){if(0===t.length)return new Pt(n.segments,{});{const s=function(n){return xf(n[0])?n[0].outlets:{[Rt]:n}}(t),a={};return si(s,(l,p)=>{"string"==typeof l&&(l=[l]),null!==l&&(a[p]=ao(n.children[p],e,l))}),si(n.children,(l,p)=>{void 0===s[p]&&(a[p]=l)}),new Pt(n.segments,a)}}function ww(n,e,t){const s=n.segments.slice(0,e);let a=0;for(;a<t.length;){const l=t[a];if(xf(l)){const I=uN(l.outlets);return new Pt(s,I)}if(0===a&&Qy(t[0])){s.push(new wg(n.segments[e].path,JC(t[0]))),a++;continue}const p=xf(l)?l.outlets[Rt]:`${l}`,v=a<t.length-1?t[a+1]:null;p&&v&&Qy(v)?(s.push(new wg(p,JC(v))),a+=2):(s.push(new wg(p,{})),a++)}return new Pt(s,{})}function uN(n){const e={};return si(n,(t,s)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[s]=ww(new Pt([],{}),0,t))}),e}function JC(n){const e={};return si(n,(t,s)=>e[s]=`${t}`),e}function XC(n,e,t){return n==t.path&&Uu(e,t.parameters)}class cN{constructor(e,t,s,a){this.routeReuseStrategy=e,this.futureState=t,this.currState=s,this.forwardEvent=a}activate(e){const t=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,s,e),Gi(this.futureState.root),this.activateChildRoutes(t,s,e)}deactivateChildRoutes(e,t,s){const a=Tf(t);e.children.forEach(l=>{const p=l.value.outlet;this.deactivateRoutes(l,a[p],s),delete a[p]}),si(a,(l,p)=>{this.deactivateRouteAndItsChildren(l,s)})}deactivateRoutes(e,t,s){const a=e.value,l=t?t.value:null;if(a===l)if(a.component){const p=s.getContext(a.outlet);p&&this.deactivateChildRoutes(e,t,p.children)}else this.deactivateChildRoutes(e,t,s);else l&&this.deactivateRouteAndItsChildren(t,s)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const s=t.getContext(e.value.outlet);if(s&&s.outlet){const a=s.outlet.detach(),l=s.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:l})}}deactivateRouteAndOutlet(e,t){const s=t.getContext(e.value.outlet),a=s&&e.value.component?s.children:t,l=Tf(e);for(const p of Object.keys(l))this.deactivateRouteAndItsChildren(l[p],a);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(e,t,s){const a=Tf(t);e.children.forEach(l=>{this.activateRoutes(l,a[l.value.outlet],s),this.forwardEvent(new WR(l.value.snapshot))}),e.children.length&&this.forwardEvent(new qR(e.value.snapshot))}activateRoutes(e,t,s){const a=e.value,l=t?t.value:null;if(Gi(a),a===l)if(a.component){const p=s.getOrCreateContext(a.outlet);this.activateChildRoutes(e,t,p.children)}else this.activateChildRoutes(e,t,s);else if(a.component){const p=s.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const v=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),p.children.onOutletReAttached(v.contexts),p.attachRef=v.componentRef,p.route=v.route.value,p.outlet&&p.outlet.attach(v.componentRef,v.route.value),eD(v.route)}else{const v=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(a.snapshot),I=v?v.module.componentFactoryResolver:null;p.attachRef=null,p.route=a,p.resolver=I,p.outlet&&p.outlet.activateWith(a,I),this.activateChildRoutes(e,null,p.children)}}else this.activateChildRoutes(e,null,s)}}function eD(n){Gi(n.value),n.children.forEach(eD)}class bw{constructor(e,t){this.routes=e,this.module=t}}function il(n){return"function"==typeof n}function kd(n){return n instanceof Od}const Dg=Symbol("INITIAL_VALUE");function Rf(){return At(n=>function(...n){let e,t;return(0,So.K)(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&(0,tw.k)(n[0])&&(n=n[0]),(0,CC.n)(n,t).lift(new iw(e))}(n.map(e=>e.pipe(tl(1),cu(Dg)))).pipe(qs((e,t)=>{let s=!1;return t.reduce((a,l,p)=>a!==Dg?a:(l===Dg&&(s=!0),s||!1!==l&&p!==t.length-1&&!kd(l)?a:l),e)},Dg),Mi(e=>e!==Dg),(0,pt.U)(e=>kd(e)?e:!0===e),tl(1)))}let Nf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,s){1&t&&h._UZ(0,"router-outlet")},directives:function(){return[ls]},encapsulation:2}),n})();function t_(n,e=""){for(let t=0;t<n.length;t++){const s=n[t];sD(s,WS(e,s))}}function sD(n,e){n.children&&t_(n.children,e)}function WS(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Iw(n){const e=n.children&&n.children.map(Iw),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Rt&&(t.component=Nf),t}function Wo(n){return n.outlet||Rt}function zS(n,e){const t=n.filter(s=>Wo(s)===e);return t.push(...n.filter(s=>Wo(s)!==e)),t}const KS={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Tg(n,e,t){var s;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},KS):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const l=(e.matcher||YR)(t,n,e);if(!l)return Object.assign({},KS);const p={};si(l.posParams,(I,S)=>{p[S]=I.path});const v=l.consumed.length>0?Object.assign(Object.assign({},p),l.consumed[l.consumed.length-1].parameters):p;return{matched:!0,consumedSegments:l.consumed,lastChild:l.consumed.length,parameters:v,positionalParamSegments:null!==(s=l.posParams)&&void 0!==s?s:{}}}function Ag(n,e,t,s,a="corrected"){if(t.length>0&&function(n,e,t){return t.some(s=>Sg(n,e,s)&&Wo(s)!==Rt)}(n,t,s)){const p=new Pt(e,function(n,e,t,s){const a={};a[Rt]=s,s._sourceSegment=n,s._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&Wo(l)!==Rt){const p=new Pt([],{});p._sourceSegment=n,p._segmentIndexShift=e.length,a[Wo(l)]=p}return a}(n,e,s,new Pt(t,n.children)));return p._sourceSegment=n,p._segmentIndexShift=e.length,{segmentGroup:p,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(s=>Sg(n,e,s))}(n,t,s)){const p=new Pt(n.segments,function(n,e,t,s,a,l){const p={};for(const v of s)if(Sg(n,t,v)&&!a[Wo(v)]){const I=new Pt([],{});I._sourceSegment=n,I._segmentIndexShift="legacy"===l?n.segments.length:e.length,p[Wo(v)]=I}return Object.assign(Object.assign({},a),p)}(n,e,t,s,n.children,a));return p._sourceSegment=n,p._segmentIndexShift=e.length,{segmentGroup:p,slicedSegments:t}}const l=new Pt(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function Sg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function ex(n,e,t,s){return!!(Wo(n)===s||s!==Rt&&Sg(e,t,n))&&("**"===n.path||Tg(e,n,t).matched)}function tx(n,e,t){return 0===e.length&&!n.children[t]}class xg{constructor(e){this.segmentGroup=e||null}}class n_{constructor(e){this.urlTree=e}}function ar(n){return new Un.y(e=>e.error(new xg(n)))}function nx(n){return new Un.y(e=>e.error(new n_(n)))}function oD(n){return new Un.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class r_{constructor(e,t,s,a,l){this.configLoader=t,this.urlSerializer=s,this.urlTree=a,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(h.h0i)}apply(){const e=Ag(this.urlTree.root,[],[],this.config).segmentGroup,t=new Pt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Rt).pipe((0,pt.U)(l=>this.createUrlTree(Cw(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(nl(l=>{if(l instanceof n_)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof xg?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Rt).pipe((0,pt.U)(a=>this.createUrlTree(Cw(a),e.queryParams,e.fragment))).pipe(nl(a=>{throw a instanceof xg?this.noMatchError(a):a}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,s){const a=e.segments.length>0?new Pt([],{[Rt]:e}):e;return new Od(a,t,s)}expandSegmentGroup(e,t,s,a){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(e,t,s).pipe((0,pt.U)(l=>new Pt([],l))):this.expandSegment(e,s,t,s.segments,a,!0)}expandChildren(e,t,s){const a=[];for(const l of Object.keys(s.children))"primary"===l?a.unshift(l):a.push(l);return(0,Yt.D)(a).pipe(Md(l=>{const p=s.children[l],v=zS(t,l);return this.expandSegmentGroup(e,v,p,l).pipe((0,pt.U)(I=>({segment:I,outlet:l})))}),qs((l,p)=>(l[p.outlet]=p.segment,l),{}),function(n,e){const t=arguments.length>=2;return s=>s.pipe(n?Mi((a,l)=>n(a,l,s)):$A.y,vg(1),t?PE(e):ug(()=>new _f))}())}expandSegment(e,t,s,a,l,p){return(0,Yt.D)(s).pipe(Md(v=>this.expandSegmentAgainstRoute(e,t,s,v,a,l,p).pipe(nl(S=>{if(S instanceof xg)return(0,it.of)(null);throw S}))),vf(v=>!!v),nl((v,I)=>{if(v instanceof _f||"EmptyError"===v.name){if(tx(t,a,l))return(0,it.of)(new Pt([],{}));throw new xg(t)}throw v}))}expandSegmentAgainstRoute(e,t,s,a,l,p,v){return ex(a,t,l,p)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(e,t,a,l,p):v&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,s,a,l,p):ar(t):ar(t)}expandSegmentAgainstRouteUsingRedirect(e,t,s,a,l,p){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,s,a,p):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,s,a,l,p)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,s,a){const l=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?nx(l):this.lineralizeSegments(s,l).pipe((0,Hi.zg)(p=>{const v=new Pt(p,{});return this.expandSegment(e,v,t,p,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,s,a,l,p){const{matched:v,consumedSegments:I,lastChild:S,positionalParamSegments:M}=Tg(t,a,l);if(!v)return ar(t);const P=this.applyRedirectCommands(I,a.redirectTo,M);return a.redirectTo.startsWith("/")?nx(P):this.lineralizeSegments(a,P).pipe((0,Hi.zg)(K=>this.expandSegment(e,t,s,K.concat(l.slice(S)),p,!1)))}matchSegmentAgainstRoute(e,t,s,a,l){if("**"===s.path)return s.loadChildren?(s._loadedConfig?(0,it.of)(s._loadedConfig):this.configLoader.load(e.injector,s)).pipe((0,pt.U)(K=>(s._loadedConfig=K,new Pt(a,{})))):(0,it.of)(new Pt(a,{}));const{matched:p,consumedSegments:v,lastChild:I}=Tg(t,s,a);if(!p)return ar(t);const S=a.slice(I);return this.getChildConfig(e,s,a).pipe((0,Hi.zg)(P=>{const K=P.module,J=P.routes,{segmentGroup:xe,slicedSegments:He}=Ag(t,v,S,J),ze=new Pt(xe.segments,xe.children);if(0===He.length&&ze.hasChildren())return this.expandChildren(K,J,ze).pipe((0,pt.U)(Bt=>new Pt(v,Bt)));if(0===J.length&&0===He.length)return(0,it.of)(new Pt(v,{}));const Ot=Wo(s)===l;return this.expandSegment(K,ze,J,He,Ot?Rt:l,!0).pipe((0,pt.U)(On=>new Pt(v.concat(On.segments),On.children)))}))}getChildConfig(e,t,s){return t.children?(0,it.of)(new bw(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,it.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,s).pipe((0,Hi.zg)(a=>a?this.configLoader.load(e.injector,t).pipe((0,pt.U)(l=>(t._loadedConfig=l,l))):function(n){return new Un.y(e=>e.error(FC(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):(0,it.of)(new bw([],e))}runCanLoadGuards(e,t,s){const a=t.canLoad;if(!a||0===a.length)return(0,it.of)(!0);const l=a.map(p=>{const v=e.get(p);let I;if(function(n){return n&&il(n.canLoad)}(v))I=v.canLoad(t,s);else{if(!il(v))throw new Error("Invalid CanLoad guard");I=v(t,s)}return Ua(I)});return(0,it.of)(l).pipe(Rf(),(0,cs.b)(p=>{if(!kd(p))return;const v=FC(`Redirecting to "${this.urlSerializer.serialize(p)}"`);throw v.url=p,v}),(0,pt.U)(p=>!0===p))}lineralizeSegments(e,t){let s=[],a=t.root;for(;;){if(s=s.concat(a.segments),0===a.numberOfChildren)return(0,it.of)(s);if(a.numberOfChildren>1||!a.children[Rt])return oD(e.redirectTo);a=a.children[Rt]}}applyRedirectCommands(e,t,s){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,s)}applyRedirectCreatreUrlTree(e,t,s,a){const l=this.createSegmentGroup(e,t.root,s,a);return new Od(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const s={};return si(e,(a,l)=>{if("string"==typeof a&&a.startsWith(":")){const v=a.substring(1);s[l]=t[v]}else s[l]=a}),s}createSegmentGroup(e,t,s,a){const l=this.createSegments(e,t.segments,s,a);let p={};return si(t.children,(v,I)=>{p[I]=this.createSegmentGroup(e,v,s,a)}),new Pt(l,p)}createSegments(e,t,s,a){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,a):this.findOrReturn(l,s))}findPosParam(e,t,s){const a=s[t.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return a}findOrReturn(e,t){let s=0;for(const a of t){if(a.path===e.path)return t.splice(s),a;s++}return e}}function Cw(n){const e={};for(const s of Object.keys(n.children)){const l=Cw(n.children[s]);(l.segments.length>0||l.hasChildren())&&(e[s]=l)}return function(n){if(1===n.numberOfChildren&&n.children[Rt]){const e=n.children[Rt];return new Pt(n.segments.concat(e.segments),e.children)}return n}(new Pt(n.segments,e))}class sl{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Rg{constructor(e,t){this.component=e,this.route=t}}function Dw(n,e,t){const s=n._root;return Ng(s,e?e._root:null,t,[s.value])}function i_(n,e,t){const s=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(s?s.module.injector:t).get(n)}function Ng(n,e,t,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=Tf(e);return n.children.forEach(p=>{(function(n,e,t,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,p=e?e.value:null,v=t?t.getContext(n.value.outlet):null;if(p&&l.routeConfig===p.routeConfig){const I=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!oo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!oo(n.url,e.url)||!Uu(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!mw(n,e)||!Uu(n.queryParams,e.queryParams);case"paramsChange":default:return!mw(n,e)}}(p,l,l.routeConfig.runGuardsAndResolvers);I?a.canActivateChecks.push(new sl(s)):(l.data=p.data,l._resolvedData=p._resolvedData),Ng(n,e,l.component?v?v.children:null:t,s,a),I&&v&&v.outlet&&v.outlet.isActivated&&a.canDeactivateChecks.push(new Rg(v.outlet.component,p))}else p&&zn(e,v,a),a.canActivateChecks.push(new sl(s)),Ng(n,null,l.component?v?v.children:null:t,s,a)})(p,l[p.value.outlet],t,s.concat([p.value]),a),delete l[p.value.outlet]}),si(l,(p,v)=>zn(p,t.getContext(v),a)),a}function zn(n,e,t){const s=Tf(n),a=n.value;si(s,(l,p)=>{zn(l,a.component?e?e.children.getContext(p):null:e,t)}),t.canDeactivateChecks.push(new Rg(a.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,a))}class gN{}function lD(n){return new Un.y(e=>e.error(n))}class cx{constructor(e,t,s,a,l,p){this.rootComponentType=e,this.config=t,this.urlTree=s,this.url=a,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=p}recognize(){const e=Ag(this.urlTree.root,[],[],this.config.filter(p=>void 0===p.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Rt);if(null===t)return null;const s=new Ky([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Rt,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new rl(s,t),l=new GC(this.url,a);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,s=Sf(t,this.paramsInheritanceStrategy);t.params=Object.freeze(s.params),t.data=Object.freeze(s.data),e.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(e,t,s){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,s)}processChildren(e,t){const s=[];for(const l of Object.keys(t.children)){const p=t.children[l],v=zS(e,l),I=this.processSegmentGroup(v,p,l);if(null===I)return null;s.push(...I)}const a=dD(s);return function(n){n.sort((e,t)=>e.value.outlet===Rt?-1:t.value.outlet===Rt?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}processSegment(e,t,s,a){for(const l of e){const p=this.processSegmentAgainstRoute(l,t,s,a);if(null!==p)return p}return tx(t,s,a)?[]:null}processSegmentAgainstRoute(e,t,s,a){if(e.redirectTo||!ex(e,t,s,a))return null;let l,p=[],v=[];if("**"===e.path){const J=s.length>0?NS(s).parameters:{};l=new Ky(s,J,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,fx(e),Wo(e),e.component,e,hD(t),hx(t)+s.length,fD(e))}else{const J=Tg(t,e,s);if(!J.matched)return null;p=J.consumedSegments,v=s.slice(J.lastChild),l=new Ky(p,J.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,fx(e),Wo(e),e.component,e,hD(t),hx(t)+p.length,fD(e))}const I=function(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:S,slicedSegments:M}=Ag(t,p,v,I.filter(J=>void 0===J.redirectTo),this.relativeLinkResolution);if(0===M.length&&S.hasChildren()){const J=this.processChildren(I,S);return null===J?null:[new rl(l,J)]}if(0===I.length&&0===M.length)return[new rl(l,[])];const P=Wo(e)===a,K=this.processSegment(I,S,M,P?Rt:a);return null===K?null:[new rl(l,K)]}}function mN(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function dD(n){const e=[],t=new Set;for(const s of n){if(!mN(s)){e.push(s);continue}const a=e.find(l=>s.value.routeConfig===l.value.routeConfig);void 0!==a?(a.children.push(...s.children),t.add(a)):e.push(s)}for(const s of t){const a=dD(s.children);e.push(new rl(s.value,a))}return e.filter(s=>!t.has(s))}function hD(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function hx(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function fx(n){return n.data||{}}function fD(n){return n.resolve||{}}function Sw(n){return At(e=>{const t=n(e);return t?(0,Yt.D)(t).pipe((0,pt.U)(()=>e)):(0,it.of)(e)})}class Ex extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const pD=new h.OlP("ROUTES");class gD{constructor(e,t,s,a){this.loader=e,this.compiler=t,this.onLoadStartListener=s,this.onLoadEndListener=a}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const a=this.loadModuleFactory(t.loadChildren).pipe((0,pt.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const p=l.create(e);return new bw(RS(p.injector.get(pD,void 0,h.XFs.Self|h.XFs.Optional)).map(Iw),p)}),nl(l=>{throw t._loader$=void 0,l}));return t._loader$=new wS.c(a,()=>new Rd.xQ).pipe((0,AC.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,Yt.D)(this.loader.load(e)):Ua(e()).pipe((0,Hi.zg)(t=>t instanceof h.YKP?(0,it.of)(t):(0,Yt.D)(this.compiler.compileModuleAsync(t))))}}class wx{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Mf,this.attachRef=null}}class Mf{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const s=this.getOrCreateContext(e);s.outlet=t,this.contexts.set(e,s)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new wx,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class mD{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function _N(n){throw n}function bx(n,e,t){return e.parse("/")}function Ix(n,e){return(0,it.of)(null)}const vN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},EN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Zr=(()=>{class n{constructor(t,s,a,l,p,v,I,S){this.rootComponentType=t,this.urlSerializer=s,this.rootContexts=a,this.location=l,this.config=S,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Rd.xQ,this.errorHandler=_N,this.malformedUriErrorHandler=bx,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ix,afterPreactivation:Ix},this.urlHandlingStrategy=new mD,this.routeReuseStrategy=new Ex,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=p.get(h.h0i),this.console=p.get(h.c2e);const K=p.get(h.R0b);this.isNgZoneEnabled=K instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(S),this.currentUrlTree=new Od(new Pt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new gD(v,I,J=>this.triggerEvent(new kC(J)),J=>this.triggerEvent(new aw(J))),this.routerState=$S(this.currentUrlTree,this.rootComponentType),this.transitions=new Os({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const s=this.events;return t.pipe(Mi(a=>0!==a.id),(0,pt.U)(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),At(a=>{let l=!1,p=!1;return(0,it.of)(a).pipe((0,cs.b)(v=>{this.currentNavigation={id:v.id,initialUrl:v.currentRawUrl,extractedUrl:v.extractedUrl,trigger:v.source,extras:v.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),At(v=>{const I=this.browserUrlTree.toString(),S=!this.navigated||v.extractedUrl.toString()!==I||I!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||S)&&this.urlHandlingStrategy.shouldProcessUrl(v.rawUrl))return a_(v.source)&&(this.browserUrlTree=v.extractedUrl),(0,it.of)(v).pipe(At(P=>{const K=this.transitions.getValue();return s.next(new ow(P.id,this.serializeUrl(P.extractedUrl),P.source,P.restoredState)),K!==this.transitions.getValue()?Fu.E:Promise.resolve(P)}),function(n,e,t,s){return At(a=>function(n,e,t,s,a){return new r_(n,e,t,s,a).apply()}(n,e,t,a.extractedUrl,s).pipe((0,pt.U)(l=>Object.assign(Object.assign({},a),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,cs.b)(P=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:P.urlAfterRedirects})}),function(n,e,t,s,a){return(0,Hi.zg)(l=>function(n,e,t,s,a="emptyOnly",l="legacy"){try{const p=new cx(n,e,t,s,a,l).recognize();return null===p?lD(new gN):(0,it.of)(p)}catch(p){return lD(p)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),s,a).pipe((0,pt.U)(p=>Object.assign(Object.assign({},l),{targetSnapshot:p}))))}(this.rootComponentType,this.config,P=>this.serializeUrl(P),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,cs.b)(P=>{"eager"===this.urlUpdateStrategy&&(P.extras.skipLocationChange||this.setBrowserUrl(P.urlAfterRedirects,P),this.browserUrlTree=P.urlAfterRedirects);const K=new MC(P.id,this.serializeUrl(P.extractedUrl),this.serializeUrl(P.urlAfterRedirects),P.targetSnapshot);s.next(K)}));if(S&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:K,extractedUrl:J,source:xe,restoredState:He,extras:ze}=v,Ot=new ow(K,this.serializeUrl(J),xe,He);s.next(Ot);const sn=$S(J,this.rootComponentType).snapshot;return(0,it.of)(Object.assign(Object.assign({},v),{targetSnapshot:sn,urlAfterRedirects:J,extras:Object.assign(Object.assign({},ze),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=v.rawUrl,this.browserUrlTree=v.urlAfterRedirects,v.resolve(null),Fu.E}),Sw(v=>{const{targetSnapshot:I,id:S,extractedUrl:M,rawUrl:P,extras:{skipLocationChange:K,replaceUrl:J}}=v;return this.hooks.beforePreactivation(I,{navigationId:S,appliedUrlTree:M,rawUrlTree:P,skipLocationChange:!!K,replaceUrl:!!J})}),(0,cs.b)(v=>{const I=new OC(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(I)}),(0,pt.U)(v=>Object.assign(Object.assign({},v),{guards:Dw(v.targetSnapshot,v.currentSnapshot,this.rootContexts)})),function(n,e){return(0,Hi.zg)(t=>{const{targetSnapshot:s,currentSnapshot:a,guards:{canActivateChecks:l,canDeactivateChecks:p}}=t;return 0===p.length&&0===l.length?(0,it.of)(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,s){return(0,Yt.D)(n).pipe((0,Hi.zg)(a=>function(n,e,t,s,a){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!l||0===l.length)return(0,it.of)(!0);const p=l.map(v=>{const I=i_(v,e,a);let S;if(function(n){return n&&il(n.canDeactivate)}(I))S=Ua(I.canDeactivate(n,e,t,s));else{if(!il(I))throw new Error("Invalid CanDeactivate guard");S=Ua(I(n,e,t,s))}return S.pipe(vf())});return(0,it.of)(p).pipe(Rf())}(a.component,a.route,t,e,s)),vf(a=>!0!==a,!0))}(p,s,a,n).pipe((0,Hi.zg)(v=>v&&function(n){return"boolean"==typeof n}(v)?function(n,e,t,s){return(0,Yt.D)(e).pipe(Md(a=>oh(function(n,e){return null!==n&&e&&e(new GR(n)),(0,it.of)(!0)}(a.route.parent,s),function(n,e){return null!==n&&e&&e(new ZR(n)),(0,it.of)(!0)}(a.route,s),function(n,e,t){const s=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(p=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(p)).filter(p=>null!==p).map(p=>sw(()=>{const v=p.guards.map(I=>{const S=i_(I,p.node,t);let M;if(function(n){return n&&il(n.canActivateChild)}(S))M=Ua(S.canActivateChild(s,n));else{if(!il(S))throw new Error("Invalid CanActivateChild guard");M=Ua(S(s,n))}return M.pipe(vf())});return(0,it.of)(v).pipe(Rf())}));return(0,it.of)(l).pipe(Rf())}(n,a.path,t),function(n,e,t){const s=e.routeConfig?e.routeConfig.canActivate:null;if(!s||0===s.length)return(0,it.of)(!0);const a=s.map(l=>sw(()=>{const p=i_(l,e,t);let v;if(function(n){return n&&il(n.canActivate)}(p))v=Ua(p.canActivate(e,n));else{if(!il(p))throw new Error("Invalid CanActivate guard");v=Ua(p(e,n))}return v.pipe(vf())}));return(0,it.of)(a).pipe(Rf())}(n,a.route,t))),vf(a=>!0!==a,!0))}(s,l,n,e):(0,it.of)(v)),(0,pt.U)(v=>Object.assign(Object.assign({},t),{guardsResult:v})))})}(this.ngModule.injector,v=>this.triggerEvent(v)),(0,cs.b)(v=>{if(kd(v.guardsResult)){const S=FC(`Redirecting to "${this.serializeUrl(v.guardsResult)}"`);throw S.url=v.guardsResult,S}const I=new PC(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot,!!v.guardsResult);this.triggerEvent(I)}),Mi(v=>!!v.guardsResult||(this.restoreHistory(v),this.cancelNavigationTransition(v,""),!1)),Sw(v=>{if(v.guards.canActivateChecks.length)return(0,it.of)(v).pipe((0,cs.b)(I=>{const S=new DS(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);this.triggerEvent(S)}),At(I=>{let S=!1;return(0,it.of)(I).pipe(function(n,e){return(0,Hi.zg)(t=>{const{targetSnapshot:s,guards:{canActivateChecks:a}}=t;if(!a.length)return(0,it.of)(t);let l=0;return(0,Yt.D)(a).pipe(Md(p=>function(n,e,t,s){return function(n,e,t,s){const a=Object.keys(n);if(0===a.length)return(0,it.of)({});const l={};return(0,Yt.D)(a).pipe((0,Hi.zg)(p=>function(n,e,t,s){const a=i_(n,e,s);return Ua(a.resolve?a.resolve(e,t):a(e,t))}(n[p],e,t,s).pipe((0,cs.b)(v=>{l[p]=v}))),vg(1),(0,Hi.zg)(()=>Object.keys(l).length===a.length?(0,it.of)(l):Fu.E))}(n._resolve,n,e,s).pipe((0,pt.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),Sf(n,t).resolve),null)))}(p.route,s,n,e)),(0,cs.b)(()=>l++),vg(1),(0,Hi.zg)(p=>l===a.length?(0,it.of)(t):Fu.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,cs.b)({next:()=>S=!0,complete:()=>{S||(this.restoreHistory(I),this.cancelNavigationTransition(I,"At least one route resolver didn't emit any value."))}}))}),(0,cs.b)(I=>{const S=new TS(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);this.triggerEvent(S)}))}),Sw(v=>{const{targetSnapshot:I,id:S,extractedUrl:M,rawUrl:P,extras:{skipLocationChange:K,replaceUrl:J}}=v;return this.hooks.afterPreactivation(I,{navigationId:S,appliedUrlTree:M,rawUrlTree:P,skipLocationChange:!!K,replaceUrl:!!J})}),(0,pt.U)(v=>{const I=function(n,e,t){const s=Yy(n,e._root,t?t._root:void 0);return new HC(s,e)}(this.routeReuseStrategy,v.targetSnapshot,v.currentRouterState);return Object.assign(Object.assign({},v),{targetRouterState:I})}),(0,cs.b)(v=>{this.currentUrlTree=v.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(v.urlAfterRedirects,v.rawUrl),this.routerState=v.targetRouterState,"deferred"===this.urlUpdateStrategy&&(v.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,v),this.browserUrlTree=v.urlAfterRedirects)}),((n,e,t)=>(0,pt.U)(s=>(new cN(e,s.targetRouterState,s.currentRouterState,t).activate(n),s)))(this.rootContexts,this.routeReuseStrategy,v=>this.triggerEvent(v)),(0,cs.b)({next(){l=!0},complete(){l=!0}}),function(n){return e=>e.lift(new SC(n))}(()=>{if(!l&&!p){const v=`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(a),this.cancelNavigationTransition(a,v)):this.cancelNavigationTransition(a,v)}this.currentNavigation=null}),nl(v=>{if(p=!0,function(n){return n&&n[SS]}(v)){const I=kd(v.url);I||(this.navigated=!0,this.restoreHistory(a,!0));const S=new RC(a.id,this.serializeUrl(a.extractedUrl),v.message);s.next(S),I?setTimeout(()=>{const M=this.urlHandlingStrategy.merge(v.url,this.rawUrlTree),P={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||a_(a.source)};this.scheduleNavigation(M,"imperative",null,P,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const I=new NC(a.id,this.serializeUrl(a.extractedUrl),v);s.next(I);try{a.resolve(this.errorHandler(v))}catch(S){a.reject(S)}}return Fu.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const s=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,s)&&setTimeout(()=>{const{source:a,state:l,urlTree:p}=s,v={replaceUrl:!0};if(l){const I=Object.assign({},l);delete I.navigationId,delete I.\u0275routerPageId,0!==Object.keys(I).length&&(v.state=I)}this.scheduleNavigation(p,a,l,v)},0),this.lastLocationChangeInfo=s}))}extractLocationChangeInfoFromEvent(t){var s;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(s=t.state)||void 0===s?void 0:s.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,s){if(!t)return!0;const a=s.urlTree.toString()===t.urlTree.toString();return s.transitionId!==t.transitionId||!a||!("hashchange"===s.source&&"popstate"===t.source||"popstate"===s.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){t_(t),this.config=t.map(Iw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,s={}){const{relativeTo:a,queryParams:l,fragment:p,queryParamsHandling:v,preserveFragment:I}=s,S=a||this.routerState.root,M=I?this.currentUrlTree.fragment:p;let P=null;switch(v){case"merge":P=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":P=this.currentUrlTree.queryParams;break;default:P=l||null}return null!==P&&(P=this.removeEmptyProps(P)),function(n,e,t,s,a){if(0===t.length)return Jy(e.root,e.root,e,s,a);const l=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new YC(!0,0,n);let e=0,t=!1;const s=n.reduce((a,l,p)=>{if("object"==typeof l&&null!=l){if(l.outlets){const v={};return si(l.outlets,(I,S)=>{v[S]="string"==typeof I?I.split("/"):I}),[...a,{outlets:v}]}if(l.segmentPath)return[...a,l.segmentPath]}return"string"!=typeof l?[...a,l]:0===p?(l.split("/").forEach((v,I)=>{0==I&&"."===v||(0==I&&""===v?t=!0:".."===v?e++:""!=v&&a.push(v))}),a):[...a,l]},[]);return new YC(t,e,s)}(t);if(l.toRoot())return Jy(e.root,new Pt([],{}),e,s,a);const p=function(n,e,t){if(n.isAbsolute)return new Xy(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new Xy(l,l===e.root,0)}const s=Qy(n.commands[0])?0:1;return function(n,e,t){let s=n,a=e,l=t;for(;l>a;){if(l-=a,s=s.parent,!s)throw new Error("Invalid number of '../'");a=s.segments.length}return new Xy(s,!1,a-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+s,n.numberOfDoubleDots)}(l,e,n),v=p.processChildren?e_(p.segmentGroup,p.index,l.commands):ao(p.segmentGroup,p.index,l.commands);return Jy(p.segmentGroup,v,e,s,a)}(S,this.currentUrlTree,t,P,null!=M?M:null)}navigateByUrl(t,s={skipLocationChange:!1}){const a=kd(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,s)}navigate(t,s={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,s),s)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let s;try{s=this.urlSerializer.parse(t)}catch(a){s=this.malformedUriErrorHandler(a,this.urlSerializer,t)}return s}isActive(t,s){let a;if(a=!0===s?Object.assign({},vN):!1===s?Object.assign({},EN):s,kd(t))return LC(this.currentUrlTree,t,a);const l=this.parseUrl(t);return LC(this.currentUrlTree,l,a)}removeEmptyProps(t){return Object.keys(t).reduce((s,a)=>{const l=t[a];return null!=l&&(s[a]=l),s},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new If(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,s,a,l,p){var v,I;if(this.disposed)return Promise.resolve(!1);const S=this.getTransition(),M=a_(s)&&S&&!a_(S.source),J=(this.lastSuccessfulId===S.id||this.currentNavigation?S.rawUrl:S.urlAfterRedirects).toString()===t.toString();if(M&&J)return Promise.resolve(!0);let xe,He,ze;p?(xe=p.resolve,He=p.reject,ze=p.promise):ze=new Promise((On,Bt)=>{xe=On,He=Bt});const Ot=++this.navigationId;let sn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),sn=a&&a.\u0275routerPageId?a.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(v=this.browserPageId)&&void 0!==v?v:0:(null!==(I=this.browserPageId)&&void 0!==I?I:0)+1):sn=0,this.setTransition({id:Ot,targetPageId:sn,source:s,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:xe,reject:He,promise:ze,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ze.catch(On=>Promise.reject(On))}setBrowserUrl(t,s){const a=this.urlSerializer.serialize(t),l=Object.assign(Object.assign({},s.extras.state),this.generateNgRouterState(s.id,s.targetPageId));this.location.isCurrentPathEqualTo(a)||s.extras.replaceUrl?this.location.replaceState(a,"",l):this.location.go(a,"",l)}restoreHistory(t,s=!1){var a,l;if("computed"===this.canceledNavigationResolution){const p=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===p?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===p&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(p)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,s){const a=new RC(t.id,this.serializeUrl(t.extractedUrl),s);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,s){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:s}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.DyG),h.LFG(lw),h.LFG(Mf),h.LFG(Le),h.LFG(h.zs3),h.LFG(h.v3s),h.LFG(h.Sil),h.LFG(void 0))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function a_(n){return"imperative"!==n}let Og=(()=>{class n{constructor(t,s,a){this.router=t,this.route=s,this.locationStrategy=a,this.commands=[],this.onChanges=new Rd.xQ,this.subscription=t.events.subscribe(l=>{l instanceof If&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,s,a,l,p){if(0!==t||s||a||l||p||"string"==typeof this.target&&"_self"!=this.target)return!0;const v={skipLocationChange:Of(this.skipLocationChange),replaceUrl:Of(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,v),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Of(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Zr),h.Y36(Af),h.Y36(G))},n.\u0275dir=h.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,s){1&t&&h.NdJ("click",function(l){return s.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&(h.Ikx("href",s.href,h.LSH),h.uIk("target",s.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[h.TTD]}),n})();function Of(n){return""===n||!!n}let ls=(()=>{class n{constructor(t,s,a,l,p){this.parentContexts=t,this.location=s,this.resolver=a,this.changeDetector=p,this.activated=null,this._activatedRoute=null,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.name=l||Rt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,s){this.activated=t,this._activatedRoute=s,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,s){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const p=(s=s||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),v=this.parentContexts.getOrCreateContext(this.name).children,I=new wN(t,v,this.location.injector);this.activated=this.location.createComponent(p,this.location.length,I),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Mf),h.Y36(h.s_b),h.Y36(h._Vd),h.$8M("name"),h.Y36(h.sBO))},n.\u0275dir=h.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class wN{constructor(e,t,s){this.route=e,this.childContexts=t,this.parent=s}get(e,t){return e===Af?this.route:e===Mf?this.childContexts:this.parent.get(e,t)}}class Rw{}class Nw{preload(e,t){return(0,it.of)(null)}}let Mw=(()=>{class n{constructor(t,s,a,l,p){this.router=t,this.injector=l,this.preloadingStrategy=p,this.loader=new gD(s,a,S=>t.triggerEvent(new kC(S)),S=>t.triggerEvent(new aw(S)))}setUpPreloading(){this.subscription=this.router.events.pipe(Mi(t=>t instanceof If),Md(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(h.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,s){const a=[];for(const l of s)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const p=l._loadedConfig;a.push(this.processRoutes(p.module,p.routes))}else l.loadChildren&&!l.canLoad?a.push(this.preloadConfig(t,l)):l.children&&a.push(this.processRoutes(t,l.children));return(0,Yt.D)(a).pipe((0,Ni.J)(),(0,pt.U)(l=>{}))}preloadConfig(t,s){return this.preloadingStrategy.preload(s,()=>(s._loadedConfig?(0,it.of)(s._loadedConfig):this.loader.load(t.injector,s)).pipe((0,Hi.zg)(l=>(s._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Zr),h.LFG(h.v3s),h.LFG(h.Sil),h.LFG(h.zs3),h.LFG(Rw))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),u_=(()=>{class n{constructor(t,s,a={}){this.router=t,this.viewportScroller=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ow?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof If&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof AS&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,s){this.router.triggerEvent(new AS(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Zr),h.LFG(Eo),h.LFG(void 0))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Bu=new h.OlP("ROUTER_CONFIGURATION"),c_=new h.OlP("ROUTER_FORROOT_GUARD"),d_=[Le,{provide:lw,useClass:BC},{provide:Zr,useFactory:function(n,e,t,s,a,l,p,v={},I,S){const M=new Zr(null,n,e,t,s,a,l,RS(p));return I&&(M.urlHandlingStrategy=I),S&&(M.routeReuseStrategy=S),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy)}(v,M),v.enableTracing&&M.events.subscribe(P=>{var K,J;null===(K=console.group)||void 0===K||K.call(console,`Router Event: ${P.constructor.name}`),console.log(P.toString()),console.log(P),null===(J=console.groupEnd)||void 0===J||J.call(console)}),M},deps:[lw,Mf,Le,h.zs3,h.v3s,h.Sil,pD,Bu,[class{},new h.FiY],[class{},new h.FiY]]},Mf,{provide:Af,useFactory:function(n){return n.routerState.root},deps:[Zr]},{provide:h.v3s,useClass:h.EAV},Mw,Nw,class{preload(e,t){return t().pipe(nl(()=>(0,it.of)(null)))}},{provide:Bu,useValue:{enableTracing:!1}}];function _D(){return new h.PXZ("Router",Zr)}let Ow=(()=>{class n{constructor(t,s){}static forRoot(t,s){return{ngModule:n,providers:[d_,ED(t),{provide:c_,useFactory:vD,deps:[[Zr,new h.FiY,new h.tp0]]},{provide:Bu,useValue:s||{}},{provide:G,useFactory:xx,deps:[le,[new h.tBr(ve),new h.FiY],Bu]},{provide:u_,useFactory:Sx,deps:[Zr,Eo,Bu]},{provide:Rw,useExisting:s&&s.preloadingStrategy?s.preloadingStrategy:Nw},{provide:h.PXZ,multi:!0,useFactory:_D},[kw,{provide:h.ip1,multi:!0,useFactory:qi,deps:[kw]},{provide:kg,useFactory:Pg,deps:[kw]},{provide:h.tb,multi:!0,useExisting:kg}]]}}static forChild(t){return{ngModule:n,providers:[ED(t)]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(c_,8),h.LFG(Zr,8))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();function Sx(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new u_(n,e,t)}function xx(n,e,t={}){return t.useHash?new Ce(n,e):new he(n,e)}function vD(n){return"guarded"}function ED(n){return[{provide:h.deG,multi:!0,useValue:n},{provide:pD,multi:!0,useValue:n}]}let kw=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Rd.xQ}appInitializer(){return this.injector.get(k,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let s=null;const a=new Promise(v=>s=v),l=this.injector.get(Zr),p=this.injector.get(Bu);return"disabled"===p.initialNavigation?(l.setUpLocationChangeListener(),s(!0)):"enabled"===p.initialNavigation||"enabledBlocking"===p.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?(0,it.of)(null):(this.initNavigation=!0,s(!0),this.resultOfPreactivationDone),l.initialNavigation()):s(!0),a})}bootstrapListener(t){const s=this.injector.get(Bu),a=this.injector.get(Mw),l=this.injector.get(u_),p=this.injector.get(Zr),v=this.injector.get(h.z2F);t===v.components[0]&&(("enabledNonBlocking"===s.initialNavigation||void 0===s.initialNavigation)&&p.initialNavigation(),a.setUpPreloading(),l.init(),p.resetRootComponentType(v.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.zs3))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function qi(n){return n.appInitializer.bind(n)}function Pg(n){return n.bootstrapListener.bind(n)}const kg=new h.OlP("Router Initializer");var Lw=V(1555);function Fd(n,e){return new Un.y(t=>{const s=n.length;if(0===s)return void t.complete();const a=new Array(s);let l=0,p=0;for(let v=0;v<s;v++){const I=(0,Yt.D)(n[v]);let S=!1;t.add(I.subscribe({next:M=>{S||(S=!0,p++),a[v]=M},error:M=>t.error(M),complete:()=>{l++,(l===s||!S)&&(p===s&&t.next(e?e.reduce((M,P,K)=>(M[P]=a[K],M),{}):a),t.complete())}}))}})}let ID=(()=>{class n{constructor(t,s){this._renderer=t,this._elementRef=s,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(t,s){this._renderer.setProperty(this._elementRef.nativeElement,t,s)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n}),n})(),Ld=(()=>{class n extends ID{}return n.\u0275fac=function(){let e;return function(s){return(e||(e=h.n5z(n)))(s||n)}}(),n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();const Ba=new h.OlP("NgValueAccessor"),Ox={provide:Ba,useExisting:(0,h.Gpc)(()=>uo),multi:!0},kx=new h.OlP("CompositionEventMode");let uo=(()=>{class n extends ID{constructor(t,s,a){super(t,s),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=F()?F().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(kx,8))},n.\u0275dir=h.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,s){1&t&&h.NdJ("input",function(l){return s._handleInput(l.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(l){return s._compositionEnd(l.target.value)})},features:[h._Bn([Ox]),h.qOj]}),n})();function co(n){return null==n||0===n.length}function h_(n){return null!=n&&"number"==typeof n.length}const Ci=new h.OlP("NgValidators"),ol=new h.OlP("NgAsyncValidators"),Fx=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ju{static min(e){return function(n){return e=>{if(co(e.value)||co(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function(n){return e=>{if(co(e.value)||co(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function(n){return co(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function(n){return co(n.value)||Fx.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function(n){return e=>co(e.value)||!h_(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function(n){return e=>h_(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function(n){if(!n)return Ps;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),s=>{if(co(s.value))return null;const a=s.value;return e.test(a)?null:{pattern:{requiredPattern:t,actualValue:a}}}}(e)}static nullValidator(e){return null}static compose(e){return $w(e)}static composeAsync(e){return Hw(e)}}function Ps(n){return null}function Fg(n){return null!=n}function Vd(n){const e=(0,h.QGY)(n)?(0,Yt.D)(n):n;return(0,h.CqO)(e),e}function SD(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function xD(n,e){return e.map(t=>t(n))}function jw(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function $w(n){if(!n)return null;const e=n.filter(Fg);return 0==e.length?null:function(t){return SD(xD(t,e))}}function f_(n){return null!=n?$w(jw(n)):null}function Hw(n){if(!n)return null;const e=n.filter(Fg);return 0==e.length?null:function(t){return function(...n){if(1===n.length){const e=n[0];if((0,tw.k)(e))return Fd(e,null);if((0,Lw.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Fd(t.map(s=>e[s]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return Fd(n=1===n.length&&(0,tw.k)(n[0])?n[0]:n,null).pipe((0,pt.U)(t=>e(...t)))}return Fd(n,null)}(xD(t,e).map(Vd)).pipe((0,pt.U)(SD))}}function Lg(n){return null!=n?Hw(jw(n)):null}function RD(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function ND(n){return n._rawValidators}function Gw(n){return n._rawAsyncValidators}function $u(n){return n?Array.isArray(n)?n:[n]:[]}function kf(n,e){return Array.isArray(n)?n.includes(e):n===e}function MD(n,e){const t=$u(e);return $u(n).forEach(a=>{kf(t,a)||t.push(a)}),t}function OD(n,e){return $u(e).filter(t=>!kf(n,t))}let Vx=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=f_(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Lg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,s){return!!this.control&&this.control.hasError(t,s)}getError(t,s){return this.control?this.control.getError(t,s):null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n}),n})(),ds=(()=>{class n extends Vx{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let e;return function(s){return(e||(e=h.n5z(n)))(s||n)}}(),n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();class Ud extends Vx{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ux{constructor(e){this._cd=e}is(e){var t,s,a;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(a=null===(s=this._cd)||void 0===s?void 0:s.control)||void 0===a?void 0:a[e])}}let PD=(()=>{class n extends Ux{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Ud,2))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,s){2&t&&h.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))},features:[h.qOj]}),n})(),qw=(()=>{class n extends Ux{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(ds,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,s){2&t&&h.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))("ng-submitted",s.is("submitted"))},features:[h.qOj]}),n})();function m(n,e){T(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&q(n,e)})}(n,e),function(n,e){const t=(s,a)=>{e.valueAccessor.writeValue(s),a&&e.viewToModelUpdate(s)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&q(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=s=>{e.valueAccessor.setDisabledState(s)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function y(n,e,t=!0){const s=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(s),e.valueAccessor.registerOnTouched(s)),R(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function w(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function T(n,e){const t=ND(n);null!==e.validator?n.setValidators(RD(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const s=Gw(n);null!==e.asyncValidator?n.setAsyncValidators(RD(s,e.asyncValidator)):"function"==typeof s&&n.setAsyncValidators([s]);const a=()=>n.updateValueAndValidity();w(e._rawValidators,a),w(e._rawAsyncValidators,a)}function R(n,e){let t=!1;if(null!==n){if(null!==e.validator){const a=ND(n);if(Array.isArray(a)&&a.length>0){const l=a.filter(p=>p!==e.validator);l.length!==a.length&&(t=!0,n.setValidators(l))}}if(null!==e.asyncValidator){const a=Gw(n);if(Array.isArray(a)&&a.length>0){const l=a.filter(p=>p!==e.asyncValidator);l.length!==a.length&&(t=!0,n.setAsyncValidators(l))}}}const s=()=>{};return w(e._rawValidators,s),w(e._rawAsyncValidators,s),t}function q(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function al(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const $a="VALID",Hu="INVALID",ul="PENDING",Bd="DISABLED";function Ug(n){return($x(n)?n.validators:n)||null}function p_(n){return Array.isArray(n)?f_(n):n||null}function jx(n,e){return($x(e)?e.asyncValidators:n)||null}function DN(n){return Array.isArray(n)?Lg(n):n||null}function $x(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Hx{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=p_(this._rawValidators),this._composedAsyncValidatorFn=DN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===$a}get invalid(){return this.status===Hu}get pending(){return this.status==ul}get disabled(){return this.status===Bd}get enabled(){return this.status!==Bd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=p_(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=DN(e)}addValidators(e){this.setValidators(MD(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(MD(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(OD(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(OD(e,this._rawAsyncValidators))}hasValidator(e){return kf(this._rawValidators,e)}hasAsyncValidator(e){return kf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ul,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Bd,this.errors=null,this._forEachChild(s=>{s.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(s=>s(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=$a,this._forEachChild(s=>{s.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===$a||this.status===ul)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Bd:$a}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ul,this._hasOwnPendingAsyncValidator=!0;const t=Vd(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let s=n;return e.forEach(a=>{s=s instanceof zw?s.controls.hasOwnProperty(a)?s.controls[a]:null:s instanceof Gx&&s.at(a)||null}),s}(this,e)}getError(e,t){const s=t?this.get(t):this;return s&&s.errors?s.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?Bd:this.errors?Hu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ul)?ul:this._anyControlsHaveStatus(Hu)?Hu:$a}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){$x(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class g_ extends Hx{constructor(e=null,t,s){super(Ug(t),jx(s,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){al(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){al(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class zw extends Hx{constructor(e,t,s){super(Ug(t),jx(s,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,s={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,s={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(s=>{this._throwIfControlMissing(s),this.controls[s].setValue(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(s=>{this.controls[s]&&this.controls[s].patchValue(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((s,a)=>{s.reset(e[a],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,s)=>(e[s]=t instanceof g_?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,s)=>!!s._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const s=this.controls[t];s&&e(s,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const s=this.controls[t];if(this.contains(t)&&e(s))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,s)=>((t.enabled||this.disabled)&&(e[s]=t.value),e))}_reduceChildren(e,t){let s=e;return this._forEachChild((a,l)=>{s=t(s,a,l)}),s}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,s)=>{if(void 0===e[s])throw new Error(`Must supply a value for form control with name: '${s}'.`)})}}class Gx extends Hx{constructor(e,t,s){super(Ug(t),jx(s,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,s={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:s.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,s={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((s,a)=>{this._throwIfControlMissing(a),this.at(a).setValue(s,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((s,a)=>{this.at(a)&&this.at(a).patchValue(s,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((s,a)=>{s.reset(e[a],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof g_?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,s)=>!!s._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,s)=>{e(t,s)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,s)=>{if(void 0===e[s])throw new Error(`Must supply a value for form control at index: ${s}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let LD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),NN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();const Zx=new h.OlP("NgModelWithFormControlWarning"),aM={provide:ds,useExisting:(0,h.Gpc)(()=>Yw)};let Yw=(()=>{class n extends ds{constructor(t,s){super(),this.validators=t,this.asyncValidators=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new h.vpe,this._setValidators(t),this._setAsyncValidators(s)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(R(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const s=this.form.get(t.path);return m(s,t),s.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),s}getControl(t){return this.form.get(t.path)}removeControl(t){y(t.control||null,t,!1),al(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,s){this.form.get(t.path).setValue(s)}onSubmit(t){return this.submitted=!0,function(n,e){n._syncPendingControls(),e.forEach(t=>{const s=t.control;"submit"===s.updateOn&&s._pendingChange&&(t.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const s=t.control,a=this.form.get(t.path);s!==a&&(y(s||null,t),a instanceof g_&&(m(a,t),t.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const s=this.form.get(t.path);(function(n,e){T(n,e)})(s,t),s.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const s=this.form.get(t.path);s&&function(n,e){return R(n,e)}(s,t)&&s.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){T(this.form,this),this._oldForm&&R(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Ci,10),h.Y36(ol,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,s){1&t&&h.NdJ("submit",function(l){return s.onSubmit(l)})("reset",function(){return s.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([aM]),h.qOj,h.TTD]}),n})();const lM={provide:Ud,useExisting:(0,h.Gpc)(()=>VD)};let VD=(()=>{class n extends Ud{constructor(t,s,a,l,p){super(),this._ngModelWarningConfig=p,this._added=!1,this.update=new h.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(s),this._setAsyncValidators(a),this.valueAccessor=function(n,e){if(!e)return null;let t,s,a;return Array.isArray(e),e.forEach(l=>{l.constructor===uo?t=l:function(n){return Object.getPrototypeOf(n.constructor)===Ld}(l)?s=l:a=l}),a||s||t||null}(0,l)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(ds,13),h.Y36(Ci,10),h.Y36(ol,10),h.Y36(Ba,10),h.Y36(Zx,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[h._Bn([lM]),h.qOj,h.TTD]}),n._ngModelWarningSentOnce=!1,n})(),WN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[NN]]}),n})(),zN=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Zx,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[WN]}),n})(),KN=(()=>{class n{group(t,s=null){const a=this._reduceControls(t);let v,l=null,p=null;return null!=s&&(function(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(s)?(l=null!=s.validators?s.validators:null,p=null!=s.asyncValidators?s.asyncValidators:null,v=null!=s.updateOn?s.updateOn:void 0):(l=null!=s.validator?s.validator:null,p=null!=s.asyncValidator?s.asyncValidator:null)),new zw(a,{asyncValidators:p,updateOn:v,validators:l})}control(t,s,a){return new g_(t,s,a)}array(t,s,a){const l=t.map(p=>this._createControl(p));return new Gx(l,s,a)}_reduceControls(t){const s={};return Object.keys(t).forEach(a=>{s[a]=this._createControl(t[a])}),s}_createControl(t){return t instanceof g_||t instanceof zw||t instanceof Gx?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,h.Yz7)({factory:function(){return new n},token:n,providedIn:zN}),n})(),YN=(()=>{class n{constructor(t){this.auth=t}crearUsuario(t,s,a){return this.auth.createUserWithEmailAndPassword(s,a)}login(t,s){return this.auth.signInWithEmailAndPassword(t,s)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Gy))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function TM(n,e){1&n&&h._UZ(0,"i",19)}function AM(n,e){1&n&&h._UZ(0,"i",19)}let SM=(()=>{class n{constructor(t,s,a){this.fb=t,this.authService=s,this.router=a}get validCorreo(){return this.loginForm.controls.correo.valid}get validPassword(){return this.loginForm.controls.password.valid}ngOnInit(){this.loginForm=this.fb.group({correo:["juan.pablo.lb99@gmail.com",[ju.required,ju.email]],password:["12345678",[ju.required]]})}login(){if(this.loginForm.invalid)return;const{correo:t,password:s}=this.loginForm.value;this.authService.login(t,s).then(a=>{console.log(a),this.router.navigate(["/"])}).catch(a=>console.error(a))}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(KN),h.Y36(YN),h.Y36(Zr))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-login"]],decls:33,vars:4,consts:[[1,"page-body-wrapper","full-page-wrapper","auth-page"],[1,"content-wrapper","d-flex","align-items-center","auth","auth-bg-1","theme-one"],[1,"row","w-100"],[1,"col-lg-4","mx-auto"],[1,"text-center","mb-4",2,"color","white"],[1,"auto-form-wrapper"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"label"],[1,"input-group"],["type","email","placeholder","Email","formControlName","correo",1,"form-control"],[1,"input-group-append"],[1,"input-group-text"],["class","fa fa-check-circle",4,"ngIf"],["type","password","placeholder","*********","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-primary","submit-btn","btn-block",3,"disabled"],[1,"text-block","text-center","my-3"],[1,"text-small","font-weight-semibold"],["routerLink","/register",1,"text-black","text-small"],[1,"fa","fa-check-circle"]],template:function(t,s){1&t&&(h.TgZ(0,"div",0),h.TgZ(1,"div",1),h.TgZ(2,"div",2),h.TgZ(3,"div",3),h.TgZ(4,"h2",4),h._uU(5,"Ingresar"),h.qZA(),h.TgZ(6,"div",5),h.TgZ(7,"form",6),h.NdJ("ngSubmit",function(){return s.login()}),h.TgZ(8,"div",7),h.TgZ(9,"label",8),h._uU(10,"Email"),h.qZA(),h.TgZ(11,"div",9),h._UZ(12,"input",10),h.TgZ(13,"div",11),h.TgZ(14,"span",12),h.YNc(15,TM,1,0,"i",13),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(16,"div",7),h.TgZ(17,"label",8),h._uU(18,"Contrase\xf1a"),h.qZA(),h.TgZ(19,"div",9),h._UZ(20,"input",14),h.TgZ(21,"div",11),h.TgZ(22,"span",12),h.YNc(23,AM,1,0,"i",13),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(24,"div",7),h.TgZ(25,"button",15),h._uU(26,"Login"),h.qZA(),h.qZA(),h.TgZ(27,"div",16),h.TgZ(28,"span",17),h._uU(29,"No estas registrado? "),h.qZA(),h._UZ(30,"br"),h.TgZ(31,"a",18),h._uU(32,"Crear una cuenta"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&t&&(h.xp6(7),h.Q6J("formGroup",s.loginForm),h.xp6(8),h.Q6J("ngIf",s.validCorreo),h.xp6(8),h.Q6J("ngIf",s.validPassword),h.xp6(2),h.Q6J("disabled",s.loginForm.invalid))},directives:[LD,qw,Yw,uo,PD,VD,zi,Og],styles:[""]}),n})();function xM(n,e){1&n&&h._UZ(0,"i",19)}function RM(n,e){1&n&&h._UZ(0,"i",19)}function NM(n,e){1&n&&h._UZ(0,"i",19)}let MM=(()=>{class n{constructor(t,s,a){this.fb=t,this.authService=s,this.router=a}get validName(){return this.formRegister.controls.nombre.valid}get validEmail(){return this.formRegister.controls.correo.valid}get validPassword(){return this.formRegister.controls.password.valid}ngOnInit(){this.formRegister=this.fb.group({nombre:["Juan",ju.required],correo:["juan.pablo.lb99@gmail.com",[ju.required,ju.email]],password:["12345678",ju.required]})}register(){if(this.formRegister.invalid)return;const{nombre:t,correo:s,password:a}=this.formRegister.value;this.authService.crearUsuario(t,s,a).then(l=>{console.log(l),this.router.navigate(["/"])}).catch(l=>console.error(l))}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(KN),h.Y36(YN),h.Y36(Zr))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-register"]],decls:35,vars:5,consts:[[1,"page-body-wrapper","full-page-wrapper","auth-page"],[1,"content-wrapper","d-flex","align-items-center","auth","register-bg-1","theme-one"],[1,"row","w-100"],[1,"col-lg-4","mx-auto"],[1,"text-center","mb-4"],[1,"auto-form-wrapper"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"input-group"],["type","text","placeholder","Nombre","formControlName","nombre",1,"form-control"],[1,"input-group-append"],[1,"input-group-text"],["class","fa fa-check-circle",4,"ngIf"],["type","text","placeholder","Correo","formControlName","correo",1,"form-control"],["type","password","placeholder","Password","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-primary","submit-btn","btn-block",3,"disabled"],[1,"text-block","text-center","my-3"],[1,"text-small","font-weight-semibold"],["routerLink","/login",1,"text-black","text-small"],[1,"fa","fa-check-circle"]],template:function(t,s){1&t&&(h.TgZ(0,"div",0),h.TgZ(1,"div",1),h.TgZ(2,"div",2),h.TgZ(3,"div",3),h.TgZ(4,"h2",4),h._uU(5,"Registro"),h.qZA(),h.TgZ(6,"div",5),h.TgZ(7,"form",6),h.NdJ("ngSubmit",function(){return s.register()}),h.TgZ(8,"div",7),h.TgZ(9,"div",8),h._UZ(10,"input",9),h.TgZ(11,"div",10),h.TgZ(12,"span",11),h.YNc(13,xM,1,0,"i",12),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(14,"div",7),h.TgZ(15,"div",8),h._UZ(16,"input",13),h.TgZ(17,"div",10),h.TgZ(18,"span",11),h.YNc(19,RM,1,0,"i",12),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(20,"div",7),h.TgZ(21,"div",8),h._UZ(22,"input",14),h.TgZ(23,"div",10),h.TgZ(24,"span",11),h.YNc(25,NM,1,0,"i",12),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(26,"div",7),h.TgZ(27,"button",15),h._uU(28," Crear cuenta "),h.qZA(),h.qZA(),h.TgZ(29,"div",16),h.TgZ(30,"span",17),h._uU(31,"ya tienes una cuenta?"),h.qZA(),h._UZ(32,"br"),h.TgZ(33,"a",18),h._uU(34,"Login"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&t&&(h.xp6(7),h.Q6J("formGroup",s.formRegister),h.xp6(6),h.Q6J("ngIf",s.validName),h.xp6(6),h.Q6J("ngIf",s.validEmail),h.xp6(6),h.Q6J("ngIf",s.validPassword),h.xp6(2),h.Q6J("disabled",s.formRegister.invalid))},directives:[LD,qw,Yw,uo,PD,VD,zi,Og],styles:[""]}),n})(),OM=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-navbar"]],decls:15,vars:0,consts:[[1,"navbar","default-layout","col-sm-12","col-12","p-0","fixed-top","d-flex","flex-row"],[1,"text-center","navbar-brand-wrapper","d-flex","align-items-top","justify-content-center"],[1,"navbar-brand","brand-logo"],["src","assets/images/logo.svg","alt","logo"],[1,"navbar-brand","brand-logo-mini"],["src","assets/images/logo-mini.svg","alt","logo"],[1,"navbar-menu-wrapper","d-flex","align-items-center"],[1,"navbar-nav","navbar-nav-right"],[1,"nav-item","d-none","d-sm-inline-block"],["id","UserDropdown","href","#","data-toggle","dropdown","aria-expanded","false",1,"nav-link"],[1,"profile-text"],["src","assets/images/faces/face1.jpg","alt","Profile image",1,"img-xs","rounded-circle"],["type","button","data-toggle","offcanvas",1,"navbar-toggler","navbar-toggler-right","d-sm-none","align-self-center"],[1,"icon-menu"]],template:function(t,s){1&t&&(h.TgZ(0,"nav",0),h.TgZ(1,"div",1),h.TgZ(2,"a",2),h._UZ(3,"img",3),h.qZA(),h.TgZ(4,"a",4),h._UZ(5,"img",5),h.qZA(),h.qZA(),h.TgZ(6,"div",6),h.TgZ(7,"ul",7),h.TgZ(8,"li",8),h.TgZ(9,"a",9),h.TgZ(10,"span",10),h._uU(11,"Hello, Richard V.Welsh !"),h.qZA(),h._UZ(12,"img",11),h.qZA(),h.qZA(),h.qZA(),h.TgZ(13,"button",12),h._UZ(14,"span",13),h.qZA(),h.qZA(),h.qZA())},styles:[""]}),n})(),PM=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-sidebar"]],decls:33,vars:0,consts:[[1,"sidebar","sidebar-offcanvas"],[1,"nav"],[1,"nav-item","nav-profile"],[1,"nav-link"],[1,"user-wrapper"],[1,"profile-image"],["src","assets/images/faces/face1.jpg","alt","profile image"],[1,"text-wrapper"],[1,"profile-name"],[1,"designation","text-muted"],[1,"nav-item"],["routerLink","/",1,"nav-link"],[1,"menu-icon","fa","fa-tachometer-alt"],[1,"menu-title"],["routerLink","/ingreso-egreso",1,"nav-link"],[1,"menu-icon","fa","fa-clipboard-list"],["routerLink","/detalle",1,"nav-link"],[1,"menu-icon","fa","fa-table"],["routerLink","/login",1,"nav-link","cursor"],[1,"menu-icon","fa","fa-sign-out-alt"]],template:function(t,s){1&t&&(h.TgZ(0,"nav",0),h.TgZ(1,"ul",1),h.TgZ(2,"li",2),h.TgZ(3,"div",3),h.TgZ(4,"div",4),h.TgZ(5,"div",5),h._UZ(6,"img",6),h.qZA(),h.TgZ(7,"div",7),h.TgZ(8,"p",8),h._uU(9,"Cristobal Col\xf3n"),h.qZA(),h.TgZ(10,"div"),h.TgZ(11,"small",9),h._uU(12,"Gerente"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(13,"li",10),h.TgZ(14,"a",11),h._UZ(15,"i",12),h.TgZ(16,"span",13),h._uU(17,"Dashboard"),h.qZA(),h.qZA(),h.qZA(),h.TgZ(18,"li",10),h.TgZ(19,"a",14),h._UZ(20,"i",15),h.TgZ(21,"span",13),h._uU(22,"Ingresos y Egresos"),h.qZA(),h.qZA(),h.qZA(),h.TgZ(23,"li",10),h.TgZ(24,"a",16),h._UZ(25,"i",17),h.TgZ(26,"span",13),h._uU(27,"Detalle"),h.qZA(),h.qZA(),h.qZA(),h.TgZ(28,"li",10),h.TgZ(29,"a",18),h._UZ(30,"i",19),h.TgZ(31,"span",13),h._uU(32,"Cerrar sesi\xf3n"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA())},directives:[Og],styles:[""]}),n})(),kM=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-footer"]],decls:10,vars:0,consts:[[1,"footer"],[1,"container-fluid","clearfix"],[1,"text-muted","d-block","text-center","text-sm-left","d-sm-inline-block"],["href","http://fernando-herrera.com","target","_blank"],[1,"float-none","float-sm-right","d-block","mt-1","mt-sm-0","text-center"],[1,"fa","fa-heart","text-danger"]],template:function(t,s){1&t&&(h.TgZ(0,"footer",0),h.TgZ(1,"div",1),h.TgZ(2,"span",2),h._uU(3,"Derechos reservados \xa9 20XX "),h.TgZ(4,"a",3),h._uU(5,"Fernando Herrera"),h.qZA(),h._uU(6,"."),h.qZA(),h.TgZ(7,"span",4),h._uU(8,"Creado a mano con "),h._UZ(9,"i",5),h.qZA(),h.qZA(),h.qZA())},styles:[""]}),n})();const FM=[{path:"login",component:SM},{path:"register",component:MM},{path:"",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-dashboard"]],decls:7,vars:0,consts:[[1,"page-body-wrapper"],[1,"main-panel"],[1,"content-wrapper"]],template:function(t,s){1&t&&(h._UZ(0,"app-navbar"),h.TgZ(1,"div",0),h._UZ(2,"app-sidebar"),h.TgZ(3,"div",1),h.TgZ(4,"div",2),h._UZ(5,"router-outlet"),h.qZA(),h._UZ(6,"app-footer"),h.qZA(),h.qZA())},directives:[OM,PM,ls,kM],styles:[""]}),n})(),children:[{path:"",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-estadistica"]],decls:31,vars:0,consts:[[1,"row"],[1,"col-6"],[1,"card","card-statistics"],[1,"card-body"],[1,"clearfix"],[1,"float-left"],[1,"fa","fa-money-bill-alt","text-success","icon-lg"],[1,"float-right"],[1,"mb-0","text-right"],[1,"fluid-container"],[1,"font-weight-medium","text-right","mb-0"],[1,"text-muted","mt-3","mb-0"],["aria-hidden","true",1,"mdi","mdi-alert-octagon","mr-1"],[1,"fa","fa-shipping-fast","text-danger","icon-lg"]],template:function(t,s){1&t&&(h.TgZ(0,"div",0),h.TgZ(1,"div",1),h.TgZ(2,"div",2),h.TgZ(3,"div",3),h.TgZ(4,"div",4),h.TgZ(5,"div",5),h._UZ(6,"i",6),h.qZA(),h.TgZ(7,"div",7),h.TgZ(8,"p",8),h._uU(9,"Ingresos"),h.qZA(),h.TgZ(10,"div",9),h.TgZ(11,"h3",10),h._uU(12,"$65,650"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(13,"p",11),h._UZ(14,"i",12),h._uU(15," 65% lower growth "),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(16,"div",1),h.TgZ(17,"div",2),h.TgZ(18,"div",3),h.TgZ(19,"div",4),h.TgZ(20,"div",5),h._UZ(21,"i",13),h.qZA(),h.TgZ(22,"div",7),h.TgZ(23,"p",8),h._uU(24,"Ingresos"),h.qZA(),h.TgZ(25,"div",9),h.TgZ(26,"h3",10),h._uU(27,"$65,650"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(28,"p",11),h._UZ(29,"i",12),h._uU(30," 65% lower growth "),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA())},styles:[""]}),n})()},{path:"ingreso-egreso",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-ingreso-egreso"]],decls:31,vars:0,consts:[[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-description"],[1,"form-group"],["type","text","placeholder","Descripci\xf3n","name","descripcion",1,"form-control"],["type","number","placeholder","Monto","name","monto",1,"form-control"],["type","button",1,"btn","btn-primary","btn-block"],["type","button",1,"btn","btn-success","mr-2"],[1,"fa","fa-save"],["type","reset",1,"btn","btn-light"]],template:function(t,s){1&t&&(h.TgZ(0,"div",0),h.TgZ(1,"div",1),h.TgZ(2,"div",2),h.TgZ(3,"div",3),h.TgZ(4,"h4",4),h._uU(5,"Agregar Ingreso / Egreso"),h.qZA(),h.TgZ(6,"p",5),h._uU(7," Especifique el monto y el tipo "),h.qZA(),h.TgZ(8,"form"),h.TgZ(9,"div",6),h.TgZ(10,"label"),h._uU(11,"Descripci\xf3n"),h.qZA(),h._UZ(12,"input",7),h.qZA(),h.TgZ(13,"div",6),h.TgZ(14,"label"),h._uU(15,"Monto"),h.qZA(),h._UZ(16,"input",8),h.TgZ(17,"p"),h._uU(18," Debe de ser un monto positivo "),h.qZA(),h.qZA(),h.TgZ(19,"div",6),h.TgZ(20,"label"),h._uU(21,"Tipo"),h.qZA(),h._UZ(22,"br"),h.TgZ(23,"button",9),h._uU(24,"Ingreso"),h.qZA(),h.qZA(),h._UZ(25,"hr"),h.TgZ(26,"button",10),h._UZ(27,"i",11),h._uU(28," Agregar "),h.qZA(),h.TgZ(29,"button",12),h._uU(30,"Cancelar"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA())},directives:[LD,qw],styles:[""]}),n})()},{path:"detalle",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-detalle"]],decls:26,vars:0,consts:[[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"table"]],template:function(t,s){1&t&&(h.TgZ(0,"div",0),h.TgZ(1,"div",1),h.TgZ(2,"div",2),h.TgZ(3,"div",3),h.TgZ(4,"h4",4),h._uU(5,"Detalle de ingreso egreso"),h.qZA(),h.TgZ(6,"table",5),h.TgZ(7,"thead"),h.TgZ(8,"tr"),h.TgZ(9,"th"),h._uU(10,"Descripci\xf3n"),h.qZA(),h.TgZ(11,"th"),h._uU(12,"Monto"),h.qZA(),h.TgZ(13,"th"),h._uU(14,"Tipo"),h.qZA(),h._UZ(15,"th"),h.qZA(),h.qZA(),h.TgZ(16,"tbody"),h.TgZ(17,"tr"),h.TgZ(18,"td"),h._uU(19,"Descripci\xf3n"),h.qZA(),h.TgZ(20,"td"),h._uU(21,"Monto"),h.qZA(),h.TgZ(22,"td"),h._uU(23,"Tipo"),h.qZA(),h.TgZ(24,"td"),h._uU(25,"acciones"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA())},styles:[""]}),n})()}],canActivate:[(()=>{class n{canActivate(){return!0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()]},{path:"**",redirectTo:""}];let LM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[Ow.forRoot(FM)],Ow]}),n})(),VM=(()=>{class n{constructor(){this.title="ingresoEgresoApp"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"container-scroller"]],template:function(t,s){1&t&&(h.TgZ(0,"div",0),h._UZ(1,"router-outlet"),h.qZA())},directives:[ls],styles:[""]}),n})(),UM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n,bootstrap:[VM]}),n.\u0275inj=h.cJS({providers:[],imports:[[nu,zN,LM,wn.hO.initializeApp(Cl_firebase),_S,fS]]}),n})();(0,h.G48)(),Il().bootstrapModule(UM).catch(n=>console.error(n))},4762:(Xe,Te,V)=>{"use strict";function ce(ne,oe){var fe={};for(var ue in ne)Object.prototype.hasOwnProperty.call(ne,ue)&&oe.indexOf(ue)<0&&(fe[ue]=ne[ue]);if(null!=ne&&"function"==typeof Object.getOwnPropertySymbols){var Pe=0;for(ue=Object.getOwnPropertySymbols(ne);Pe<ue.length;Pe++)oe.indexOf(ue[Pe])<0&&Object.prototype.propertyIsEnumerable.call(ne,ue[Pe])&&(fe[ue[Pe]]=ne[ue[Pe]])}return fe}function le(ne,oe,fe,ue){return new(fe||(fe=Promise))(function(pe,nt){function jt(Zt){try{vt(ue.next(Zt))}catch(kn){nt(kn)}}function Pn(Zt){try{vt(ue.throw(Zt))}catch(kn){nt(kn)}}function vt(Zt){Zt.done?pe(Zt.value):function(pe){return pe instanceof fe?pe:new fe(function(nt){nt(pe)})}(Zt.value).then(jt,Pn)}vt((ue=ue.apply(ne,oe||[])).next())})}function Z(ne,oe){var ue,Pe,pe,nt,fe={label:0,sent:function(){if(1&pe[0])throw pe[1];return pe[1]},trys:[],ops:[]};return nt={next:jt(0),throw:jt(1),return:jt(2)},"function"==typeof Symbol&&(nt[Symbol.iterator]=function(){return this}),nt;function jt(vt){return function(Zt){return function(vt){if(ue)throw new TypeError("Generator is already executing.");for(;fe;)try{if(ue=1,Pe&&(pe=2&vt[0]?Pe.return:vt[0]?Pe.throw||((pe=Pe.return)&&pe.call(Pe),0):Pe.next)&&!(pe=pe.call(Pe,vt[1])).done)return pe;switch(Pe=0,pe&&(vt=[2&vt[0],pe.value]),vt[0]){case 0:case 1:pe=vt;break;case 4:return fe.label++,{value:vt[1],done:!1};case 5:fe.label++,Pe=vt[1],vt=[0];continue;case 7:vt=fe.ops.pop(),fe.trys.pop();continue;default:if(!(pe=(pe=fe.trys).length>0&&pe[pe.length-1])&&(6===vt[0]||2===vt[0])){fe=0;continue}if(3===vt[0]&&(!pe||vt[1]>pe[0]&&vt[1]<pe[3])){fe.label=vt[1];break}if(6===vt[0]&&fe.label<pe[1]){fe.label=pe[1],pe=vt;break}if(pe&&fe.label<pe[2]){fe.label=pe[2],fe.ops.push(vt);break}pe[2]&&fe.ops.pop(),fe.trys.pop();continue}vt=oe.call(ne,fe)}catch(Zt){vt=[6,Zt],Pe=0}finally{ue=pe=0}if(5&vt[0])throw vt[1];return{value:vt[0]?vt[1]:void 0,done:!0}}([vt,Zt])}}}function Q(ne){var oe="function"==typeof Symbol&&Symbol.iterator,fe=oe&&ne[oe],ue=0;if(fe)return fe.call(ne);if(ne&&"number"==typeof ne.length)return{next:function(){return ne&&ue>=ne.length&&(ne=void 0),{value:ne&&ne[ue++],done:!ne}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}function z(ne,oe){var fe="function"==typeof Symbol&&ne[Symbol.iterator];if(!fe)return ne;var Pe,nt,ue=fe.call(ne),pe=[];try{for(;(void 0===oe||oe-- >0)&&!(Pe=ue.next()).done;)pe.push(Pe.value)}catch(jt){nt={error:jt}}finally{try{Pe&&!Pe.done&&(fe=ue.return)&&fe.call(ue)}finally{if(nt)throw nt.error}}return pe}function de(ne,oe,fe){if(fe||2===arguments.length)for(var pe,ue=0,Pe=oe.length;ue<Pe;ue++)(pe||!(ue in oe))&&(pe||(pe=Array.prototype.slice.call(oe,0,ue)),pe[ue]=oe[ue]);return ne.concat(pe||Array.prototype.slice.call(oe))}V.d(Te,{_T:()=>ce,mG:()=>le,Jh:()=>Z,XA:()=>Q,CR:()=>z,ev:()=>de})},8239:(Xe,Te,V)=>{"use strict";function h(F,ce,te,ie,we,le,Z){try{var k=F[le](Z),L=k.value}catch(Q){return void te(Q)}k.done?ce(L):Promise.resolve(L).then(ie,we)}function ee(F){return function(){var ce=this,te=arguments;return new Promise(function(ie,we){var le=F.apply(ce,te);function Z(L){h(le,ie,we,Z,k,"next",L)}function k(L){h(le,ie,we,Z,k,"throw",L)}Z(void 0)})}}V.d(Te,{Z:()=>ee})}},Xe=>{Xe(Xe.s=6673)}]);