(self.webpackChunkingreso_egreso_app=self.webpackChunkingreso_egreso_app||[]).push([[179],{8255:it=>{function Ae(B){return Promise.resolve().then(()=>{var h=new Error("Cannot find module '"+B+"'");throw h.code="MODULE_NOT_FOUND",h})}Ae.keys=()=>[],Ae.resolve=Ae,Ae.id=8255,it.exports=Ae},3018:(it,Ae,B)=>{"use strict";B.d(Ae,{deG:()=>Qu,tb:()=>pb,AFp:()=>BI,ip1:()=>db,CZH:()=>ea,hGG:()=>fD,z2F:()=>zf,sBO:()=>CA,Sil:()=>qf,_Vd:()=>Df,EJc:()=>Fg,SBq:()=>Hs,qLn:()=>Ce,vpe:()=>Cl,gxx:()=>Nd,tBr:()=>rl,XFs:()=>Pe,OlP:()=>He,zs3:()=>Zn,ZZ4:()=>rh,aQg:()=>La,soG:()=>jf,YKP:()=>NA,v3s:()=>Db,h0i:()=>ih,PXZ:()=>Ib,R0b:()=>Ts,FiY:()=>Ls,Lbi:()=>Bf,g9A:()=>kg,Qsj:()=>EC,FYo:()=>pg,JOm:()=>Sa,Tiy:()=>Tw,q3G:()=>kn,tp0:()=>Da,EAV:()=>ex,Rgc:()=>mg,dDg:()=>Gf,DyG:()=>ec,q4F:()=>Sw,GfV:()=>Aw,s_b:()=>Rf,ifc:()=>Jt,eFA:()=>rD,G48:()=>GS,Gpc:()=>_e,X6Q:()=>Eb,_c5:()=>dD,VLi:()=>QI,c2e:()=>$I,zSh:()=>Qh,wAp:()=>pt,vHH:()=>de,EiD:()=>fm,mCW:()=>du,qzn:()=>oc,JVY:()=>sm,pB0:()=>om,eBb:()=>Oh,L6k:()=>Mh,LAX:()=>fd,cg1:()=>vy,Tjo:()=>ax,kL8:()=>nw,yhl:()=>Go,dqk:()=>G,sIi:()=>Cu,CqO:()=>Yp,QGY:()=>hf,F4k:()=>ff,RDi:()=>Ii,AaK:()=>X,z3N:()=>mo,qOj:()=>$p,TTD:()=>to,_Bn:()=>Ty,xp6:()=>qh,uIk:()=>Zm,ekj:()=>Xp,Suo:()=>Rg,Xpm:()=>vt,lG2:()=>oa,Yz7:()=>_n,cJS:()=>Kr,oAB:()=>sa,Yjl:()=>aa,Y36:()=>Gd,_UZ:()=>Av,qZA:()=>Kp,TgZ:()=>Wp,n5z:()=>Yl,Ikx:()=>ng,LFG:()=>ur,$8M:()=>ps,NdJ:()=>ey,CRH:()=>tb,Q6J:()=>Zd,iGM:()=>wI,LSH:()=>_d,kYT:()=>xs,YNc:()=>cE,_uU:()=>qv});var h=B(9765),ie=B(5319),L=B(7574),ce=B(6682),oe=B(2441);var ye=B(1307);function Q(){return new h.xQ}function j(r){for(let i in r)if(r[i]===j)return i;throw Error("Could not find renamed property on target object.")}function ee(r,i){for(const o in i)i.hasOwnProperty(o)&&!r.hasOwnProperty(o)&&(r[o]=i[o])}function X(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(X).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const i=r.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function ue(r,i){return null==r||""===r?null===i?"":i:null==i||""===i?r:r+" "+i}const De=j({__forward_ref__:j});function _e(r){return r.__forward_ref__=_e,r.toString=function(){return X(this())},r}function W(r){return $(r)?r():r}function $(r){return"function"==typeof r&&r.hasOwnProperty(De)&&r.__forward_ref__===_e}class de extends Error{constructor(i,o){super(function(r,i){return`${r?`NG0${r}: `:""}${i}`}(i,o)),this.code=i}}function Me(r){return"string"==typeof r?r:null==r?"":String(r)}function mt(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Me(r)}function pe(r,i){const o=i?` in ${i}`:"";throw new de("201",`No provider for ${mt(r)} found${o}`)}function an(r,i){null==r&&function(r,i,o,u){throw new Error(`ASSERTION ERROR: ${r}`+(null==u?"":` [Expected=> ${o} ${u} ${i} <=Actual]`))}(i,r,null,"!=")}function _n(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Kr(r){return{providers:r.providers||[],imports:r.imports||[]}}function Sr(r){return Yr(r,hn)||Yr(r,Rn)}function Yr(r,i){return r.hasOwnProperty(i)?r[i]:null}function Ln(r){return r&&(r.hasOwnProperty(jt)||r.hasOwnProperty(dt))?r[jt]:null}const hn=j({\u0275prov:j}),jt=j({\u0275inj:j}),Rn=j({ngInjectableDef:j}),dt=j({ngInjectorDef:j});var Pe=(()=>((Pe=Pe||{})[Pe.Default=0]="Default",Pe[Pe.Host=1]="Host",Pe[Pe.Self=2]="Self",Pe[Pe.SkipSelf=4]="SkipSelf",Pe[Pe.Optional=8]="Optional",Pe))();let Rt;function vn(r){const i=Rt;return Rt=r,i}function $t(r,i,o){const u=Sr(r);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&Pe.Optional?null:void 0!==i?i:void pe(X(r),"Injector")}function tt(r){return{toString:r}.toString()}var Cn=(()=>((Cn=Cn||{})[Cn.OnPush=0]="OnPush",Cn[Cn.Default=1]="Default",Cn))(),Jt=(()=>((Jt=Jt||{})[Jt.Emulated=0]="Emulated",Jt[Jt.None=2]="None",Jt[Jt.ShadowDom=3]="ShadowDom",Jt))();const Vr="undefined"!=typeof globalThis&&globalThis,Ws="undefined"!=typeof window&&window,z="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,G=Vr||"undefined"!=typeof global&&global||Ws||z,Qe={},Ge=[],Zt=j({\u0275cmp:j}),pn=j({\u0275dir:j}),cn=j({\u0275pipe:j}),xr=j({\u0275mod:j}),Pt=j({\u0275loc:j}),gn=j({\u0275fac:j}),dr=j({__NG_ELEMENT_ID__:j});let $a=0;function vt(r){return tt(()=>{const o={},u={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===Cn.OnPush,directiveDefs:null,pipeDefs:null,selectors:r.selectors||Ge,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||Jt.Emulated,id:"c",styles:r.styles||Ge,_:null,setInput:null,schemas:r.schemas||null,tView:null},l=r.directives,d=r.features,m=r.pipes;return u.id+=$a++,u.inputs=Qr(r.inputs,o),u.outputs=Qr(r.outputs),d&&d.forEach(y=>y(u)),u.directiveDefs=l?()=>("function"==typeof l?l():l).map(ia):null,u.pipeDefs=m?()=>("function"==typeof m?m():m).map(Ha):null,u})}function ia(r){return Xt(r)||function(r){return r[pn]||null}(r)}function Ha(r){return function(r){return r[cn]||null}(r)}const Ss={};function sa(r){return tt(()=>{const i={type:r.type,bootstrap:r.bootstrap||Ge,declarations:r.declarations||Ge,imports:r.imports||Ge,exports:r.exports||Ge,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null};return null!=r.id&&(Ss[r.id]=r.type),i})}function xs(r,i){return tt(()=>{const o=rr(r,!0);o.declarations=i.declarations||Ge,o.imports=i.imports||Ge,o.exports=i.exports||Ge})}function Qr(r,i){if(null==r)return Qe;const o={};for(const u in r)if(r.hasOwnProperty(u)){let l=r[u],d=l;Array.isArray(l)&&(d=l[1],l=l[0]),o[l]=u,i&&(i[l]=d)}return o}const oa=vt;function aa(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,onDestroy:r.type.prototype.ngOnDestroy||null}}function Xt(r){return r[Zt]||null}function rr(r,i){const o=r[xr]||null;if(!o&&!0===i)throw new Error(`Type ${X(r)} does not have '\u0275mod' property.`);return o}function Jr(r){return Array.isArray(r)&&"object"==typeof r[1]}function Wt(r){return Array.isArray(r)&&!0===r[1]}function Js(r){return 0!=(8&r.flags)}function Ga(r){return 2==(2&r.flags)}function Xr(r){return 1==(1&r.flags)}function gr(r){return null!==r.template}function Fu(r){return 0!=(512&r[2])}function Ur(r,i){return r.hasOwnProperty(gn)?r[gn]:null}class ci{constructor(i,o,u){this.previousValue=i,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function to(){return Ms}function Ms(r){return r.type.prototype.ngOnChanges&&(r.setInput=ha),Ci}function Ci(){const r=no(this),i=null==r?void 0:r.current;if(i){const o=r.previous;if(o===Qe)r.previous=i;else for(let u in i)o[u]=i[u];r.current=null,this.ngOnChanges(i)}}function ha(r,i,o,u){const l=no(r)||function(r,i){return r[zc]=i}(r,{previous:Qe,current:null}),d=l.current||(l.current={}),m=l.previous,y=this.declaredInputs[o],b=m[y];d[y]=new ci(b&&b.currentValue,i,m===Qe),r[u]=i}to.ngInherit=!0;const zc="__ngSimpleChanges__";function no(r){return r[zc]||null}let as;function Ii(r){as=r}function wn(r){return!!r.listen}const Oo={createRenderer:(r,i)=>void 0!==as?as:"undefined"!=typeof document?document:void 0};function Nt(r){for(;Array.isArray(r);)r=r[0];return r}function Rr(r,i){return Nt(i[r.index])}function Di(r,i){return r.data[i]}function or(r,i){const o=i[r];return Jr(o)?o:o[0]}function oo(r){return 4==(4&r[2])}function Po(r){return 128==(128&r[2])}function Os(r,i){return null==i?null:r[i]}function ko(r){r[18]=0}function Qa(r,i){r[5]+=i;let o=r,u=r[3];for(;null!==u&&(1===i&&1===o[5]||-1===i&&0===o[5]);)u[5]+=i,o=u,u=u[3]}const at={lFrame:nu(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Uu(){return at.bindingsEnabled}function Oe(){return at.lFrame.lView}function kt(){return at.lFrame.tView}function Nn(){let r=Ul();for(;null!==r&&64===r.type;)r=r.parent;return r}function Ul(){return at.lFrame.currentTNode}function di(r,i){const o=at.lFrame;o.currentTNode=r,o.isParent=i}function lo(){return at.lFrame.isParent}function Lo(){return at.isInCheckNoChangesMode}function Ti(r){at.isInCheckNoChangesMode=r}function Ai(){return at.lFrame.bindingIndex++}function eu(r,i){const o=at.lFrame;o.bindingIndex=o.bindingRootIndex=r,Vo(i)}function Vo(r){at.lFrame.currentDirectiveIndex=r}function co(){return at.lFrame.currentQueryIndex}function Bu(r){at.lFrame.currentQueryIndex=r}function Yc(r){const i=r[1];return 2===i.type?i.declTNode:1===i.type?r[6]:null}function jl(r,i,o){if(o&Pe.SkipSelf){let l=i,d=r;for(;!(l=l.parent,null!==l||o&Pe.Host||(l=Yc(d),null===l||(d=d[15],10&l.type))););if(null===l)return!1;i=l,r=d}const u=at.lFrame=va();return u.currentTNode=i,u.lView=r,!0}function ho(r){const i=va(),o=r[1];at.lFrame=i,i.currentTNode=o.firstChild,i.lView=r,i.tView=o,i.contextLView=r,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function va(){const r=at.lFrame,i=null===r?null:r.child;return null===i?nu(r):i}function nu(r){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=i),i}function $l(){const r=at.lFrame;return at.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const tp=$l;function Qc(){const r=$l();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function ei(){return at.lFrame.selectedIndex}function Vi(r){at.lFrame.selectedIndex=r}function bn(){const r=at.lFrame;return Di(r.tView,r.selectedIndex)}function Ps(r,i){for(let o=i.directiveStart,u=i.directiveEnd;o<u;o++){const d=r.data[o].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:y,ngAfterViewInit:b,ngAfterViewChecked:T,ngOnDestroy:S}=d;m&&(r.contentHooks||(r.contentHooks=[])).push(-o,m),y&&((r.contentHooks||(r.contentHooks=[])).push(o,y),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(o,y)),b&&(r.viewHooks||(r.viewHooks=[])).push(-o,b),T&&((r.viewHooks||(r.viewHooks=[])).push(o,T),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(o,T)),null!=S&&(r.destroyHooks||(r.destroyHooks=[])).push(o,S)}}function fo(r,i,o){hs(r,i,3,o)}function wa(r,i,o,u){(3&r[2])===o&&hs(r,i,o,u)}function hi(r,i){let o=r[2];(3&o)===i&&(o&=2047,o+=1,r[2]=o)}function hs(r,i,o,u){const d=null!=u?u:-1,m=i.length-1;let y=0;for(let b=void 0!==u?65535&r[18]:0;b<m;b++)if("number"==typeof i[b+1]){if(y=i[b],null!=u&&y>=u)break}else i[b]<0&&(r[18]+=65536),(y<d||-1==d)&&(E(r,o,i,b),r[18]=(4294901760&r[18])+b+2),b++}function E(r,i,o,u){const l=o[u]<0,d=o[u+1],y=r[l?-o[u]:o[u]];if(l){if(r[2]>>11<r[18]>>16&&(3&r[2])===i){r[2]+=2048;try{d.call(y)}finally{}}}else try{d.call(y)}finally{}}const C=-1;class N{constructor(i,o,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function On(r,i,o){const u=wn(r);let l=0;for(;l<o.length;){const d=o[l];if("number"==typeof d){if(0!==d)break;l++;const m=o[l++],y=o[l++],b=o[l++];u?r.setAttribute(i,y,b,m):i.setAttributeNS(m,y,b)}else{const m=d,y=o[++l];Gl(m)?u&&r.setProperty(i,m,y):u?r.setAttribute(i,m,y):i.setAttribute(m,y),l++}}return l}function qu(r){return 3===r||4===r||6===r}function Gl(r){return 64===r.charCodeAt(0)}function Gu(r,i){if(null!==i&&0!==i.length)if(null===r||0===r.length)r=i.slice();else{let o=-1;for(let u=0;u<i.length;u++){const l=i[u];"number"==typeof l?o=l:0===o||Zl(r,o,l,null,-1===o||2===o?i[++u]:null)}}return r}function Zl(r,i,o,u,l){let d=0,m=r.length;if(-1===i)m=-1;else for(;d<r.length;){const y=r[d++];if("number"==typeof y){if(y===i){m=-1;break}if(y>i){m=d-1;break}}}for(;d<r.length;){const y=r[d];if("number"==typeof y)break;if(y===o){if(null===u)return void(null!==l&&(r[d+1]=l));if(u===r[d+1])return void(r[d+2]=l)}d++,null!==u&&d++,null!==l&&d++}-1!==m&&(r.splice(m,0,i),d=m+1),r.splice(d++,0,o),null!==u&&r.splice(d++,0,u),null!==l&&r.splice(d++,0,l)}function zl(r){return r!==C}function Zu(r){return 32767&r}function zu(r,i){let o=function(r){return r>>16}(r),u=i;for(;o>0;)u=u[15],o--;return u}let Wu=!0;function ru(r){const i=Wu;return Wu=r,i}let qn=0;function yr(r,i){const o=ht(r,i);if(-1!==o)return o;const u=i[1];u.firstCreatePass&&(r.injectorIndex=i.length,yn(u.data,r),yn(i,null),yn(u.blueprint,null));const l=Vn(r,i),d=r.injectorIndex;if(zl(l)){const m=Zu(l),y=zu(l,i),b=y[1].data;for(let T=0;T<8;T++)i[d+T]=y[m+T]|b[m+T]}return i[d+8]=l,d}function yn(r,i){r.push(0,0,0,0,0,0,0,0,i)}function ht(r,i){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===i[r.injectorIndex+8]?-1:r.injectorIndex}function Vn(r,i){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let o=0,u=null,l=i;for(;null!==l;){const d=l[1],m=d.type;if(u=2===m?d.declTNode:1===m?l[6]:null,null===u)return C;if(o++,l=l[15],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return C}function fs(r,i,o){!function(r,i,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(dr)&&(u=o[dr]),null==u&&(u=o[dr]=qn++);const l=255&u;i.data[r+(l>>5)]|=1<<l}(r,i,o)}function Eh(r,i,o){if(o&Pe.Optional)return r;pe(i,"NodeInjector")}function ba(r,i,o,u){if(o&Pe.Optional&&void 0===u&&(u=null),0==(o&(Pe.Self|Pe.Host))){const l=r[9],d=vn(void 0);try{return l?l.get(i,u,o&Pe.Optional):$t(i,u,o&Pe.Optional)}finally{vn(d)}}return Eh(u,i,o)}function Ku(r,i,o,u=Pe.Default,l){if(null!==r){const d=function(r){if("string"==typeof r)return r.charCodeAt(0)||0;const i=r.hasOwnProperty(dr)?r[dr]:void 0;return"number"==typeof i?i>=0?255&i:Yu:i}(o);if("function"==typeof d){if(!jl(i,r,u))return u&Pe.Host?Eh(l,o,u):ba(i,o,u,l);try{const m=d(u);if(null!=m||u&Pe.Optional)return m;pe(o)}finally{tp()}}else if("number"==typeof d){let m=null,y=ht(r,i),b=C,T=u&Pe.Host?i[16][6]:null;for((-1===y||u&Pe.SkipSelf)&&(b=-1===y?Vn(r,i):i[y+8],b!==C&&Kl(u,!1)?(m=i[1],y=Zu(b),i=zu(b,i)):y=-1);-1!==y;){const S=i[1];if(Ch(d,y,S.data)){const O=nd(y,i,o,m,u,T);if(O!==Bi)return O}b=i[y+8],b!==C&&Kl(u,i[1].data[y+8]===T)&&Ch(d,y,i)?(m=S,y=Zu(b),i=zu(b,i)):y=-1}}}return ba(i,o,u,l)}const Bi={};function Yu(){return new po(Nn(),Oe())}function nd(r,i,o,u,l,d){const m=i[1],y=m.data[r+8],S=su(y,m,o,null==u?Ga(y)&&Wu:u!=m&&0!=(3&y.type),l&Pe.Host&&d===y);return null!==S?Tt(i,m,S,y):Bi}function su(r,i,o,u,l){const d=r.providerIndexes,m=i.data,y=1048575&d,b=r.directiveStart,S=d>>20,F=l?y+S:r.directiveEnd;for(let q=u?y:y+S;q<F;q++){const Y=m[q];if(q<b&&o===Y||q>=b&&Y.type===o)return q}if(l){const q=m[b];if(q&&gr(q)&&q.type===o)return b}return null}function Tt(r,i,o,u){let l=r[o];const d=i.data;if(function(r){return r instanceof N}(l)){const m=l;m.resolving&&function(r,i){throw new de("200",`Circular dependency in DI detected for ${r}`)}(mt(d[o]));const y=ru(m.canSeeViewProviders);m.resolving=!0;const b=m.injectImpl?vn(m.injectImpl):null;jl(r,u,Pe.Default);try{l=r[o]=m.factory(void 0,d,r,u),i.firstCreatePass&&o>=u.directiveStart&&function(r,i,o){const{ngOnChanges:u,ngOnInit:l,ngDoCheck:d}=i.type.prototype;if(u){const m=Ms(i);(o.preOrderHooks||(o.preOrderHooks=[])).push(r,m),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,m)}l&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-r,l),d&&((o.preOrderHooks||(o.preOrderHooks=[])).push(r,d),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,d))}(o,d[o],i)}finally{null!==b&&vn(b),ru(y),m.resolving=!1,tp()}}return l}function Ch(r,i,o){return!!(o[i+(r>>5)]&1<<r)}function Kl(r,i){return!(r&Pe.Self||r&Pe.Host&&i)}class po{constructor(i,o){this._tNode=i,this._lView=o}get(i,o){return Ku(this._tNode,this._lView,i,void 0,o)}}function Yl(r){return tt(()=>{const i=r.prototype.constructor,o=i[gn]||Ih(i),u=Object.prototype;let l=Object.getPrototypeOf(r.prototype).constructor;for(;l&&l!==u;){const d=l[gn]||Ih(l);if(d&&d!==o)return d;l=Object.getPrototypeOf(l)}return d=>new d})}function Ih(r){return $(r)?()=>{const i=Ih(W(r));return i&&i()}:Ur(r)}function ps(r){return function(r,i){if("class"===i)return r.classes;if("style"===i)return r.styles;const o=r.attrs;if(o){const u=o.length;let l=0;for(;l<u;){const d=o[l];if(qu(d))break;if(0===d)l+=2;else if("number"==typeof d)for(l++;l<u&&"string"==typeof o[l];)l++;else{if(d===i)return o[l+1];l+=2}}}return null}(Nn(),r)}const jo="__parameters__";function ji(r,i,o){return tt(()=>{const u=function(r){return function(...o){if(r){const u=r(...o);for(const l in u)this[l]=u[l]}}}(i);function l(...d){if(this instanceof l)return u.apply(this,d),this;const m=new l(...d);return y.annotation=m,y;function y(b,T,S){const O=b.hasOwnProperty(jo)?b[jo]:Object.defineProperty(b,jo,{value:[]})[jo];for(;O.length<=S;)O.push(null);return(O[S]=O[S]||[]).push(m),b}}return o&&(l.prototype=Object.create(o.prototype)),l.prototype.ngMetadataName=r,l.annotationCls=l,l})}class He{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=_n({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Qu=new He("AnalyzeForEntryComponents"),ec=Function;function $i(r,i){void 0===i&&(i=r);for(let o=0;o<r.length;o++){let u=r[o];Array.isArray(u)?(i===r&&(i=r.slice(0,o)),$i(u,i)):i!==r&&i.push(u)}return i}function xi(r,i){r.forEach(o=>Array.isArray(o)?xi(o,i):i(o))}function Hi(r,i,o){i>=r.length?r.push(o):r.splice(i,0,o)}function qi(r,i){return i>=r.length-1?r.pop():r.splice(i,1)[0]}function I(r,i,o){let u=M(r,i);return u>=0?r[1|u]=o:(u=~u,function(r,i,o,u){let l=r.length;if(l==i)r.push(o,u);else if(1===l)r.push(u,r[0]),r[0]=o;else{for(l--,r.push(r[l-1],r[l]);l>i;)r[l]=r[l-2],l--;r[i]=o,r[i+1]=u}}(r,u,i,o)),u}function A(r,i){const o=M(r,i);if(o>=0)return r[1|o]}function M(r,i){return function(r,i,o){let u=0,l=r.length>>o;for(;l!==u;){const d=u+(l-u>>1),m=r[d<<o];if(i===m)return d<<o;m>i?l=d:u=d+1}return~(l<<o)}(r,i,1)}const Gi={},Ia="__NG_DI_FLAG__",Zi="ngTempTokenPath",Fs=/\n/gm,ad="__source",Mr=j({provide:String,useValue:j});let Ho;function tl(r){const i=Ho;return Ho=r,i}function ud(r,i=Pe.Default){if(void 0===Ho)throw new Error("inject() must be called from an injection context");return null===Ho?$t(r,void 0,i):Ho.get(r,i&Pe.Optional?null:void 0,i)}function ur(r,i=Pe.Default){return(Rt||ud)(W(r),i)}function qo(r){const i=[];for(let o=0;o<r.length;o++){const u=W(r[o]);if(Array.isArray(u)){if(0===u.length)throw new Error("Arguments array must have arguments.");let l,d=Pe.Default;for(let m=0;m<u.length;m++){const y=u[m],b=ld(y);"number"==typeof b?-1===b?l=y.token:d|=b:l=y}i.push(ur(l,d))}else i.push(ur(u))}return i}function nl(r,i){return r[Ia]=i,r.prototype[Ia]=i,r}function ld(r){return r[Ia]}function Sh(r,i,o,u){const l=r[Zi];throw i[ad]&&l.unshift(i[ad]),r.message=function(r,i,o,u=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.substr(2):r;let l=X(i);if(Array.isArray(i))l=i.map(X).join(" -> ");else if("object"==typeof i){let d=[];for(let m in i)if(i.hasOwnProperty(m)){let y=i[m];d.push(m+":"+("string"==typeof y?JSON.stringify(y):X(y)))}l=`{${d.join(", ")}}`}return`${o}${u?"("+u+")":""}[${l}]: ${r.replace(Fs,"\n  ")}`}("\n"+r.message,l,o,u),r.ngTokenPath=l,r[Zi]=null,r}const rl=nl(ji("Inject",r=>({token:r})),-1),Ls=nl(ji("Optional"),8),Da=nl(ji("SkipSelf"),4);let ic;function Ta(r){var i;return(null===(i=function(){if(void 0===ic&&(ic=null,G.trustedTypes))try{ic=G.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return ic}())||void 0===i?void 0:i.createHTML(r))||r}class cu{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class im extends cu{getTypeName(){return"HTML"}}class pp extends cu{getTypeName(){return"Style"}}class sl extends cu{getTypeName(){return"Script"}}class I_ extends cu{getTypeName(){return"URL"}}class sc extends cu{getTypeName(){return"ResourceURL"}}function mo(r){return r instanceof cu?r.changingThisBreaksApplicationSecurity:r}function oc(r,i){const o=Go(r);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===i}function Go(r){return r instanceof cu&&r.getTypeName()||null}function sm(r){return new im(r)}function Mh(r){return new pp(r)}function Oh(r){return new sl(r)}function fd(r){return new I_(r)}function om(r){return new sc(r)}class am{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const o=(new window.DOMParser).parseFromString(Ta(i),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(i):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class pd{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const u=this.inertDocument.createElement("body");o.appendChild(u)}}getInertBodyElement(i){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=Ta(i),o;const u=this.inertDocument.createElement("body");return u.innerHTML=Ta(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(i){const o=i.attributes;for(let l=o.length-1;0<l;l--){const m=o.item(l).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&i.removeAttribute(m)}let u=i.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const um=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,gp=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function du(r){return(r=String(r)).match(um)||r.match(gp)?r:"unsafe:"+r}function Vs(r){const i={};for(const o of r.split(","))i[o]=!0;return i}function Aa(...r){const i={};for(const o of r)for(const u in o)o.hasOwnProperty(u)&&(i[u]=!0);return i}const uc=Vs("area,br,col,hr,img,wbr"),gd=Vs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),lc=Vs("rp,rt"),cc=Aa(uc,Aa(gd,Vs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Aa(lc,Vs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Aa(lc,gd)),dc=Vs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Fh=Vs("srcset"),dm=Aa(dc,Fh,Vs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Vs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),hu=Vs("script,style,template");class hm{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let o=i.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let l=this.checkClobberedElement(o,o.nextSibling);if(l){o=l;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(i){const o=i.nodeName.toLowerCase();if(!cc.hasOwnProperty(o))return this.sanitizedSomething=!0,!hu.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=i.attributes;for(let l=0;l<u.length;l++){const d=u.item(l),m=d.name,y=m.toLowerCase();if(!dm.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let b=d.value;dc[y]&&(b=du(b)),Fh[y]&&(r=b,b=(r=String(r)).split(",").map(i=>du(i.trim())).join(", ")),this.buf.push(" ",m,'="',fu(b),'"')}var r;return this.buf.push(">"),!0}endElement(i){const o=i.nodeName.toLowerCase();cc.hasOwnProperty(o)&&!uc.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(i){this.buf.push(fu(i))}checkClobberedElement(i,o){if(o&&(i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return o}}const md=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,yd=/([^\#-~ |!])/g;function fu(r){return r.replace(/&/g,"&amp;").replace(md,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(yd,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let hc;function fm(r,i){let o=null;try{hc=hc||function(r){const i=new pd(r);return function(){try{return!!(new window.DOMParser).parseFromString(Ta(""),"text/html")}catch(r){return!1}}()?new am(i):i}(r);let u=i?String(i):"";o=hc.getInertBodyElement(u);let l=5,d=u;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,u=d,d=o.innerHTML,o=hc.getInertBodyElement(u)}while(u!==d);return Ta((new hm).sanitizeChildren(fc(o)||o))}finally{if(o){const u=fc(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function fc(r){return"content"in r&&function(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var kn=(()=>((kn=kn||{})[kn.NONE=0]="NONE",kn[kn.HTML=1]="HTML",kn[kn.STYLE=2]="STYLE",kn[kn.SCRIPT=3]="SCRIPT",kn[kn.URL=4]="URL",kn[kn.RESOURCE_URL=5]="RESOURCE_URL",kn))();function _d(r){const i=function(){const r=Oe();return r&&r[12]}();return i?i.sanitize(kn.URL,r)||"":oc(r,"URL")?mo(r):du(Me(r))}const gm="__ngContext__";function ii(r,i){r[gm]=i}function fi(r){const i=function(r){return r[gm]||null}(r);return i?Array.isArray(i)?i:i.lView:null}function x(r){return r.ngOriginalError}function J(r,...i){r.error(...i)}class Ce{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i),u=this._findContext(i),l=(r=i)&&r.ngErrorLogger||J;var r;l(this._console,"ERROR",i),o&&l(this._console,"ORIGINAL ERROR",o),u&&l(this._console,"ERROR CONTEXT",u)}_findContext(i){return i?i.ngDebugContext||this._findContext(x(i)):null}_findOriginalError(i){let o=i&&x(i);for(;o&&x(o);)o=x(o);return o||null}}const Ep=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(G))();function ys(r){return r instanceof Function?r():r}var Sa=(()=>((Sa=Sa||{})[Sa.Important=1]="Important",Sa[Sa.DashCase=2]="DashCase",Sa))();function Ip(r,i){return undefined(r,i)}function bd(r){const i=r[3];return Wt(i)?i[3]:i}function Ap(r){return r0(r[13])}function jh(r){return r0(r[4])}function r0(r){for(;null!==r&&!Wt(r);)r=r[4];return r}function _u(r,i,o,u,l){if(null!=u){let d,m=!1;Wt(u)?d=u:Jr(u)&&(m=!0,u=u[0]);const y=Nt(u);0===r&&null!==o?null==l?c0(i,o,y):Id(i,o,y,l||null,!0):1===r&&null!==o?Id(i,o,y,l||null,!0):2===r?function(r,i,o){const u=Cm(r,i);u&&function(r,i,o,u){wn(r)?r.removeChild(i,o,u):i.removeChild(o)}(r,u,i,o)}(i,y,m):3===r&&i.destroyNode(y),null!=d&&function(r,i,o,u,l){const d=o[7];d!==Nt(o)&&_u(i,r,u,d,l);for(let y=10;y<o.length;y++){const b=o[y];dl(b[1],b,r,i,u,d)}}(i,r,d,o,l)}}function Sp(r,i,o){return wn(r)?r.createElement(i,o):null===o?r.createElement(i):r.createElementNS(o,i)}function L_(r,i){const o=r[9],u=o.indexOf(i),l=i[3];1024&i[2]&&(i[2]&=-1025,Qa(l,-1)),o.splice(u,1)}function bm(r,i){if(r.length<=10)return;const o=10+i,u=r[o];if(u){const l=u[17];null!==l&&l!==r&&L_(l,u),i>0&&(r[o-1][4]=u[4]);const d=qi(r,10+i);!function(r,i){dl(r,i,i[11],2,null,null),i[0]=null,i[6]=null}(u[1],u);const m=d[19];null!==m&&m.detachView(d[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function V_(r,i){if(!(256&i[2])){const o=i[11];wn(o)&&o.destroyNode&&dl(r,i,o,3,null,null),function(r){let i=r[13];if(!i)return $h(r[1],r);for(;i;){let o=null;if(Jr(i))o=i[13];else{const u=i[10];u&&(o=u)}if(!o){for(;i&&!i[4]&&i!==r;)Jr(i)&&$h(i[1],i),i=i[3];null===i&&(i=r),Jr(i)&&$h(i[1],i),o=i&&i[4]}i=o}}(i)}}function $h(r,i){if(!(256&i[2])){i[2]&=-129,i[2]|=256,function(r,i){let o;if(null!=r&&null!=(o=r.destroyHooks))for(let u=0;u<o.length;u+=2){const l=i[o[u]];if(!(l instanceof N)){const d=o[u+1];if(Array.isArray(d))for(let m=0;m<d.length;m+=2){const y=l[d[m]],b=d[m+1];try{b.call(y)}finally{}}else try{d.call(l)}finally{}}}}(r,i),function(r,i){const o=r.cleanup,u=i[7];let l=-1;if(null!==o)for(let d=0;d<o.length-1;d+=2)if("string"==typeof o[d]){const m=o[d+1],y="function"==typeof m?m(i):Nt(i[m]),b=u[l=o[d+2]],T=o[d+3];"boolean"==typeof T?y.removeEventListener(o[d],b,T):T>=0?u[l=T]():u[l=-T].unsubscribe(),d+=2}else{const m=u[l=o[d+1]];o[d].call(m)}if(null!==u){for(let d=l+1;d<u.length;d++)u[d]();i[7]=null}}(r,i),1===i[1].type&&wn(i[11])&&i[11].destroy();const o=i[17];if(null!==o&&Wt(i[3])){o!==i[3]&&L_(o,i);const u=i[19];null!==u&&u.detachView(r)}}}function U_(r,i,o){return function(r,i,o){let u=i;for(;null!==u&&40&u.type;)u=(i=u).parent;if(null===u)return o[0];if(2&u.flags){const l=r.data[u.directiveStart].encapsulation;if(l===Jt.None||l===Jt.Emulated)return null}return Rr(u,o)}(r,i.parent,o)}function Id(r,i,o,u,l){wn(r)?r.insertBefore(i,o,u,l):i.insertBefore(o,u,l)}function c0(r,i,o){wn(r)?r.appendChild(i,o):i.appendChild(o)}function Em(r,i,o,u,l){null!==u?Id(r,i,o,u,l):c0(r,i,o)}function Cm(r,i){return wn(r)?r.parentNode(i):i.parentNode}let f0=function(r,i,o){return 40&r.type?Rr(r,o):null};function cl(r,i,o,u){const l=U_(r,u,i),d=i[11],y=function(r,i,o){return f0(r,i,o)}(u.parent||i[6],u,i);if(null!=l)if(Array.isArray(o))for(let b=0;b<o.length;b++)Em(d,l,o[b],y,!1);else Em(d,l,o,y,!1)}function xa(r,i){if(null!==i){const o=i.type;if(3&o)return Rr(i,r);if(4&o)return B_(-1,r[i.index]);if(8&o){const u=i.child;if(null!==u)return xa(r,u);{const l=r[i.index];return Wt(l)?B_(-1,l):Nt(l)}}if(32&o)return Ip(i,r)()||Nt(r[i.index]);{const u=Dm(r,i);return null!==u?Array.isArray(u)?u[0]:xa(bd(r[16]),u):xa(r,i.next)}}return null}function Dm(r,i){return null!==i?r[16][6].projection[i.projection]:null}function B_(r,i){const o=10+r+1;if(o<i.length){const u=i[o],l=u[1].firstChild;if(null!==l)return xa(u,l)}return i[7]}function Cr(r,i,o,u,l,d,m){for(;null!=o;){const y=u[o.index],b=o.type;if(m&&0===i&&(y&&ii(Nt(y),u),o.flags|=4),64!=(64&o.flags))if(8&b)Cr(r,i,o.child,u,l,d,!1),_u(i,r,l,y,d);else if(32&b){const T=Ip(o,u);let S;for(;S=T();)_u(i,r,l,S,d);_u(i,r,l,y,d)}else 16&b?ut(r,i,u,o,l,d):_u(i,r,l,y,d);o=m?o.projectionNext:o.next}}function dl(r,i,o,u,l,d){Cr(o,u,r.firstChild,i,l,d,!1)}function ut(r,i,o,u,l,d){const m=o[16],b=m[6].projection[u.projection];if(Array.isArray(b))for(let T=0;T<b.length;T++)_u(i,r,l,b[T],d);else Cr(r,i,b,m[3],l,d,!0)}function We(r,i,o){wn(r)?r.setAttribute(i,"style",o):i.style.cssText=o}function Ee(r,i,o){wn(r)?""===o?r.removeAttribute(i,"class"):r.setAttribute(i,"class",o):i.className=o}function Be(r,i,o){let u=r.length;for(;;){const l=r.indexOf(i,o);if(-1===l)return l;if(0===l||r.charCodeAt(l-1)<=32){const d=i.length;if(l+d===u||r.charCodeAt(l+d)<=32)return l}o=l+1}}const $_="ng-template";function HD(r,i,o){let u=0;for(;u<r.length;){let l=r[u++];if(o&&"class"===l){if(l=r[u],-1!==Be(l.toLowerCase(),i,0))return!0}else if(1===l){for(;u<r.length&&"string"==typeof(l=r[u++]);)if(l.toLowerCase()===i)return!0;return!1}}return!1}function p0(r){return 4===r.type&&r.value!==$_}function qD(r,i,o){return i===(4!==r.type||o?r.value:$_)}function GD(r,i,o){let u=4;const l=r.attrs||[],d=function(r){for(let i=0;i<r.length;i++)if(qu(r[i]))return i;return r.length}(l);let m=!1;for(let y=0;y<i.length;y++){const b=i[y];if("number"!=typeof b){if(!m)if(4&u){if(u=2|1&u,""!==b&&!qD(r,b,o)||""===b&&1===i.length){if(Ra(u))return!1;m=!0}}else{const T=8&u?b:i[++y];if(8&u&&null!==r.attrs){if(!HD(r.attrs,T,o)){if(Ra(u))return!1;m=!0}continue}const O=_o(8&u?"class":b,l,p0(r),o);if(-1===O){if(Ra(u))return!1;m=!0;continue}if(""!==T){let F;F=O>d?"":l[O+1].toLowerCase();const q=8&u?F:null;if(q&&-1!==Be(q,T,0)||2&u&&T!==F){if(Ra(u))return!1;m=!0}}}}else{if(!m&&!Ra(u)&&!Ra(b))return!1;if(m&&Ra(b))continue;m=!1,u=b|1&u}}return Ra(u)||m}function Ra(r){return 0==(1&r)}function _o(r,i,o,u){if(null===i)return-1;let l=0;if(u||!o){let d=!1;for(;l<i.length;){const m=i[l];if(m===r)return l;if(3===m||6===m)d=!0;else{if(1===m||2===m){let y=i[++l];for(;"string"==typeof y;)y=i[++l];continue}if(4===m)break;if(0===m){l+=4;continue}}l+=d?1:2}return-1}return function(r,i){let o=r.indexOf(4);if(o>-1)for(o++;o<r.length;){const u=r[o];if("number"==typeof u)return-1;if(u===i)return o;o++}return-1}(i,r)}function g0(r,i,o=!1){for(let u=0;u<i.length;u++)if(GD(r,i[u],o))return!0;return!1}function si(r,i){return r?":not("+i.trim()+")":i}function Lt(r){let i=r[0],o=1,u=2,l="",d=!1;for(;o<r.length;){let m=r[o];if("string"==typeof m)if(2&u){const y=r[++o];l+="["+m+(y.length>0?'="'+y+'"':"")+"]"}else 8&u?l+="."+m:4&u&&(l+=" "+m);else""!==l&&!Ra(m)&&(i+=si(d,l),l=""),u=m,d=d||!Ra(u);o++}return""!==l&&(i+=si(d,l)),i}const Mt={};function qh(r){dn(kt(),Oe(),ei()+r,Lo())}function dn(r,i,o,u){if(!u)if(3==(3&i[2])){const d=r.preOrderCheckHooks;null!==d&&fo(i,d,o)}else{const d=r.preOrderHooks;null!==d&&wa(i,d,0,o)}Vi(o)}function Tm(r,i){return r<<17|i<<2}function Un(r){return r>>17&32767}function Hr(r){return 2|r}function hl(r){return(131068&r)>>2}function vu(r,i){return-131069&r|i<<2}function vc(r){return 1|r}function xd(r,i){const o=r.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const l=o[u],d=o[u+1];if(-1!==d){const m=r.data[d];Bu(l),m.contentQueries(2,i[d],d)}}}function Wh(r,i,o,u,l,d,m,y,b,T){const S=i.blueprint.slice();return S[0]=l,S[2]=140|u,ko(S),S[3]=S[15]=r,S[8]=o,S[10]=m||r&&r[10],S[11]=y||r&&r[11],S[12]=b||r&&r[12]||null,S[9]=T||r&&r[9]||null,S[6]=d,S[16]=2==i.type?r[16]:S,S}function Us(r,i,o,u,l){let d=r.data[i];if(null===d)d=function(r,i,o,u,l){const d=Ul(),m=lo(),b=r.data[i]=function(r,i,o,u,l,d){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?d:d&&d.parent,o,i,u,l);return null===r.firstChild&&(r.firstChild=b),null!==d&&(m?null==d.child&&null!==b.parent&&(d.child=b):null===d.next&&(d.next=b)),b}(r,i,o,u,l),at.lFrame.inI18n&&(d.flags|=64);else if(64&d.type){d.type=o,d.value=u,d.attrs=l;const m=function(){const r=at.lFrame,i=r.currentTNode;return r.isParent?i:i.parent}();d.injectorIndex=null===m?-1:m.injectorIndex}return di(d,!0),d}function Ma(r,i,o,u){if(0===o)return-1;const l=i.length;for(let d=0;d<o;d++)i.push(u),r.blueprint.push(u),r.data.push(null);return l}function bc(r,i,o){ho(i);try{const u=r.viewQuery;null!==u&&rv(1,u,o);const l=r.template;null!==l&&Om(r,i,l,1,o),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&xd(r,i),r.staticViewQueries&&rv(2,r.viewQuery,o);const d=r.components;null!==d&&function(r,i){for(let o=0;o<i.length;o++)nn(r,i[o])}(i,d)}catch(u){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),u}finally{i[2]&=-5,Qc()}}function fl(r,i,o,u){const l=i[2];if(256==(256&l))return;ho(i);const d=Lo();try{ko(i),function(r){at.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==o&&Om(r,i,o,2,u);const m=3==(3&l);if(!d)if(m){const T=r.preOrderCheckHooks;null!==T&&fo(i,T,null)}else{const T=r.preOrderHooks;null!==T&&wa(i,T,0,null),hi(i,0)}if(function(r){for(let i=Ap(r);null!==i;i=jh(i)){if(!i[2])continue;const o=i[9];for(let u=0;u<o.length;u++){const l=o[u],d=l[3];0==(1024&l[2])&&Qa(d,1),l[2]|=1024}}}(i),function(r){for(let i=Ap(r);null!==i;i=jh(i))for(let o=10;o<i.length;o++){const u=i[o],l=u[1];Po(u)&&fl(l,u,l.template,u[8])}}(i),null!==r.contentQueries&&xd(r,i),!d)if(m){const T=r.contentCheckHooks;null!==T&&fo(i,T)}else{const T=r.contentHooks;null!==T&&wa(i,T,1),hi(i,1)}!function(r,i){const o=r.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const l=o[u];if(l<0)Vi(~l);else{const d=l,m=o[++u],y=o[++u];eu(m,d),y(2,i[d])}}}finally{Vi(-1)}}(r,i);const y=r.components;null!==y&&function(r,i){for(let o=0;o<i.length;o++)rT(r,i[o])}(i,y);const b=r.viewQuery;if(null!==b&&rv(2,b,u),!d)if(m){const T=r.viewCheckHooks;null!==T&&fo(i,T)}else{const T=r.viewHooks;null!==T&&wa(i,T,2),hi(i,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),d||(i[2]&=-73),1024&i[2]&&(i[2]&=-1025,Qa(i[3],-1))}finally{Qc()}}function W_(r,i,o,u){const l=i[10],d=!Lo(),m=oo(i);try{d&&!m&&l.begin&&l.begin(),m&&bc(r,i,u),fl(r,i,o,u)}finally{d&&!m&&l.end&&l.end()}}function Om(r,i,o,u,l){const d=ei(),m=2&u;try{Vi(-1),m&&i.length>20&&dn(r,i,20,Lo()),o(u,l)}finally{Vi(d)}}function Ec(r,i,o){!Uu()||(function(r,i,o,u){const l=o.directiveStart,d=o.directiveEnd;r.firstCreatePass||yr(o,i),ii(u,i);const m=o.initialInputs;for(let y=l;y<d;y++){const b=r.data[y],T=gr(b);T&&F0(i,o,b);const S=Tt(i,r,y,o);ii(S,i),null!==m&&Dc(0,y-l,S,b,0,m),T&&(or(o.index,i)[8]=S)}}(r,i,o,Rr(o,i)),128==(128&o.flags)&&function(r,i,o){const u=o.directiveStart,l=o.directiveEnd,m=o.index,y=at.lFrame.currentDirectiveIndex;try{Vi(m);for(let b=u;b<l;b++){const T=r.data[b],S=i[b];Vo(b),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&P0(T,S)}}finally{Vi(-1),Vo(y)}}(r,i,o))}function Bs(r,i,o=Rr){const u=i.localNames;if(null!==u){let l=i.index+1;for(let d=0;d<u.length;d+=2){const m=u[d+1],y=-1===m?o(i,r):r[m];r[l++]=y}}}function K_(r){const i=r.tView;return null===i||i.incompleteFirstPass?r.tView=Cc(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):i}function Cc(r,i,o,u,l,d,m,y,b,T){const S=20+u,O=S+l,F=function(r,i){const o=[];for(let u=0;u<i;u++)o.push(u<r?null:Mt);return o}(S,O),q="function"==typeof T?T():T;return F[1]={type:r,blueprint:F,template:o,queries:null,viewQuery:y,declTNode:i,data:F.slice().fill(null,S),bindingStartIndex:S,expandoStartIndex:O,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:b,consts:q,incompleteFirstPass:!1}}function S0(r,i,o,u){const l=iv(i);null===o?l.push(u):(l.push(o),r.firstCreatePass&&B0(r).push(u,l.length-1))}function Q_(r,i,o){for(let u in r)if(r.hasOwnProperty(u)){const l=r[u];(o=null===o?{}:o).hasOwnProperty(u)?o[u].push(i,l):o[u]=[i,l]}return o}function vo(r,i,o,u,l,d,m,y){const b=Rr(i,o);let S,T=i.inputs;!y&&null!=T&&(S=T[u])?(Up(r,o,S,u,l),Ga(i)&&function(r,i){const o=or(i,r);16&o[2]||(o[2]|=64)}(o,i.index)):3&i.type&&(u=function(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(u),l=null!=m?m(l,i.value||"",u):l,wn(d)?d.setProperty(b,u,l):Gl(u)||(b.setProperty?b.setProperty(u,l):b[u]=l))}function Ic(r,i,o,u){let l=!1;if(Uu()){const d=function(r,i,o){const u=r.directiveRegistry;let l=null;if(u)for(let d=0;d<u.length;d++){const m=u[d];g0(o,m.selectors,!1)&&(l||(l=[]),fs(yr(o,i),r,m.type),gr(m)?(Fp(r,o),l.unshift(m)):l.push(m))}return l}(r,i,o),m=null===u?null:{"":-1};if(null!==d){l=!0,Um(o,r.data.length,d.length);for(let S=0;S<d.length;S++){const O=d[S];O.providersResolver&&O.providersResolver(O)}let y=!1,b=!1,T=Ma(r,i,d.length,null);for(let S=0;S<d.length;S++){const O=d[S];o.mergedAttrs=Gu(o.mergedAttrs,O.hostAttrs),k0(r,o,i,T,O),tT(T,O,m),null!==O.contentQueries&&(o.flags|=8),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(o.flags|=128);const F=O.type.prototype;!y&&(F.ngOnChanges||F.ngOnInit||F.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(o.index),y=!0),!b&&(F.ngOnChanges||F.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(o.index),b=!0),T++}!function(r,i){const u=i.directiveEnd,l=r.data,d=i.attrs,m=[];let y=null,b=null;for(let T=i.directiveStart;T<u;T++){const S=l[T],O=S.inputs,F=null===d||p0(i)?null:L0(O,d);m.push(F),y=Q_(O,T,y),b=Q_(S.outputs,T,b)}null!==y&&(y.hasOwnProperty("class")&&(i.flags|=16),y.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=m,i.inputs=y,i.outputs=b}(r,o)}m&&function(r,i,o){if(i){const u=r.localNames=[];for(let l=0;l<i.length;l+=2){const d=o[i[l+1]];if(null==d)throw new de("301",`Export of name '${i[l+1]}' not found!`);u.push(i[l],d)}}}(o,u,m)}return o.mergedAttrs=Gu(o.mergedAttrs,o.attrs),l}function X_(r,i,o,u,l,d){const m=d.hostBindings;if(m){let y=r.hostBindingOpCodes;null===y&&(y=r.hostBindingOpCodes=[]);const b=~i.index;(function(r){let i=r.length;for(;i>0;){const o=r[--i];if("number"==typeof o&&o<0)return o}return 0})(y)!=b&&y.push(b),y.push(u,l,m)}}function P0(r,i){null!==r.hostBindings&&r.hostBindings(1,i)}function Fp(r,i){i.flags|=2,(r.components||(r.components=[])).push(i.index)}function tT(r,i,o){if(o){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)o[i.exportAs[u]]=r;gr(i)&&(o[""]=r)}}function Um(r,i,o){r.flags|=1,r.directiveStart=i,r.directiveEnd=i+o,r.providerIndexes=i}function k0(r,i,o,u,l){r.data[u]=l;const d=l.factory||(l.factory=Ur(l.type)),m=new N(d,gr(l),null);r.blueprint[u]=m,o[u]=m,X_(r,i,0,u,Ma(r,o,l.hostVars,Mt),l)}function F0(r,i,o){const u=Rr(i,r),l=K_(o),d=r[10],m=Vp(r,Wh(r,l,null,o.onPush?64:16,u,i,d,d.createRenderer(u,o),null,null));r[i.index]=m}function Oa(r,i,o,u,l,d){const m=Rr(r,i);!function(r,i,o,u,l,d,m){if(null==d)wn(r)?r.removeAttribute(i,l,o):i.removeAttribute(l);else{const y=null==m?Me(d):m(d,u||"",l);wn(r)?r.setAttribute(i,l,y,o):o?i.setAttributeNS(o,l,y):i.setAttribute(l,y)}}(i[11],m,d,r.value,o,u,l)}function Dc(r,i,o,u,l,d){const m=d[i];if(null!==m){const y=u.setInput;for(let b=0;b<m.length;){const T=m[b++],S=m[b++],O=m[b++];null!==y?u.setInput(o,O,T,S):o[S]=O}}}function L0(r,i){let o=null,u=0;for(;u<i.length;){const l=i[u];if(0!==l)if(5!==l){if("number"==typeof l)break;r.hasOwnProperty(l)&&(null===o&&(o=[]),o.push(l,r[l],i[u+1])),u+=2}else u+=2;else u+=4}return o}function ev(r,i,o,u){return new Array(r,!0,!1,i,null,0,u,o,null,null)}function rT(r,i){const o=or(i,r);if(Po(o)){const u=o[1];80&o[2]?fl(u,o,u.template,o[8]):o[5]>0&&Ir(o)}}function Ir(r){for(let u=Ap(r);null!==u;u=jh(u))for(let l=10;l<u.length;l++){const d=u[l];if(1024&d[2]){const m=d[1];fl(m,d,m.template,d[8])}else d[5]>0&&Ir(d)}const o=r[1].components;if(null!==o)for(let u=0;u<o.length;u++){const l=or(o[u],r);Po(l)&&l[5]>0&&Ir(l)}}function nn(r,i){const o=or(i,r),u=o[1];(function(r,i){for(let o=i.length;o<r.blueprint.length;o++)i.push(r.blueprint[o])})(u,o),bc(u,o,o[8])}function Vp(r,i){return r[13]?r[14][4]=i:r[13]=i,r[14]=i,i}function Pr(r){for(;r;){r[2]|=64;const i=bd(r);if(Fu(r)&&!i)return r;r=i}return null}function tr(r,i,o){const u=i[10];u.begin&&u.begin();try{fl(r,i,r.template,o)}catch(l){throw j0(i,l),l}finally{u.end&&u.end()}}function nv(r){!function(r){for(let i=0;i<r.components.length;i++){const o=r.components[i],u=fi(o),l=u[1];W_(l,u,l.template,o)}}(r[8])}function rv(r,i,o){Bu(0),i(r,o)}const sT=(()=>Promise.resolve(null))();function iv(r){return r[7]||(r[7]=[])}function B0(r){return r.cleanup||(r.cleanup=[])}function j0(r,i){const o=r[9],u=o?o.get(Ce,null):null;u&&u.handleError(i)}function Up(r,i,o,u,l){for(let d=0;d<o.length;){const m=o[d++],y=o[d++],b=i[m],T=r.data[m];null!==T.setInput?T.setInput(b,l,u,y):b[y]=l}}function Tc(r,i,o){let u=o?r.styles:null,l=o?r.classes:null,d=0;if(null!==i)for(let m=0;m<i.length;m++){const y=i[m];"number"==typeof y?d=y:1==d?l=ue(l,y):2==d&&(u=ue(u,y+": "+i[++m]+";"))}o?r.styles=u:r.stylesWithoutHost=u,o?r.classes=l:r.classesWithoutHost=l}const Nd=new He("INJECTOR",-1);class H0{get(i,o=Gi){if(o===Gi){const u=new Error(`NullInjectorError: No provider for ${X(i)}!`);throw u.name="NullInjectorError",u}return o}}const Qh=new He("Set Injector scope."),Jh={},aT={};let sv;function q0(){return void 0===sv&&(sv=new H0),sv}function ov(r,i=null,o=null,u){return new uT(r,o,i||q0(),u)}class uT{constructor(i,o,u,l=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const d=[];o&&xi(o,y=>this.processProvider(y,i,o)),xi([i],y=>this.processInjectorType(y,[],d)),this.records.set(Nd,bs(void 0,this));const m=this.records.get(Qh);this.scope=null!=m?m.value:null,this.source=l||("object"==typeof i?null:X(i))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(i=>i.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(i,o=Gi,u=Pe.Default){this.assertNotDestroyed();const l=tl(this),d=vn(void 0);try{if(!(u&Pe.SkipSelf)){let y=this.records.get(i);if(void 0===y){const b=("function"==typeof(r=i)||"object"==typeof r&&r instanceof He)&&Sr(i);y=b&&this.injectableDefInScope(b)?bs(Gr(i),Jh):null,this.records.set(i,y)}if(null!=y)return this.hydrate(i,y)}return(u&Pe.Self?q0():this.parent).get(i,o=u&Pe.Optional&&o===Gi?null:o)}catch(m){if("NullInjectorError"===m.name){if((m[Zi]=m[Zi]||[]).unshift(X(i)),l)throw m;return Sh(m,i,"R3InjectorError",this.source)}throw m}finally{vn(d),tl(l)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(i=>this.get(i))}toString(){const i=[];return this.records.forEach((u,l)=>i.push(X(l))),`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(i,o,u){if(!(i=W(i)))return!1;let l=Ln(i);const d=null==l&&i.ngModule||void 0,m=void 0===d?i:d,y=-1!==u.indexOf(m);if(void 0!==d&&(l=Ln(d)),null==l)return!1;if(null!=l.imports&&!y){let S;u.push(m);try{xi(l.imports,O=>{this.processInjectorType(O,o,u)&&(void 0===S&&(S=[]),S.push(O))})}finally{}if(void 0!==S)for(let O=0;O<S.length;O++){const{ngModule:F,providers:q}=S[O];xi(q,Y=>this.processProvider(Y,F,q||Ge))}}this.injectorDefTypes.add(m);const b=Ur(m)||(()=>new m);this.records.set(m,bs(b,Jh));const T=l.providers;if(null!=T&&!y){const S=i;xi(T,O=>this.processProvider(O,S,T))}return void 0!==d&&void 0!==i.providers}processProvider(i,o,u){let l=Md(i=W(i))?i:W(i&&i.provide);const d=$m(r=i)?bs(void 0,r.useValue):bs(Xh(r),Jh);var r;if(Md(i)||!0!==i.multi)this.records.get(l);else{let m=this.records.get(l);m||(m=bs(void 0,Jh,!0),m.factory=()=>qo(m.multi),this.records.set(l,m)),l=i,m.multi.push(i)}this.records.set(l,d)}hydrate(i,o){return o.value===Jh&&(o.value=aT,o.value=o.factory()),"object"==typeof o.value&&o.value&&null!==(r=o.value)&&"object"==typeof r&&"function"==typeof r.ngOnDestroy&&this.onDestroy.add(o.value),o.value;var r}injectableDefInScope(i){if(!i.providedIn)return!1;const o=W(i.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function Gr(r){const i=Sr(r),o=null!==i?i.factory:Ur(r);if(null!==o)return o;if(r instanceof He)throw new Error(`Token ${X(r)} is missing a \u0275prov definition.`);if(r instanceof Function)return function(r){const i=r.length;if(i>0){const u=function(r,i){const o=[];for(let u=0;u<r;u++)o.push(i);return o}(i,"?");throw new Error(`Can't resolve all parameters for ${X(r)}: (${u.join(", ")}).`)}const o=function(r){const i=r&&(r[hn]||r[Rn]);if(i){const o=function(r){if(r.hasOwnProperty("name"))return r.name;const i=(""+r).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),i}return null}(r);return null!==o?()=>o.factory(r):()=>new r}(r);throw new Error("unreachable")}function Xh(r,i,o){let u;if(Md(r)){const l=W(r);return Ur(l)||Gr(l)}if($m(r))u=()=>W(r.useValue);else if(function(r){return!(!r||!r.useFactory)}(r))u=()=>r.useFactory(...qo(r.deps||[]));else if(function(r){return!(!r||!r.useExisting)}(r))u=()=>ur(W(r.useExisting));else{const l=W(r&&(r.useClass||r.provide));if(!function(r){return!!r.deps}(r))return Ur(l)||Gr(l);u=()=>new l(...qo(r.deps))}return u}function bs(r,i,o=!1){return{factory:r,value:i,multi:o?[]:void 0}}function $m(r){return null!==r&&"object"==typeof r&&Mr in r}function Md(r){return"function"==typeof r}const Y0=function(r,i,o){return function(r,i=null,o=null,u){const l=ov(r,i,o,u);return l._resolveInjectorDefTypes(),l}({name:o},i,r,o)};let Zn=(()=>{class r{static create(o,u){return Array.isArray(o)?Y0(o,u,""):Y0(o.providers,o.parent,o.name||"")}}return r.THROW_IF_NOT_FOUND=Gi,r.NULL=new H0,r.\u0275prov=_n({token:r,providedIn:"any",factory:()=>ur(Nd)}),r.__NG_ELEMENT_ID__=-1,r})();function _T(r,i){Ps(fi(r)[1],Nn())}function $p(r){let i=function(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),o=!0;const u=[r];for(;i;){let l;if(gr(r))l=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Error("Directives cannot inherit Components");l=i.\u0275dir}if(l){if(o){u.push(l);const m=r;m.inputs=Wi(r.inputs),m.declaredInputs=Wi(r.declaredInputs),m.outputs=Wi(r.outputs);const y=l.hostBindings;y&&xc(r,y);const b=l.viewQuery,T=l.contentQueries;if(b&&fv(r,b),T&&pv(r,T),ee(r.inputs,l.inputs),ee(r.declaredInputs,l.declaredInputs),ee(r.outputs,l.outputs),gr(l)&&l.data.animation){const S=r.data;S.animation=(S.animation||[]).concat(l.data.animation)}}const d=l.features;if(d)for(let m=0;m<d.length;m++){const y=d[m];y&&y.ngInherit&&y(r),y===$p&&(o=!1)}}i=Object.getPrototypeOf(i)}!function(r){let i=0,o=null;for(let u=r.length-1;u>=0;u--){const l=r[u];l.hostVars=i+=l.hostVars,l.hostAttrs=Gu(l.hostAttrs,o=Gu(o,l.hostAttrs))}}(u)}function Wi(r){return r===Qe?{}:r===Ge?[]:r}function fv(r,i){const o=r.viewQuery;r.viewQuery=o?(u,l)=>{i(u,l),o(u,l)}:i}function pv(r,i){const o=r.contentQueries;r.contentQueries=o?(u,l,d)=>{i(u,l,d),o(u,l,d)}:i}function xc(r,i){const o=r.hostBindings;r.hostBindings=o?(u,l)=>{i(u,l),o(u,l)}:i}let sf=null;function Fd(){if(!sf){const r=G.Symbol;if(r&&r.iterator)sf=r.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<i.length;++o){const u=i[o];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(sf=u)}}}return sf}function Cu(r){return!!qp(r)&&(Array.isArray(r)||!(r instanceof Map)&&Fd()in r)}function qp(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Mi(r,i,o){return!Object.is(r[i],o)&&(r[i]=o,!0)}function Zm(r,i,o,u){const l=Oe();return Mi(l,Ai(),i)&&(kt(),Oa(bn(),l,r,i,o,u)),Zm}function cE(r,i,o,u,l,d,m,y){const b=Oe(),T=kt(),S=r+20,O=T.firstCreatePass?function(r,i,o,u,l,d,m,y,b){const T=i.consts,S=Us(i,r,4,m||null,Os(T,y));Ic(i,o,S,Os(T,b)),Ps(i,S);const O=S.tViews=Cc(2,S,u,l,d,i.directiveRegistry,i.pipeRegistry,null,i.schemas,T);return null!==i.queries&&(i.queries.template(i,S),O.queries=i.queries.embeddedTView(S)),S}(S,T,b,i,o,u,l,d,m):T.data[S];di(O,!1);const F=b[11].createComment("");cl(T,b,F,O),ii(F,b),Vp(b,b[S]=ev(F,b,F,O)),Xr(O)&&Ec(T,b,O),null!=m&&Bs(b,O,y)}function Gd(r,i=Pe.Default){const o=Oe();return null===o?ur(r,i):Ku(Nn(),o,W(r),i)}function Zd(r,i,o){const u=Oe();return Mi(u,Ai(),i)&&vo(kt(),bn(),u,r,i,u[11],o,!1),Zd}function df(r,i,o,u,l){const m=l?"class":"style";Up(r,o,i.inputs[m],m,u)}function Wp(r,i,o,u){const l=Oe(),d=kt(),m=20+r,y=l[11],b=l[m]=Sp(y,i,at.lFrame.currentNamespace),T=d.firstCreatePass?function(r,i,o,u,l,d,m){const y=i.consts,T=Us(i,r,2,l,Os(y,d));return Ic(i,o,T,Os(y,m)),null!==T.attrs&&Tc(T,T.attrs,!1),null!==T.mergedAttrs&&Tc(T,T.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,T),T}(m,d,l,0,i,o,u):d.data[m];di(T,!0);const S=T.mergedAttrs;null!==S&&On(y,b,S);const O=T.classes;null!==O&&Ee(y,b,O);const F=T.styles;null!==F&&We(y,b,F),64!=(64&T.flags)&&cl(d,l,b,T),0===at.lFrame.elementDepthCount&&ii(b,l),at.lFrame.elementDepthCount++,Xr(T)&&(Ec(d,l,T),function(r,i,o){if(Js(i)){const l=i.directiveEnd;for(let d=i.directiveStart;d<l;d++){const m=r.data[d];m.contentQueries&&m.contentQueries(1,o[d],d)}}}(d,T,l)),null!==u&&Bs(l,T)}function Kp(){let r=Nn();lo()?at.lFrame.isParent=!1:(r=r.parent,di(r,!1));const i=r;at.lFrame.elementDepthCount--;const o=kt();o.firstCreatePass&&(Ps(o,r),Js(r)&&o.queries.elementEnd(r)),null!=i.classesWithoutHost&&function(r){return 0!=(16&r.flags)}(i)&&df(o,i,Oe(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function(r){return 0!=(32&r.flags)}(i)&&df(o,i,Oe(),i.stylesWithoutHost,!1)}function Av(r,i,o,u){Wp(r,i,o,u),Kp()}function hf(r){return!!r&&"function"==typeof r.then}function ff(r){return!!r&&"function"==typeof r.subscribe}const Yp=ff;function ey(r,i,o,u){const l=Oe(),d=kt(),m=Nn();return function(r,i,o,u,l,d,m,y){const b=Xr(u),S=r.firstCreatePass&&B0(r),O=i[8],F=iv(i);let q=!0;if(3&u.type||y){const se=Rr(u,i),$e=y?y(se):se,Re=F.length,lt=y?_t=>y(Nt(_t[u.index])):u.index;if(wn(o)){let _t=null;if(!y&&b&&(_t=function(r,i,o,u){const l=r.cleanup;if(null!=l)for(let d=0;d<l.length-1;d+=2){const m=l[d];if(m===o&&l[d+1]===u){const y=i[7],b=l[d+2];return y.length>b?y[b]:null}"string"==typeof m&&(d+=2)}return null}(r,i,l,u.index)),null!==_t)(_t.__ngLastListenerFn__||_t).__ngNextListenerFn__=d,_t.__ngLastListenerFn__=d,q=!1;else{d=Sv(u,i,O,d,!1);const Gt=o.listen($e,l,d);F.push(d,Gt),S&&S.push(l,lt,Re,Re+1)}}else d=Sv(u,i,O,d,!0),$e.addEventListener(l,d,m),F.push(d),S&&S.push(l,lt,Re,m)}else d=Sv(u,i,O,d,!1);const Y=u.outputs;let me;if(q&&null!==Y&&(me=Y[l])){const se=me.length;if(se)for(let $e=0;$e<se;$e+=2){const zr=i[me[$e]][me[$e+1]].subscribe(d),zs=F.length;F.push(d,zr),S&&S.push(l,u.index,zs,-(zs+1))}}}(d,l,l[11],m,r,i,!!o,u),ey}function ME(r,i,o,u){try{return!1!==o(u)}catch(l){return j0(r,l),!1}}function Sv(r,i,o,u,l){return function d(m){if(m===Function)return u;const y=2&r.flags?or(r.index,i):i;0==(32&i[2])&&Pr(y);let b=ME(i,0,u,m),T=d.__ngNextListenerFn__;for(;T;)b=ME(i,0,T,m)&&b,T=T.__ngNextListenerFn__;return l&&!1===b&&(m.preventDefault(),m.returnValue=!1),b}}function sy(r,i,o,u,l){const d=r[o+1],m=null===i;let y=u?Un(d):hl(d),b=!1;for(;0!==y&&(!1===b||m);){const S=r[y+1];oy(r[y],i)&&(b=!0,r[y+1]=u?vc(S):Hr(S)),y=u?Un(S):hl(S)}b&&(r[o+1]=u?Hr(d):vc(d))}function oy(r,i){return null===r||null==i||(Array.isArray(r)?r[1]:r)===i||!(!Array.isArray(r)||"string"!=typeof i)&&M(r,i)>=0}function Xp(r,i){return function(r,i,o,u){const l=Oe(),d=kt(),m=function(r){const i=at.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+r,o}(2);d.firstUpdatePass&&function(r,i,o,u){const l=r.data;if(null===l[o+1]){const d=l[ei()],m=function(r,i){return i>=r.expandoStartIndex}(r,o);(function(r,i){return 0!=(r.flags&(i?16:32))})(d,u)&&null===i&&!m&&(i=!1),i=function(r,i,o,u){const l=function(r){const i=at.lFrame.currentDirectiveIndex;return-1===i?null:r[i]}(r);let d=u?i.residualClasses:i.residualStyles;if(null===l)0===(u?i.classBindings:i.styleBindings)&&(o=Kd(o=eg(null,r,i,o,u),i.attrs,u),d=null);else{const m=i.directiveStylingLast;if(-1===m||r[m]!==l)if(o=eg(l,r,i,o,u),null===d){let b=function(r,i,o){const u=o?i.classBindings:i.styleBindings;if(0!==hl(u))return r[Un(u)]}(r,i,u);void 0!==b&&Array.isArray(b)&&(b=eg(null,r,i,b[1],u),b=Kd(b,i.attrs,u),function(r,i,o,u){r[Un(o?i.classBindings:i.styleBindings)]=u}(r,i,u,b))}else d=function(r,i,o){let u;const l=i.directiveEnd;for(let d=1+i.directiveStylingLast;d<l;d++)u=Kd(u,r[d].hostAttrs,o);return Kd(u,i.attrs,o)}(r,i,u)}return void 0!==d&&(u?i.residualClasses=d:i.residualStyles=d),o}(l,d,i,u),function(r,i,o,u,l,d){let m=d?i.classBindings:i.styleBindings,y=Un(m),b=hl(m);r[u]=o;let S,T=!1;if(Array.isArray(o)){const O=o;S=O[1],(null===S||M(O,S)>0)&&(T=!0)}else S=o;if(l)if(0!==b){const F=Un(r[y+1]);r[u+1]=Tm(F,y),0!==F&&(r[F+1]=vu(r[F+1],u)),r[y+1]=function(r,i){return 131071&r|i<<17}(r[y+1],u)}else r[u+1]=Tm(y,0),0!==y&&(r[y+1]=vu(r[y+1],u)),y=u;else r[u+1]=Tm(b,0),0===y?y=u:r[b+1]=vu(r[b+1],u),b=u;T&&(r[u+1]=Hr(r[u+1])),sy(r,S,u,!0),sy(r,S,u,!1),function(r,i,o,u,l){const d=l?r.residualClasses:r.residualStyles;null!=d&&"string"==typeof i&&M(d,i)>=0&&(o[u+1]=vc(o[u+1]))}(i,S,r,u,d),m=Tm(y,b),d?i.classBindings=m:i.styleBindings=m}(l,d,i,o,m,u)}}(d,r,m,u),i!==Mt&&Mi(l,m,i)&&function(r,i,o,u,l,d,m,y){if(!(3&i.type))return;const b=r.data,T=b[y+1];tg(function(r){return 1==(1&r)}(T)?FE(b,i,o,l,hl(T),m):void 0)||(tg(d)||function(r){return 2==(2&r)}(T)&&(d=FE(b,null,o,l,y,m)),function(r,i,o,u,l){const d=wn(r);if(i)l?d?r.addClass(o,u):o.classList.add(u):d?r.removeClass(o,u):o.classList.remove(u);else{let m=-1===u.indexOf("-")?void 0:Sa.DashCase;if(null==l)d?r.removeStyle(o,u,m):o.style.removeProperty(u);else{const y="string"==typeof l&&l.endsWith("!important");y&&(l=l.slice(0,-10),m|=Sa.Important),d?r.setStyle(o,u,l,m):o.style.setProperty(u,l,y?"important":"")}}}(u,m,function(r,i){return Nt(i[r])}(ei(),o),l,d))}(d,d.data[ei()],l,l[11],r,l[m+1]=function(r,i){return null==r||("string"==typeof i?r+=i:"object"==typeof r&&(r=X(mo(r)))),r}(i,o),u,m)}(r,i,null,!0),Xp}function eg(r,i,o,u,l){let d=null;const m=o.directiveEnd;let y=o.directiveStylingLast;for(-1===y?y=o.directiveStart:y++;y<m&&(d=i[y],u=Kd(u,d.hostAttrs,l),d!==r);)y++;return null!==r&&(o.directiveStylingLast=y),u}function Kd(r,i,o){const u=o?1:2;let l=-1;if(null!==i)for(let d=0;d<i.length;d++){const m=i[d];"number"==typeof m?l=m:l===u&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),I(r,m,!!o||i[++d]))}return void 0===r?null:r}function FE(r,i,o,u,l,d){const m=null===i;let y;for(;l>0;){const b=r[l],T=Array.isArray(b),S=T?b[1]:b,O=null===S;let F=o[l+1];F===Mt&&(F=O?Ge:void 0);let q=O?A(F,u):S===u?F:void 0;if(T&&!tg(q)&&(q=A(b,u)),tg(q)&&(y=q,m))return y;const Y=r[l+1];l=m?Un(Y):hl(Y)}if(null!==i){let b=d?i.residualClasses:i.residualStyles;null!=b&&(y=A(b,u))}return y}function tg(r){return void 0!==r}function qv(r,i=""){const o=Oe(),u=kt(),l=r+20,d=u.firstCreatePass?Us(u,l,1,i,null):u.data[l],m=o[l]=function(r,i){return wn(r)?r.createText(i):r.createTextNode(i)}(o[11],i);cl(u,o,m,d),di(d,!1)}function ng(r,i,o){const u=Oe();return Mi(u,Ai(),i)&&vo(kt(),bn(),u,r,i,u[11],o,!0),ng}const _l=void 0;var tw=["en",[["a","p"],["AM","PM"],_l],[["AM","PM"],_l,_l],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],_l,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],_l,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",_l,"{1} 'at' {0}",_l],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(r){const i=Math.floor(Math.abs(r)),o=r.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===o?1:5}];let vf={};function vy(r){const i=function(r){return r.toLowerCase().replace(/_/g,"-")}(r);let o=JE(i);if(o)return o;const u=i.split("-")[0];if(o=JE(u),o)return o;if("en"===u)return tw;throw new Error(`Missing locale data for the locale "${r}".`)}function nw(r){return vy(r)[pt.PluralCase]}function JE(r){return r in vf||(vf[r]=G.ng&&G.ng.common&&G.ng.common.locales&&G.ng.common.locales[r]),vf[r]}var pt=(()=>((pt=pt||{})[pt.LocaleId=0]="LocaleId",pt[pt.DayPeriodsFormat=1]="DayPeriodsFormat",pt[pt.DayPeriodsStandalone=2]="DayPeriodsStandalone",pt[pt.DaysFormat=3]="DaysFormat",pt[pt.DaysStandalone=4]="DaysStandalone",pt[pt.MonthsFormat=5]="MonthsFormat",pt[pt.MonthsStandalone=6]="MonthsStandalone",pt[pt.Eras=7]="Eras",pt[pt.FirstDayOfWeek=8]="FirstDayOfWeek",pt[pt.WeekendRange=9]="WeekendRange",pt[pt.DateFormat=10]="DateFormat",pt[pt.TimeFormat=11]="TimeFormat",pt[pt.DateTimeFormat=12]="DateTimeFormat",pt[pt.NumberSymbols=13]="NumberSymbols",pt[pt.NumberFormats=14]="NumberFormats",pt[pt.CurrencyCode=15]="CurrencyCode",pt[pt.CurrencySymbol=16]="CurrencySymbol",pt[pt.CurrencyName=17]="CurrencyName",pt[pt.Currencies=18]="Currencies",pt[pt.Directionality=19]="Directionality",pt[pt.PluralCase=20]="PluralCase",pt[pt.ExtraData=21]="ExtraData",pt))();const wf="en-US";let sw=wf;function bf(r){an(r,"Expected localeId to be defined"),"string"==typeof r&&(sw=r.toLowerCase().replace(/_/g,"-"))}function If(r,i,o,u,l){if(r=W(r),Array.isArray(r))for(let d=0;d<r.length;d++)If(r[d],i,o,u,l);else{const d=kt(),m=Oe();let y=Md(r)?r:W(r.provide),b=Xh(r);const T=Nn(),S=1048575&T.providerIndexes,O=T.directiveStart,F=T.providerIndexes>>20;if(Md(r)||!r.multi){const q=new N(b,l,Gd),Y=dg(y,i,l?S:S+F,O);-1===Y?(fs(yr(T,m),d,y),th(d,r,i.length),i.push(y),T.directiveStart++,T.directiveEnd++,l&&(T.providerIndexes+=1048576),o.push(q),m.push(q)):(o[Y]=q,m[Y]=q)}else{const q=dg(y,i,S+F,O),Y=dg(y,i,S,S+F),me=q>=0&&o[q],se=Y>=0&&o[Y];if(l&&!se||!l&&!me){fs(yr(T,m),d,y);const $e=function(r,i,o,u,l){const d=new N(r,o,Gd);return d.multi=[],d.index=i,d.componentProviders=0,ww(d,l,u&&!o),d}(l?fA:hA,o.length,l,u,b);!l&&se&&(o[Y].providerFactory=$e),th(d,r,i.length,0),i.push(y),T.directiveStart++,T.directiveEnd++,l&&(T.providerIndexes+=1048576),o.push($e),m.push($e)}else th(d,r,q>-1?q:Y,ww(o[l?Y:q],b,!l&&u));!l&&u&&se&&o[Y].componentProviders++}}}function th(r,i,o,u){const l=Md(i);if(l||function(r){return!!r.useClass}(i)){const m=(i.useClass||i).prototype.ngOnDestroy;if(m){const y=r.destroyHooks||(r.destroyHooks=[]);if(!l&&i.multi){const b=y.indexOf(o);-1===b?y.push(o,[u,m]):y[b+1].push(u,m)}else y.push(o,m)}}}function ww(r,i,o){return o&&r.componentProviders++,r.multi.push(i)-1}function dg(r,i,o,u){for(let l=o;l<u;l++)if(i[l]===r)return l;return-1}function hA(r,i,o,u){return bw(this.multi,[])}function fA(r,i,o,u){const l=this.multi;let d;if(this.providerFactory){const m=this.providerFactory.componentProviders,y=Tt(o,o[1],this.providerFactory.index,u);d=y.slice(0,m),bw(l,d);for(let b=m;b<y.length;b++)d.push(y[b])}else d=[],bw(l,d);return d}function bw(r,i){for(let o=0;o<r.length;o++)i.push((0,r[o])());return i}function Ty(r,i=[]){return o=>{o.providersResolver=(u,l)=>function(r,i,o){const u=kt();if(u.firstCreatePass){const l=gr(r);If(o,u.data,u.blueprint,l,!0),If(i,u.data,u.blueprint,l,!1)}}(u,l?l(r):r,i)}}class Fc{}const Iw="ngComponent";class Dw{resolveComponentFactory(i){throw function(r){const i=Error(`No component factory found for ${X(r)}. Did you add it to @NgModule.entryComponents?`);return i[Iw]=r,i}(i)}}let Df=(()=>{class r{}return r.NULL=new Dw,r})();function hg(...r){}function Af(r,i){return new Hs(Rr(r,i))}const wl=function(){return Af(Nn(),Oe())};let Hs=(()=>{class r{constructor(o){this.nativeElement=o}}return r.__NG_ELEMENT_ID__=wl,r})();function bl(r){return r instanceof Hs?r.nativeElement:r}class pg{}let EC=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>pA(),r})();const pA=function(){const r=Oe(),o=or(Nn().index,r);return function(r){return r[11]}(Jr(o)?o:r)};let Tw=(()=>{class r{}return r.\u0275prov=_n({token:r,providedIn:"root",factory:()=>null}),r})();class Aw{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Sw=new Aw("12.2.10");class CC{constructor(){}supports(i){return Cu(i)}create(i){return new yA(i)}}const IC=(r,i)=>i;class yA{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||IC}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,u=this._removalsHead,l=0,d=null;for(;o||u;){const m=!u||o&&o.currentIndex<xw(u,l,d)?o:u,y=xw(m,l,d),b=m.currentIndex;if(m===u)l--,u=u._nextRemoved;else if(o=o._next,null==m.previousIndex)l++;else{d||(d=[]);const T=y-l,S=b-l;if(T!=S){for(let F=0;F<T;F++){const q=F<d.length?d[F]:d[F]=0,Y=q+F;S<=Y&&Y<T&&(d[F]=q+1)}d[m.previousIndex]=S-T}}y!==b&&i(m,y,b)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!Cu(i))throw new Error(`Error trying to diff '${X(i)}'. Only arrays and iterables are allowed`);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let l,d,m,o=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let y=0;y<this.length;y++)d=i[y],m=this._trackByFn(y,d),null!==o&&Object.is(o.trackById,m)?(u&&(o=this._verifyReinsertion(o,d,m,y)),Object.is(o.item,d)||this._addIdentityChange(o,d)):(o=this._mismatch(o,d,m,y),u=!0),o=o._next}else l=0,function(r,i){if(Array.isArray(r))for(let o=0;o<r.length;o++)i(r[o]);else{const o=r[Fd()]();let u;for(;!(u=o.next()).done;)i(u.value)}}(i,y=>{m=this._trackByFn(l,y),null!==o&&Object.is(o.trackById,m)?(u&&(o=this._verifyReinsertion(o,y,m,l)),Object.is(o.item,y)||this._addIdentityChange(o,y)):(o=this._mismatch(o,y,m,l),u=!0),o=o._next,l++}),this.length=l;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,u,l){let d;return null===i?d=this._itTail:(d=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,d,l)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,l))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,d,l)):i=this._addAfter(new DC(o,u),d,l),i}_verifyReinsertion(i,o,u,l){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==d?i=this._reinsertAfter(d,i._prev,l):i.currentIndex!=l&&(i.currentIndex=l,this._addToMoves(i,l)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const l=i._prevRemoved,d=i._nextRemoved;return null===l?this._removalsHead=d:l._nextRemoved=d,null===d?this._removalsTail=l:d._prevRemoved=l,this._insertAfter(i,o,u),this._addToMoves(i,u),i}_moveAfter(i,o,u){return this._unlink(i),this._insertAfter(i,o,u),this._addToMoves(i,u),i}_addAfter(i,o,u){return this._insertAfter(i,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,u){const l=null===o?this._itHead:o._next;return i._next=l,i._prev=o,null===l?this._itTail=i:l._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new TC),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,u=i._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new TC),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class DC{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _A{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const o=i._prevDup,u=i._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class TC{constructor(){this.map=new Map}put(i){const o=i.trackById;let u=this.map.get(o);u||(u=new _A,this.map.set(o,u)),u.add(i)}get(i,o){const l=this.map.get(i);return l?l.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function xw(r,i,o){const u=r.previousIndex;if(null===u)return u;let l=0;return o&&u<o.length&&(l=o[u]),u+i+l}class Rw{constructor(){}supports(i){return i instanceof Map||qp(i)}create(){return new AC}}class AC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||qp(i)))throw new Error(`Error trying to diff '${X(i)}'. Only maps and objects are allowed`)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,l)=>{if(o&&o.key===l)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const d=this._getOrCreateRecordForKey(l,u);o=this._insertBeforeOrAppend(o,d)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const u=i._prev;return o._next=i,o._prev=u,i._prev=o,u&&(u._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const l=this._records.get(i);this._maybeAddToChanges(l,o);const d=l._prev,m=l._next;return d&&(d._next=m),m&&(m._prev=d),l._next=null,l._prev=null,l}const u=new SC(i);return this._records.set(i,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(u=>o(i[u],u))}}class SC{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Sy(){return new rh([new CC])}let rh=(()=>{class r{constructor(o){this.factories=o}static create(o,u){if(null!=u){const l=u.factories.slice();o=o.concat(l)}return new r(o)}static extend(o){return{provide:r,useFactory:u=>r.create(o,u||Sy()),deps:[[r,new Da,new Ls]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(null!=u)return u;throw new Error(`Cannot find a differ supporting object '${o}' of type '${function(r){return r.name||typeof r}(o)}'`)}}return r.\u0275prov=_n({token:r,providedIn:"root",factory:Sy}),r})();function Nw(){return new La([new Rw])}let La=(()=>{class r{constructor(o){this.factories=o}static create(o,u){if(u){const l=u.factories.slice();o=o.concat(l)}return new r(o)}static extend(o){return{provide:r,useFactory:u=>r.create(o,u||Nw()),deps:[[r,new Da,new Ls]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(u)return u;throw new Error(`Cannot find a differ supporting object '${o}'`)}}return r.\u0275prov=_n({token:r,providedIn:"root",factory:Nw}),r})();function xy(r,i,o,u,l=!1){for(;null!==o;){const d=i[o.index];if(null!==d&&u.push(Nt(d)),Wt(d))for(let y=10;y<d.length;y++){const b=d[y],T=b[1].firstChild;null!==T&&xy(b[1],b,T,u)}const m=o.type;if(8&m)xy(r,i,o.child,u);else if(32&m){const y=Ip(o,i);let b;for(;b=y();)u.push(b)}else if(16&m){const y=Dm(i,o);if(Array.isArray(y))u.push(...y);else{const b=bd(i[16]);xy(b[1],b,y,u,!0)}}o=l?o.projectionNext:o.next}return u}class Va{constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,o=i[1];return xy(o,i,o.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(Wt(i)){const o=i[8],u=o?o.indexOf(this):-1;u>-1&&(bm(i,u),qi(o,u))}this._attachedToViewContainer=!1}V_(this._lView[1],this._lView)}onDestroy(i){S0(this._lView[1],this._lView,null,i)}markForCheck(){Pr(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){tr(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(r,i,o){Ti(!0);try{tr(r,i,o)}finally{Ti(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var i;this._appRef=null,dl(this._lView[1],i=this._lView,i[11],2,null,null)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=i}}class wA extends Va{constructor(i){super(i),this._view=i}detectChanges(){nv(this._view)}checkNoChanges(){!function(r){Ti(!0);try{nv(r)}finally{Ti(!1)}}(this._view)}get context(){return null}}const EA=function(r){return function(r,i,o){if(Ga(r)&&!o){const u=or(r.index,i);return new Va(u,u)}return 47&r.type?new Va(i[16],i):null}(Nn(),Oe(),16==(16&r))};let CA=(()=>{class r{}return r.__NG_ELEMENT_ID__=EA,r})();const IA=[new Rw],NC=new rh([new CC]),TA=new La(IA),AA=function(){return Ry(Nn(),Oe())};let mg=(()=>{class r{}return r.__NG_ELEMENT_ID__=AA,r})();const SA=mg,xA=class extends SA{constructor(i,o,u){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(i){const o=this._declarationTContainer.tViews,u=Wh(this._declarationLView,o,i,16,null,o.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const d=this._declarationLView[19];return null!==d&&(u[19]=d.createEmbeddedView(o)),bc(o,u,i),new Va(u)}};function Ry(r,i){return 4&r.type?new xA(i,r,Af(r,i)):null}class ih{}class NA{}const OA=function(){return kC(Nn(),Oe())};let Rf=(()=>{class r{}return r.__NG_ELEMENT_ID__=OA,r})();const PC=Rf,Nf=class extends PC{constructor(i,o,u){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=u}get element(){return Af(this._hostTNode,this._hostLView)}get injector(){return new po(this._hostTNode,this._hostLView)}get parentInjector(){const i=Vn(this._hostTNode,this._hostLView);if(zl(i)){const o=zu(i,this._hostLView),u=Zu(i);return new po(o[1].data[u+8],o)}return new po(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=Ny(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,o,u){const l=i.createEmbeddedView(o||{});return this.insert(l,u),l}createComponent(i,o,u,l,d){const m=u||this.parentInjector;if(!d&&null==i.ngModule&&m){const b=m.get(ih,null);b&&(d=b)}const y=i.create(m,l,void 0,d);return this.insert(y.hostView,o),y}insert(i,o){const u=i._lView,l=u[1];if(Wt(u[3])){const S=this.indexOf(i);if(-1!==S)this.detach(S);else{const O=u[3],F=new Nf(O,O[6],O[3]);F.detach(F.indexOf(i))}}const d=this._adjustIndex(o),m=this._lContainer;!function(r,i,o,u){const l=10+u,d=o.length;u>0&&(o[l-1][4]=i),u<d-10?(i[4]=o[l],Hi(o,10+u,i)):(o.push(i),i[4]=null),i[3]=o;const m=i[17];null!==m&&o!==m&&function(r,i){const o=r[9];i[16]!==i[3][3][16]&&(r[2]=!0),null===o?r[9]=[i]:o.push(i)}(m,i);const y=i[19];null!==y&&y.insertView(r),i[2]|=128}(l,u,m,d);const y=B_(d,m),b=u[11],T=Cm(b,m[7]);return null!==T&&function(r,i,o,u,l,d){u[0]=l,u[6]=i,dl(r,u,o,1,l,d)}(l,m[6],b,u,T,y),i.attachToViewContainerRef(),Hi(Mw(m),d,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=Ny(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),u=bm(this._lContainer,o);u&&(qi(Mw(this._lContainer),o),V_(u[1],u))}detach(i){const o=this._adjustIndex(i,-1),u=bm(this._lContainer,o);return u&&null!=qi(Mw(this._lContainer),o)?new Va(u):null}_adjustIndex(i,o=0){return null==i?this.length+o:i}};function Ny(r){return r[8]}function Mw(r){return r[8]||(r[8]=[])}function kC(r,i){let o;const u=i[r.index];if(Wt(u))o=u;else{let l;if(8&r.type)l=Nt(u);else{const d=i[11];l=d.createComment("");const m=Rr(r,i);Id(d,Cm(d,m),l,function(r,i){return wn(r)?r.nextSibling(i):i.nextSibling}(d,m),!1)}i[r.index]=o=ev(u,i,l,r),Vp(i,o)}return new Nf(o,r,i)}const Lf={};class sI extends Df{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=Xt(i);return new aI(o,this.ngModule)}}function Ag(r){const i=[];for(let o in r)r.hasOwnProperty(o)&&i.push({propName:r[o],templateName:o});return i}const oI=new He("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ep});class aI extends Fc{constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=i.selectors.map(Lt).join(","),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return Ag(this.componentDef.inputs)}get outputs(){return Ag(this.componentDef.outputs)}create(i,o,u,l){const d=(l=l||this.ngModule)?function(r,i){return{get:(o,u,l)=>{const d=r.get(o,Lf,l);return d!==Lf||u===Lf?d:i.get(o,u,l)}}}(i,l.injector):i,m=d.get(pg,Oo),y=d.get(Tw,null),b=m.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",S=u?function(r,i,o){if(wn(r))return r.selectRootElement(i,o===Jt.ShadowDom);let u="string"==typeof i?r.querySelector(i):i;return u.textContent="",u}(b,u,this.componentDef.encapsulation):Sp(m.createRenderer(null,this.componentDef),T,function(r){const i=r.toLowerCase();return"svg"===i?"http://www.w3.org/2000/svg":"math"===i?"http://www.w3.org/1998/MathML/":null}(T)),O=this.componentDef.onPush?576:528,F=function(r,i){return{components:[],scheduler:r||Ep,clean:sT,playerHandler:i||null,flags:0}}(),q=Cc(0,null,null,1,0,null,null,null,null,null),Y=Wh(null,q,F,O,null,null,m,b,y,d);let me,se;ho(Y);try{const $e=function(r,i,o,u,l,d){const m=o[1];o[20]=r;const b=Us(m,20,2,"#host",null),T=b.mergedAttrs=i.hostAttrs;null!==T&&(Tc(b,T,!0),null!==r&&(On(l,r,T),null!==b.classes&&Ee(l,r,b.classes),null!==b.styles&&We(l,r,b.styles)));const S=u.createRenderer(r,i),O=Wh(o,K_(i),null,i.onPush?64:16,o[20],b,u,S,d||null,null);return m.firstCreatePass&&(fs(yr(b,o),m,i.type),Fp(m,b),Um(b,o.length,1)),Vp(o,O),o[20]=O}(S,this.componentDef,Y,m,b);if(S)if(u)On(b,S,["ng-version",Sw.full]);else{const{attrs:Re,classes:lt}=function(r){const i=[],o=[];let u=1,l=2;for(;u<r.length;){let d=r[u];if("string"==typeof d)2===l?""!==d&&i.push(d,r[++u]):8===l&&o.push(d);else{if(!Ra(l))break;l=d}u++}return{attrs:i,classes:o}}(this.componentDef.selectors[0]);Re&&On(b,S,Re),lt&&lt.length>0&&Ee(b,S,lt.join(" "))}if(se=Di(q,20),void 0!==o){const Re=se.projection=[];for(let lt=0;lt<this.ngContentSelectors.length;lt++){const _t=o[lt];Re.push(null!=_t?Array.from(_t):null)}}me=function(r,i,o,u,l){const d=o[1],m=function(r,i,o){const u=Nn();r.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),k0(r,u,i,Ma(r,i,1,null),o));const l=Tt(i,r,u.directiveStart,u);ii(l,i);const d=Rr(u,i);return d&&ii(d,i),l}(d,o,i);if(u.components.push(m),r[8]=m,l&&l.forEach(b=>b(m,i)),i.contentQueries){const b=Nn();i.contentQueries(1,m,b.directiveStart)}const y=Nn();return!d.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(Vi(y.index),X_(o[1],y,0,y.directiveStart,y.directiveEnd,i),P0(i,m)),m}($e,this.componentDef,Y,F,[_T]),bc(q,Y,null)}finally{Qc()}return new iS(this.componentType,me,Af(se,Y),Y,se)}}class iS extends class{}{constructor(i,o,u,l,d){super(),this.location=u,this._rootLView=l,this._tNode=d,this.instance=o,this.hostView=this.changeDetectorRef=new wA(l),this.componentType=i}get injector(){return new po(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}const Vf=new Map;class aS extends ih{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new sI(this);const u=rr(i),l=i[Pt]||null;l&&bf(l),this._bootstrapComponents=ys(u.bootstrap),this._r3Injector=ov(i,o,[{provide:ih,useValue:this},{provide:Df,useValue:this.componentFactoryResolver}],X(i)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(i)}get(i,o=Zn.THROW_IF_NOT_FOUND,u=Pe.Default){return i===Zn||i===ih||i===Nd?this:this._r3Injector.get(i,o,u)}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Sg extends NA{constructor(i){super(),this.moduleType=i,null!==rr(i)&&function(r){const i=new Set;!function o(u){const l=rr(u,!0),d=l.id;null!==d&&(function(r,i,o){if(i&&i!==o)throw new Error(`Duplicate module registered for ${r} - ${X(i)} vs ${X(i.name)}`)}(d,Vf.get(d),u),Vf.set(d,u));const m=ys(l.imports);for(const y of m)i.has(y)||(i.add(y),o(y))}(r)}(i)}create(i){return new aS(this.moduleType,i)}}function gI(r){return i=>{setTimeout(r,void 0,i)}}const Cl=class extends h.xQ{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,u){var l,d,m;let y=i,b=o||(()=>null),T=u;if(i&&"object"==typeof i){const O=i;y=null===(l=O.next)||void 0===l?void 0:l.bind(O),b=null===(d=O.error)||void 0===d?void 0:d.bind(O),T=null===(m=O.complete)||void 0===m?void 0:m.bind(O)}this.__isAsync&&(b=gI(b),y&&(y=gI(y)),T&&(T=gI(T)));const S=super.subscribe({next:y,error:b,complete:T});return i instanceof ie.w&&i.add(S),S}};function j1(){return this._results[Fd()]()}class Jw{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Fd(),u=Jw.prototype;u[o]||(u[o]=j1)}get changes(){return this._changes||(this._changes=new Cl)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const u=this;u.dirty=!1;const l=$i(i);(this._changesDetected=!function(r,i,o){if(r.length!==i.length)return!1;for(let u=0;u<r.length;u++){let l=r[u],d=i[u];if(o&&(l=o(l),d=o(d)),d!==l)return!1}return!0}(u._results,l,o))&&(u._results=l,u.length=l.length,u.last=l[this.length-1],u.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Zy{constructor(i){this.queryList=i,this.matches=null}clone(){return new Zy(this.queryList)}setDirty(){this.queryList.setDirty()}}class zy{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const u=null!==i.contentQueries?i.contentQueries[0]:o.length,l=[];for(let d=0;d<u;d++){const m=o.getByIndex(d);l.push(this.queries[m.indexInDeclarationView].clone())}return new zy(l)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==nb(i,o).matches&&this.queries[o].setDirty()}}class Xw{constructor(i,o,u=null){this.predicate=i,this.flags=o,this.read=u}}class Wy{constructor(i=[]){this.queries=i}elementStart(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let u=0;u<this.length;u++){const l=null!==o?o.length:0,d=this.getByIndex(u).embeddedTView(i,l);d&&(d.indexInDeclarationView=u,null!==o?o.push(d):o=[d])}return null!==o?new Wy(o):null}template(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class Ky{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new Ky(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let l=0;l<u.length;l++){const d=u[l];this.matchTNodeWithReadOption(i,o,yI(o,d)),this.matchTNodeWithReadOption(i,o,su(o,i,d,!1,!1))}else u===mg?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,su(o,i,u,!1,!1))}matchTNodeWithReadOption(i,o,u){if(null!==u){const l=this.metadata.read;if(null!==l)if(l===Hs||l===Rf||l===mg&&4&o.type)this.addMatch(o.index,-2);else{const d=su(o,i,l,!1,!1);null!==d&&this.addMatch(o.index,d)}else this.addMatch(o.index,u)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function yI(r,i){const o=r.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===i)return o[u+1];return null}function Yy(r,i,o,u){return-1===o?function(r,i){return 11&r.type?Af(r,i):4&r.type?Ry(r,i):null}(i,r):-2===o?function(r,i,o){return o===Hs?Af(i,r):o===mg?Ry(i,r):o===Rf?kC(i,r):void 0}(r,i,u):Tt(r,r[1],o,i)}function vI(r,i,o,u){const l=i[19].queries[u];if(null===l.matches){const d=r.data,m=o.matches,y=[];for(let b=0;b<m.length;b+=2){const T=m[b];y.push(T<0?null:Yy(i,d[T],m[b+1],o.metadata.read))}l.matches=y}return l.matches}function Qy(r,i,o,u){const l=r.queries.getByIndex(o),d=l.matches;if(null!==d){const m=vI(r,i,l,o);for(let y=0;y<d.length;y+=2){const b=d[y];if(b>0)u.push(m[y/2]);else{const T=d[y+1],S=i[-b];for(let O=10;O<S.length;O++){const F=S[O];F[17]===F[3]&&Qy(F[1],F,T,u)}if(null!==S[9]){const O=S[9];for(let F=0;F<O.length;F++){const q=O[F];Qy(q[1],q,T,u)}}}}}return u}function wI(r){const i=Oe(),o=kt(),u=co();Bu(u+1);const l=nb(o,u);if(r.dirty&&oo(i)===(2==(2&l.metadata.flags))){if(null===l.matches)r.reset([]);else{const d=l.crossesNgTemplate?Qy(o,i,u,[]):vI(o,i,l,u);r.reset(d,bl),r.notifyOnChanges()}return!0}return!1}function Rg(r,i,o,u){const l=kt();if(l.firstCreatePass){const d=Nn();(function(r,i,o){null===r.queries&&(r.queries=new Wy),r.queries.track(new Ky(i,o))})(l,new Xw(i,o,u),d.index),function(r,i){const o=r.contentQueries||(r.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(r.queries.length-1,i)}(l,r),2==(2&o)&&(l.staticContentQueries=!0)}!function(r,i,o){const u=new Jw(4==(4&o));S0(r,i,u,u.destroy),null===i[19]&&(i[19]=new zy),i[19].queries.push(new Zy(u))}(l,Oe(),o)}function tb(){return r=Oe(),i=co(),r[19].queries[i].queryList;var r,i}function nb(r,i){return r.queries.getByIndex(i)}const db=new He("Application Initializer");let ea=(()=>{class r{constructor(o){this.appInits=o,this.resolve=hg,this.reject=hg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,l)=>{this.resolve=u,this.reject=l})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const d=this.appInits[l]();if(hf(d))o.push(d);else if(Yp(d)){const m=new Promise((y,b)=>{d.subscribe({complete:y,error:b})});o.push(m)}}Promise.all(o).then(()=>{u()}).catch(l=>{this.reject(l)}),0===o.length&&u(),this.initialized=!0}}return r.\u0275fac=function(o){return new(o||r)(ur(db,8))},r.\u0275prov=_n({token:r,factory:r.\u0275fac}),r})();const BI=new He("AppId"),jI={provide:BI,useFactory:function(){return`${fb()}${fb()}${fb()}`},deps:[]};function fb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const kg=new He("Platform Initializer"),Bf=new He("Platform ID"),pb=new He("appBootstrapListener");let $I=(()=>{class r{log(o){console.log(o)}warn(o){console.warn(o)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=_n({token:r,factory:r.\u0275fac}),r})();const jf=new He("LocaleId"),Fg=new He("DefaultCurrencyCode");class BS{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}const mb=function(r){return new Sg(r)},jS=mb,yb=function(r){return Promise.resolve(mb(r))},$f=function(r){const i=mb(r),u=ys(rr(r).declarations).reduce((l,d)=>{const m=Xt(d);return m&&l.push(new aI(m)),l},[]);return new BS(i,u)},qI=$f,Hf=function(r){return Promise.resolve($f(r))};let qf=(()=>{class r{constructor(){this.compileModuleSync=jS,this.compileModuleAsync=yb,this.compileModuleAndAllComponentsSync=qI,this.compileModuleAndAllComponentsAsync=Hf}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=_n({token:r,factory:r.\u0275fac}),r})();const GI=(()=>Promise.resolve(0))();function Lg(r){"undefined"==typeof Zone?GI.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class Ts{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Cl(!1),this.onMicrotaskEmpty=new Cl(!1),this.onStable=new Cl(!1),this.onError=new Cl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!u&&o,l.shouldCoalesceRunChangeDetection=u,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function(){let r=G.requestAnimationFrame,i=G.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&i){const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function(r){const i=()=>{!function(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(G,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,wb(r),r.isCheckStableRunning=!0,vb(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),wb(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,l,d,m,y)=>{try{return WI(r),o.invokeTask(l,d,m,y)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||r.shouldCoalesceRunChangeDetection)&&i(),KI(r)}},onInvoke:(o,u,l,d,m,y,b)=>{try{return WI(r),o.invoke(l,d,m,y,b)}finally{r.shouldCoalesceRunChangeDetection&&i(),KI(r)}},onHasTask:(o,u,l,d)=>{o.hasTask(l,d),u===l&&("microTask"==d.change?(r._hasPendingMicrotasks=d.microTask,wb(r),vb(r)):"macroTask"==d.change&&(r.hasPendingMacrotasks=d.macroTask))},onHandleError:(o,u,l,d)=>(o.handleError(l,d),r.runOutsideAngular(()=>r.onError.emit(d)),!1)})}(l)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ts.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ts.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(i,o,u){return this._inner.run(i,o,u)}runTask(i,o,u,l){const d=this._inner,m=d.scheduleEventTask("NgZoneEvent: "+l,i,_b,hg,hg);try{return d.runTask(m,o,u)}finally{d.cancelTask(m)}}runGuarded(i,o,u){return this._inner.runGuarded(i,o,u)}runOutsideAngular(i){return this._outer.run(i)}}const _b={};function vb(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function wb(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function WI(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function KI(r){r._nesting--,vb(r)}class r_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Cl,this.onMicrotaskEmpty=new Cl,this.onStable=new Cl,this.onError=new Cl}run(i,o,u){return i.apply(o,u)}runGuarded(i,o,u){return i.apply(o,u)}runOutsideAngular(i){return i()}runTask(i,o,u,l){return i.apply(o,u)}}let Gf=(()=>{class r{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ts.assertNotInAngularZone(),Lg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Lg(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,l){let d=-1;u&&u>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==d),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:d,updateCb:l})}whenStable(o,u,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,u,l){return[]}}return r.\u0275fac=function(o){return new(o||r)(ur(Ts))},r.\u0275prov=_n({token:r,factory:r.\u0275fac}),r})(),i_=(()=>{class r{constructor(){this._applications=new Map,bb.addToWindow(this)}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return bb.findTestabilityInTree(this,o,u)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=_n({token:r,factory:r.\u0275fac}),r})();class YI{addToWindow(i){}findTestabilityInTree(i,o,u){return null}}function QI(r){bb=r}let bb=new YI,s_=!0,JI=!1;function Eb(){return JI=!0,s_}function GS(){if(JI)throw new Error("Cannot enable prod mode after platform setup.");s_=!1}let ta;const nD=new He("AllowMultipleToken");class Ib{constructor(i,o){this.name=i,this.token=o}}function rD(r,i,o=[]){const u=`Platform: ${i}`,l=new He(u);return(d=[])=>{let m=iD();if(!m||m.injector.get(nD,!1))if(r)r(o.concat(d).concat({provide:l,useValue:!0}));else{const y=o.concat(d).concat({provide:l,useValue:!0},{provide:Qh,useValue:"platform"});!function(r){if(ta&&!ta.destroyed&&!ta.injector.get(nD,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ta=r.get(sD);const i=r.get(kg,null);i&&i.forEach(o=>o())}(Zn.create({providers:y,name:u}))}return function(r){const i=iD();if(!i)throw new Error("No platform exists!");if(!i.injector.get(r,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return i}(l)}}function iD(){return ta&&!ta.destroyed?ta:null}let sD=(()=>{class r{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const y=function(r,i){let o;return o="noop"===r?new r_:("zone.js"===r?void 0:r)||new Ts({enableLongStackTrace:Eb(),shouldCoalesceEventChangeDetection:!!(null==i?void 0:i.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==i?void 0:i.ngZoneRunCoalescing)}),o}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),b=[{provide:Ts,useValue:y}];return y.run(()=>{const T=Zn.create({providers:b,parent:this.injector,name:o.moduleType.name}),S=o.create(T),O=S.injector.get(Ce,null);if(!O)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return y.runOutsideAngular(()=>{const F=y.onError.subscribe({next:q=>{O.handleError(q)}});S.onDestroy(()=>{a_(this._modules,S),F.unsubscribe()})}),function(r,i,o){try{const u=o();return hf(u)?u.catch(l=>{throw i.runOutsideAngular(()=>r.handleError(l)),l}):u}catch(u){throw i.runOutsideAngular(()=>r.handleError(u)),u}}(O,y,()=>{const F=S.injector.get(ea);return F.runInitializers(),F.donePromise.then(()=>(bf(S.injector.get(jf,wf)||wf),this._moduleDoBootstrap(S),S))})})}bootstrapModule(o,u=[]){const l=Zf({},u);return function(r,i,o){const u=new Sg(o);return Promise.resolve(u)}(0,0,o).then(d=>this.bootstrapModuleFactory(d,l))}_moduleDoBootstrap(o){const u=o.injector.get(zf);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(l=>u.bootstrap(l));else{if(!o.instance.ngDoBootstrap)throw new Error(`The module ${X(o.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(o){return new(o||r)(ur(Zn))},r.\u0275prov=_n({token:r,factory:r.\u0275fac}),r})();function Zf(r,i){return Array.isArray(i)?i.reduce(Zf,r):Object.assign(Object.assign({},r),i)}let zf=(()=>{class r{constructor(o,u,l,d,m){this._zone=o,this._injector=u,this._exceptionHandler=l,this._componentFactoryResolver=d,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new L.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),b=new L.y(T=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{Ts.assertNotInAngularZone(),Lg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const O=this._zone.onUnstable.subscribe(()=>{Ts.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{S.unsubscribe(),O.unsubscribe()}});this.isStable=(0,ce.T)(y,b.pipe(r=>(0,ye.x)()(function(r,i){return function(u){let l;l="function"==typeof r?r:function(){return r};const d=Object.create(u,oe.N);return d.source=u,d.subjectFactory=l,d}}(Q)(r))))}bootstrap(o,u){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let l;l=o instanceof Fc?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(l.componentType);const d=function(r){return r.isBoundToModule}(l)?void 0:this._injector.get(ih),y=l.create(Zn.NULL,[],u||l.selector,d),b=y.location.nativeElement,T=y.injector.get(Gf,null),S=T&&y.injector.get(i_);return T&&S&&S.registerApplication(b,T),y.onDestroy(()=>{this.detachView(y.hostView),a_(this.components,y),S&&S.unregisterApplication(b)}),this._loadComponent(y),y}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;a_(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(pb,[]).concat(this._bootstrapListeners).forEach(l=>l(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return r.\u0275fac=function(o){return new(o||r)(ur(Ts),ur(Zn),ur(Ce),ur(Df),ur(ea))},r.\u0275prov=_n({token:r,factory:r.\u0275fac}),r})();function a_(r,i){const o=r.indexOf(i);o>-1&&r.splice(o,1)}class Db{}class JS{}const XS={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let ex=(()=>{class r{constructor(o,u){this._compiler=o,this._config=u||XS}load(o){return this.loadAndCompile(o)}loadAndCompile(o){let[u,l]=o.split("#");return void 0===l&&(l="default"),B(8255)(u).then(d=>d[l]).then(d=>jg(d,u,l)).then(d=>this._compiler.compileModuleAsync(d))}loadFactory(o){let[u,l]=o.split("#"),d="NgFactory";return void 0===l&&(l="default",d=""),B(8255)(this._config.factoryPathPrefix+u+this._config.factoryPathSuffix).then(m=>m[l+d]).then(m=>jg(m,u,l))}}return r.\u0275fac=function(o){return new(o||r)(ur(qf),ur(JS,8))},r.\u0275prov=_n({token:r,factory:r.\u0275fac}),r})();function jg(r,i,o){if(!r)throw new Error(`Cannot find '${o}' in '${i}'`);return r}const ax=function(r){return null},dD=rD(null,"core",[{provide:Bf,useValue:"unknown"},{provide:sD,deps:[Zn]},{provide:i_,deps:[]},{provide:$I,deps:[]}]),hD=[{provide:zf,useClass:zf,deps:[Ts,Zn,Ce,Df,ea]},{provide:oI,deps:[Ts],useFactory:function(r){let i=[];return r.onStable.subscribe(()=>{for(;i.length;)i.pop()()}),function(o){i.push(o)}}},{provide:ea,useClass:ea,deps:[[new Ls,db]]},{provide:qf,useClass:qf,deps:[]},jI,{provide:rh,useFactory:function(){return NC},deps:[]},{provide:La,useFactory:function(){return TA},deps:[]},{provide:jf,useFactory:function(r){return bf(r=r||"undefined"!=typeof $localize&&$localize.locale||wf),r},deps:[[new rl(jf),new Ls,new Da]]},{provide:Fg,useValue:"USD"}];let fD=(()=>{class r{constructor(o){}}return r.\u0275fac=function(o){return new(o||r)(ur(zf))},r.\u0275mod=sa({type:r}),r.\u0275inj=Kr({providers:hD}),r})()},8939:(it,Ae,B)=>{"use strict";B.d(Ae,{hO:()=>X,xv:()=>Q,Dh:()=>ye,GT:()=>le,cc:()=>ue,on:()=>V,pX:()=>oe});var h=B(3018),ie=B(7841),L=B(6643);it=B.hmd(it);const ce=["ngOnDestroy"],oe=($,ve,de,Se={})=>new Proxy($,{get:(je,Me)=>de.runOutsideAngular(()=>{var mt;if($[Me])return(null===(mt=null==Se?void 0:Se.spy)||void 0===mt?void 0:mt.get)&&Se.spy.get(Me,$[Me]),$[Me];if(ce.indexOf(Me)>-1)return()=>{};const yt=ve.toPromise().then(xe=>{const ae=xe&&xe[Me];return"function"==typeof ae?ae.bind(xe):ae&&ae.then?ae.then(pe=>de.run(()=>pe)):de.run(()=>ae)});return new Proxy(()=>{},{get:(xe,ae)=>yt[ae],apply:(xe,ae,pe)=>yt.then(ge=>{var he;const Ve=ge&&ge(...pe);return(null===(he=null==Se?void 0:Se.spy)||void 0===he?void 0:he.apply)&&Se.spy.apply(Me,pe,Ve),Ve})})})}),le=($,ve)=>{ve.forEach(de=>{Object.getOwnPropertyNames(de.prototype||de).forEach(Se=>{Object.defineProperty($.prototype,Se,Object.getOwnPropertyDescriptor(de.prototype||de,Se))})})};class Ie{constructor(ve){return ve}}const ye=new h.OlP("angularfire2.app.options"),Q=new h.OlP("angularfire2.app.name");function V($,ve,de){const je="object"==typeof de&&de||{};je.name=je.name||"string"==typeof de&&de||"[DEFAULT]";const mt=ie.Z.apps.filter(yt=>yt&&yt.name===je.name)[0]||ve.runOutsideAngular(()=>ie.Z.initializeApp($,je));try{JSON.stringify($)!==JSON.stringify(mt.options)&&j("error",`${mt.name} Firebase App already initialized with different options${it.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(yt){}return new Ie(mt)}const j=($,...ve)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[$](...ve)},ee={provide:Ie,useFactory:V,deps:[ye,h.R0b,[new h.FiY,Q]]};let X=(()=>{class ${constructor(de){ie.Z.registerVersion("angularfire",L.q4.full,"core"),ie.Z.registerVersion("angularfire",L.q4.full,"app-compat"),ie.Z.registerVersion("angular",h.q4F.full,de.toString())}static initializeApp(de,Se){return{ngModule:$,providers:[{provide:ye,useValue:de},{provide:Q,useValue:Se}]}}}return $.\u0275fac=function(de){return new(de||$)(h.LFG(h.Lbi))},$.\u0275mod=h.oAB({type:$}),$.\u0275inj=h.cJS({providers:[ee]}),$})();function ue($,ve,de,Se,je){const[,Me,mt]=globalThis.\u0275AngularfireInstanceCache.find(yt=>yt[0]===$)||[];if(Me)return function($,ve){try{return $.toString()===ve.toString()}catch(de){return $===ve}}(je,mt)||(W("error",`${ve} was already initialized on the ${de} Firebase App with different settings.${_e?" You may need to reload as Firebase is not HMR aware.":""}`),W("warn",{is:je,was:mt})),Me;{const yt=Se();return globalThis.\u0275AngularfireInstanceCache.push([$,yt,je]),yt}}const _e=!!it.hot,W=($,...ve)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[$](...ve)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6643:(it,Ae,B)=>{"use strict";B.d(Ae,{q4:()=>Dh,iC:()=>jr,HU:()=>xi,vb:()=>au,JM:()=>ec});var h=B(3018),ie=B(2329),L=B(8239),ce=B(5452),oe=B(3854),le=B(6034),Ie=B(5601),ye=B(6676);const Q="@firebase/installations",V="0.5.2",ee=`w:${V}`,X="FIS_v2",ve=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function de(I){return I instanceof oe.ZR&&I.code.includes("request-failed")}function Se({projectId:I}){return`https://firebaseinstallations.googleapis.com/v1/projects/${I}/installations`}function je(I){return{token:I.token,requestStatus:2,expiresIn:ge(I.expiresIn),creationTime:Date.now()}}function Me(I,A){return mt.apply(this,arguments)}function mt(){return(mt=(0,L.Z)(function*(I,A){const H=(yield A.json()).error;return ve.create("request-failed",{requestName:I,serverCode:H.code,serverMessage:H.message,serverStatus:H.status})})).apply(this,arguments)}function yt({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function xe(I,{refreshToken:A}){const M=yt(I);return M.append("Authorization",function(I){return`${X} ${I}`}(A)),M}function ae(I){return pe.apply(this,arguments)}function pe(){return(pe=(0,L.Z)(function*(I){const A=yield I();return A.status>=500&&A.status<600?I():A})).apply(this,arguments)}function ge(I){return Number(I.replace("s","000"))}function Ve(I,A){return we.apply(this,arguments)}function we(){return(we=(0,L.Z)(function*(I,{fid:A}){const M=Se(I),be={method:"POST",headers:yt(I),body:JSON.stringify({fid:A,authVersion:X,appId:I.appId,sdkVersion:ee})},Le=yield ae(()=>fetch(M,be));if(Le.ok){const Xe=yield Le.json();return{fid:Xe.fid||A,registrationStatus:2,refreshToken:Xe.refreshToken,authToken:je(Xe.authToken)}}throw yield Me("Create Installation",Le)})).apply(this,arguments)}function nt(I){return new Promise(A=>{setTimeout(A,I)})}const An=/^[cdef][\w-]{21}$/;function Bt(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const M=function(I){return function(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return An.test(M)?M:""}catch(I){return""}}function on(I){return`${I.appName}!${I.appId}`}const $n=new Map;function Ar(I,A){const M=on(I);Ot(M,A),function(I,A){const M=(!Hn&&"BroadcastChannel"in self&&(Hn=new BroadcastChannel("[Firebase] FID Change"),Hn.onmessage=I=>{Ot(I.data.key,I.data.fid)}),Hn);M&&M.postMessage({key:I,fid:A}),0===$n.size&&Hn&&(Hn.close(),Hn=null)}(M,A)}function Ot(I,A){const M=$n.get(I);if(M)for(const H of M)H(A)}let Hn=null;const Yr="firebase-installations-store";let It=null;function Kn(){return It||(It=(0,ye.openDb)("firebase-installations-database",1,I=>{switch(I.oldVersion){case 0:I.createObjectStore(Yr)}})),It}function Ln(I,A){return hn.apply(this,arguments)}function hn(){return(hn=(0,L.Z)(function*(I,A){const M=on(I),ne=(yield Kn()).transaction(Yr,"readwrite"),be=ne.objectStore(Yr),Le=yield be.get(M);return yield be.put(A,M),yield ne.complete,(!Le||Le.fid!==A.fid)&&Ar(I,A.fid),A})).apply(this,arguments)}function jt(I){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,L.Z)(function*(I){const A=on(I),H=(yield Kn()).transaction(Yr,"readwrite");yield H.objectStore(Yr).delete(A),yield H.complete})).apply(this,arguments)}function dt(I,A){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,L.Z)(function*(I,A){const M=on(I),ne=(yield Kn()).transaction(Yr,"readwrite"),be=ne.objectStore(Yr),Le=yield be.get(M),Xe=A(Le);return void 0===Xe?yield be.delete(M):yield be.put(Xe,M),yield ne.complete,Xe&&(!Le||Le.fid!==Xe.fid)&&Ar(I,Xe.fid),Xe})).apply(this,arguments)}function Rt(I){return fn.apply(this,arguments)}function fn(){return(fn=(0,L.Z)(function*(I){let A;const M=yield dt(I,H=>{const ne=vn(H),be=$t(I,ne);return A=be.registrationPromise,be.installationEntry});return""===M.fid?{installationEntry:yield A}:{installationEntry:M,registrationPromise:A}})).apply(this,arguments)}function vn(I){return Jt(I||{fid:Bt(),registrationStatus:0})}function $t(I,A){if(0===A.registrationStatus){if(!navigator.onLine)return{installationEntry:A,registrationPromise:Promise.reject(ve.create("app-offline"))};const M={fid:A.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:M,registrationPromise:function(I,A){return tt.apply(this,arguments)}(I,M)}}return 1===A.registrationStatus?{installationEntry:A,registrationPromise:Cn(I)}:{installationEntry:A}}function tt(){return(tt=(0,L.Z)(function*(I,A){try{return Ln(I,yield Ve(I,A))}catch(M){throw de(M)&&409===M.customData.serverCode?yield jt(I):yield Ln(I,{fid:A.fid,registrationStatus:0}),M}})).apply(this,arguments)}function Cn(I){return ts.apply(this,arguments)}function ts(){return(ts=(0,L.Z)(function*(I){let A=yield Ei(I);for(;1===A.registrationStatus;)yield nt(100),A=yield Ei(I);if(0===A.registrationStatus){const{installationEntry:M,registrationPromise:H}=yield Rt(I);return H||M}return A})).apply(this,arguments)}function Ei(I){return dt(I,A=>{if(!A)throw ve.create("installation-not-found");return Jt(A)})}function Jt(I){return function(I){return 1===I.registrationStatus&&I.registrationTime+1e4<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function Ws(I,A){return z.apply(this,arguments)}function z(){return(z=(0,L.Z)(function*({appConfig:I,platformLoggerProvider:A},M){const H=K(I,M),ne=xe(I,M),be=A.getImmediate({optional:!0});be&&ne.append("x-firebase-client",be.getPlatformInfoString());const Xe={method:"POST",headers:ne,body:JSON.stringify({installation:{sdkVersion:ee}})},Ye=yield ae(()=>fetch(H,Xe));if(Ye.ok)return je(yield Ye.json());throw yield Me("Generate Auth Token",Ye)})).apply(this,arguments)}function K(I,{fid:A}){return`${Se(I)}/${A}/authTokens:generate`}function G(I){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,L.Z)(function*(I,A=!1){let M;const H=yield dt(I.appConfig,be=>{if(!cn(be))throw ve.create("not-registered");const Le=be.authToken;if(!A&&xr(Le))return be;if(1===Le.requestStatus)return M=fe(I,A),be;{if(!navigator.onLine)throw ve.create("app-offline");const Xe=gn(be);return M=Zt(I,Xe),Xe}});return M?yield M:H.authToken})).apply(this,arguments)}function fe(I,A){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,L.Z)(function*(I,A){let M=yield Ge(I.appConfig);for(;1===M.authToken.requestStatus;)yield nt(100),M=yield Ge(I.appConfig);const H=M.authToken;return 0===H.requestStatus?G(I,A):H})).apply(this,arguments)}function Ge(I){return dt(I,A=>{if(!cn(A))throw ve.create("not-registered");return function(I){return 1===I.requestStatus&&I.requestTime+1e4<Date.now()}(A.authToken)?Object.assign(Object.assign({},A),{authToken:{requestStatus:0}}):A})}function Zt(I,A){return pn.apply(this,arguments)}function pn(){return(pn=(0,L.Z)(function*(I,A){try{const M=yield Ws(I,A),H=Object.assign(Object.assign({},A),{authToken:M});return yield Ln(I.appConfig,H),M}catch(M){if(!de(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const H=Object.assign(Object.assign({},A),{authToken:{requestStatus:0}});yield Ln(I.appConfig,H)}else yield jt(I.appConfig);throw M}})).apply(this,arguments)}function cn(I){return void 0!==I&&2===I.registrationStatus}function xr(I){return 2===I.requestStatus&&!function(I){const A=Date.now();return A<I.creationTime||I.creationTime+I.expiresIn<A+36e5}(I)}function gn(I){const A={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:A})}function vt(){return(vt=(0,L.Z)(function*(I){const A=I,{installationEntry:M,registrationPromise:H}=yield Rt(A.appConfig);return H?H.catch(console.error):G(A).catch(console.error),M.fid})).apply(this,arguments)}function ia(){return(ia=(0,L.Z)(function*(I,A=!1){const M=I;return yield Ha(M.appConfig),(yield G(M,A)).token})).apply(this,arguments)}function Ha(I){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,L.Z)(function*(I){const{registrationPromise:A}=yield Rt(I);A&&(yield A)})).apply(this,arguments)}function rr(I){return ve.create("missing-app-config-values",{valueName:I})}const Rl="installations";(0,ce._registerComponent)(new le.wA(Rl,I=>{const A=I.getProvider("app").getImmediate();return{app:A,appConfig:function(I){if(!I||!I.options)throw rr("App Configuration");if(!I.name)throw rr("App Name");const A=["projectId","apiKey","appId"];for(const M of A)if(!I.options[M])throw rr(M);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(A),platformLoggerProvider:(0,ce._getProvider)(A,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,ce._registerComponent)(new le.wA("installations-internal",I=>{const A=I.getProvider("app").getImmediate(),M=(0,ce._getProvider)(A,Rl).getImmediate();return{getId:()=>function(I){return vt.apply(this,arguments)}(M),getToken:ne=>function(I){return ia.apply(this,arguments)}(M,ne)}},"PRIVATE")),(0,ce.registerVersion)(Q,V),(0,ce.registerVersion)(Q,V,"esm2017");const hr="@firebase/remote-config",jn=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ku{constructor(A,M,H,ne){this.client=A,this.storage=M,this.storageCache=H,this.logger=ne}isCachedDataFresh(A,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const H=Date.now()-M,ne=H<=A;return this.logger.debug(`Config fetch cache check. Cache age millis: ${H}. Cache max age millis (minimumFetchIntervalMillis setting): ${A}. Is cache hit: ${ne}.`),ne}fetch(A){var M=this;return(0,L.Z)(function*(){const[H,ne]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(ne&&M.isCachedDataFresh(A.cacheMaxAgeMillis,H))return ne;A.eTag=ne&&ne.eTag;const be=yield M.client.fetch(A),Le=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===be.status&&Le.push(M.storage.setLastSuccessfulFetchResponse(be)),yield Promise.all(Le),be})()}}function Jr(I=navigator){return I.languages&&I.languages[0]||I.language}class Wt{constructor(A,M,H,ne,be,Le){this.firebaseInstallations=A,this.sdkVersion=M,this.namespace=H,this.projectId=ne,this.apiKey=be,this.appId=Le}fetch(A){var M=this;return(0,L.Z)(function*(){const[H,ne]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),Le=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,Xe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":A.eTag||"*"},Ye={sdk_version:M.sdkVersion,app_instance_id:H,app_instance_id_token:ne,app_id:M.appId,language_code:Jr()},Ht={method:"POST",headers:Xe,body:JSON.stringify(Ye)},tn=fetch(Le,Ht),_r=new Promise((ks,Fs)=>{A.signal.addEventListener(()=>{const nc=new Error("The operation was aborted.");nc.name="AbortError",Fs(nc)})});let vr;try{yield Promise.race([tn,_r]),vr=yield tn}catch(ks){let Fs="fetch-client-network";throw"AbortError"===ks.name&&(Fs="fetch-timeout"),jn.create(Fs,{originalErrorMessage:ks.message})}let wr=vr.status;const Gi=vr.headers.get("ETag")||void 0;let Ia,Zi;if(200===vr.status){let ks;try{ks=yield vr.json()}catch(Fs){throw jn.create("fetch-client-parse",{originalErrorMessage:Fs.message})}Ia=ks.entries,Zi=ks.state}if("INSTANCE_STATE_UNSPECIFIED"===Zi?wr=500:"NO_CHANGE"===Zi?wr=304:("NO_TEMPLATE"===Zi||"EMPTY_CONFIG"===Zi)&&(Ia={}),304!==wr&&200!==wr)throw jn.create("fetch-status",{httpStatus:wr});return{status:wr,eTag:Gi,config:Ia}})()}}class Xr{constructor(A,M){this.client=A,this.storage=M}fetch(A){var M=this;return(0,L.Z)(function*(){const H=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(A,H)})()}attemptFetch(A,{throttleEndTimeMillis:M,backoffCount:H}){var ne=this;return(0,L.Z)(function*(){yield function(I,A){return new Promise((M,H)=>{const ne=Math.max(A-Date.now(),0),be=setTimeout(M,ne);I.addEventListener(()=>{clearTimeout(be),H(jn.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(A.signal,M);try{const be=yield ne.client.fetch(A);return yield ne.storage.deleteThrottleMetadata(),be}catch(be){if(!function(I){if(!(I instanceof oe.ZR&&I.customData))return!1;const A=Number(I.customData.httpStatus);return 429===A||500===A||503===A||504===A}(be))throw be;const Le={throttleEndTimeMillis:Date.now()+(0,oe.$s)(H),backoffCount:H+1};return yield ne.storage.setThrottleMetadata(Le),ne.attemptFetch(A,Le)}})()}}class mh{constructor(A,M,H,ne,be){this.app=A,this._client=M,this._storageCache=H,this._storage=ne,this._logger=be,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ao(I,A){const M=I.target.error||void 0;return jn.create(A,{originalErrorMessage:M&&M.message})}const Rs="app_namespace_store";class Pl{constructor(A,M,H,ne=function(){return new Promise((I,A)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=H=>{A(Ao(H,"storage-open"))},M.onsuccess=H=>{I(H.target.result)},M.onupgradeneeded=H=>{const ne=H.target.result;switch(H.oldVersion){case 0:ne.createObjectStore(Rs,{keyPath:"compositeKey"})}}}catch(M){A(jn.create("storage-open",{originalErrorMessage:M}))}})}()){this.appId=A,this.appName=M,this.namespace=H,this.openDbPromise=ne}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(A){return this.set("last_fetch_status",A)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(A){return this.set("last_successful_fetch_timestamp_millis",A)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(A){return this.set("last_successful_fetch_response",A)}getActiveConfig(){return this.get("active_config")}setActiveConfig(A){return this.set("active_config",A)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(A){return this.set("active_config_etag",A)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(A){return this.set("throttle_metadata",A)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(A){var M=this;return(0,L.Z)(function*(){const H=yield M.openDbPromise;return new Promise((ne,be)=>{const Xe=H.transaction([Rs],"readonly").objectStore(Rs),Ye=M.createCompositeKey(A);try{const Ht=Xe.get(Ye);Ht.onerror=tn=>{be(Ao(tn,"storage-get"))},Ht.onsuccess=tn=>{const _r=tn.target.result;ne(_r?_r.value:void 0)}}catch(Ht){be(jn.create("storage-get",{originalErrorMessage:Ht&&Ht.message}))}})})()}set(A,M){var H=this;return(0,L.Z)(function*(){const ne=yield H.openDbPromise;return new Promise((be,Le)=>{const Ye=ne.transaction([Rs],"readwrite").objectStore(Rs),Ht=H.createCompositeKey(A);try{const tn=Ye.put({compositeKey:Ht,value:M});tn.onerror=_r=>{Le(Ao(_r,"storage-set"))},tn.onsuccess=()=>{be()}}catch(tn){Le(jn.create("storage-set",{originalErrorMessage:tn&&tn.message}))}})})()}delete(A){var M=this;return(0,L.Z)(function*(){const H=yield M.openDbPromise;return new Promise((ne,be)=>{const Xe=H.transaction([Rs],"readwrite").objectStore(Rs),Ye=M.createCompositeKey(A);try{const Ht=Xe.delete(Ye);Ht.onerror=tn=>{be(Ao(tn,"storage-delete"))},Ht.onsuccess=()=>{ne()}}catch(Ht){be(jn.create("storage-delete",{originalErrorMessage:Ht&&Ht.message}))}})})()}createCompositeKey(A){return[this.appId,this.appName,this.namespace,A].join()}}class So{constructor(A){this.storage=A}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var A=this;return(0,L.Z)(function*(){const M=A.storage.getLastFetchStatus(),H=A.storage.getLastSuccessfulFetchTimestampMillis(),ne=A.storage.getActiveConfig(),be=yield M;be&&(A.lastFetchStatus=be);const Le=yield H;Le&&(A.lastSuccessfulFetchTimestampMillis=Le);const Xe=yield ne;Xe&&(A.activeConfig=Xe)})()}setLastFetchStatus(A){return this.lastFetchStatus=A,this.storage.setLastFetchStatus(A)}setLastSuccessfulFetchTimestampMillis(A){return this.lastSuccessfulFetchTimestampMillis=A,this.storage.setLastSuccessfulFetchTimestampMillis(A)}setActiveConfig(A){return this.activeConfig=A,this.storage.setActiveConfig(A)}}function vh(){return Za.apply(this,arguments)}function Za(){return(Za=(0,L.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch(I){return!1}})).apply(this,arguments)}(0,ce._registerComponent)(new le.wA("remote-config",function(A,{instanceIdentifier:M}){const H=A.getProvider("app").getImmediate(),ne=A.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw jn.create("registration-window");if(!(0,oe.hl)())throw jn.create("indexed-db-unavailable");const{projectId:be,apiKey:Le,appId:Xe}=H.options;if(!be)throw jn.create("registration-project-id");if(!Le)throw jn.create("registration-api-key");if(!Xe)throw jn.create("registration-app-id");const Ye=new Pl(Xe,H.name,M=M||"firebase"),Ht=new So(Ye),tn=new Ie.Yd(hr);tn.logLevel=Ie.in.ERROR;const _r=new Wt(ne,ce.SDK_VERSION,M,be,Le,Xe),vr=new Xr(_r,Ye),wr=new ku(vr,Ye,Ht,tn),Gi=new mh(H,wr,Ht,Ye,tn);return function(I){const A=(0,oe.m9)(I);A._initializePromise||(A._initializePromise=A._storageCache.loadFromStorage().then(()=>{A._isInitializationComplete=!0}))}(Gi),Gi},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(hr,"0.3.1"),(0,ce.registerVersion)(hr,"0.3.1","esm2017");const eo="/firebase-messaging-sw.js",da="/firebase-cloud-messaging-push-scope",Ns="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",za="google.c.a.c_id",Vu="google.c.a.c_l",wh="google.c.a.ts",xo="google.c.a.e";var Ur=(()=>{return(I=Ur||(Ur={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",Ur;var I})();function ci(I){const A=new Uint8Array(I);return btoa(String.fromCharCode(...A)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function to(I){const M=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),H=atob(M),ne=new Uint8Array(H.length);for(let be=0;be<H.length;++be)ne[be]=H.charCodeAt(be);return ne}const Ms="fcm_token_details_db",ha="fcm_token_object_Store";function zc(I){return no.apply(this,arguments)}function no(){return(no=(0,L.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(be=>be.name).includes(Ms))return null;let A=null;return(yield(0,ye.openDb)(Ms,5,function(){var H=(0,L.Z)(function*(ne){var be;if(ne.oldVersion<2||!ne.objectStoreNames.contains(ha))return;const Le=ne.transaction.objectStore(ha),Xe=yield Le.index("fcmSenderId").get(I);if(yield Le.clear(),Xe)if(2===ne.oldVersion){const Ye=Xe;if(!Ye.auth||!Ye.p256dh||!Ye.endpoint)return;A={token:Ye.fcmToken,createTime:null!==(be=Ye.createTime)&&void 0!==be?be:Date.now(),subscriptionOptions:{auth:Ye.auth,p256dh:Ye.p256dh,endpoint:Ye.endpoint,swScope:Ye.swScope,vapidKey:"string"==typeof Ye.vapidKey?Ye.vapidKey:ci(Ye.vapidKey)}}}else if(3===ne.oldVersion){const Ye=Xe;A={token:Ye.fcmToken,createTime:Ye.createTime,subscriptionOptions:{auth:ci(Ye.auth),p256dh:ci(Ye.p256dh),endpoint:Ye.endpoint,swScope:Ye.swScope,vapidKey:ci(Ye.vapidKey)}}}else if(4===ne.oldVersion){const Ye=Xe;A={token:Ye.fcmToken,createTime:Ye.createTime,subscriptionOptions:{auth:ci(Ye.auth),p256dh:ci(Ye.p256dh),endpoint:Ye.endpoint,swScope:Ye.swScope,vapidKey:ci(Ye.vapidKey)}}}});return function(ne){return H.apply(this,arguments)}}())).close(),yield(0,ye.deleteDb)(Ms),yield(0,ye.deleteDb)("fcm_vapid_details_db"),yield(0,ye.deleteDb)("undefined"),Wa(A)?A:null})).apply(this,arguments)}function Wa(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:A}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof A.auth&&A.auth.length>0&&"string"==typeof A.p256dh&&A.p256dh.length>0&&"string"==typeof A.endpoint&&A.endpoint.length>0&&"string"==typeof A.swScope&&A.swScope.length>0&&"string"==typeof A.vapidKey&&A.vapidKey.length>0}const sr="firebase-messaging-store";let No=null;function ro(){return No||(No=(0,ye.openDb)("firebase-messaging-database",1,I=>{switch(I.oldVersion){case 0:I.createObjectStore(sr)}})),No}function as(I){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,L.Z)(function*(I){const A=Oo(I),H=yield(yield ro()).transaction(sr).objectStore(sr).get(A);if(H)return H;{const ne=yield zc(I.appConfig.senderId);if(ne)return yield io(I,ne),ne}})).apply(this,arguments)}function io(I,A){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,L.Z)(function*(I,A){const M=Oo(I),ne=(yield ro()).transaction(sr,"readwrite");return yield ne.objectStore(sr).put(A,M),yield ne.complete,A})).apply(this,arguments)}function wn(I){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,L.Z)(function*(I){const A=Oo(I),H=(yield ro()).transaction(sr,"readwrite");yield H.objectStore(sr).delete(A),yield H.complete})).apply(this,arguments)}function Oo({appConfig:I}){return I.appId}const Nt=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Fl(I,A){return fa.apply(this,arguments)}function fa(){return(fa=(0,L.Z)(function*(I,A){const M=yield or(I),H=Po(A),ne={method:"POST",headers:M,body:JSON.stringify(H)};let be;try{be=yield(yield fetch(so(I.appConfig),ne)).json()}catch(Le){throw Nt.create("token-subscribe-failed",{errorInfo:Le})}if(be.error)throw Nt.create("token-subscribe-failed",{errorInfo:be.error.message});if(!be.token)throw Nt.create("token-subscribe-no-token");return be.token})).apply(this,arguments)}function pa(I,A){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,L.Z)(function*(I,A){const M=yield or(I),H=Po(A.subscriptionOptions),ne={method:"PATCH",headers:M,body:JSON.stringify(H)};let be;try{be=yield(yield fetch(`${so(I.appConfig)}/${A.token}`,ne)).json()}catch(Le){throw Nt.create("token-update-failed",{errorInfo:Le})}if(be.error)throw Nt.create("token-update-failed",{errorInfo:be.error.message});if(!be.token)throw Nt.create("token-update-no-token");return be.token})).apply(this,arguments)}function Wc(I,A){return Di.apply(this,arguments)}function Di(){return(Di=(0,L.Z)(function*(I,A){const H={method:"DELETE",headers:yield or(I)};try{const be=yield(yield fetch(`${so(I.appConfig)}/${A}`,H)).json();if(be.error)throw Nt.create("token-unsubscribe-failed",{errorInfo:be.error.message})}catch(ne){throw Nt.create("token-unsubscribe-failed",{errorInfo:ne})}})).apply(this,arguments)}function so({projectId:I}){return`https://fcmregistrations.googleapis.com/v1/projects/${I}/registrations`}function or(I){return oo.apply(this,arguments)}function oo(){return(oo=(0,L.Z)(function*({appConfig:I,installations:A}){const M=yield A.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function Po({p256dh:I,auth:A,endpoint:M,vapidKey:H}){const ne={web:{endpoint:M,auth:A,p256dh:I}};return H!==Ns&&(ne.web.applicationPubKey=H),ne}const ga=6048e5;function Os(I){return ko.apply(this,arguments)}function ko(){return(ko=(0,L.Z)(function*(I){const A=yield Uu(I.swRegistration,I.vapidKey),M={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:A.endpoint,auth:ci(A.getKey("auth")),p256dh:ci(A.getKey("p256dh"))},H=yield as(I.firebaseDependencies);if(H){if(Ll(H.subscriptionOptions,M))return Date.now()>=H.createTime+ga?Kc(I,{token:H.token,createTime:Date.now(),subscriptionOptions:M}):H.token;try{yield Wc(I.firebaseDependencies,H.token)}catch(ne){console.warn(ne)}return ao(I.firebaseDependencies,M)}return ao(I.firebaseDependencies,M)})).apply(this,arguments)}function Qa(I){return at.apply(this,arguments)}function at(){return(at=(0,L.Z)(function*(I){const A=yield as(I.firebaseDependencies);A&&(yield Wc(I.firebaseDependencies,A.token),yield wn(I.firebaseDependencies));const M=yield I.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()})).apply(this,arguments)}function Kc(I,A){return us.apply(this,arguments)}function us(){return(us=(0,L.Z)(function*(I,A){try{const M=yield pa(I.firebaseDependencies,A),H=Object.assign(Object.assign({},A),{token:M,createTime:Date.now()});return yield io(I.firebaseDependencies,H),M}catch(M){throw yield Qa(I),M}})).apply(this,arguments)}function ao(I,A){return uo.apply(this,arguments)}function uo(){return(uo=(0,L.Z)(function*(I,A){const H={token:yield Fl(I,A),createTime:Date.now(),subscriptionOptions:A};return yield io(I,H),H.token})).apply(this,arguments)}function Uu(I,A){return ls.apply(this,arguments)}function ls(){return(ls=(0,L.Z)(function*(I,A){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:to(A)})})).apply(this,arguments)}function Ll(I,A){return A.vapidKey===I.vapidKey&&A.endpoint===I.endpoint&&A.auth===I.auth&&A.p256dh===I.p256dh}function Oe(I){const A={from:I.from,collapseKey:I.collapse_key,messageId:I.fcm_message_id};return function(I,A){if(!A.notification)return;I.notification={};const M=A.notification.title;M&&(I.notification.title=M);const H=A.notification.body;H&&(I.notification.body=H);const ne=A.notification.image;ne&&(I.notification.image=ne)}(A,I),function(I,A){!A.data||(I.data=A.data)}(A,I),function(I,A){if(!A.fcmOptions)return;I.fcmOptions={};const M=A.fcmOptions.link;M&&(I.fcmOptions.link=M);const H=A.fcmOptions.analytics_label;H&&(I.fcmOptions.analyticsLabel=H)}(A,I),A}function Ul(I){return"object"==typeof I&&!!I&&za in I}function Fo(I,A){const M=[];for(let H=0;H<I.length;H++)M.push(I.charAt(H)),H<A.length&&M.push(A.charAt(H));return M.join("")}function lo(I){return Nt.create("missing-app-config-values",{valueName:I})}Fo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Fo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class cs{constructor(A,M,H){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ne=function(I){if(!I||!I.options)throw lo("App Configuration Object");if(!I.name)throw lo("App Name");const A=["projectId","apiKey","appId","messagingSenderId"],{options:M}=I;for(const H of A)if(!M[H])throw lo(H);return{appName:I.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(A);this.firebaseDependencies={app:A,appConfig:ne,installations:M,analyticsProvider:H}}_delete(){return Promise.resolve()}}function Bl(I){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,L.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(eo,{scope:da}),I.swRegistration.update().catch(()=>{})}catch(A){throw Nt.create("failed-service-worker-registration",{browserErrorMessage:A.message})}})).apply(this,arguments)}function Lo(I,A){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,L.Z)(function*(I,A){if(!A&&!I.swRegistration&&(yield Bl(I)),A||!I.swRegistration){if(!(A instanceof ServiceWorkerRegistration))throw Nt.create("invalid-sw-registration");I.swRegistration=A}})).apply(this,arguments)}function Br(I,A){return mr.apply(this,arguments)}function mr(){return(mr=(0,L.Z)(function*(I,A){A?I.vapidKey=A:I.vapidKey||(I.vapidKey=Ns)})).apply(this,arguments)}function Ai(){return(Ai=(0,L.Z)(function*(I,A){if(!navigator)throw Nt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Nt.create("permission-blocked");return yield Br(I,null==A?void 0:A.vapidKey),yield Lo(I,null==A?void 0:A.serviceWorkerRegistration),Os(I)})).apply(this,arguments)}function Si(I,A,M){return ya.apply(this,arguments)}function ya(){return(ya=(0,L.Z)(function*(I,A,M){const H=Xa(A);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(H,{message_id:M[za],message_name:M[Vu],message_time:M[wh],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Xa(I){switch(I){case Ur.NOTIFICATION_CLICKED:return"notification_open";case Ur.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function _a(){return(_a=(0,L.Z)(function*(I,A){const M=A.data;if(!M.isFirebaseMessaging)return;I.onMessageHandler&&M.messageType===Ur.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(Oe(M)):I.onMessageHandler.next(Oe(M)));const H=M.data;Ul(H)&&"1"===H[xo]&&(yield Si(I,M.messageType,H))})).apply(this,arguments)}const Vo="@firebase/messaging";function jl(){return ho.apply(this,arguments)}function ho(){return(ho=(0,L.Z)(function*(){return"undefined"!=typeof window&&(0,oe.hl)()&&(yield(0,oe.eu)())&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,ce._registerComponent)(new le.wA("messaging",I=>{const A=new cs(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function(I,A){return _a.apply(this,arguments)}(A,M)),A},"PUBLIC")),(0,ce._registerComponent)(new le.wA("messaging-internal",I=>{const A=I.getProvider("messaging").getImmediate();return{getToken:H=>function(I,A){return Ai.apply(this,arguments)}(A,H)}},"PRIVATE")),(0,ce.registerVersion)(Vo,"0.9.2"),(0,ce.registerVersion)(Vo,"0.9.2","esm2017");const Vi="analytics",bn="firebase_id",$u="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Hl="https://www.googletagmanager.com/gtag/js",ar=new Ie.Yd("@firebase/analytics");function Hu(I){return Promise.all(I.map(A=>A.catch(M=>M)))}function Ps(I,A){const M=document.createElement("script");M.src=`${Hl}?l=${I}&id=${A}`,M.async=!0,document.head.appendChild(M)}function wa(I,A,M,H,ne,be){return hi.apply(this,arguments)}function hi(){return(hi=(0,L.Z)(function*(I,A,M,H,ne,be){const Le=H[ne];try{if(Le)yield A[Le];else{const Ye=(yield Hu(M)).find(Ht=>Ht.measurementId===ne);Ye&&(yield A[Ye.appId])}}catch(Xe){ar.error(Xe)}I("config",ne,be)})).apply(this,arguments)}function hs(I,A,M,H,ne){return E.apply(this,arguments)}function E(){return(E=(0,L.Z)(function*(I,A,M,H,ne){try{let be=[];if(ne&&ne.send_to){let Le=ne.send_to;Array.isArray(Le)||(Le=[Le]);const Xe=yield Hu(M);for(const Ye of Le){const Ht=Xe.find(_r=>_r.measurementId===Ye),tn=Ht&&A[Ht.appId];if(!tn){be=[];break}be.push(tn)}}0===be.length&&(be=Object.values(A)),yield Promise.all(be),I("event",H,ne||{})}catch(be){ar.error(be)}})).apply(this,arguments)}function Z(){const I=window.document.getElementsByTagName("script");for(const A of Object.values(I))if(A.src&&A.src.includes(Hl))return A;return null}const Je=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ui=new class{constructor(A={},M=1e3){this.throttleMetadata=A,this.intervalMillis=M}getThrottleMetadata(A){return this.throttleMetadata[A]}setThrottleMetadata(A,M){this.throttleMetadata[A]=M}deleteThrottleMetadata(A){delete this.throttleMetadata[A]}};function ql(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function On(I){return qu.apply(this,arguments)}function qu(){return(qu=(0,L.Z)(function*(I){var A;const{appId:M,apiKey:H}=I,ne={method:"GET",headers:ql(H)},be=$u.replace("{app-id}",M),Le=yield fetch(be,ne);if(200!==Le.status&&304!==Le.status){let Xe="";try{const Ye=yield Le.json();(null===(A=Ye.error)||void 0===A?void 0:A.message)&&(Xe=Ye.error.message)}catch(Ye){}throw Je.create("config-fetch-failed",{httpStatus:Le.status,responseMessage:Xe})}return Le.json()})).apply(this,arguments)}function Gl(I){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,L.Z)(function*(I,A=Ui,M){const{appId:H,apiKey:ne,measurementId:be}=I.options;if(!H)throw Je.create("no-app-id");if(!ne){if(be)return{measurementId:be,appId:H};throw Je.create("no-api-key")}const Le=A.getThrottleMetadata(H)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Xe=new zu;return setTimeout((0,L.Z)(function*(){Xe.abort()}),void 0!==M?M:6e4),Zl({appId:H,apiKey:ne,measurementId:be},Le,Xe,A)})).apply(this,arguments)}function Zl(I,A,M){return zl.apply(this,arguments)}function zl(){return(zl=(0,L.Z)(function*(I,{throttleEndTimeMillis:A,backoffCount:M},H,ne=Ui){const{appId:be,measurementId:Le}=I;try{yield Zu(H,A)}catch(Xe){if(Le)return ar.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Le} provided in the "measurementId" field in the local Firebase config. [${Xe.message}]`),{appId:be,measurementId:Le};throw Xe}try{const Xe=yield On(I);return ne.deleteThrottleMetadata(be),Xe}catch(Xe){if(!bh(Xe)){if(ne.deleteThrottleMetadata(be),Le)return ar.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Le} provided in the "measurementId" field in the local Firebase config. [${Xe.message}]`),{appId:be,measurementId:Le};throw Xe}const Ye=503===Number(Xe.customData.httpStatus)?(0,oe.$s)(M,ne.intervalMillis,30):(0,oe.$s)(M,ne.intervalMillis),Ht={throttleEndTimeMillis:Date.now()+Ye,backoffCount:M+1};return ne.setThrottleMetadata(be,Ht),ar.debug(`Calling attemptFetch again in ${Ye} millis`),Zl(I,Ht,H,ne)}})).apply(this,arguments)}function Zu(I,A){return new Promise((M,H)=>{const ne=Math.max(A-Date.now(),0),be=setTimeout(M,ne);I.addEventListener(()=>{clearTimeout(be),H(Je.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}function bh(I){if(!(I instanceof oe.ZR&&I.customData))return!1;const A=Number(I.customData.httpStatus);return 429===A||500===A||503===A||504===A}class zu{constructor(){this.listeners=[]}addEventListener(A){this.listeners.push(A)}abort(){this.listeners.forEach(A=>A())}}function Wu(){return ru.apply(this,arguments)}function ru(){return(ru=(0,L.Z)(function*(){if(!(0,oe.hl)())return ar.warn(Je.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(I){return ar.warn(Je.create("indexeddb-unavailable",{errorInfo:I}).message),!1}return!0})).apply(this,arguments)}function iu(){return(iu=(0,L.Z)(function*(I,A,M,H,ne,be,Le){var Xe;const Ye=Gl(I);Ye.then(wr=>{M[wr.measurementId]=wr.appId,I.options.measurementId&&wr.measurementId!==I.options.measurementId&&ar.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${wr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(wr=>ar.error(wr)),A.push(Ye);const Ht=Wu().then(wr=>{if(wr)return H.getId()}),[tn,_r]=yield Promise.all([Ye,Ht]);Z()||Ps(be,tn.measurementId),ne("js",new Date);const vr=null!==(Xe=null==Le?void 0:Le.config)&&void 0!==Xe?Xe:{};return vr.origin="firebase",vr.update=!0,null!=_r&&(vr[bn]=_r),ne("config",tn.measurementId,vr),tn.measurementId})).apply(this,arguments)}class Xc{constructor(A){this.app=A}_delete(){return delete qn[this.app.options.appId],Promise.resolve()}}let qn={},ed=[];const yr={};let Vn,fs,yn="dataLayer",td=!1;function Ku(I,A,M){!function(){const I=[];if((0,oe.ru)()&&I.push("This is a browser extension environment."),(0,oe.zI)()||I.push("Cookies are not available."),I.length>0){const A=I.map((H,ne)=>`(${ne+1}) ${H}`).join(" "),M=Je.create("invalid-analytics-context",{errorInfo:A});ar.warn(M.message)}}();const H=I.options.appId;if(!H)throw Je.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw Je.create("no-api-key");ar.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=qn[H])throw Je.create("already-exists",{id:H});if(!td){!function(I){let A=[];Array.isArray(window[I])?A=window[I]:window[I]=A}(yn);const{wrappedGtag:be,gtagCore:Le}=function(I,A,M,H,ne){let be=function(...Le){window[H].push(arguments)};return window[ne]&&"function"==typeof window[ne]&&(be=window[ne]),window[ne]=function(I,A,M,H){function be(){return(be=(0,L.Z)(function*(Le,Xe,Ye){try{"event"===Le?yield hs(I,A,M,Xe,Ye):"config"===Le?yield wa(I,A,M,H,Xe,Ye):I("set",Xe)}catch(Ht){ar.error(Ht)}})).apply(this,arguments)}return function(Le,Xe,Ye){return be.apply(this,arguments)}}(be,I,A,M),{gtagCore:be,wrappedGtag:window[ne]}}(qn,ed,yr,yn,"gtag");fs=be,Vn=Le,td=!0}return qn[H]=function(I,A,M,H,ne,be,Le){return iu.apply(this,arguments)}(I,ed,yr,A,Vn,yn,M),new Xc(I)}function Yu(){return(Yu=(0,L.Z)(function*(I,A,M,H,ne){if(ne&&ne.global)I("event",M,H);else{const be=yield A;I("event",M,Object.assign(Object.assign({},H),{send_to:be}))}})).apply(this,arguments)}function Bo(){return jo.apply(this,arguments)}function jo(){return(jo=(0,L.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch(I){return!1}})).apply(this,arguments)}const $o="@firebase/analytics";(0,ce._registerComponent)(new le.wA(Vi,(A,{options:M})=>Ku(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,ce._registerComponent)(new le.wA("analytics-internal",function(A){try{const M=A.getProvider(Vi).getImmediate();return{logEvent:(H,ne,be)=>function(I,A,M,H){I=(0,oe.m9)(I),function(I,A,M,H,ne){return Yu.apply(this,arguments)}(fs,qn[I.app.options.appId],A,M,H).catch(ne=>ar.error(ne))}(M,H,ne,be)}}catch(M){throw Je.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,ce.registerVersion)($o,"0.7.2"),(0,ce.registerVersion)($o,"0.7.2","esm2017");var gs=B(7771),He=B(3637),Qu=B(3342),bt=B(3101),Ju=B(309);const Dh=new h.GfV("7.1.1"),Xu="__angularfire_symbol__analyticsIsSupported",Th="__angularfire_symbol__remoteConfigIsSupported",ou="__angularfire_symbol__messagingIsSupported";function ec(I,A,M){if(A){if(1===A.length)return A[0];const be=A.filter(Le=>Le.app===M);if(1===be.length)return be[0]}return M.container.getProvider(I).getImmediate({optional:!0})}globalThis[Xu]||(globalThis[Xu]=Bo().then(I=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=I)),globalThis[ou]||(globalThis[ou]=jl().then(I=>globalThis.__angularfire_symbol__messagingIsSupportedValue=I)),globalThis[Th]||(globalThis[Th]=vh().then(I=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=I));const au=(I,A)=>{const M=A?[A]:(0,ie.C6)(),H=[];return M.forEach(ne=>{ne.container.getProvider(I).instances.forEach(Le=>{H.includes(Le)||H.push(Le)})}),H};function Ca(){}class id{constructor(A,M=gs.N){this.zone=A,this.delegate=M}now(){return this.delegate.now()}schedule(A,M,H){const ne=this.zone;return this.delegate.schedule(function(Le){ne.runGuarded(()=>{A.apply(this,[Le])})},M,H)}}class $i{constructor(A){this.zone=A,this.task=null}call(A,M){const H=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ca,{},Ca,Ca)),M.pipe((0,Qu.b)({next:H,complete:H,error:H})).subscribe(A).add(H)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let xi=(()=>{class I{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new id(Zone.current)),this.insideAngular=M.run(()=>new id(Zone.current,He.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(M){return new(M||I)(h.LFG(h.R0b))},I.\u0275prov=h.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Hi(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function jr(I){return Hi(),function(I){return function(M){return(M=M.lift(new $i(I.ngZone))).pipe((0,bt.R)(I.outsideAngular),(0,Ju.QV)(I.insideAngular))}}(Hi())(I)}},4486:(it,Ae,B)=>{"use strict";B.d(Ae,{Z:()=>De});var h=B(3854),ie=B(6034),L=B(5452),ce=B(5601);class oe{constructor(W,$){this._delegate=W,this.firebase=$,(0,L._addComponent)(W,new ie.wA("app-compat",()=>this,"PUBLIC")),this.container=W.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(W){this._delegate.automaticDataCollectionEnabled=W}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(W=>{this._delegate.checkDestroyed(),W()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(W,$=L._DEFAULT_ENTRY_NAME){var ve;this._delegate.checkDestroyed();const de=this._delegate.container.getProvider(W);return!de.isInitialized()&&"EXPLICIT"===(null===(ve=de.getComponent())||void 0===ve?void 0:ve.instantiationMode)&&de.initialize(),de.getImmediate({identifier:$})}_removeServiceInstance(W,$=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(W).clearInstance($)}_addComponent(W){(0,L._addComponent)(this._delegate,W)}_addOrOverwriteComponent(W){(0,L._addOrOverwriteComponent)(this._delegate,W)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ie=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),V=function Q(){const _e=function(_e){const W={},$={__esModule:!0,initializeApp:function(yt,xe={}){const ae=L.initializeApp(yt,xe);if((0,h.r3)(W,ae.name))return W[ae.name];const pe=new _e(ae,$);return W[ae.name]=pe,pe},app:de,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function(yt){const xe=yt.name,ae=xe.replace("-compat","");if(L._registerComponent(yt)&&"PUBLIC"===yt.type){const pe=(ge=de())=>{if("function"!=typeof ge[ae])throw Ie.create("invalid-app-argument",{appName:xe});return ge[ae]()};void 0!==yt.serviceProps&&(0,h.ZB)(pe,yt.serviceProps),$[ae]=pe,_e.prototype[ae]=function(...ge){return this._getService.bind(this,xe).apply(this,yt.multipleInstances?ge:[])}}return"PUBLIC"===yt.type?$[ae]:null},removeApp:function(yt){delete W[yt]},useAsService:function(yt,xe){return"serverAuth"===xe?null:xe},modularAPIs:L}};function de(yt){if(!(0,h.r3)(W,yt=yt||L._DEFAULT_ENTRY_NAME))throw Ie.create("no-app",{appName:yt});return W[yt]}return $.default=$,Object.defineProperty($,"apps",{get:function(){return Object.keys(W).map(yt=>W[yt])}}),de.App=_e,$}(oe);return _e.INTERNAL=Object.assign(Object.assign({},_e.INTERNAL),{createFirebaseNamespace:Q,extendNamespace:function($){(0,h.ZB)(_e,$)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),_e}(),j=new ce.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const _e=self.firebase.SDK_VERSION;_e&&_e.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const De=V;(0,L.registerVersion)("@firebase/app-compat","0.1.5",undefined)},5452:(it,Ae,B)=>{"use strict";B.r(Ae),B.d(Ae,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>xn,_DEFAULT_ENTRY_NAME:()=>An,_addComponent:()=>on,_addOrOverwriteComponent:()=>$n,_apps:()=>Bt,_clearComponents:()=>Ot,_components:()=>Fn,_getProvider:()=>an,_registerComponent:()=>Ar,_removeServiceInstance:()=>ft,deleteApp:()=>It,getApp:()=>Sr,getApps:()=>Yr,initializeApp:()=>Kr,onLog:()=>hn,registerVersion:()=>Ln,setLogLevel:()=>jt});var h=B(8239),ie=B(6034),L=B(5601),ce=B(3854);class oe{constructor(Pe){this.container=Pe}getPlatformInfoString(){return this.container.getProviders().map(Rt=>{if(function(dt){const Pe=dt.getComponent();return"VERSION"===(null==Pe?void 0:Pe.type)}(Rt)){const fn=Rt.getImmediate();return`${fn.library}/${fn.version}`}return null}).filter(Rt=>Rt).join(" ")}}const Ie="@firebase/app",Q=new L.Yd("@firebase/app"),An="[DEFAULT]",Ct={[Ie]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Bt=new Map,Fn=new Map;function on(dt,Pe){try{dt.container.addComponent(Pe)}catch(Rt){Q.debug(`Component ${Pe.name} failed to register with FirebaseApp ${dt.name}`,Rt)}}function $n(dt,Pe){dt.container.addOrOverwriteComponent(Pe)}function Ar(dt){const Pe=dt.name;if(Fn.has(Pe))return Q.debug(`There were multiple attempts to register component ${Pe}.`),!1;Fn.set(Pe,dt);for(const Rt of Bt.values())on(Rt,dt);return!0}function an(dt,Pe){return dt.container.getProvider(Pe)}function ft(dt,Pe,Rt=An){an(dt,Pe).clearInstance(Rt)}function Ot(){Fn.clear()}const Hn=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class _n{constructor(Pe,Rt,fn){this._isDeleted=!1,this._options=Object.assign({},Pe),this._config=Object.assign({},Rt),this._name=Rt.name,this._automaticDataCollectionEnabled=Rt.automaticDataCollectionEnabled,this._container=fn,this.container.addComponent(new ie.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Pe){this.checkDestroyed(),this._automaticDataCollectionEnabled=Pe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Pe){this._isDeleted=Pe}checkDestroyed(){if(this.isDeleted)throw Hn.create("app-deleted",{appName:this._name})}}const xn="9.1.3";function Kr(dt,Pe={}){"object"!=typeof Pe&&(Pe={name:Pe});const Rt=Object.assign({name:An,automaticDataCollectionEnabled:!1},Pe),fn=Rt.name;if("string"!=typeof fn||!fn)throw Hn.create("bad-app-name",{appName:String(fn)});const vn=Bt.get(fn);if(vn){if((0,ce.vZ)(dt,vn.options)&&(0,ce.vZ)(Rt,vn.config))return vn;throw Hn.create("duplicate-app",{appName:fn})}const $t=new ie.H0(fn);for(const tt of Fn.values())$t.addComponent(tt);const et=new _n(dt,Rt,$t);return Bt.set(fn,et),et}function Sr(dt=An){const Pe=Bt.get(dt);if(!Pe)throw Hn.create("no-app",{appName:dt});return Pe}function Yr(){return Array.from(Bt.values())}function It(dt){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,h.Z)(function*(dt){const Pe=dt.name;Bt.has(Pe)&&(Bt.delete(Pe),yield Promise.all(dt.container.getProviders().map(Rt=>Rt.delete())),dt.isDeleted=!0)})).apply(this,arguments)}function Ln(dt,Pe,Rt){var fn;let vn=null!==(fn=Ct[dt])&&void 0!==fn?fn:dt;Rt&&(vn+=`-${Rt}`);const $t=vn.match(/\s|\//),et=Pe.match(/\s|\//);if($t||et){const tt=[`Unable to register library "${vn}" with version "${Pe}":`];return $t&&tt.push(`library name "${vn}" contains illegal characters (whitespace or "/")`),$t&&et&&tt.push("and"),et&&tt.push(`version name "${Pe}" contains illegal characters (whitespace or "/")`),void Q.warn(tt.join(" "))}Ar(new ie.wA(`${vn}-version`,()=>({library:vn,version:Pe}),"VERSION"))}function hn(dt,Pe){if(null!==dt&&"function"!=typeof dt)throw Hn.create("invalid-log-argument");(0,L.Am)(dt,Pe)}function jt(dt){(0,L.Ub)(dt)}Ar(new ie.wA("platform-logger",Pe=>new oe(Pe),"PRIVATE")),Ln(Ie,"0.7.4",""),Ln(Ie,"0.7.4","esm2017"),Ln("fire-js","")},6034:(it,Ae,B)=>{"use strict";B.d(Ae,{wA:()=>L,H0:()=>ye});var h=B(4762),ie=B(3854),L=function(){function Q(V,j,ee){this.name=V,this.instanceFactory=j,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Q.prototype.setInstantiationMode=function(V){return this.instantiationMode=V,this},Q.prototype.setMultipleInstances=function(V){return this.multipleInstances=V,this},Q.prototype.setServiceProps=function(V){return this.serviceProps=V,this},Q.prototype.setInstanceCreatedCallback=function(V){return this.onInstanceCreated=V,this},Q}(),ce="[DEFAULT]",oe=function(){function Q(V,j){this.name=V,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Q.prototype.get=function(V){var j=this.normalizeInstanceIdentifier(V);if(!this.instancesDeferred.has(j)){var ee=new ie.BH;if(this.instancesDeferred.set(j,ee),this.isInitialized(j)||this.shouldAutoInitialize())try{var X=this.getOrInitializeService({instanceIdentifier:j});X&&ee.resolve(X)}catch(ue){}}return this.instancesDeferred.get(j).promise},Q.prototype.getImmediate=function(V){var j,ee=this.normalizeInstanceIdentifier(null==V?void 0:V.identifier),X=null!==(j=null==V?void 0:V.optional)&&void 0!==j&&j;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if(X)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(ue){if(X)return null;throw ue}},Q.prototype.getComponent=function(){return this.component},Q.prototype.setComponent=function(V){var j,ee;if(V.name!==this.name)throw Error("Mismatching Component "+V.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=V,this.shouldAutoInitialize()){if(function(Q){return"EAGER"===Q.instantiationMode}(V))try{this.getOrInitializeService({instanceIdentifier:ce})}catch(de){}try{for(var X=(0,h.XA)(this.instancesDeferred.entries()),ue=X.next();!ue.done;ue=X.next()){var De=(0,h.CR)(ue.value,2),W=De[1],$=this.normalizeInstanceIdentifier(De[0]);try{var ve=this.getOrInitializeService({instanceIdentifier:$});W.resolve(ve)}catch(de){}}}catch(de){j={error:de}}finally{try{ue&&!ue.done&&(ee=X.return)&&ee.call(X)}finally{if(j)throw j.error}}}},Q.prototype.clearInstance=function(V){void 0===V&&(V=ce),this.instancesDeferred.delete(V),this.instancesOptions.delete(V),this.instances.delete(V)},Q.prototype.delete=function(){return(0,h.mG)(this,void 0,void 0,function(){var V;return(0,h.Jh)(this,function(j){switch(j.label){case 0:return V=Array.from(this.instances.values()),[4,Promise.all((0,h.ev)((0,h.ev)([],(0,h.CR)(V.filter(function(ee){return"INTERNAL"in ee}).map(function(ee){return ee.INTERNAL.delete()}))),(0,h.CR)(V.filter(function(ee){return"_delete"in ee}).map(function(ee){return ee._delete()}))))];case 1:return j.sent(),[2]}})})},Q.prototype.isComponentSet=function(){return null!=this.component},Q.prototype.isInitialized=function(V){return void 0===V&&(V=ce),this.instances.has(V)},Q.prototype.getOptions=function(V){return void 0===V&&(V=ce),this.instancesOptions.get(V)||{}},Q.prototype.initialize=function(V){var j,ee;void 0===V&&(V={});var X=V.options,ue=void 0===X?{}:X,De=this.normalizeInstanceIdentifier(V.instanceIdentifier);if(this.isInitialized(De))throw Error(this.name+"("+De+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var _e=this.getOrInitializeService({instanceIdentifier:De,options:ue});try{for(var W=(0,h.XA)(this.instancesDeferred.entries()),$=W.next();!$.done;$=W.next()){var ve=(0,h.CR)($.value,2),Se=ve[1];De===this.normalizeInstanceIdentifier(ve[0])&&Se.resolve(_e)}}catch(Me){j={error:Me}}finally{try{$&&!$.done&&(ee=W.return)&&ee.call(W)}finally{if(j)throw j.error}}return _e},Q.prototype.onInit=function(V,j){var ee,X=this.normalizeInstanceIdentifier(j),ue=null!==(ee=this.onInitCallbacks.get(X))&&void 0!==ee?ee:new Set;ue.add(V),this.onInitCallbacks.set(X,ue);var De=this.instances.get(X);return De&&V(De,X),function(){ue.delete(V)}},Q.prototype.invokeOnInitCallbacks=function(V,j){var ee,X,ue=this.onInitCallbacks.get(j);if(ue)try{for(var De=(0,h.XA)(ue),_e=De.next();!_e.done;_e=De.next()){var W=_e.value;try{W(V,j)}catch($){}}}catch($){ee={error:$}}finally{try{_e&&!_e.done&&(X=De.return)&&X.call(De)}finally{if(ee)throw ee.error}}},Q.prototype.getOrInitializeService=function(V){var j=V.instanceIdentifier,ee=V.options,X=void 0===ee?{}:ee,ue=this.instances.get(j);if(!ue&&this.component&&(ue=this.component.instanceFactory(this.container,{instanceIdentifier:le(j),options:X}),this.instances.set(j,ue),this.instancesOptions.set(j,X),this.invokeOnInitCallbacks(ue,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,ue)}catch(De){}return ue||null},Q.prototype.normalizeInstanceIdentifier=function(V){return void 0===V&&(V=ce),this.component?this.component.multipleInstances?V:ce:V},Q.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},Q}();function le(Q){return Q===ce?void 0:Q}var ye=function(){function Q(V){this.name=V,this.providers=new Map}return Q.prototype.addComponent=function(V){var j=this.getProvider(V.name);if(j.isComponentSet())throw new Error("Component "+V.name+" has already been registered with "+this.name);j.setComponent(V)},Q.prototype.addOrOverwriteComponent=function(V){this.getProvider(V.name).isComponentSet()&&this.providers.delete(V.name),this.addComponent(V)},Q.prototype.getProvider=function(V){if(this.providers.has(V))return this.providers.get(V);var j=new oe(V,this);return this.providers.set(V,j),j},Q.prototype.getProviders=function(){return Array.from(this.providers.values())},Q}()},5601:(it,Ae,B)=>{"use strict";B.d(Ae,{in:()=>ie,Yd:()=>Ie,Ub:()=>ye,Am:()=>Q});const h=[];var ie=(()=>{return(V=ie||(ie={}))[V.DEBUG=0]="DEBUG",V[V.VERBOSE=1]="VERBOSE",V[V.INFO=2]="INFO",V[V.WARN=3]="WARN",V[V.ERROR=4]="ERROR",V[V.SILENT=5]="SILENT",ie;var V})();const L={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},ce=ie.INFO,oe={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},le=(V,j,...ee)=>{if(j<V.logLevel)return;const X=(new Date).toISOString(),ue=oe[j];if(!ue)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[ue](`[${X}]  ${V.name}:`,...ee)};class Ie{constructor(j){this.name=j,this._logLevel=ce,this._logHandler=le,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in ie))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?L[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...j),this._logHandler(this,ie.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...j),this._logHandler(this,ie.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...j),this._logHandler(this,ie.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...j),this._logHandler(this,ie.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...j),this._logHandler(this,ie.ERROR,...j)}}function ye(V){h.forEach(j=>{j.setLogLevel(V)})}function Q(V,j){for(const ee of h){let X=null;j&&j.level&&(X=L[j.level]),ee.userLogHandler=null===V?null:(ue,De,..._e)=>{const W=_e.map($=>{if(null==$)return null;if("string"==typeof $)return $;if("number"==typeof $||"boolean"==typeof $)return $.toString();if($ instanceof Error)return $.message;try{return JSON.stringify($)}catch(ve){return null}}).filter($=>$).join(" ");De>=(null!=X?X:ue.logLevel)&&V({level:ie[De].toLowerCase(),message:W,args:_e,type:ue.name})}}}},3854:(it,Ae,B)=>{"use strict";B.d(Ae,{BH:()=>X,LL:()=>we,ZR:()=>Ve,zI:()=>pe,US:()=>le,tV:()=>Q,$s:()=>Ei,r3:()=>an,Sg:()=>ue,ne:()=>It,vZ:()=>Hn,ZB:()=>j,pd:()=>Sr,m9:()=>Ws,z$:()=>De,jU:()=>$,ru:()=>ve,d:()=>Se,xb:()=>Ot,w1:()=>je,hl:()=>xe,uI:()=>_e,UG:()=>W,b$:()=>de,G6:()=>yt,Mn:()=>Me,xO:()=>xn,zd:()=>Kr,eu:()=>ae});const ce=function(z){const K=[];let G=0;for(let Ne=0;Ne<z.length;Ne++){let fe=z.charCodeAt(Ne);fe<128?K[G++]=fe:fe<2048?(K[G++]=fe>>6|192,K[G++]=63&fe|128):55296==(64512&fe)&&Ne+1<z.length&&56320==(64512&z.charCodeAt(Ne+1))?(fe=65536+((1023&fe)<<10)+(1023&z.charCodeAt(++Ne)),K[G++]=fe>>18|240,K[G++]=fe>>12&63|128,K[G++]=fe>>6&63|128,K[G++]=63&fe|128):(K[G++]=fe>>12|224,K[G++]=fe>>6&63|128,K[G++]=63&fe|128)}return K},le={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(z,K){if(!Array.isArray(z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=K?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ne=[];for(let fe=0;fe<z.length;fe+=3){const Qe=z[fe],Ge=fe+1<z.length,Zt=Ge?z[fe+1]:0,pn=fe+2<z.length,cn=pn?z[fe+2]:0;let gn=(15&Zt)<<2|cn>>6,dr=63&cn;pn||(dr=64,Ge||(gn=64)),Ne.push(G[Qe>>2],G[(3&Qe)<<4|Zt>>4],G[gn],G[dr])}return Ne.join("")},encodeString(z,K){return this.HAS_NATIVE_SUPPORT&&!K?btoa(z):this.encodeByteArray(ce(z),K)},decodeString(z,K){return this.HAS_NATIVE_SUPPORT&&!K?atob(z):function(z){const K=[];let G=0,Ne=0;for(;G<z.length;){const fe=z[G++];if(fe<128)K[Ne++]=String.fromCharCode(fe);else if(fe>191&&fe<224){const Qe=z[G++];K[Ne++]=String.fromCharCode((31&fe)<<6|63&Qe)}else if(fe>239&&fe<365){const pn=((7&fe)<<18|(63&z[G++])<<12|(63&z[G++])<<6|63&z[G++])-65536;K[Ne++]=String.fromCharCode(55296+(pn>>10)),K[Ne++]=String.fromCharCode(56320+(1023&pn))}else{const Qe=z[G++],Ge=z[G++];K[Ne++]=String.fromCharCode((15&fe)<<12|(63&Qe)<<6|63&Ge)}}return K.join("")}(this.decodeStringToByteArray(z,K))},decodeStringToByteArray(z,K){this.init_();const G=K?this.charToByteMapWebSafe_:this.charToByteMap_,Ne=[];for(let fe=0;fe<z.length;){const Qe=G[z.charAt(fe++)],Zt=fe<z.length?G[z.charAt(fe)]:0;++fe;const cn=fe<z.length?G[z.charAt(fe)]:64;++fe;const Pt=fe<z.length?G[z.charAt(fe)]:64;if(++fe,null==Qe||null==Zt||null==cn||null==Pt)throw Error();Ne.push(Qe<<2|Zt>>4),64!==cn&&(Ne.push(Zt<<4&240|cn>>2),64!==Pt&&Ne.push(cn<<6&192|Pt))}return Ne},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let z=0;z<this.ENCODED_VALS.length;z++)this.byteToCharMap_[z]=this.ENCODED_VALS.charAt(z),this.charToByteMap_[this.byteToCharMap_[z]]=z,this.byteToCharMapWebSafe_[z]=this.ENCODED_VALS_WEBSAFE.charAt(z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[z]]=z,z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(z)]=z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(z)]=z)}}},ye=function(z){return function(z){const K=ce(z);return le.encodeByteArray(K,!0)}(z).replace(/\./g,"")},Q=function(z){try{return le.decodeString(z,!0)}catch(K){console.error("base64Decode failed: ",K)}return null};function j(z,K){if(!(K instanceof Object))return K;switch(K.constructor){case Date:return new Date(K.getTime());case Object:void 0===z&&(z={});break;case Array:z=[];break;default:return K}for(const G in K)!K.hasOwnProperty(G)||!ee(G)||(z[G]=j(z[G],K[G]));return z}function ee(z){return"__proto__"!==z}class X{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((K,G)=>{this.resolve=K,this.reject=G})}wrapCallback(K){return(G,Ne)=>{G?this.reject(G):this.resolve(Ne),"function"==typeof K&&(this.promise.catch(()=>{}),1===K.length?K(G):K(G,Ne))}}}function ue(z,K){if(z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ne=K||"demo-project",fe=z.iat||0,Qe=z.sub||z.user_id;if(!Qe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ge=Object.assign({iss:`https://securetoken.google.com/${Ne}`,aud:Ne,iat:fe,exp:fe+3600,auth_time:fe,sub:Qe,user_id:Qe,firebase:{sign_in_provider:"custom",identities:{}}},z);return[ye(JSON.stringify({alg:"none",type:"JWT"})),ye(JSON.stringify(Ge)),""].join(".")}function De(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function _e(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(De())}function W(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(z){return!1}}function $(){return"object"==typeof self&&self.self===self}function ve(){const z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof z&&void 0!==z.id}function de(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Se(){return De().indexOf("Electron/")>=0}function je(){const z=De();return z.indexOf("MSIE ")>=0||z.indexOf("Trident/")>=0}function Me(){return De().indexOf("MSAppHost/")>=0}function yt(){return!W()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xe(){return"object"==typeof indexedDB}function ae(){return new Promise((z,K)=>{try{let G=!0;const Ne="validate-browser-context-for-indexeddb-analytics-module",fe=self.indexedDB.open(Ne);fe.onsuccess=()=>{fe.result.close(),G||self.indexedDB.deleteDatabase(Ne),z(!0)},fe.onupgradeneeded=()=>{G=!1},fe.onerror=()=>{var Qe;K((null===(Qe=fe.error)||void 0===Qe?void 0:Qe.message)||"")}}catch(G){K(G)}})}function pe(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ve extends Error{constructor(K,G,Ne){super(G),this.code=K,this.customData=Ne,this.name="FirebaseError",Object.setPrototypeOf(this,Ve.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,we.prototype.create)}}class we{constructor(K,G,Ne){this.service=K,this.serviceName=G,this.errors=Ne}create(K,...G){const Ne=G[0]||{},fe=`${this.service}/${K}`,Qe=this.errors[K],Ge=Qe?function(z,K){return z.replace(Vt,(G,Ne)=>{const fe=K[Ne];return null!=fe?String(fe):`<${Ne}?>`})}(Qe,Ne):"Error";return new Ve(fe,`${this.serviceName}: ${Ge} (${fe}).`,Ne)}}const Vt=/\{\$([^}]+)}/g;function an(z,K){return Object.prototype.hasOwnProperty.call(z,K)}function Ot(z){for(const K in z)if(Object.prototype.hasOwnProperty.call(z,K))return!1;return!0}function Hn(z,K){if(z===K)return!0;const G=Object.keys(z),Ne=Object.keys(K);for(const fe of G){if(!Ne.includes(fe))return!1;const Qe=z[fe],Ge=K[fe];if(_n(Qe)&&_n(Ge)){if(!Hn(Qe,Ge))return!1}else if(Qe!==Ge)return!1}for(const fe of Ne)if(!G.includes(fe))return!1;return!0}function _n(z){return null!==z&&"object"==typeof z}function xn(z){const K=[];for(const[G,Ne]of Object.entries(z))Array.isArray(Ne)?Ne.forEach(fe=>{K.push(encodeURIComponent(G)+"="+encodeURIComponent(fe))}):K.push(encodeURIComponent(G)+"="+encodeURIComponent(Ne));return K.length?"&"+K.join("&"):""}function Kr(z){const K={};return z.replace(/^\?/,"").split("&").forEach(Ne=>{if(Ne){const[fe,Qe]=Ne.split("=");K[decodeURIComponent(fe)]=decodeURIComponent(Qe)}}),K}function Sr(z){const K=z.indexOf("?");if(!K)return"";const G=z.indexOf("#",K);return z.substring(K,G>0?G:void 0)}function It(z,K){const G=new Kn(z,K);return G.subscribe.bind(G)}class Kn{constructor(K,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{K(this)}).catch(Ne=>{this.error(Ne)})}next(K){this.forEachObserver(G=>{G.next(K)})}error(K){this.forEachObserver(G=>{G.error(K)}),this.close(K)}complete(){this.forEachObserver(K=>{K.complete()}),this.close()}subscribe(K,G,Ne){let fe;if(void 0===K&&void 0===G&&void 0===Ne)throw new Error("Missing Observer.");fe=function(z,K){if("object"!=typeof z||null===z)return!1;for(const G of["next","error","complete"])if(G in z&&"function"==typeof z[G])return!0;return!1}(K)?K:{next:K,error:G,complete:Ne},void 0===fe.next&&(fe.next=jt),void 0===fe.error&&(fe.error=jt),void 0===fe.complete&&(fe.complete=jt);const Qe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?fe.error(this.finalError):fe.complete()}catch(Ge){}}),this.observers.push(fe),Qe}unsubscribeOne(K){void 0===this.observers||void 0===this.observers[K]||(delete this.observers[K],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(K){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,K)}sendOne(K,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[K])try{G(this.observers[K])}catch(Ne){"undefined"!=typeof console&&console.error&&console.error(Ne)}})}close(K){this.finalized||(this.finalized=!0,void 0!==K&&(this.finalError=K),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jt(){}function Ei(z,K=1e3,G=2){const Ne=K*Math.pow(G,z),fe=Math.round(.5*Ne*(Math.random()-.5)*2);return Math.min(144e5,Ne+fe)}function Ws(z){return z&&z._delegate?z._delegate:z}},2329:(it,Ae,B)=>{"use strict";B.d(Ae,{Mq:()=>h.getApp,C6:()=>h.getApps});var h=B(5452);(0,h.registerVersion)("firebase","9.1.3","app")},7841:(it,Ae,B)=>{"use strict";B.d(Ae,{Z:()=>h.Z});var h=B(4486);h.Z.registerVersion("firebase","9.1.3","app-compat")},4671:(it,Ae,B)=>{"use strict";B.r(Ae);var h=B(8239),ie=B(4486),L=B(3854),ce=B(5452),oe=B(4762),le=B(5601),Ie=B(6034);const De=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},_e=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},W=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ve=new le.Yd("@firebase/auth");function de(_,...f){ve.logLevel<=le.in.ERROR&&ve.error(`Auth (${ce.SDK_VERSION}): ${_}`,...f)}function Se(_,...f){throw yt(_,...f)}function je(_,...f){return yt(_,...f)}function Me(_,f,g){const w=Object.assign(Object.assign({},_e()),{[f]:g});return new L.LL("auth","Firebase",w).create(f,{appName:_.name})}function mt(_,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&Se(_,"argument-error"),Me(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function yt(_,...f){if("string"!=typeof _){const g=f[0],w=[...f.slice(1)];return w[0]&&(w[0].appName=_.name),_._errorFactory.create(g,...w)}return W.create(_,...f)}function xe(_,f,...g){if(!_)throw yt(f,...g)}function ae(_){const f="INTERNAL ASSERTION FAILED: "+_;throw de(f),new Error(f)}function pe(_,f){_||ae(f)}const ge=new Map;function he(_){pe(_ instanceof Function,"Expected a class definition");let f=ge.get(_);return f?(pe(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,ge.set(_,f),f)}function nt(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function Vt(){return"http:"===An()||"https:"===An()}function An(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Fn{constructor(f,g){this.shortDelay=f,this.longDelay=g,pe(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Vt()||(0,L.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function on(_,f){pe(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class $n{static initialize(f,g,w){this.fetchImpl=f,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ae("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ae("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ae("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ar={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},an=new Fn(3e4,6e4);function ft(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function Ot(_,f,g,w){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,h.Z)(function*(_,f,g,w,x={}){return Hn(_,x,()=>{let P={},J={};w&&("GET"===f?J=w:P={body:JSON.stringify(w)});const Ce=(0,L.xO)(Object.assign({key:_.config.apiKey},J)).slice(1),Ze=new($n.headers());return Ze.set("Content-Type","application/json"),Ze.set("X-Client-Version",_._getSdkClientVersion()),_.languageCode&&Ze.set("X-Firebase-Locale",_.languageCode),$n.fetch()(Sr(_,_.config.apiHost,g,Ce),Object.assign({method:f,headers:Ze,referrerPolicy:"no-referrer"},P))})})).apply(this,arguments)}function Hn(_,f,g){return _n.apply(this,arguments)}function _n(){return(_n=(0,h.Z)(function*(_,f,g){_._canInitEmulator=!1;const w=Object.assign(Object.assign({},Ar),f);try{const x=new Yr(_),P=yield Promise.race([g(),x.promise]);x.clearNetworkTimeout();const J=yield P.json();if("needConfirmation"in J)throw It(_,"account-exists-with-different-credential",J);if(P.ok&&!("errorMessage"in J))return J;{const Ce=P.ok?J.errorMessage:J.error.message,[Ze,st]=Ce.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ze)throw It(_,"credential-already-in-use",J);if("EMAIL_EXISTS"===Ze)throw It(_,"email-already-in-use",J);const gt=w[Ze]||Ze.toLowerCase().replace(/[_\s]+/g,"-");if(st)throw Me(_,gt,st);Se(_,gt)}}catch(x){if(x instanceof L.ZR)throw x;Se(_,"network-request-failed")}})).apply(this,arguments)}function xn(_,f,g,w){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,h.Z)(function*(_,f,g,w,x={}){const P=yield Ot(_,f,g,w,x);return"mfaPendingCredential"in P&&Se(_,"multi-factor-auth-required",{serverResponse:P}),P})).apply(this,arguments)}function Sr(_,f,g,w){const x=`${f}${g}?${w}`;return _.config.emulator?on(_.config,x):`${_.config.apiScheme}://${x}`}class Yr{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(je(this.auth,"timeout")),an.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function It(_,f,g){const w={appName:_.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const x=je(_,f,w);return x.customData._tokenResponse=g,x}function Ln(){return(Ln=(0,h.Z)(function*(_,f){return Ot(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function hn(_,f){return jt.apply(this,arguments)}function jt(){return(jt=(0,h.Z)(function*(_,f){return Ot(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Rn(_,f){return dt.apply(this,arguments)}function dt(){return(dt=(0,h.Z)(function*(_,f){return Ot(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Pe(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function vn(){return(vn=(0,h.Z)(function*(_,f=!1){const g=(0,L.m9)(_),w=yield g.getIdToken(f),x=et(w);xe(x&&x.exp&&x.auth_time&&x.iat,g.auth,"internal-error");const P="object"==typeof x.firebase?x.firebase:void 0,J=null==P?void 0:P.sign_in_provider;return{claims:x,token:w,authTime:Pe($t(x.auth_time)),issuedAtTime:Pe($t(x.iat)),expirationTime:Pe($t(x.exp)),signInProvider:J||null,signInSecondFactor:(null==P?void 0:P.sign_in_second_factor)||null}})).apply(this,arguments)}function $t(_){return 1e3*Number(_)}function et(_){const[f,g,w]=_.split(".");if(void 0===f||void 0===g||void 0===w)return de("JWT malformed, contained fewer than 3 sections"),null;try{const x=(0,L.tV)(g);return x?JSON.parse(x):(de("Failed to decode base64 JWT payload"),null)}catch(x){return de("Caught error parsing JWT payload as JSON",x),null}}function Cn(_,f){return ts.apply(this,arguments)}function ts(){return(ts=(0,h.Z)(function*(_,f,g=!1){if(g)return f;try{return yield f}catch(w){throw w instanceof L.ZR&&Ei(w)&&_.auth.currentUser===_&&(yield _.auth.signOut()),w}})).apply(this,arguments)}function Ei({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class Jt{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const x=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(f);this.timerId=setTimeout((0,h.Z)(function*(){yield g.iteration()}),w)}iteration(){var f=this;return(0,h.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&f.schedule(!0))}f.schedule()})()}}class Vr{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pe(this.lastLoginAt),this.creationTime=Pe(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ws(_){return z.apply(this,arguments)}function z(){return(z=(0,h.Z)(function*(_){var f;const g=_.auth,w=yield _.getIdToken(),x=yield Cn(_,Rn(g,{idToken:w}));xe(null==x?void 0:x.users.length,g,"internal-error");const P=x.users[0];_._notifyReloadListener(P);const J=(null===(f=P.providerUserInfo)||void 0===f?void 0:f.length)?fe(P.providerUserInfo):[],Ce=Ne(_.providerData,J),gt=!!_.isAnonymous&&!(_.email&&P.passwordHash||(null==Ce?void 0:Ce.length)),ct={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:Ce,metadata:new Vr(P.createdAt,P.lastLoginAt),isAnonymous:gt};Object.assign(_,ct)})).apply(this,arguments)}function G(){return(G=(0,h.Z)(function*(_){const f=(0,L.m9)(_);yield Ws(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Ne(_,f){return[..._.filter(w=>!f.some(x=>x.providerId===w.providerId)),...f]}function fe(_){return _.map(f=>{var{providerId:g}=f,w=(0,oe._T)(f,["providerId"]);return{providerId:g,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function Ge(){return(Ge=(0,h.Z)(function*(_,f){const g=yield Hn(_,{},()=>{const w=(0,L.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:x,apiKey:P}=_.config,J=Sr(_,x,"/v1/token",`key=${P}`);return $n.fetch()(J,{method:"POST",headers:{"X-Client-Version":_._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:w})});return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Zt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){xe(f.idToken,"internal-error"),xe(void 0!==f.idToken,"internal-error"),xe(void 0!==f.refreshToken,"internal-error");const g="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function(_){const f=et(_);return xe(f,"internal-error"),xe(void 0!==f.exp,"internal-error"),xe(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var w=this;return(0,h.Z)(function*(){return xe(!w.accessToken||w.refreshToken,f,"user-token-expired"),g||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(f,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var w=this;return(0,h.Z)(function*(){const{accessToken:x,refreshToken:P,expiresIn:J}=yield function(_,f){return Ge.apply(this,arguments)}(f,g);w.updateTokensAndExpiration(x,P,Number(J))})()}updateTokensAndExpiration(f,g,w){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(f,g){const{refreshToken:w,accessToken:x,expirationTime:P}=g,J=new Zt;return w&&(xe("string"==typeof w,"internal-error",{appName:f}),J.refreshToken=w),x&&(xe("string"==typeof x,"internal-error",{appName:f}),J.accessToken=x),P&&(xe("number"==typeof P,"internal-error",{appName:f}),J.expirationTime=P),J}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Zt,this.toJSON())}_performRefresh(){return ae("not implemented")}}function pn(_,f){xe("string"==typeof _||void 0===_,"internal-error",{appName:f})}class cn{constructor(f){var{uid:g,auth:w,stsTokenManager:x}=f,P=(0,oe._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Jt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=w,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.metadata=new Vr(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,h.Z)(function*(){const w=yield Cn(g,g.stsTokenManager.getToken(g.auth,f));return xe(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(f){return function(_){return vn.apply(this,arguments)}(this,f)}reload(){return function(_){return G.apply(this,arguments)}(this)}_assign(f){this!==f&&(xe(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new cn(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var w=this;return(0,h.Z)(function*(){let x=!1;f.idToken&&f.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(f),x=!0),g&&(yield Ws(w)),yield w.auth._persistUserIfCurrent(w),x&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var f=this;return(0,h.Z)(function*(){const g=yield f.getIdToken();return yield Cn(f,function(_,f){return Ln.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var w,x,P,J,Ce,Ze,st,gt;const ct=null!==(w=g.displayName)&&void 0!==w?w:void 0,Xn=null!==(x=g.email)&&void 0!==x?x:void 0,gi=null!==(P=g.phoneNumber)&&void 0!==P?P:void 0,mi=null!==(J=g.photoURL)&&void 0!==J?J:void 0,al=null!==(Ce=g.tenantId)&&void 0!==Ce?Ce:void 0,ul=null!==(Ze=g._redirectEventId)&&void 0!==Ze?Ze:void 0,mm=null!==(st=g.createdAt)&&void 0!==st?st:void 0,er=null!==(gt=g.lastLoginAt)&&void 0!==gt?gt:void 0,{uid:bp,emailVerified:Ep,isAnonymous:ym,providerData:Cp,stsTokenManager:_m}=g;xe(bp&&_m,f,"internal-error");const ll=Zt.fromJSON(this.name,_m);xe("string"==typeof bp,f,"internal-error"),pn(ct,f.name),pn(Xn,f.name),xe("boolean"==typeof Ep,f,"internal-error"),xe("boolean"==typeof ym,f,"internal-error"),pn(gi,f.name),pn(mi,f.name),pn(al,f.name),pn(ul,f.name),pn(mm,f.name),pn(er,f.name);const ys=new cn({uid:bp,auth:f,email:Xn,emailVerified:Ep,displayName:ct,isAnonymous:ym,photoURL:mi,phoneNumber:gi,tenantId:al,stsTokenManager:ll,createdAt:mm,lastLoginAt:er});return Cp&&Array.isArray(Cp)&&(ys.providerData=Cp.map(x_=>Object.assign({},x_))),ul&&(ys._redirectEventId=ul),ys}static _fromIdTokenResponse(f,g,w=!1){return(0,h.Z)(function*(){const x=new Zt;x.updateFromServerResponse(g);const P=new cn({uid:g.localId,auth:f,stsTokenManager:x,isAnonymous:w});return yield Ws(P),P})()}}const Pt=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(g,w){var x=this;return(0,h.Z)(function*(){x.storage[g]=w})()}_get(g){var w=this;return(0,h.Z)(function*(){const x=w.storage[g];return void 0===x?null:x})()}_remove(g){var w=this;return(0,h.Z)(function*(){delete w.storage[g]})()}_addListener(g,w){}_removeListener(g,w){}}return _.type="NONE",_})();function gn(_,f,g){return`firebase:${_}:${f}:${g}`}class dr{constructor(f,g,w){this.persistence=f,this.auth=g,this.userKey=w;const{config:x,name:P}=this.auth;this.fullUserKey=gn(this.userKey,x.apiKey,P),this.fullPersistenceKey=gn("persistence",x.apiKey,P),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,h.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?cn._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,h.Z)(function*(){if(g.persistence===f)return;const w=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,w?g.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,w="authUser"){return(0,h.Z)(function*(){if(!g.length)return new dr(he(Pt),f,w);const x=(yield Promise.all(g.map(function(){var st=(0,h.Z)(function*(gt){if(yield gt._isAvailable())return gt});return function(gt){return st.apply(this,arguments)}}()))).filter(st=>st);let P=x[0]||he(Pt);const J=gn(w,f.config.apiKey,f.name);let Ce=null;for(const st of g)try{const gt=yield st._get(J);if(gt){const ct=cn._fromJSON(f,gt);st!==P&&(Ce=ct),P=st;break}}catch(gt){}const Ze=x.filter(st=>st._shouldAllowMigration);return P._shouldAllowMigration&&Ze.length?(P=Ze[0],Ce&&(yield P._set(J,Ce.toJSON())),yield Promise.all(g.map(function(){var st=(0,h.Z)(function*(gt){if(gt!==P)try{yield gt._remove(J)}catch(ct){}});return function(gt){return st.apply(this,arguments)}}())),new dr(P,f,w)):new dr(P,f,w)})()}}function $a(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Ha(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(vt(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(sa(f))return"Blackberry";if(xs(f))return"Webos";if(Pu(f))return"Safari";if((f.includes("chrome/")||ia(f))&&!f.includes("edge/"))return"Chrome";if(Ss(f))return"Android";{const w=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function vt(_=(0,L.z$)()){return/firefox\//i.test(_)}function Pu(_=(0,L.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function ia(_=(0,L.z$)()){return/crios\//i.test(_)}function Ha(_=(0,L.z$)()){return/iemobile/i.test(_)}function Ss(_=(0,L.z$)()){return/android/i.test(_)}function sa(_=(0,L.z$)()){return/blackberry/i.test(_)}function xs(_=(0,L.z$)()){return/webos/i.test(_)}function Qr(_=(0,L.z$)()){return/iphone|ipad|ipod/i.test(_)}function ns(_=(0,L.z$)()){return Qr(_)||Ss(_)||xs(_)||sa(_)||/windows phone/i.test(_)||Ha(_)}function rr(_,f=[]){let g;switch(_){case"Browser":g=$a((0,L.z$)());break;case"Worker":g=`${$a((0,L.z$)())}-${_}`;break;default:g=_}const w=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${ce.SDK_VERSION}/${w}`}class Rl{constructor(f,g){this.app=f,this.config=g,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ze(this),this.idTokenSubscription=new ze(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=W,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=g.sdkClientVersion}_initializeWithPersistence(f,g){var w=this;return g&&(this._popupRedirectResolver=he(g)),this._initializationPromise=this.queue((0,h.Z)(function*(){var x;w._deleted||(w.persistenceManager=yield dr.create(w,f),!w._deleted&&((null===(x=w._popupRedirectResolver)||void 0===x?void 0:x._shouldInitProactively)&&(yield w._popupRedirectResolver._initialize(w)),yield w.initializeCurrentUser(g),!w._deleted&&(w._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,h.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g)}})()}initializeCurrentUser(f){var g=this;return(0,h.Z)(function*(){var w;let x=yield g.assertedPersistence.getCurrentUser();if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const P=null===(w=g.redirectUser)||void 0===w?void 0:w._redirectEventId,J=null==x?void 0:x._redirectEventId,Ce=yield g.tryRedirectSignIn(f);(!P||P===J)&&(null==Ce?void 0:Ce.user)&&(x=Ce.user)}return x?x._redirectEventId?(xe(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===x._redirectEventId?g.directlySetCurrentUser(x):g.reloadAndSetCurrentUserOrClear(x)):g.reloadAndSetCurrentUserOrClear(x):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(f){var g=this;return(0,h.Z)(function*(){let w=null;try{w=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch(x){yield g._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,h.Z)(function*(){try{yield Ws(f)}catch(w){if("auth/network-request-failed"!==w.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,h.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,h.Z)(function*(){const w=f?(0,L.m9)(f):null;return w&&xe(w.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(w&&w._clone(g))})()}_updateCurrentUser(f){var g=this;return(0,h.Z)(function*(){if(!g._deleted)return f&&xe(g.tenantId===f.tenantId,g,"tenant-id-mismatch"),g.queue((0,h.Z)(function*(){yield g.directlySetCurrentUser(f),g.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,h.Z)(function*(){return(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null)})()}setPersistence(f){var g=this;return this.queue((0,h.Z)(function*(){yield g.assertedPersistence.setPersistence(he(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new L.LL("auth","Firebase",f())}onAuthStateChanged(f,g,w){return this.registerStateListener(this.authStateSubscription,f,g,w)}onIdTokenChanged(f,g,w){return this.registerStateListener(this.idTokenSubscription,f,g,w)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var w=this;return(0,h.Z)(function*(){const x=yield w.getOrInitRedirectPersistenceManager(g);return null===f?x.removeCurrentUser():x.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,h.Z)(function*(){if(!g.redirectPersistenceManager){const w=f&&he(f)||g._popupRedirectResolver;xe(w,g,"argument-error"),g.redirectPersistenceManager=yield dr.create(g,[he(w._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,h.Z)(function*(){var w,x;return g._isInitialized&&(yield g.queue((0,h.Z)(function*(){}))),(null===(w=g._currentUser)||void 0===w?void 0:w._redirectEventId)===f?g._currentUser:(null===(x=g.redirectUser)||void 0===x?void 0:x._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,h.Z)(function*(){if(f===g.currentUser)return g.queue((0,h.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,w,x){if(this._deleted)return()=>{};const P="function"==typeof g?g:g.next.bind(g),J=this._isInitialized?Promise.resolve():this._initializationPromise;return xe(J,this,"internal-error"),J.then(()=>P(this.currentUser)),"function"==typeof g?f.addObserver(g,w,x):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,h.Z)(function*(){g.currentUser&&g.currentUser!==f&&(g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh()),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=rr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function zt(_){return(0,L.m9)(_)}class ze{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,L.ne)(g=>this.observer=g)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function mn(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function rs(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class fr{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return ae("not implemented")}_getIdTokenResponse(f){return ae("not implemented")}_linkToIdToken(f,g){return ae("not implemented")}_getReauthenticationResolver(f){return ae("not implemented")}}function In(_,f){return jn.apply(this,arguments)}function jn(){return(jn=(0,h.Z)(function*(_,f){return Ot(_,"POST","/v1/accounts:resetPassword",ft(_,f))})).apply(this,arguments)}function To(_,f){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,h.Z)(function*(_,f){return Ot(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ua(_,f){return is.apply(this,arguments)}function is(){return(is=(0,h.Z)(function*(_,f){return Ot(_,"POST","/v1/accounts:update",ft(_,f))})).apply(this,arguments)}function Fi(){return(Fi=(0,h.Z)(function*(_,f){return xn(_,"POST","/v1/accounts:signInWithPassword",ft(_,f))})).apply(this,arguments)}function ir(_,f){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,h.Z)(function*(_,f){return Ot(_,"POST","/v1/accounts:sendOobCode",ft(_,f))})).apply(this,arguments)}function Li(_,f){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,h.Z)(function*(_,f){return ir(_,f)})).apply(this,arguments)}function un(_,f){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,h.Z)(function*(_,f){return ir(_,f)})).apply(this,arguments)}function wt(_,f){return la.apply(this,arguments)}function la(){return(la=(0,h.Z)(function*(_,f){return ir(_,f)})).apply(this,arguments)}function Nl(_,f){return ca.apply(this,arguments)}function ca(){return(ca=(0,h.Z)(function*(_,f){return ir(_,f)})).apply(this,arguments)}function os(){return(os=(0,h.Z)(function*(_,f){return xn(_,"POST","/v1/accounts:signInWithEmailLink",ft(_,f))})).apply(this,arguments)}function ku(){return(ku=(0,h.Z)(function*(_,f){return xn(_,"POST","/v1/accounts:signInWithEmailLink",ft(_,f))})).apply(this,arguments)}class Jr extends fr{constructor(f,g,w,x=null){super("password",w),this._email=f,this._password=g,this._tenantId=x}static _fromEmailAndPassword(f,g){return new Jr(f,g,"password")}static _fromEmailAndCode(f,g,w=null){return new Jr(f,g,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,h.Z)(function*(){switch(g.signInMethod){case"password":return function(_,f){return Fi.apply(this,arguments)}(f,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function(_,f){return os.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:Se(f,"internal-error")}})()}_linkToIdToken(f,g){var w=this;return(0,h.Z)(function*(){switch(w.signInMethod){case"password":return To(f,{idToken:g,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function(_,f){return ku.apply(this,arguments)}(f,{idToken:g,email:w._email,oobCode:w._password});default:Se(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Wt(_,f){return Js.apply(this,arguments)}function Js(){return(Js=(0,h.Z)(function*(_,f){return xn(_,"POST","/v1/accounts:signInWithIdp",ft(_,f))})).apply(this,arguments)}class Xr extends fr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new Xr(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):Se("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:x}=g,P=(0,oe._T)(g,["providerId","signInMethod"]);if(!w||!x)return null;const J=new Xr(w,x);return J.idToken=P.idToken||void 0,J.accessToken=P.accessToken||void 0,J.secret=P.secret,J.nonce=P.nonce,J.pendingToken=P.pendingToken||null,J}_getIdTokenResponse(f){return Wt(f,this.buildRequest())}_linkToIdToken(f,g){const w=this.buildRequest();return w.idToken=g,Wt(f,w)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Wt(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,L.xO)(g)}return f}}function gr(_,f){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,h.Z)(function*(_,f){return Ot(_,"POST","/v1/accounts:sendVerificationCode",ft(_,f))})).apply(this,arguments)}function Ao(){return(Ao=(0,h.Z)(function*(_,f){return xn(_,"POST","/v1/accounts:signInWithPhoneNumber",ft(_,f))})).apply(this,arguments)}function Ml(){return(Ml=(0,h.Z)(function*(_,f){const g=yield xn(_,"POST","/v1/accounts:signInWithPhoneNumber",ft(_,f));if(g.temporaryProof)throw It(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Ol={USER_NOT_FOUND:"user-not-found"};function Pl(){return(Pl=(0,h.Z)(function*(_,f){return xn(_,"POST","/v1/accounts:signInWithPhoneNumber",ft(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Ol)})).apply(this,arguments)}class So extends fr{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new So({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new So({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function(_,f){return Ao.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function(_,f){return Ml.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function(_,f){return Pl.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:w,verificationCode:x}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:w,code:x}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:w,phoneNumber:x,temporaryProof:P}=f;return w||g||x||P?new So({verificationId:g,verificationCode:w,phoneNumber:x,temporaryProof:P}):null}}class Xs{constructor(f){var g,w,x,P,J,Ce;const Ze=(0,L.zd)((0,L.pd)(f)),st=null!==(g=Ze.apiKey)&&void 0!==g?g:null,gt=null!==(w=Ze.oobCode)&&void 0!==w?w:null,ct=function(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=Ze.mode)&&void 0!==x?x:null);xe(st&&gt&&ct,"argument-error"),this.apiKey=st,this.operation=ct,this.code=gt,this.continueUrl=null!==(P=Ze.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(J=Ze.languageCode)&&void 0!==J?J:null,this.tenantId=null!==(Ce=Ze.tenantId)&&void 0!==Ce?Ce:null}static parseLink(f){const g=function(_){const f=(0,L.zd)((0,L.pd)(_)).link,g=f?(0,L.zd)((0,L.pd)(f)).deep_link_id:null,w=(0,L.zd)((0,L.pd)(_)).deep_link_id;return(w?(0,L.zd)((0,L.pd)(w)).link:null)||w||g||f||_}(f);try{return new Xs(g)}catch(w){return null}}}let Za=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,w){return Jr._fromEmailAndPassword(g,w)}static credentialWithLink(g,w){const x=Xs.parseLink(w);return xe(x,"argument-error"),Jr._fromEmailAndCode(g,x.code,x.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class eo{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class da extends eo{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Ns extends da{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return xe("providerId"in g&&"signInMethod"in g,"argument-error"),Xr._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return xe(f.idToken||f.accessToken,"argument-error"),Xr._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Ns.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Ns.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:w,oauthTokenSecret:x,pendingToken:P,nonce:J,providerId:Ce}=f;if(!w&&!x&&!g&&!P||!Ce)return null;try{return new Ns(Ce)._credential({idToken:g,accessToken:w,nonce:J,pendingToken:P})}catch(Ze){return null}}}let Lu=(()=>{class _ extends da{constructor(){super("facebook.com")}static credential(g){return Xr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(w){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),za=(()=>{class _ extends da{constructor(){super("google.com"),this.addScope("profile")}static credential(g,w){return Xr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:w})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:w,oauthAccessToken:x}=g;if(!w&&!x)return null;try{return _.credential(w,x)}catch(P){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Vu=(()=>{class _ extends da{constructor(){super("github.com")}static credential(g){return Xr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(w){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class xo extends fr{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return Wt(f,this.buildRequest())}_linkToIdToken(f,g){const w=this.buildRequest();return w.idToken=g,Wt(f,w)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Wt(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:x,pendingToken:P}=g;return w&&x&&P&&w===x?new xo(w,P):null}static _create(f,g){return new xo(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let ci=(()=>{class _ extends da{constructor(){super("twitter.com")}static credential(g,w){return Xr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:w})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:w,oauthTokenSecret:x}=g;if(!w||!x)return null;try{return _.credential(w,x)}catch(P){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function to(_,f){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,h.Z)(function*(_,f){return xn(_,"POST","/v1/accounts:signUp",ft(_,f))})).apply(this,arguments)}class Ci{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,w,x=!1){return(0,h.Z)(function*(){const P=yield cn._fromIdTokenResponse(f,w,x),J=ha(w);return new Ci({user:P,providerId:J,_tokenResponse:w,operationType:g})})()}static _forOperation(f,g,w){return(0,h.Z)(function*(){yield f._updateTokensIfNecessary(w,!0);const x=ha(w);return new Ci({user:f,providerId:x,_tokenResponse:w,operationType:g})})()}}function ha(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function no(){return(no=(0,h.Z)(function*(_){var f;const g=zt(_);if(yield g._initializationPromise,null===(f=g.currentUser)||void 0===f?void 0:f.isAnonymous)return new Ci({user:g.currentUser,providerId:null,operationType:"signIn"});const w=yield to(g,{returnSecureToken:!0}),x=yield Ci._fromIdTokenResponse(g,"signIn",w,!0);return yield g._updateCurrentUser(x.user),x})).apply(this,arguments)}class Wa extends L.ZR{constructor(f,g,w,x){var P;super(g.code,g.message),this.operationType=w,this.user=x,this.name="FirebaseError",Object.setPrototypeOf(this,Wa.prototype),this.appName=f.name,this.code=g.code,this.tenantId=null!==(P=f.tenantId)&&void 0!==P?P:void 0,this.serverResponse=g.customData.serverResponse}static _fromErrorAndOperation(f,g,w,x){return new Wa(f,g,w,x)}}function Ro(_,f,g,w){return("reauthenticate"===f?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?Wa._fromErrorAndOperation(_,P,f,w):P})}function kl(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function No(){return(No=(0,h.Z)(function*(_,f){const g=(0,L.m9)(_);yield Ii(!0,g,f);const{providerUserInfo:w}=yield hn(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),x=kl(w||[]);return g.providerData=g.providerData.filter(P=>x.has(P.providerId)),x.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function ro(_,f){return as.apply(this,arguments)}function as(){return(as=(0,h.Z)(function*(_,f,g=!1){const w=yield Cn(_,f._linkToIdToken(_.auth,yield _.getIdToken()),g);return Ci._forOperation(_,"link",w)})).apply(this,arguments)}function Ii(_,f,g){return io.apply(this,arguments)}function io(){return(io=(0,h.Z)(function*(_,f,g){yield Ws(f);const x=!1===_?"provider-already-linked":"no-such-provider";xe(kl(f.providerData).has(g)===_,f.auth,x)})).apply(this,arguments)}function Mo(_,f){return wn.apply(this,arguments)}function wn(){return(wn=(0,h.Z)(function*(_,f,g=!1){const{auth:w}=_,x="reauthenticate";try{const P=yield Cn(_,Ro(w,x,f,_),g);xe(P.idToken,w,"internal-error");const J=et(P.idToken);xe(J,w,"internal-error");const{sub:Ce}=J;return xe(_.uid===Ce,w,"user-mismatch"),Ci._forOperation(_,x,P)}catch(P){throw"auth/user-not-found"===(null==P?void 0:P.code)&&Se(w,"user-mismatch"),P}})).apply(this,arguments)}function Ka(_,f){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,h.Z)(function*(_,f,g=!1){const w="signIn",x=yield Ro(_,w,f),P=yield Ci._fromIdTokenResponse(_,w,x);return g||(yield _._updateCurrentUser(P.user)),P})).apply(this,arguments)}function Ya(_,f){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,h.Z)(function*(_,f){return Ka(zt(_),f)})).apply(this,arguments)}function Fl(_,f){return fa.apply(this,arguments)}function fa(){return(fa=(0,h.Z)(function*(_,f){const g=(0,L.m9)(_);return yield Ii(!1,g,f.providerId),ro(g,f)})).apply(this,arguments)}function pa(_,f){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,h.Z)(function*(_,f){return Mo((0,L.m9)(_),f)})).apply(this,arguments)}function Wc(_,f){return Di.apply(this,arguments)}function Di(){return(Di=(0,h.Z)(function*(_,f){return xn(_,"POST","/v1/accounts:signInWithCustomToken",ft(_,f))})).apply(this,arguments)}function or(){return(or=(0,h.Z)(function*(_,f){const g=zt(_),w=yield Wc(g,{token:f,returnSecureToken:!0}),x=yield Ci._fromIdTokenResponse(g,"signIn",w);return yield g._updateCurrentUser(x.user),x})).apply(this,arguments)}class oo{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?Po._fromServerResponse(f,g):Se(f,"internal-error")}}class Po extends oo{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new Po(g)}}function ga(_,f,g){var w;xe((null===(w=g.url)||void 0===w?void 0:w.length)>0,_,"invalid-continue-uri"),xe(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(xe(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(xe(g.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function ko(){return(ko=(0,h.Z)(function*(_,f,g){const w=(0,L.m9)(_),x={requestType:"PASSWORD_RESET",email:f};g&&ga(w,x,g),yield un(w,x)})).apply(this,arguments)}function at(){return(at=(0,h.Z)(function*(_,f,g){yield In((0,L.m9)(_),{oobCode:f,newPassword:g})})).apply(this,arguments)}function us(){return(us=(0,h.Z)(function*(_,f){yield ua((0,L.m9)(_),{oobCode:f})})).apply(this,arguments)}function ao(_,f){return uo.apply(this,arguments)}function uo(){return(uo=(0,h.Z)(function*(_,f){const g=(0,L.m9)(_),w=yield In(g,{oobCode:f}),x=w.requestType;switch(xe(x,g,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":xe(w.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":xe(w.mfaInfo,g,"internal-error");default:xe(w.email,g,"internal-error")}let P=null;return w.mfaInfo&&(P=oo._fromServerResponse(zt(g),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:P},operation:x}})).apply(this,arguments)}function ls(){return(ls=(0,h.Z)(function*(_,f){const{data:g}=yield ao((0,L.m9)(_),f);return g.email})).apply(this,arguments)}function Oe(){return(Oe=(0,h.Z)(function*(_,f,g){const w=zt(_),x=yield to(w,{returnSecureToken:!0,email:f,password:g}),P=yield Ci._fromIdTokenResponse(w,"signIn",x);return yield w._updateCurrentUser(P.user),P})).apply(this,arguments)}function Nn(){return(Nn=(0,h.Z)(function*(_,f,g){const w=(0,L.m9)(_),x={requestType:"EMAIL_SIGNIN",email:f};xe(g.handleCodeInApp,w,"argument-error"),g&&ga(w,x,g),yield wt(w,x)})).apply(this,arguments)}function di(){return(di=(0,h.Z)(function*(_,f,g){const w=(0,L.m9)(_),x=Za.credentialWithLink(f,g||nt());return xe(x._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Ya(w,x)})).apply(this,arguments)}function lo(_,f){return cs.apply(this,arguments)}function cs(){return(cs=(0,h.Z)(function*(_,f){return Ot(_,"POST","/v1/accounts:createAuthUri",ft(_,f))})).apply(this,arguments)}function Ja(){return(Ja=(0,h.Z)(function*(_,f){const w={identifier:f,continueUri:Vt()?nt():"http://localhost"},{signinMethods:x}=yield lo((0,L.m9)(_),w);return x||[]})).apply(this,arguments)}function Ti(){return(Ti=(0,h.Z)(function*(_,f){const g=(0,L.m9)(_),x={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&ga(g.auth,x,f);const{email:P}=yield Li(g.auth,x);P!==_.email&&(yield _.reload())})).apply(this,arguments)}function mr(){return(mr=(0,h.Z)(function*(_,f,g){const w=(0,L.m9)(_),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};g&&ga(w.auth,P,g);const{email:J}=yield Nl(w.auth,P);J!==_.email&&(yield _.reload())})).apply(this,arguments)}function ma(_,f){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,h.Z)(function*(_,f){return Ot(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ya(){return(ya=(0,h.Z)(function*(_,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const w=(0,L.m9)(_),P={idToken:yield w.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},J=yield Cn(w,ma(w.auth,P));w.displayName=J.displayName||null,w.photoURL=J.photoUrl||null;const Ce=w.providerData.find(({providerId:Ze})=>"password"===Ze);Ce&&(Ce.displayName=w.displayName,Ce.photoURL=w.photoURL),yield w._updateTokensIfNecessary(J)})).apply(this,arguments)}function _a(_,f,g){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,h.Z)(function*(_,f,g){const{auth:w}=_,P={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(P.email=f),g&&(P.password=g);const J=yield Cn(_,To(w,P));yield _._updateTokensIfNecessary(J,!0)})).apply(this,arguments)}class co{constructor(f,g,w={}){this.isNewUser=f,this.providerId=g,this.profile=w}}class Bu extends co{constructor(f,g,w,x){super(f,g,w),this.username=x}}class Yc extends co{constructor(f,g){super(f,"facebook.com",g)}}class jl extends Bu{constructor(f,g){super(f,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class ho extends co{constructor(f,g){super(f,"google.com",g)}}class va extends Bu{constructor(f,g,w){super(f,"twitter.com",g,w)}}function nu(_){const{user:f,_tokenResponse:g}=_;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function(_){var f,g;if(!_)return null;const{providerId:w}=_,x=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},P=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!w&&(null==_?void 0:_.idToken)){const J=null===(g=null===(f=et(_.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(J)return new co(P,"anonymous"!==J&&"custom"!==J?J:null)}if(!w)return null;switch(w){case"facebook.com":return new Yc(P,x);case"github.com":return new jl(P,x);case"google.com":return new ho(P,x);case"twitter.com":return new va(P,x,_.screenName||null);case"custom":case"anonymous":return new co(P,null);default:return new co(P,w,x)}}(g)}class ds{constructor(f,g){this.type=f,this.credential=g}static _fromIdtoken(f){return new ds("enroll",f)}static _fromMfaPendingCredential(f){return new ds("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,w;if(null==f?void 0:f.multiFactorSession){if(null===(g=f.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return ds._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(w=f.multiFactorSession)||void 0===w?void 0:w.idToken)return ds._fromIdtoken(f.multiFactorSession.idToken)}return null}}class ju{constructor(f,g,w){this.session=f,this.hints=g,this.signInResolver=w}static _fromError(f,g){const w=zt(f),x=(g.serverResponse.mfaInfo||[]).map(J=>oo._fromServerResponse(w,J));xe(g.serverResponse.mfaPendingCredential,w,"internal-error");const P=ds._fromMfaPendingCredential(g.serverResponse.mfaPendingCredential);return new ju(P,x,function(){var J=(0,h.Z)(function*(Ce){const Ze=yield Ce._process(w,P);delete g.serverResponse.mfaInfo,delete g.serverResponse.mfaPendingCredential;const st=Object.assign(Object.assign({},g.serverResponse),{idToken:Ze.idToken,refreshToken:Ze.refreshToken});switch(g.operationType){case"signIn":const gt=yield Ci._fromIdTokenResponse(w,g.operationType,st);return yield w._updateCurrentUser(gt.user),gt;case"reauthenticate":return xe(g.user,w,"internal-error"),Ci._forOperation(g.user,g.operationType,st);default:Se(w,"internal-error")}});return function(Ce){return J.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,h.Z)(function*(){return g.signInResolver(f)})()}}function Hl(_,f){return Ot(_,"POST","/v2/accounts/mfaEnrollment:start",ft(_,f))}class Ps{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(w=>oo._fromServerResponse(f.auth,w)))})}static _fromUser(f){return new Ps(f)}getSession(){var f=this;return(0,h.Z)(function*(){return ds._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,g){var w=this;return(0,h.Z)(function*(){const x=f,P=yield w.getSession(),J=yield Cn(w.user,x._process(w.user.auth,P,g));return yield w.user._updateTokensIfNecessary(J),w.user.reload()})()}unenroll(f){var g=this;return(0,h.Z)(function*(){const w="string"==typeof f?f:f.uid,x=yield g.user.getIdToken(),P=yield Cn(g.user,function(_,f){return Ot(_,"POST","/v2/accounts/mfaEnrollment:withdraw",ft(_,f))}(g.user.auth,{idToken:x,mfaEnrollmentId:w}));g.enrolledFactors=g.enrolledFactors.filter(({uid:J})=>J!==w),yield g.user._updateTokensIfNecessary(P);try{yield g.user.reload()}catch(J){if("auth/user-token-expired"!==J.code)throw J}})()}}const fo=new WeakMap,hi="__sak";class hs{constructor(f,g){this.storage=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(hi,"1"),this.storage.removeItem(hi),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}}const ke=(()=>{class _ extends hs{constructor(){super(window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const _=(0,L.z$)();return Pu(_)||Qr(_)}()&&function(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=ns(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const x=this.storage.getItem(w),P=this.localCache[w];x!==P&&g(w,P,x)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys((Ce,Ze,st)=>{this.notifyListeners(Ce,st)});const x=g.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ce=this.storage.getItem(x);if(g.newValue!==Ce)null!==g.newValue?this.storage.setItem(x,g.newValue):this.storage.removeItem(x);else if(this.localCache[x]===g.newValue&&!w)return}const P=()=>{const Ce=this.storage.getItem(x);!w&&this.localCache[x]===Ce||this.notifyListeners(x,Ce)},J=this.storage.getItem(x);(0,L.w1)()&&10===document.documentMode&&J!==g.newValue&&g.newValue!==g.oldValue?setTimeout(P,10):P()}notifyListeners(g,w){this.localCache[g]=w;const x=this.listeners[g];if(x)for(const P of Array.from(x))P(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var x=()=>super._set,P=this;return(0,h.Z)(function*(){yield x().call(P,g,w),P.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,x=this;return(0,h.Z)(function*(){const P=yield w().call(x,g);return x.localCache[g]=JSON.stringify(P),P})()}_remove(g){var w=()=>super._remove,x=this;return(0,h.Z)(function*(){yield w().call(x,g),delete x.localCache[g]})()}}return _.type="LOCAL",_})(),Kt=(()=>{class _ extends hs{constructor(){super(window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return _.type="SESSION",_})();let Mn=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const w=this.receivers.find(P=>P.isListeningto(g));if(w)return w;const x=new _(g);return this.receivers.push(x),x}isListeningto(g){return this.eventTarget===g}handleEvent(g){var w=this;return(0,h.Z)(function*(){const x=g,{eventId:P,eventType:J,data:Ce}=x.data,Ze=w.handlersMap[J];if(!(null==Ze?void 0:Ze.size))return;x.ports[0].postMessage({status:"ack",eventId:P,eventType:J});const st=Array.from(Ze).map(function(){var ct=(0,h.Z)(function*(Xn){return Xn(x.origin,Ce)});return function(Xn){return ct.apply(this,arguments)}}()),gt=yield function(_){return Promise.all(_.map(function(){var f=(0,h.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(w){return{fulfilled:!1,reason:w}}});return function(g){return f.apply(this,arguments)}}()))}(st);x.ports[0].postMessage({status:"done",eventId:P,eventType:J,response:gt})})()}_subscribe(g,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(w)}_unsubscribe(g,w){this.handlersMap[g]&&w&&this.handlersMap[g].delete(w),(!w||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Ui(_="",f=10){let g="";for(let w=0;w<f;w++)g+=Math.floor(10*Math.random());return _+g}class ql{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,w=50){var x=this;return(0,h.Z)(function*(){const P="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let J,Ce;return new Promise((Ze,st)=>{const gt=Ui("",20);P.port1.start();const ct=setTimeout(()=>{st(new Error("unsupported_event"))},w);Ce={messageChannel:P,onMessage(Xn){const gi=Xn;if(gi.data.eventId===gt)switch(gi.data.status){case"ack":clearTimeout(ct),J=setTimeout(()=>{st(new Error("timeout"))},3e3);break;case"done":clearTimeout(J),Ze(gi.data.response);break;default:clearTimeout(ct),clearTimeout(J),st(new Error("invalid_response"))}}},x.handlers.add(Ce),P.port1.addEventListener("message",Ce.onMessage),x.target.postMessage({eventType:f,eventId:gt,data:g},[P.port2])}).finally(()=>{Ce&&x.removeMessageHandler(Ce)})})()}}function On(){return window}function Gl(){return void 0!==On().WorkerGlobalScope&&"function"==typeof On().importScripts}function Zl(){return(Zl=(0,h.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const bh="firebaseLocalStorageDb",Wu="firebaseLocalStorage",ru="fbase_key";class Wl{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function iu(_,f){return _.transaction([Wu],f?"readwrite":"readonly").objectStore(Wu)}function qn(){const _=indexedDB.open(bh,1);return new Promise((f,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const w=_.result;try{w.createObjectStore(Wu,{keyPath:ru})}catch(x){g(x)}}),_.addEventListener("success",(0,h.Z)(function*(){const w=_.result;w.objectStoreNames.contains(Wu)?f(w):(w.close(),yield function(){const _=indexedDB.deleteDatabase(bh);return new Wl(_).toPromise()}(),f(yield qn()))}))})}function ed(_,f,g){return yr.apply(this,arguments)}function yr(){return(yr=(0,h.Z)(function*(_,f,g){const w=iu(_,!0).put({[ru]:f,value:g});return new Wl(w).toPromise()})).apply(this,arguments)}function ht(){return(ht=(0,h.Z)(function*(_,f){const g=iu(_,!1).get(f),w=yield new Wl(g).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Vn(_,f){const g=iu(_,!0).delete(f);return new Wl(g).toPromise()}const ba=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,h.Z)(function*(){return g.db||(g.db=yield qn()),g.db})()}_withRetries(g){var w=this;return(0,h.Z)(function*(){let x=0;for(;;)try{const P=yield w._openDb();return yield g(P)}catch(P){if(x++>3)throw P;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,h.Z)(function*(){return Gl()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,h.Z)(function*(){g.receiver=Mn._getInstance(Gl()?self:null),g.receiver._subscribe("keyChanged",function(){var w=(0,h.Z)(function*(x,P){return{keyProcessed:(yield g._poll()).includes(P.key)}});return function(x,P){return w.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var w=(0,h.Z)(function*(x,P){return["keyChanged"]});return function(x,P){return w.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,h.Z)(function*(){var w,x;if(g.activeServiceWorker=yield function(){return Zl.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new ql(g.activeServiceWorker);const P=yield g.sender._send("ping",{},800);!P||(null===(w=P[0])||void 0===w?void 0:w.fulfilled)&&(null===(x=P[0])||void 0===x?void 0:x.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var w=this;return(0,h.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:g},w.serviceWorkerReceiverAvailable?800:50)}catch(x){}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const g=yield qn();return yield ed(g,hi,"1"),yield Vn(g,hi),!0}catch(g){}return!1})()}_withPendingWrite(g){var w=this;return(0,h.Z)(function*(){w.pendingWrites++;try{yield g()}finally{w.pendingWrites--}})()}_set(g,w){var x=this;return(0,h.Z)(function*(){return x._withPendingWrite((0,h.Z)(function*(){return yield x._withRetries(P=>ed(P,g,w)),x.localCache[g]=w,x.notifyServiceWorker(g)}))})()}_get(g){var w=this;return(0,h.Z)(function*(){const x=yield w._withRetries(P=>function(_,f){return ht.apply(this,arguments)}(P,g));return w.localCache[g]=x,x})()}_remove(g){var w=this;return(0,h.Z)(function*(){return w._withPendingWrite((0,h.Z)(function*(){return yield w._withRetries(x=>Vn(x,g)),delete w.localCache[g],w.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,h.Z)(function*(){const w=yield g._withRetries(J=>{const Ce=iu(J,!1).getAll();return new Wl(Ce).toPromise()});if(!w)return[];if(0!==g.pendingWrites)return[];const x=[],P=new Set;for(const{fbase_key:J,value:Ce}of w)P.add(J),JSON.stringify(g.localCache[J])!==JSON.stringify(Ce)&&(g.notifyListeners(J,Ce),x.push(J));for(const J of Object.keys(g.localCache))g.localCache[J]&&!P.has(J)&&(g.notifyListeners(J,null),x.push(J));return x})()}notifyListeners(g,w){this.localCache[g]=w;const x=this.listeners[g];if(x)for(const P of Array.from(x))P(w)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Ku(_,f){return Ot(_,"POST","/v2/accounts/mfaSignIn:start",ft(_,f))}function nd(){return(nd=(0,h.Z)(function*(_){return(yield Ot(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Tt(_){return new Promise((f,g)=>{const w=document.createElement("script");w.setAttribute("src",_),w.onload=f,w.onerror=x=>{const P=je("internal-error");P.customData=x,g(P)},w.type="text/javascript",w.charset="UTF-8",function(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(w)})}function Uo(_){return`__${_}${Math.floor(1e6*Math.random())}`}const po=1e12;class Yl{constructor(f){this.auth=f,this.counter=po,this._widgets=new Map}render(f,g){const w=this.counter;return this._widgets.set(w,new Ih(f,this.auth.name,g||{})),this.counter++,w}reset(f){var g;const w=f||po;null===(g=this._widgets.get(w))||void 0===g||g.delete(),this._widgets.delete(w)}getResponse(f){var g;return(null===(g=this._widgets.get(f||po))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,h.Z)(function*(){var w;return null===(w=g._widgets.get(f||po))||void 0===w||w.execute(),""})()}}class Ih{constructor(f,g,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof f?document.getElementById(f):f;xe(x,"argument-error",{appName:g}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(_){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<50;w++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}();const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Bo=Uo("rcb"),jo=new Fn(3e4,6e4);class Jl{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!On().grecaptcha}load(f,g=""){return xe((_=g).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_),f,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(On().grecaptcha):new Promise((w,x)=>{const P=On().setTimeout(()=>{x(je(f,"network-request-failed"))},jo.get());On()[Bo]=()=>{On().clearTimeout(P),delete On()[Bo];const Ce=On().grecaptcha;if(!Ce)return void x(je(f,"internal-error"));const Ze=Ce.render;Ce.render=(st,gt)=>{const ct=Ze(st,gt);return this.counter++,ct},this.hostLanguage=g,w(Ce)},Tt(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:Bo,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(P),x(je(f,"internal-error"))})});var _}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!On().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ji{load(f){return(0,h.Z)(function*(){return new Yl(f)})()}clearedOneInstance(){}}const Xl="recaptcha",$o={theme:"light",type:"image"};class Ft{constructor(f,g=Object.assign({},$o),w){this.parameters=g,this.type=Xl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=zt(w),this.isInvisible="invisible"===this.parameters.size,xe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof f?document.getElementById(f):f;xe(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ji:new Jl,this.validateStartingState()}verify(){var f=this;return(0,h.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),w=f.getAssertedRecaptcha();return w.getResponse(g)||new Promise(P=>{const J=Ce=>{!Ce||(f.tokenChangeListeners.delete(J),P(Ce))};f.tokenChangeListeners.add(J),f.isInvisible&&w.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){xe(!this.parameters.sitekey,this.auth,"argument-error"),xe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),xe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(w=>w(g)),"function"==typeof f)f(g);else if("string"==typeof f){const w=On()[f];"function"==typeof w&&w(g)}}}assertNotDestroyed(){xe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,h.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const w=document.createElement("div");g.appendChild(w),g=w}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,h.Z)(function*(){xe(Vt()&&!Gl(),f.auth,"internal-error"),yield function(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function(_){return nd.apply(this,arguments)}(f.auth);xe(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return xe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class gs{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=So._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function Qu(){return(Qu=(0,h.Z)(function*(_,f,g){const w=zt(_),x=yield Xu(w,f,(0,L.m9)(g));return new gs(x,P=>Ya(w,P))})).apply(this,arguments)}function Ju(){return(Ju=(0,h.Z)(function*(_,f,g){const w=(0,L.m9)(_);yield Ii(!1,w,"phone");const x=yield Xu(w.auth,f,(0,L.m9)(g));return new gs(x,P=>Fl(w,P))})).apply(this,arguments)}function Ea(){return(Ea=(0,h.Z)(function*(_,f,g){const w=(0,L.m9)(_),x=yield Xu(w.auth,f,(0,L.m9)(g));return new gs(x,P=>pa(w,P))})).apply(this,arguments)}function Xu(_,f,g){return el.apply(this,arguments)}function el(){return(el=(0,h.Z)(function*(_,f,g){var w;const x=yield g.verify();try{let P;if(xe("string"==typeof x,_,"argument-error"),xe(g.type===Xl,_,"argument-error"),P="string"==typeof f?{phoneNumber:f}:f,"session"in P){const J=P.session;if("phoneNumber"in P)return xe("enroll"===J.type,_,"internal-error"),(yield Hl(_,{idToken:J.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{xe("signin"===J.type,_,"internal-error");const Ce=(null===(w=P.multiFactorHint)||void 0===w?void 0:w.uid)||P.multiFactorUid;return xe(Ce,_,"missing-multi-factor-info"),(yield Ku(_,{mfaPendingCredential:J.credential,mfaEnrollmentId:Ce,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:J}=yield gr(_,{phoneNumber:P.phoneNumber,recaptchaToken:x});return J}}finally{g._reset()}})).apply(this,arguments)}function rd(){return(rd=(0,h.Z)(function*(_,f){yield ro((0,L.m9)(_),f)})).apply(this,arguments)}let ou=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=zt(g)}verifyPhoneNumber(g,w){return Xu(this.auth,g,(0,L.m9)(w))}static credential(g,w){return So._fromVerification(g,w)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:w,temporaryProof:x}=g;return w&&x?So._fromTokenResponse(w,x):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Pn(_,f){return f?he(f):(xe(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class go extends fr{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Wt(f,this._buildIdpRequest())}_linkToIdToken(f,g){return Wt(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return Wt(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function ni(_){return Ka(_.auth,new go(_),_.bypassAuthState)}function Dn(_){const{auth:f,user:g}=_;return xe(g,f,"internal-error"),Mo(g,new go(_),_.bypassAuthState)}function ec(_){return au.apply(this,arguments)}function au(){return(au=(0,h.Z)(function*(_){const{auth:f,user:g}=_;return xe(g,f,"internal-error"),ro(g,new go(_),_.bypassAuthState)})).apply(this,arguments)}class Ca{constructor(f,g,w,x,P=!1){this.auth=f,this.resolver=w,this.user=x,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,h.Z)(function*(w,x){f.pendingPromise={resolve:w,reject:x};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(P){f.reject(P)}});return function(w,x){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,h.Z)(function*(){const{urlResponse:w,sessionId:x,postBody:P,tenantId:J,error:Ce,type:Ze}=f;if(Ce)return void g.reject(Ce);const st={auth:g.auth,requestUri:w,sessionId:x,tenantId:J||void 0,postBody:P||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ze)(st))}catch(gt){g.reject(gt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return ni;case"linkViaPopup":case"linkViaRedirect":return ec;case"reauthViaPopup":case"reauthViaRedirect":return Dn;default:Se(this.auth,"internal-error")}}resolve(f){pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const id=new Fn(2e3,1e4);function xi(){return(xi=(0,h.Z)(function*(_,f,g){const w=zt(_);mt(_,f,eo);const x=Pn(w,g);return new tc(w,"signInViaPopup",f,x).executeNotNull()})).apply(this,arguments)}function qi(){return(qi=(0,h.Z)(function*(_,f,g){const w=(0,L.m9)(_);mt(w.auth,f,eo);const x=Pn(w.auth,g);return new tc(w.auth,"reauthViaPopup",f,x,w).executeNotNull()})).apply(this,arguments)}function Nr(){return(Nr=(0,h.Z)(function*(_,f,g){const w=(0,L.m9)(_);mt(w.auth,f,eo);const x=Pn(w.auth,g);return new tc(w.auth,"linkViaPopup",f,x,w).executeNotNull()})).apply(this,arguments)}let tc=(()=>{class _ extends Ca{constructor(g,w,x,P,J){super(g,w,P,J),this.provider=x,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,h.Z)(function*(){const w=yield g.execute();return xe(w,g.auth,"internal-error"),w})()}onExecution(){var g=this;return(0,h.Z)(function*(){pe(1===g.filter.length,"Popup operations only handle one event");const w=Ui();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],w),g.authWindow.associatedEvent=w,g.resolver._originValidation(g.auth).catch(x=>{g.reject(x)}),g.resolver._isIframeWebStorageSupported(g.auth,x=>{x||g.reject(je(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(je(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var w,x;this.pollId=(null===(x=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===x?void 0:x.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(je(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,id.get())};g()}}return _.currentPopupAction=null,_})();const sd=new Map;class np extends Ca{constructor(f,g,w=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,h.Z)(function*(){let w=sd.get(g.auth._key());if(!w){try{const P=(yield function(_,f){return I.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;w=()=>Promise.resolve(P)}catch(x){w=()=>Promise.reject(x)}sd.set(g.auth._key(),w)}return w()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,w=this;return(0,h.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(w,f);if("unknown"!==f.type){if(f.eventId){const x=yield w.auth._redirectUserForId(f.eventId);if(x)return w.user=x,g().call(w,f);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function I(){return(I=(0,h.Z)(function*(_,f){const g=be(f),w="true"===(yield ne(_)._get(g));return yield ne(_)._remove(g),w})).apply(this,arguments)}function A(_,f){return M.apply(this,arguments)}function M(){return(M=(0,h.Z)(function*(_,f){return ne(_)._set(be(f),"true")})).apply(this,arguments)}function ne(_){return he(_._redirectPersistence)}function be(_){return gn("pendingRedirect",_.config.apiKey,_.name)}function Ye(){return(Ye=(0,h.Z)(function*(_,f,g){const w=zt(_);mt(_,f,eo);const x=Pn(w,g);return yield A(x,w),x._openRedirect(w,f,"signInViaRedirect")})).apply(this,arguments)}function _r(){return(_r=(0,h.Z)(function*(_,f,g){const w=(0,L.m9)(_);mt(w.auth,f,eo);const x=Pn(w.auth,g);yield A(x,w.auth);const P=yield nc(w);return x._openRedirect(w.auth,f,"reauthViaRedirect",P)})).apply(this,arguments)}function Gi(){return(Gi=(0,h.Z)(function*(_,f,g){const w=(0,L.m9)(_);mt(w.auth,f,eo);const x=Pn(w.auth,g);yield Ii(!1,w,f.providerId),yield A(x,w.auth);const P=yield nc(w);return x._openRedirect(w.auth,f,"linkViaRedirect",P)})).apply(this,arguments)}function Zi(){return(Zi=(0,h.Z)(function*(_,f){return yield zt(_)._initializationPromise,ks(_,f,!1)})).apply(this,arguments)}function ks(_,f){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,h.Z)(function*(_,f,g=!1){const w=zt(_),x=Pn(w,f),J=yield new np(w,x,g).execute();return J&&!g&&(delete J.user._redirectEventId,yield w._persistUserIfCurrent(J.user),yield w._setRedirectUser(null,f)),J})).apply(this,arguments)}function nc(_){return ad.apply(this,arguments)}function ad(){return(ad=(0,h.Z)(function*(_){const f=Ui(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class Mr{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(f,w)&&(g=!0,this.sendToConsumer(f,w),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tl(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var w;if(f.error&&!tl(f)){const x=(null===(w=f.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";g.onError(je(this.auth,x))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const w=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&w}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ho(f))}saveEventToCache(f){this.cachedEventUids.add(Ho(f)),this.lastProcessedEventTime=Date.now()}}function Ho(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function tl({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===(null==f?void 0:f.code)}function ur(_){return Ah.apply(this,arguments)}function Ah(){return(Ah=(0,h.Z)(function*(_,f={}){return Ot(_,"GET","/v1/projects",f)})).apply(this,arguments)}const rp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qo=/^https?/;function ld(){return(ld=(0,h.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield ur(_);for(const g of f)try{if(Sh(g))return}catch(w){}Se(_,"unauthorized-domain")})).apply(this,arguments)}function Sh(_){const f=nt(),{protocol:g,hostname:w}=new URL(f);if(_.startsWith("chrome-extension://")){const J=new URL(_);return""===J.hostname&&""===w?"chrome-extension:"===g&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&J.hostname===w}if(!qo.test(g))return!1;if(rp.test(_))return w===_;const x=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(w)}const xh=new Fn(3e4,6e4);function tm(){const _=On().___jsl;if(null==_?void 0:_.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let Ls=null;function cd(_){return Ls=Ls||function(_){return new Promise((f,g)=>{var w,x,P;function J(){tm(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{tm(),g(je(_,"network-request-failed"))},timeout:xh.get()})}if(null===(x=null===(w=On().gapi)||void 0===w?void 0:w.iframes)||void 0===x?void 0:x.Iframe)f(gapi.iframes.getContext());else{if(!(null===(P=On().gapi)||void 0===P?void 0:P.load)){const Ce=Uo("iframefcb");return On()[Ce]=()=>{gapi.load?J():g(je(_,"network-request-failed"))},Tt(`https://apis.google.com/js/api.js?onload=${Ce}`)}J()}}).catch(f=>{throw Ls=null,f})}(_),Ls}const Da=new Fn(5e3,15e3),op={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},rc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rh(_){const f=_.config;xe(f.authDomain,_,"auth-domain-config-required");const g=f.emulator?on(f,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,w={apiKey:f.apiKey,appName:_.name,v:ce.SDK_VERSION},x=rc.get(_.config.apiHost);x&&(w.eid=x);const P=_._getFrameworks();return P.length&&(w.fw=P.join(",")),`${g}?${(0,L.xO)(w).slice(1)}`}function br(){return(br=(0,h.Z)(function*(_){const f=yield cd(_),g=On().gapi;return xe(g,_,"internal-error"),f.open({where:document.body,url:Rh(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:op,dontclear:!0},w=>new Promise(function(){var x=(0,h.Z)(function*(P,J){yield w.restyle({setHideOnLeave:!1});const Ce=je(_,"network-request-failed"),Ze=On().setTimeout(()=>{J(Ce)},Da.get());function st(){On().clearTimeout(Ze),P(w)}w.ping(st).then(st,()=>{J(Ce)})});return function(P,J){return x.apply(this,arguments)}}()))})).apply(this,arguments)}const Qn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class lp{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function ic(_,f,g,w,x,P){xe(_.config.authDomain,_,"auth-domain-config-required"),xe(_.config.apiKey,_,"invalid-api-key");const J={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:w,v:ce.SDK_VERSION,eventId:x};if(f instanceof eo){f.setDefaultLanguage(_.languageCode),J.providerId=f.providerId||"",(0,L.xb)(f.getCustomParameters())||(J.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Ze,st]of Object.entries(P||{}))J[Ze]=st}if(f instanceof da){const Ze=f.getScopes().filter(st=>""!==st);Ze.length>0&&(J.scopes=Ze.join(","))}_.tenantId&&(J.tid=_.tenantId);const Ce=J;for(const Ze of Object.keys(Ce))void 0===Ce[Ze]&&delete Ce[Ze];return`${function({config:_}){return _.emulator?on(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,L.xO)(Ce).slice(1)}`}const Ta="webStorageSupport";class lu extends class{constructor(f){this.factorId=f}_process(f,g,w){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,w);case"signin":return this._finalizeSignIn(f,g.credential);default:return ae("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new lu(f)}_finalizeEnroll(f,g,w){return function(_,f){return Ot(_,"POST","/v2/accounts/mfaEnrollment:finalize",ft(_,f))}(f,{idToken:g,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function(_,f){return Ot(_,"POST","/v2/accounts/mfaSignIn:finalize",ft(_,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Nh=(()=>{class _{constructor(){}static assertion(g){return lu._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var _,hp="@firebase/auth";class fp{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,h.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(w=>{var x;f((null===(x=w)||void 0===x?void 0:x.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);!g||(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function sl(){return window}function mo(){return(mo=(0,h.Z)(function*(_,f,g){var w;const{BuildInfo:x}=sl();pe(f.sessionId,"AuthEvent did not contain a session ID");const P=yield om(f.sessionId),J={};return Qr()?J.ibi=x.packageName:Ss()?J.apn=x.packageName:Se(_,"operation-not-supported-in-this-environment"),x.displayName&&(J.appDisplayName=x.displayName),J.sessionId=P,ic(_,g,f.type,void 0,null!==(w=f.eventId)&&void 0!==w?w:void 0,J)})).apply(this,arguments)}function Go(){return(Go=(0,h.Z)(function*(_){const{BuildInfo:f}=sl(),g={};Qr()?g.iosBundleId=f.packageName:Ss()?g.androidPackageName=f.packageName:Se(_,"operation-not-supported-in-this-environment"),yield ur(_,g)})).apply(this,arguments)}function Oh(){return(Oh=(0,h.Z)(function*(_,f,g){const{cordova:w}=sl();let x=()=>{};try{yield new Promise((P,J)=>{let Ce=null;function Ze(){var ct;P();const Xn=null===(ct=w.plugins.browsertab)||void 0===ct?void 0:ct.close;"function"==typeof Xn&&Xn(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function st(){Ce||(Ce=window.setTimeout(()=>{J(je(_,"redirect-cancelled-by-user"))},2e3))}function gt(){"visible"===(null==document?void 0:document.visibilityState)&&st()}f.addPassiveListener(Ze),document.addEventListener("resume",st,!1),Ss()&&document.addEventListener("visibilitychange",gt,!1),x=()=>{f.removePassiveListener(Ze),document.removeEventListener("resume",st,!1),document.removeEventListener("visibilitychange",gt,!1),Ce&&window.clearTimeout(Ce)}})}finally{x()}})).apply(this,arguments)}function om(_){return $r.apply(this,arguments)}function $r(){return($r=(0,h.Z)(function*(_){const f=am(_),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(x=>x.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function am(_){if(pe(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const f=new ArrayBuffer(_.length),g=new Uint8Array(f);for(let w=0;w<_.length;w++)g[w]=_.charCodeAt(w);return g}_="Browser",(0,ce._registerComponent)(new Ie.wA("auth",(f,{options:g})=>{const w=f.getProvider("app").getImmediate(),{apiKey:x,authDomain:P}=w.options;return(J=>{xe(x&&!x.includes(":"),"invalid-api-key",{appName:J.name}),xe(!(null==P?void 0:P.includes(":")),"argument-error",{appName:J.name});const Ce={apiKey:x,authDomain:P,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rr(_)},Ze=new Rl(J,Ce);return function(_,f){const g=(null==f?void 0:f.persistence)||[],w=(Array.isArray(g)?g:[g]).map(he);(null==f?void 0:f.errorMap)&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(w,null==f?void 0:f.popupRedirectResolver)}(Ze,g),Ze})(w)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,w)=>{f.getProvider("auth-internal").initialize()})),(0,ce._registerComponent)(new Ie.wA("auth-internal",f=>{const g=zt(f.getProvider("auth").getImmediate());return new fp(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ce.registerVersion)(hp,"0.18.3",void 0),(0,ce.registerVersion)(hp,"0.18.3","esm2017");class Ph extends Mr{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,h.Z)(function*(){yield f.initPromise})()}}function gp(_){return du.apply(this,arguments)}function du(){return(du=(0,h.Z)(function*(_){const f=yield Aa()._get(uc(_));return f&&(yield Aa()._remove(uc(_))),f})).apply(this,arguments)}function Vs(){const _=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const w=Math.floor(Math.random()*f.length);_.push(f.charAt(w))}return _.join("")}function Aa(){return he(ke)}function uc(_){return gn("authEvent",_.config.apiKey,_.name)}function kh(_){if(!(null==_?void 0:_.includes("?")))return{};const[f,...g]=_.split("?");return(0,L.zd)(g.join("?"))}function dc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:je("no-auth-event")}}function hu(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function md(_=(0,L.z$)()){return!("file:"!==hu()&&"ionic:"!==hu()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function fc(){try{const _=self.localStorage,f=Ui();if(_)return _.setItem(f,"1"),_.removeItem(f),!function(_=(0,L.z$)()){return(0,L.w1)()&&11===(null==document?void 0:document.documentMode)||function(_=(0,L.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,L.hl)()}catch(_){return pu()&&(0,L.hl)()}return!1}function pu(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function kn(){return("http:"===hu()||"https:"===hu()||(0,L.ru)()||md())&&!((0,L.b$)()||(0,L.UG)())&&fc()&&!pu()}function gu(){return md()&&"undefined"!=typeof document}function _d(){return(_d=(0,h.Z)(function*(){return!!gu()&&new Promise(_=>{const f=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),_(!0)})})})).apply(this,arguments)}const Er={LOCAL:"local",NONE:"none",SESSION:"session"},ms=xe,vd="persistence";function pc(_){return Vh.apply(this,arguments)}function Vh(){return(Vh=(0,h.Z)(function*(_){yield _._initializationPromise;const f=Uh(),g=gn(vd,_.config.apiKey,_.name);(null==f?void 0:f.sessionStorage)&&f.sessionStorage.setItem(g,_._getPersistence())})).apply(this,arguments)}function Uh(){return"undefined"!=typeof window?window:null}const wd=xe;class Jn{constructor(){this.browserResolver=he(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Kt,this._completeRedirectFn=ks}_openPopup(f,g,w,x){var P=this;return(0,h.Z)(function*(){var J;pe(null===(J=P.eventManagers[f._key()])||void 0===J?void 0:J.manager,"_initialize() not called before _openPopup()");const Ce=ic(f,g,w,nt(),x);return function(_,f,g,w=500,x=600){const P=Math.max((window.screen.availHeight-x)/2,0).toString(),J=Math.max((window.screen.availWidth-w)/2,0).toString();let Ce="";const Ze=Object.assign(Object.assign({},Qn),{width:w.toString(),height:x.toString(),top:P,left:J}),st=(0,L.z$)().toLowerCase();g&&(Ce=ia(st)?"_blank":g),vt(st)&&(f=f||"http://localhost",Ze.scrollbars="yes");const gt=Object.entries(Ze).reduce((Xn,[gi,mi])=>`${Xn}${gi}=${mi},`,"");if(function(_=(0,L.z$)()){var f;return Qr(_)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(st)&&"_self"!==Ce)return function(_,f){const g=document.createElement("a");g.href=_,g.target=f;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(f||"",Ce),new lp(null);const ct=window.open(f||"",Ce,gt);xe(ct,_,"popup-blocked");try{ct.focus()}catch(Xn){}return new lp(ct)}(f,Ce,Ui())})()}_openRedirect(f,g,w,x){var P=this;return(0,h.Z)(function*(){return yield P._originValidation(f),_=ic(f,g,w,nt(),x),On().location.href=_,new Promise(()=>{});var _})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:x,promise:P}=this.eventManagers[g];return x?Promise.resolve(x):(pe(P,"If manager is not set, promise should be"),P)}const w=this.initAndGetManager(f);return this.eventManagers[g]={promise:w},w}initAndGetManager(f){var g=this;return(0,h.Z)(function*(){const w=yield function(_){return br.apply(this,arguments)}(f),x=new Mr(f);return w.register("authEvent",P=>(xe(null==P?void 0:P.authEvent,f,"invalid-auth-event"),{status:x.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:x},g.iframes[f._key()]=w,x})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(Ta,{type:Ta},x=>{var P;const J=null===(P=null==x?void 0:x[0])||void 0===P?void 0:P[Ta];void 0!==J&&g(!!J),Se(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(_){return ld.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return ns()||Pu()||Qr()}}),this.cordovaResolver=he(class{constructor(){this._redirectPersistence=Kt,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ks}_initialize(f){var g=this;return(0,h.Z)(function*(){const w=f._key();let x=g.eventManagers.get(w);return x||(x=new Ph(f),g.eventManagers.set(w,x),g.attachCallbackListeners(f,x)),x})()}_openPopup(f){Se(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,w,x){var P=this;return(0,h.Z)(function*(){!function(_){var f,g,w,x,P,J,Ce,Ze,st,gt;const ct=sl();xe("function"==typeof(null===(f=null==ct?void 0:ct.universalLinks)||void 0===f?void 0:f.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),xe(void 0!==(null===(g=null==ct?void 0:ct.BuildInfo)||void 0===g?void 0:g.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),xe("function"==typeof(null===(P=null===(x=null===(w=null==ct?void 0:ct.cordova)||void 0===w?void 0:w.plugins)||void 0===x?void 0:x.browsertab)||void 0===P?void 0:P.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),xe("function"==typeof(null===(Ze=null===(Ce=null===(J=null==ct?void 0:ct.cordova)||void 0===J?void 0:J.plugins)||void 0===Ce?void 0:Ce.browsertab)||void 0===Ze?void 0:Ze.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),xe("function"==typeof(null===(gt=null===(st=null==ct?void 0:ct.cordova)||void 0===st?void 0:st.InAppBrowser)||void 0===gt?void 0:gt.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const J=yield P._initialize(f);yield J.initialized(),J.resetRedirect(),sd.clear(),yield P._originValidation(f);const Ce=function(_,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:Vs(),postBody:null,tenantId:_.tenantId,error:je(_,"no-auth-event")}}(f,w,x);yield function(_,f){return Aa()._set(uc(_),f)}(f,Ce);const Ze=yield function(_,f,g){return mo.apply(this,arguments)}(f,Ce,g),st=yield function(_){const{cordova:f}=sl();return new Promise(g=>{f.plugins.browsertab.isAvailable(w=>{let x=null;w?f.plugins.browsertab.openUrl(_):x=f.InAppBrowser.open(_,function(_=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),g(x)})})}(Ze);return function(_,f,g){return Oh.apply(this,arguments)}(f,J,st)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(_){return Go.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:w,handleOpenURL:x,BuildInfo:P}=sl(),J=setTimeout((0,h.Z)(function*(){yield gp(f),g.onEvent(dc())}),500),Ce=function(){var gt=(0,h.Z)(function*(ct){clearTimeout(J);const Xn=yield gp(f);let gi=null;Xn&&(null==ct?void 0:ct.url)&&(gi=function(_,f){var g,w;const x=function(_){const f=kh(_),g=f.link?decodeURIComponent(f.link):void 0,w=kh(g).link,x=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return kh(x).link||x||w||g||_}(f);if(x.includes("/__/auth/callback")){const P=kh(x),J=P.firebaseError?function(_){try{return JSON.parse(_)}catch(f){return null}}(decodeURIComponent(P.firebaseError)):null,Ce=null===(w=null===(g=null==J?void 0:J.code)||void 0===g?void 0:g.split("auth/"))||void 0===w?void 0:w[1],Ze=Ce?je(Ce):null;return Ze?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Ze,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:x,postBody:null}}return null}(Xn,ct.url)),g.onEvent(gi||dc())});return function(Xn){return gt.apply(this,arguments)}}();void 0!==w&&"function"==typeof w.subscribe&&w.subscribe(null,Ce);const Ze=x,st=`${P.packageName.toLowerCase()}://`;sl().handleOpenURL=function(){var gt=(0,h.Z)(function*(ct){if(ct.toLowerCase().startsWith(st)&&Ce({url:ct}),"function"==typeof Ze)try{Ze(ct)}catch(Xn){console.error(Xn)}});return function(ct){return gt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Kt,this._completeRedirectFn=ks}_initialize(f){var g=this;return(0,h.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,w,x){var P=this;return(0,h.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openPopup(f,g,w,x)})()}_openRedirect(f,g,w,x){var P=this;return(0,h.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openRedirect(f,g,w,x)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return gu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return wd(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,h.Z)(function*(){if(f.underlyingResolver)return;const g=yield function(){return _d.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function mu(_){return _.unwrap()}function gm(_){return mc(_)}function mc(_){const{_tokenResponse:f}=_ instanceof L.ZR?_.customData:_;if(!f)return null;if(!(_ instanceof L.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return ou.credentialFromResult(_);const g=f.providerId;if(!g||"password"===g)return null;let w;switch(g){case"google.com":w=za;break;case"facebook.com":w=Lu;break;case"github.com":w=Vu;break;case"twitter.com":w=ci;break;default:const{oauthIdToken:x,oauthAccessToken:P,oauthTokenSecret:J,pendingToken:Ce,nonce:Ze}=f;return P||J||x||Ce?Ce?g.startsWith("saml.")?xo._create(g,Ce):Xr._fromParams({providerId:g,signInMethod:g,pendingToken:Ce,idToken:x,accessToken:P}):new Ns(g).credential({idToken:x,accessToken:P,rawNonce:Ze}):null}return _ instanceof L.ZR?w.credentialFromError(_):w.credentialFromResult(_)}function fi(_,f){return f.catch(g=>{throw g instanceof L.ZR&&function(_,f){var g;const w=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f.code)f.resolver=new yc(_,function(_,f){var g;const w=(0,L.m9)(_),x=f;return xe(f.operationType,w,"argument-error"),xe(null===(g=x.serverResponse)||void 0===g?void 0:g.mfaPendingCredential,w,"argument-error"),ju._fromError(w,x)}(_,f));else if(w){const x=mc(f),P=f;x&&(P.credential=x,P.tenantId=w.tenantId||void 0,P.email=w.email||void 0,P.phoneNumber=w.phoneNumber||void 0)}}(_,g),g}).then(g=>{const x=g.user;return{operationType:g.operationType,credential:gm(g),additionalUserInfo:nu(g),user:pi.getOrCreate(x)}})}function mp(_,f){return yp.apply(this,arguments)}function yp(){return(yp=(0,h.Z)(function*(_,f){const g=yield f;return{verificationId:g.verificationId,confirm:w=>fi(_,g.confirm(w))}})).apply(this,arguments)}class yc{constructor(f,g){this.resolver=g,this.auth=function(_){return _.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return fi(mu(this.auth),this.resolver.resolveSignIn(f))}}class pi{constructor(f){this._delegate=f,this.multiFactor=function(_){const f=(0,L.m9)(_);return fo.has(f)||fo.set(f,Ps._fromUser(f)),fo.get(f)}(f)}static getOrCreate(f){return pi.USER_MAP.has(f)||pi.USER_MAP.set(f,new pi(f)),pi.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,h.Z)(function*(){return fi(g.auth,Fl(g._delegate,f))})()}linkWithPhoneNumber(f,g){var w=this;return(0,h.Z)(function*(){return mp(w.auth,function(_,f,g){return Ju.apply(this,arguments)}(w._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,h.Z)(function*(){return fi(g.auth,function(_,f,g){return Nr.apply(this,arguments)}(g._delegate,f,Jn))})()}linkWithRedirect(f){var g=this;return(0,h.Z)(function*(){return yield pc(zt(g.auth)),function(_,f,g){return function(_,f,g){return Gi.apply(this,arguments)}(_,f,g)}(g._delegate,f,Jn)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,h.Z)(function*(){return fi(g.auth,pa(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return mp(this.auth,function(_,f,g){return Ea.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return fi(this.auth,function(_,f,g){return qi.apply(this,arguments)}(this._delegate,f,Jn))}reauthenticateWithRedirect(f){var g=this;return(0,h.Z)(function*(){return yield pc(zt(g.auth)),function(_,f,g){return function(_,f,g){return _r.apply(this,arguments)}(_,f,g)}(g._delegate,f,Jn)})()}sendEmailVerification(f){return function(_,f){return Ti.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,h.Z)(function*(){return yield function(_,f){return No.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function(_,f){return _a((0,L.m9)(_),f,null)}(this._delegate,f)}updatePassword(f){return function(_,f){return _a((0,L.m9)(_),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function(_,f){return rd.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function(_,f){return ya.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function(_,f,g){return mr.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}pi.USER_MAP=new WeakMap;const ol=xe;let _p=(()=>{class _{constructor(g,w){if(this.app=g,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:x}=g.options;ol(x,"invalid-api-key",{appName:g.name});let P=[Pt];if("undefined"!=typeof window){P=function(_,f){const g=Uh();if(!(null==g?void 0:g.sessionStorage))return[];const w=gn(vd,_,f);switch(g.sessionStorage.getItem(w)){case Er.NONE:return[Pt];case Er.LOCAL:return[ba,Kt];case Er.SESSION:return[Kt];default:return[]}}(x,g.name);for(const Ce of[ba,ke,Kt])P.includes(Ce)||P.push(Ce)}ol(x,"invalid-api-key",{appName:g.name});const J="undefined"!=typeof window?Jn:void 0;this._delegate=w.initialize({options:{persistence:P,popupRedirectResolver:J}}),this._delegate._updateErrorMap(De),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?pi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,w){!function(_,f,g){const w=zt(_);xe(w._canInitEmulator,w,"emulator-config-failed"),xe(/^https?:\/\//.test(f),w,"invalid-emulator-scheme");const x=!!(null==g?void 0:g.disableWarnings),P=mn(f),{host:J,port:Ce}=function(_){const f=mn(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!g)return{host:"",port:null};const w=g[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(w);if(x){const P=x[1];return{host:P,port:rs(w.substr(P.length+1))}}{const[P,J]=w.split(":");return{host:P,port:rs(J)}}}(f);w.config.emulator={url:`${P}//${J}${null===Ce?"":`:${Ce}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:J,port:Ce,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function(){function _(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,g,w)}applyActionCode(g){return function(_,f){return us.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return ao(this._delegate,g)}confirmPasswordReset(g,w){return function(_,f,g){return at.apply(this,arguments)}(this._delegate,g,w)}createUserWithEmailAndPassword(g,w){var x=this;return(0,h.Z)(function*(){return fi(x._delegate,function(_,f,g){return Oe.apply(this,arguments)}(x._delegate,g,w))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function(_,f){return Ja.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function(_,f){const g=Xs.parseLink(f);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,h.Z)(function*(){ol(kn(),g._delegate,"operation-not-supported-in-this-environment");const w=yield function(_,f){return Zi.apply(this,arguments)}(g._delegate,Jn);return w?fi(g._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function(_,f){zt(_)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,w,x){const{next:P,error:J,complete:Ce}=Bh(g,w,x);return this._delegate.onAuthStateChanged(P,J,Ce)}onIdTokenChanged(g,w,x){const{next:P,error:J,complete:Ce}=Bh(g,w,x);return this._delegate.onIdTokenChanged(P,J,Ce)}sendSignInLinkToEmail(g,w){return function(_,f,g){return Nn.apply(this,arguments)}(this._delegate,g,w)}sendPasswordResetEmail(g,w){return function(_,f,g){return ko.apply(this,arguments)}(this._delegate,g,w||void 0)}setPersistence(g){var w=this;return(0,h.Z)(function*(){let x;switch(function(_,f){ms(Object.values(Er).includes(f),_,"invalid-persistence-type"),(0,L.b$)()?ms(f!==Er.SESSION,_,"unsupported-persistence-type"):(0,L.UG)()?ms(f===Er.NONE,_,"unsupported-persistence-type"):pu()?ms(f===Er.NONE||f===Er.LOCAL&&(0,L.hl)(),_,"unsupported-persistence-type"):ms(f===Er.NONE||fc(),_,"unsupported-persistence-type")}(w._delegate,g),g){case Er.SESSION:x=Kt;break;case Er.LOCAL:x=(yield he(ba)._isAvailable())?ba:ke;break;case Er.NONE:x=Pt;break;default:return Se("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(x)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return fi(this._delegate,function(_){return no.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return fi(this._delegate,Ya(this._delegate,g))}signInWithCustomToken(g){return fi(this._delegate,function(_,f){return or.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,w){return fi(this._delegate,function(_,f,g){return Ya((0,L.m9)(_),Za.credential(f,g))}(this._delegate,g,w))}signInWithEmailLink(g,w){return fi(this._delegate,function(_,f,g){return di.apply(this,arguments)}(this._delegate,g,w))}signInWithPhoneNumber(g,w){return mp(this._delegate,function(_,f,g){return Qu.apply(this,arguments)}(this._delegate,g,w))}signInWithPopup(g){var w=this;return(0,h.Z)(function*(){return ol(kn(),w._delegate,"operation-not-supported-in-this-environment"),fi(w._delegate,function(_,f,g){return xi.apply(this,arguments)}(w._delegate,g,Jn))})()}signInWithRedirect(g){var w=this;return(0,h.Z)(function*(){return ol(kn(),w._delegate,"operation-not-supported-in-this-environment"),yield pc(w._delegate),function(_,f,g){return function(_,f,g){return Ye.apply(this,arguments)}(_,f,g)}(w._delegate,g,Jn)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function(_,f){return ls.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=Er,_})();function Bh(_,f,g){let w=_;"function"!=typeof _&&({next:w,error:f,complete:g}=_);const x=w;return{next:J=>x(J&&pi.getOrCreate(J)),error:f,complete:g}}class yu{constructor(){this.providerId="phone",this._delegate=new ou(mu(ie.Z.auth()))}static credential(f,g){return ou.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}yu.PHONE_SIGN_IN_METHOD=ou.PHONE_SIGN_IN_METHOD,yu.PROVIDER_ID=ou.PROVIDER_ID;const A_=xe;class S_{constructor(f,g,w=ie.Z.app()){var x;A_(null===(x=w.options)||void 0===x?void 0:x.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Ft(f,g,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(_){_.INTERNAL.registerComponent(new Ie.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),w=f.getProvider("auth");return new _p(g,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Za,FacebookAuthProvider:Lu,GithubAuthProvider:Vu,GoogleAuthProvider:za,OAuthProvider:Ns,PhoneAuthProvider:yu,PhoneMultiFactorGenerator:Nh,RecaptchaVerifier:S_,TwitterAuthProvider:ci,Auth:_p,AuthCredential:fr,Error:L.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.1.6")}(ie.Z)},6676:function(it,Ae){!function(B){"use strict";function h(W){return Array.prototype.slice.call(W)}function ie(W){return new Promise(function($,ve){W.onsuccess=function(){$(W.result)},W.onerror=function(){ve(W.error)}})}function L(W,$,ve){var de,Se=new Promise(function(je,Me){ie(de=W[$].apply(W,ve)).then(je,Me)});return Se.request=de,Se}function ce(W,$,ve){var de=L(W,$,ve);return de.then(function(Se){if(Se)return new V(Se,de.request)})}function oe(W,$,ve){ve.forEach(function(de){Object.defineProperty(W.prototype,de,{get:function(){return this[$][de]},set:function(Se){this[$][de]=Se}})})}function le(W,$,ve,de){de.forEach(function(Se){Se in ve.prototype&&(W.prototype[Se]=function(){return L(this[$],Se,arguments)})})}function Ie(W,$,ve,de){de.forEach(function(Se){Se in ve.prototype&&(W.prototype[Se]=function(){return this[$][Se].apply(this[$],arguments)})})}function ye(W,$,ve,de){de.forEach(function(Se){Se in ve.prototype&&(W.prototype[Se]=function(){return ce(this[$],Se,arguments)})})}function Q(W){this._index=W}function V(W,$){this._cursor=W,this._request=$}function j(W){this._store=W}function ee(W){this._tx=W,this.complete=new Promise(function($,ve){W.oncomplete=function(){$()},W.onerror=function(){ve(W.error)},W.onabort=function(){ve(W.error)}})}function X(W,$,ve){this._db=W,this.oldVersion=$,this.transaction=new ee(ve)}function ue(W){this._db=W}oe(Q,"_index",["name","keyPath","multiEntry","unique"]),le(Q,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),ye(Q,"_index",IDBIndex,["openCursor","openKeyCursor"]),oe(V,"_cursor",["direction","key","primaryKey","value"]),le(V,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(W){W in IDBCursor.prototype&&(V.prototype[W]=function(){var $=this,ve=arguments;return Promise.resolve().then(function(){return $._cursor[W].apply($._cursor,ve),ie($._request).then(function(de){if(de)return new V(de,$._request)})})})}),j.prototype.createIndex=function(){return new Q(this._store.createIndex.apply(this._store,arguments))},j.prototype.index=function(){return new Q(this._store.index.apply(this._store,arguments))},oe(j,"_store",["name","keyPath","indexNames","autoIncrement"]),le(j,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),ye(j,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),Ie(j,"_store",IDBObjectStore,["deleteIndex"]),ee.prototype.objectStore=function(){return new j(this._tx.objectStore.apply(this._tx,arguments))},oe(ee,"_tx",["objectStoreNames","mode"]),Ie(ee,"_tx",IDBTransaction,["abort"]),X.prototype.createObjectStore=function(){return new j(this._db.createObjectStore.apply(this._db,arguments))},oe(X,"_db",["name","version","objectStoreNames"]),Ie(X,"_db",IDBDatabase,["deleteObjectStore","close"]),ue.prototype.transaction=function(){return new ee(this._db.transaction.apply(this._db,arguments))},oe(ue,"_db",["name","version","objectStoreNames"]),Ie(ue,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(W){[j,Q].forEach(function($){W in $.prototype&&($.prototype[W.replace("open","iterate")]=function(){var ve=h(arguments),de=ve[ve.length-1],Se=this._store||this._index,je=Se[W].apply(Se,ve.slice(0,-1));je.onsuccess=function(){de(je.result)}})})}),[Q,j].forEach(function(W){W.prototype.getAll||(W.prototype.getAll=function($,ve){var de=this,Se=[];return new Promise(function(je){de.iterateCursor($,function(Me){Me?(Se.push(Me.value),void 0===ve||Se.length!=ve?Me.continue():je(Se)):je(Se)})})})}),B.openDb=function(W,$,ve){var de=L(indexedDB,"open",[W,$]),Se=de.request;return Se&&(Se.onupgradeneeded=function(je){ve&&ve(new X(Se.result,je.oldVersion,Se.transaction))}),de.then(function(je){return new ue(je)})},B.deleteDb=function(W){return L(indexedDB,"deleteDatabase",[W])},Object.defineProperty(B,"__esModule",{value:!0})}(Ae)},7574:(it,Ae,B)=>{"use strict";B.d(Ae,{y:()=>j});var h=B(7393),L=B(9181),ce=B(6490),le=B(6554),Ie=B(4487);var V=B(2494);let j=(()=>{class X{constructor(De){this._isScalar=!1,De&&(this._subscribe=De)}lift(De){const _e=new X;return _e.source=this,_e.operator=De,_e}subscribe(De,_e,W){const{operator:$}=this,ve=function(X,ue,De){if(X){if(X instanceof h.L)return X;if(X[L.b])return X[L.b]()}return X||ue||De?new h.L(X,ue,De):new h.L(ce.c)}(De,_e,W);if(ve.add($?$.call(ve,this.source):this.source||V.v.useDeprecatedSynchronousErrorHandling&&!ve.syncErrorThrowable?this._subscribe(ve):this._trySubscribe(ve)),V.v.useDeprecatedSynchronousErrorHandling&&ve.syncErrorThrowable&&(ve.syncErrorThrowable=!1,ve.syncErrorThrown))throw ve.syncErrorValue;return ve}_trySubscribe(De){try{return this._subscribe(De)}catch(_e){V.v.useDeprecatedSynchronousErrorHandling&&(De.syncErrorThrown=!0,De.syncErrorValue=_e),function(X){for(;X;){const{closed:ue,destination:De,isStopped:_e}=X;if(ue||_e)return!1;X=De&&De instanceof h.L?De:null}return!0}(De)?De.error(_e):console.warn(_e)}}forEach(De,_e){return new(_e=ee(_e))((W,$)=>{let ve;ve=this.subscribe(de=>{try{De(de)}catch(Se){$(Se),ve&&ve.unsubscribe()}},$,W)})}_subscribe(De){const{source:_e}=this;return _e&&_e.subscribe(De)}[le.L](){return this}pipe(...De){return 0===De.length?this:function(X){return 0===X.length?Ie.y:1===X.length?X[0]:function(De){return X.reduce((_e,W)=>W(_e),De)}}(De)(this)}toPromise(De){return new(De=ee(De))((_e,W)=>{let $;this.subscribe(ve=>$=ve,ve=>W(ve),()=>_e($))})}}return X.create=ue=>new X(ue),X})();function ee(X){if(X||(X=V.v.Promise||Promise),!X)throw new Error("no Promise impl found");return X}},6490:(it,Ae,B)=>{"use strict";B.d(Ae,{c:()=>L});var h=B(2494),ie=B(4449);const L={closed:!0,next(ce){},error(ce){if(h.v.useDeprecatedSynchronousErrorHandling)throw ce;(0,ie.z)(ce)},complete(){}}},9765:(it,Ae,B)=>{"use strict";B.d(Ae,{Yc:()=>Ie,xQ:()=>ye});var h=B(7574),ie=B(7393),L=B(5319),ce=B(7971),oe=B(8858),le=B(9181);class Ie extends ie.L{constructor(j){super(j),this.destination=j}}let ye=(()=>{class V extends h.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[le.b](){return new Ie(this)}lift(ee){const X=new Q(this,this);return X.operator=ee,X}next(ee){if(this.closed)throw new ce.N;if(!this.isStopped){const{observers:X}=this,ue=X.length,De=X.slice();for(let _e=0;_e<ue;_e++)De[_e].next(ee)}}error(ee){if(this.closed)throw new ce.N;this.hasError=!0,this.thrownError=ee,this.isStopped=!0;const{observers:X}=this,ue=X.length,De=X.slice();for(let _e=0;_e<ue;_e++)De[_e].error(ee);this.observers.length=0}complete(){if(this.closed)throw new ce.N;this.isStopped=!0;const{observers:ee}=this,X=ee.length,ue=ee.slice();for(let De=0;De<X;De++)ue[De].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(ee){if(this.closed)throw new ce.N;return super._trySubscribe(ee)}_subscribe(ee){if(this.closed)throw new ce.N;return this.hasError?(ee.error(this.thrownError),L.w.EMPTY):this.isStopped?(ee.complete(),L.w.EMPTY):(this.observers.push(ee),new oe.W(this,ee))}asObservable(){const ee=new h.y;return ee.source=this,ee}}return V.create=(j,ee)=>new Q(j,ee),V})();class Q extends ye{constructor(j,ee){super(),this.destination=j,this.source=ee}next(j){const{destination:ee}=this;ee&&ee.next&&ee.next(j)}error(j){const{destination:ee}=this;ee&&ee.error&&this.destination.error(j)}complete(){const{destination:j}=this;j&&j.complete&&this.destination.complete()}_subscribe(j){const{source:ee}=this;return ee?this.source.subscribe(j):L.w.EMPTY}}},8858:(it,Ae,B)=>{"use strict";B.d(Ae,{W:()=>ie});var h=B(5319);class ie extends h.w{constructor(ce,oe){super(),this.subject=ce,this.subscriber=oe,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ce=this.subject,oe=ce.observers;if(this.subject=null,!oe||0===oe.length||ce.isStopped||ce.closed)return;const le=oe.indexOf(this.subscriber);-1!==le&&oe.splice(le,1)}}},7393:(it,Ae,B)=>{"use strict";B.d(Ae,{L:()=>Ie});var h=B(9105),ie=B(6490),L=B(5319),ce=B(9181),oe=B(2494),le=B(4449);class Ie extends L.w{constructor(V,j,ee){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ie.c;break;case 1:if(!V){this.destination=ie.c;break}if("object"==typeof V){V instanceof Ie?(this.syncErrorThrowable=V.syncErrorThrowable,this.destination=V,V.add(this)):(this.syncErrorThrowable=!0,this.destination=new ye(this,V));break}default:this.syncErrorThrowable=!0,this.destination=new ye(this,V,j,ee)}}[ce.b](){return this}static create(V,j,ee){const X=new Ie(V,j,ee);return X.syncErrorThrowable=!1,X}next(V){this.isStopped||this._next(V)}error(V){this.isStopped||(this.isStopped=!0,this._error(V))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(V){this.destination.next(V)}_error(V){this.destination.error(V),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:V}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=V,this}}class ye extends Ie{constructor(V,j,ee,X){super(),this._parentSubscriber=V;let ue,De=this;(0,h.m)(j)?ue=j:j&&(ue=j.next,ee=j.error,X=j.complete,j!==ie.c&&(De=Object.create(j),(0,h.m)(De.unsubscribe)&&this.add(De.unsubscribe.bind(De)),De.unsubscribe=this.unsubscribe.bind(this))),this._context=De,this._next=ue,this._error=ee,this._complete=X}next(V){if(!this.isStopped&&this._next){const{_parentSubscriber:j}=this;oe.v.useDeprecatedSynchronousErrorHandling&&j.syncErrorThrowable?this.__tryOrSetError(j,this._next,V)&&this.unsubscribe():this.__tryOrUnsub(this._next,V)}}error(V){if(!this.isStopped){const{_parentSubscriber:j}=this,{useDeprecatedSynchronousErrorHandling:ee}=oe.v;if(this._error)ee&&j.syncErrorThrowable?(this.__tryOrSetError(j,this._error,V),this.unsubscribe()):(this.__tryOrUnsub(this._error,V),this.unsubscribe());else if(j.syncErrorThrowable)ee?(j.syncErrorValue=V,j.syncErrorThrown=!0):(0,le.z)(V),this.unsubscribe();else{if(this.unsubscribe(),ee)throw V;(0,le.z)(V)}}}complete(){if(!this.isStopped){const{_parentSubscriber:V}=this;if(this._complete){const j=()=>this._complete.call(this._context);oe.v.useDeprecatedSynchronousErrorHandling&&V.syncErrorThrowable?(this.__tryOrSetError(V,j),this.unsubscribe()):(this.__tryOrUnsub(j),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(V,j){try{V.call(this._context,j)}catch(ee){if(this.unsubscribe(),oe.v.useDeprecatedSynchronousErrorHandling)throw ee;(0,le.z)(ee)}}__tryOrSetError(V,j,ee){if(!oe.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{j.call(this._context,ee)}catch(X){return oe.v.useDeprecatedSynchronousErrorHandling?(V.syncErrorValue=X,V.syncErrorThrown=!0,!0):((0,le.z)(X),!0)}return!1}_unsubscribe(){const{_parentSubscriber:V}=this;this._context=null,this._parentSubscriber=null,V.unsubscribe()}}},5319:(it,Ae,B)=>{"use strict";B.d(Ae,{w:()=>le});var h=B(9796),ie=B(1555),L=B(9105);const oe=(()=>{function ye(Q){return Error.call(this),this.message=Q?`${Q.length} errors occurred during unsubscription:\n${Q.map((V,j)=>`${j+1}) ${V.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Q,this}return ye.prototype=Object.create(Error.prototype),ye})();class le{constructor(Q){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,Q&&(this._ctorUnsubscribe=!0,this._unsubscribe=Q)}unsubscribe(){let Q;if(this.closed)return;let{_parentOrParents:V,_ctorUnsubscribe:j,_unsubscribe:ee,_subscriptions:X}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,V instanceof le)V.remove(this);else if(null!==V)for(let ue=0;ue<V.length;++ue)V[ue].remove(this);if((0,L.m)(ee)){j&&(this._unsubscribe=void 0);try{ee.call(this)}catch(ue){Q=ue instanceof oe?Ie(ue.errors):[ue]}}if((0,h.k)(X)){let ue=-1,De=X.length;for(;++ue<De;){const _e=X[ue];if((0,ie.K)(_e))try{_e.unsubscribe()}catch(W){Q=Q||[],W instanceof oe?Q=Q.concat(Ie(W.errors)):Q.push(W)}}}if(Q)throw new oe(Q)}add(Q){let V=Q;if(!Q)return le.EMPTY;switch(typeof Q){case"function":V=new le(Q);case"object":if(V===this||V.closed||"function"!=typeof V.unsubscribe)return V;if(this.closed)return V.unsubscribe(),V;if(!(V instanceof le)){const X=V;V=new le,V._subscriptions=[X]}break;default:throw new Error("unrecognized teardown "+Q+" added to Subscription.")}let{_parentOrParents:j}=V;if(null===j)V._parentOrParents=this;else if(j instanceof le){if(j===this)return V;V._parentOrParents=[j,this]}else{if(-1!==j.indexOf(this))return V;j.push(this)}const ee=this._subscriptions;return null===ee?this._subscriptions=[V]:ee.push(V),V}remove(Q){const V=this._subscriptions;if(V){const j=V.indexOf(Q);-1!==j&&V.splice(j,1)}}}var ye;function Ie(ye){return ye.reduce((Q,V)=>Q.concat(V instanceof oe?V.errors:V),[])}le.EMPTY=((ye=new le).closed=!0,ye)},2494:(it,Ae,B)=>{"use strict";B.d(Ae,{v:()=>ie});let h=!1;const ie={Promise:void 0,set useDeprecatedSynchronousErrorHandling(L){if(L){const ce=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ce.stack)}else h&&console.log("RxJS: Back to a better error behavior. Thank you. <3");h=L},get useDeprecatedSynchronousErrorHandling(){return h}}},5345:(it,Ae,B)=>{"use strict";B.d(Ae,{IY:()=>ce,Ds:()=>le,ft:()=>ye});var h=B(7393),ie=B(7574),L=B(7444);class ce extends h.L{constructor(V){super(),this.parent=V}_next(V){this.parent.notifyNext(V)}_error(V){this.parent.notifyError(V),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class le extends h.L{notifyNext(V){this.destination.next(V)}notifyError(V){this.destination.error(V)}notifyComplete(){this.destination.complete()}}function ye(Q,V){if(V.closed)return;if(Q instanceof ie.y)return Q.subscribe(V);let j;try{j=(0,L.s)(Q)(V)}catch(ee){V.error(ee)}return j}},2441:(it,Ae,B)=>{"use strict";B.d(Ae,{c:()=>oe,N:()=>le});var h=B(9765),ie=B(7574),L=B(5319),ce=B(1307);class oe extends ie.y{constructor(j,ee){super(),this.source=j,this.subjectFactory=ee,this._refCount=0,this._isComplete=!1}_subscribe(j){return this.getSubject().subscribe(j)}getSubject(){const j=this._subject;return(!j||j.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let j=this._connection;return j||(this._isComplete=!1,j=this._connection=new L.w,j.add(this.source.subscribe(new Ie(this.getSubject(),this))),j.closed&&(this._connection=null,j=L.w.EMPTY)),j}refCount(){return(0,ce.x)()(this)}}const le=(()=>{const V=oe.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:V._subscribe},_isComplete:{value:V._isComplete,writable:!0},getSubject:{value:V.getSubject},connect:{value:V.connect},refCount:{value:V.refCount}}})();class Ie extends h.Yc{constructor(j,ee){super(j),this.connectable=ee}_error(j){this._unsubscribe(),super._error(j)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const j=this.connectable;if(j){this.connectable=null;const ee=j._connection;j._refCount=0,j._subject=null,j._connection=null,ee&&ee.unsubscribe()}}}},9193:(it,Ae,B)=>{"use strict";B.d(Ae,{E:()=>ie,c:()=>L});var h=B(7574);const ie=new h.y(oe=>oe.complete());function L(oe){return oe?function(oe){return new h.y(le=>oe.schedule(()=>le.complete()))}(oe):ie}},4402:(it,Ae,B)=>{"use strict";B.d(Ae,{D:()=>De});var h=B(7574),ie=B(7444),L=B(5319),ce=B(6554),Ie=B(4087),ye=B(377),j=B(4072),ee=B(9489);function De(_e,W){return W?function(_e,W){if(null!=_e){if(function(_e){return _e&&"function"==typeof _e[ce.L]}(_e))return function(_e,W){return new h.y($=>{const ve=new L.w;return ve.add(W.schedule(()=>{const de=_e[ce.L]();ve.add(de.subscribe({next(Se){ve.add(W.schedule(()=>$.next(Se)))},error(Se){ve.add(W.schedule(()=>$.error(Se)))},complete(){ve.add(W.schedule(()=>$.complete()))}}))})),ve})}(_e,W);if((0,j.t)(_e))return function(_e,W){return new h.y($=>{const ve=new L.w;return ve.add(W.schedule(()=>_e.then(de=>{ve.add(W.schedule(()=>{$.next(de),ve.add(W.schedule(()=>$.complete()))}))},de=>{ve.add(W.schedule(()=>$.error(de)))}))),ve})}(_e,W);if((0,ee.z)(_e))return(0,Ie.r)(_e,W);if(function(_e){return _e&&"function"==typeof _e[ye.hZ]}(_e)||"string"==typeof _e)return function(_e,W){if(!_e)throw new Error("Iterable cannot be null");return new h.y($=>{const ve=new L.w;let de;return ve.add(()=>{de&&"function"==typeof de.return&&de.return()}),ve.add(W.schedule(()=>{de=_e[ye.hZ](),ve.add(W.schedule(function(){if($.closed)return;let Se,je;try{const Me=de.next();Se=Me.value,je=Me.done}catch(Me){return void $.error(Me)}je?$.complete():($.next(Se),this.schedule())}))})),ve})}(_e,W)}throw new TypeError((null!==_e&&typeof _e||_e)+" is not observable")}(_e,W):_e instanceof h.y?_e:new h.y((0,ie.s)(_e))}},6693:(it,Ae,B)=>{"use strict";B.d(Ae,{n:()=>ce});var h=B(7574),ie=B(5015),L=B(4087);function ce(oe,le){return le?(0,L.r)(oe,le):new h.y((0,ie.V)(oe))}},6682:(it,Ae,B)=>{"use strict";B.d(Ae,{T:()=>oe});var h=B(7574),ie=B(4869),L=B(3282),ce=B(6693);function oe(...le){let Ie=Number.POSITIVE_INFINITY,ye=null,Q=le[le.length-1];return(0,ie.K)(Q)?(ye=le.pop(),le.length>1&&"number"==typeof le[le.length-1]&&(Ie=le.pop())):"number"==typeof Q&&(Ie=le.pop()),null===ye&&1===le.length&&le[0]instanceof h.y?le[0]:(0,L.J)(Ie)((0,ce.n)(le,ye))}},5917:(it,Ae,B)=>{"use strict";B.d(Ae,{of:()=>ce});var h=B(4869),ie=B(6693),L=B(4087);function ce(...oe){let le=oe[oe.length-1];return(0,h.K)(le)?(oe.pop(),(0,L.r)(oe,le)):(0,ie.n)(oe)}},8002:(it,Ae,B)=>{"use strict";B.d(Ae,{U:()=>ie});var h=B(7393);function ie(oe,le){return function(ye){if("function"!=typeof oe)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return ye.lift(new L(oe,le))}}class L{constructor(le,Ie){this.project=le,this.thisArg=Ie}call(le,Ie){return Ie.subscribe(new ce(le,this.project,this.thisArg))}}class ce extends h.L{constructor(le,Ie,ye){super(le),this.project=Ie,this.count=0,this.thisArg=ye||this}_next(le){let Ie;try{Ie=this.project.call(this.thisArg,le,this.count++)}catch(ye){return void this.destination.error(ye)}this.destination.next(Ie)}}},3282:(it,Ae,B)=>{"use strict";B.d(Ae,{J:()=>L});var h=B(9773),ie=B(4487);function L(ce=Number.POSITIVE_INFINITY){return(0,h.zg)(ie.y,ce)}},9773:(it,Ae,B)=>{"use strict";B.d(Ae,{zg:()=>ce});var h=B(8002),ie=B(4402),L=B(5345);function ce(ye,Q,V=Number.POSITIVE_INFINITY){return"function"==typeof Q?j=>j.pipe(ce((ee,X)=>(0,ie.D)(ye(ee,X)).pipe((0,h.U)((ue,De)=>Q(ee,ue,X,De))),V)):("number"==typeof Q&&(V=Q),j=>j.lift(new oe(ye,V)))}class oe{constructor(Q,V=Number.POSITIVE_INFINITY){this.project=Q,this.concurrent=V}call(Q,V){return V.subscribe(new le(Q,this.project,this.concurrent))}}class le extends L.Ds{constructor(Q,V,j=Number.POSITIVE_INFINITY){super(Q),this.project=V,this.concurrent=j,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(Q){this.active<this.concurrent?this._tryNext(Q):this.buffer.push(Q)}_tryNext(Q){let V;const j=this.index++;try{V=this.project(Q,j)}catch(ee){return void this.destination.error(ee)}this.active++,this._innerSub(V)}_innerSub(Q){const V=new L.IY(this),j=this.destination;j.add(V);const ee=(0,L.ft)(Q,V);ee!==V&&j.add(ee)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(Q){this.destination.next(Q)}notifyComplete(){const Q=this.buffer;this.active--,Q.length>0?this._next(Q.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(it,Ae,B)=>{"use strict";B.d(Ae,{ht:()=>j,QV:()=>Q});var h=B(7393),ie=B(9193),L=B(5917),ce=B(7574);class ye{constructor(ue,De,_e){this.kind=ue,this.value=De,this.error=_e,this.hasValue="N"===ue}observe(ue){switch(this.kind){case"N":return ue.next&&ue.next(this.value);case"E":return ue.error&&ue.error(this.error);case"C":return ue.complete&&ue.complete()}}do(ue,De,_e){switch(this.kind){case"N":return ue&&ue(this.value);case"E":return De&&De(this.error);case"C":return _e&&_e()}}accept(ue,De,_e){return ue&&"function"==typeof ue.next?this.observe(ue):this.do(ue,De,_e)}toObservable(){switch(this.kind){case"N":return(0,L.of)(this.value);case"E":return X=this.error,new ce.y(De=>De.error(X));case"C":return(0,ie.c)()}var X;throw new Error("unexpected notification kind value")}static createNext(ue){return void 0!==ue?new ye("N",ue):ye.undefinedValueNotification}static createError(ue){return new ye("E",void 0,ue)}static createComplete(){return ye.completeNotification}}function Q(X,ue=0){return function(_e){return _e.lift(new V(X,ue))}}ye.completeNotification=new ye("C"),ye.undefinedValueNotification=new ye("N",void 0);class V{constructor(ue,De=0){this.scheduler=ue,this.delay=De}call(ue,De){return De.subscribe(new j(ue,this.scheduler,this.delay))}}class j extends h.L{constructor(ue,De,_e=0){super(ue),this.scheduler=De,this.delay=_e}static dispatch(ue){const{notification:De,destination:_e}=ue;De.observe(_e),this.unsubscribe()}scheduleMessage(ue){this.destination.add(this.scheduler.schedule(j.dispatch,this.delay,new ee(ue,this.destination)))}_next(ue){this.scheduleMessage(ye.createNext(ue))}_error(ue){this.scheduleMessage(ye.createError(ue)),this.unsubscribe()}_complete(){this.scheduleMessage(ye.createComplete()),this.unsubscribe()}}class ee{constructor(ue,De){this.notification=ue,this.destination=De}}},1307:(it,Ae,B)=>{"use strict";B.d(Ae,{x:()=>ie});var h=B(7393);function ie(){return function(le){return le.lift(new L(le))}}class L{constructor(le){this.connectable=le}call(le,Ie){const{connectable:ye}=this;ye._refCount++;const Q=new ce(le,ye),V=Ie.subscribe(Q);return Q.closed||(Q.connection=ye.connect()),V}}class ce extends h.L{constructor(le,Ie){super(le),this.connectable=Ie}_unsubscribe(){const{connectable:le}=this;if(!le)return void(this.connection=null);this.connectable=null;const Ie=le._refCount;if(Ie<=0)return void(this.connection=null);if(le._refCount=Ie-1,Ie>1)return void(this.connection=null);const{connection:ye}=this,Q=le._connection;this.connection=null,Q&&(!ye||Q===ye)&&Q.unsubscribe()}}},3101:(it,Ae,B)=>{"use strict";B.d(Ae,{R:()=>W});var h=B(7574);let ie=1;const L=Promise.resolve(),ce={};function oe(ve){return ve in ce&&(delete ce[ve],!0)}const le={setImmediate(ve){const de=ie++;return ce[de]=!0,L.then(()=>oe(de)&&ve()),de},clearImmediate(ve){oe(ve)}};var ye=B(6465),V=B(6102);const X=new class extends V.v{flush(de){this.active=!0,this.scheduled=void 0;const{actions:Se}=this;let je,Me=-1,mt=Se.length;de=de||Se.shift();do{if(je=de.execute(de.state,de.delay))break}while(++Me<mt&&(de=Se.shift()));if(this.active=!1,je){for(;++Me<mt&&(de=Se.shift());)de.unsubscribe();throw je}}}(class extends ye.o{constructor(de,Se){super(de,Se),this.scheduler=de,this.work=Se}requestAsyncId(de,Se,je=0){return null!==je&&je>0?super.requestAsyncId(de,Se,je):(de.actions.push(this),de.scheduled||(de.scheduled=le.setImmediate(de.flush.bind(de,null))))}recycleAsyncId(de,Se,je=0){if(null!==je&&je>0||null===je&&this.delay>0)return super.recycleAsyncId(de,Se,je);0===de.actions.length&&(le.clearImmediate(Se),de.scheduled=void 0)}});var ue=B(9796);class _e extends h.y{constructor(de,Se=0,je=X){var ve;super(),this.source=de,this.delayTime=Se,this.scheduler=je,(!(!(0,ue.k)(ve=Se)&&ve-parseFloat(ve)+1>=0)||Se<0)&&(this.delayTime=0),(!je||"function"!=typeof je.schedule)&&(this.scheduler=X)}static create(de,Se=0,je=X){return new _e(de,Se,je)}static dispatch(de){const{source:Se,subscriber:je}=de;return this.add(Se.subscribe(je))}_subscribe(de){return this.scheduler.schedule(_e.dispatch,this.delayTime,{source:this.source,subscriber:de})}}function W(ve,de=0){return function(je){return je.lift(new $(ve,de))}}class ${constructor(de,Se){this.scheduler=de,this.delay=Se}call(de,Se){return new _e(Se,this.delay,this.scheduler).subscribe(de)}}},3342:(it,Ae,B)=>{"use strict";B.d(Ae,{b:()=>ce});var h=B(7393);function ie(){}var L=B(9105);function ce(Ie,ye,Q){return function(j){return j.lift(new oe(Ie,ye,Q))}}class oe{constructor(ye,Q,V){this.nextOrObserver=ye,this.error=Q,this.complete=V}call(ye,Q){return Q.subscribe(new le(ye,this.nextOrObserver,this.error,this.complete))}}class le extends h.L{constructor(ye,Q,V,j){super(ye),this._tapNext=ie,this._tapError=ie,this._tapComplete=ie,this._tapError=V||ie,this._tapComplete=j||ie,(0,L.m)(Q)?(this._context=this,this._tapNext=Q):Q&&(this._context=Q,this._tapNext=Q.next||ie,this._tapError=Q.error||ie,this._tapComplete=Q.complete||ie)}_next(ye){try{this._tapNext.call(this._context,ye)}catch(Q){return void this.destination.error(Q)}this.destination.next(ye)}_error(ye){try{this._tapError.call(this._context,ye)}catch(Q){return void this.destination.error(Q)}this.destination.error(ye)}_complete(){try{this._tapComplete.call(this._context)}catch(ye){return void this.destination.error(ye)}return this.destination.complete()}}},4087:(it,Ae,B)=>{"use strict";B.d(Ae,{r:()=>L});var h=B(7574),ie=B(5319);function L(ce,oe){return new h.y(le=>{const Ie=new ie.w;let ye=0;return Ie.add(oe.schedule(function(){ye!==ce.length?(le.next(ce[ye++]),le.closed||Ie.add(this.schedule())):le.complete()})),Ie})}},6465:(it,Ae,B)=>{"use strict";B.d(Ae,{o:()=>L});var h=B(5319);class ie extends h.w{constructor(oe,le){super()}schedule(oe,le=0){return this}}class L extends ie{constructor(oe,le){super(oe,le),this.scheduler=oe,this.work=le,this.pending=!1}schedule(oe,le=0){if(this.closed)return this;this.state=oe;const Ie=this.id,ye=this.scheduler;return null!=Ie&&(this.id=this.recycleAsyncId(ye,Ie,le)),this.pending=!0,this.delay=le,this.id=this.id||this.requestAsyncId(ye,this.id,le),this}requestAsyncId(oe,le,Ie=0){return setInterval(oe.flush.bind(oe,this),Ie)}recycleAsyncId(oe,le,Ie=0){if(null!==Ie&&this.delay===Ie&&!1===this.pending)return le;clearInterval(le)}execute(oe,le){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ie=this._execute(oe,le);if(Ie)return Ie;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(oe,le){let ye,Ie=!1;try{this.work(oe)}catch(Q){Ie=!0,ye=!!Q&&Q||new Error(Q)}if(Ie)return this.unsubscribe(),ye}_unsubscribe(){const oe=this.id,le=this.scheduler,Ie=le.actions,ye=Ie.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==ye&&Ie.splice(ye,1),null!=oe&&(this.id=this.recycleAsyncId(le,oe,null)),this.delay=null}}},6102:(it,Ae,B)=>{"use strict";B.d(Ae,{v:()=>ie});let h=(()=>{class L{constructor(oe,le=L.now){this.SchedulerAction=oe,this.now=le}schedule(oe,le=0,Ie){return new this.SchedulerAction(this,oe).schedule(Ie,le)}}return L.now=()=>Date.now(),L})();class ie extends h{constructor(ce,oe=h.now){super(ce,()=>ie.delegate&&ie.delegate!==this?ie.delegate.now():oe()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ce,oe=0,le){return ie.delegate&&ie.delegate!==this?ie.delegate.schedule(ce,oe,le):super.schedule(ce,oe,le)}flush(ce){const{actions:oe}=this;if(this.active)return void oe.push(ce);let le;this.active=!0;do{if(le=ce.execute(ce.state,ce.delay))break}while(ce=oe.shift());if(this.active=!1,le){for(;ce=oe.shift();)ce.unsubscribe();throw le}}}},3637:(it,Ae,B)=>{"use strict";B.d(Ae,{z:()=>L});var h=B(6465);const L=new(B(6102).v)(h.o)},7771:(it,Ae,B)=>{"use strict";B.d(Ae,{c:()=>le,N:()=>oe});var h=B(6465),L=B(6102);const oe=new class extends L.v{}(class extends h.o{constructor(ye,Q){super(ye,Q),this.scheduler=ye,this.work=Q}schedule(ye,Q=0){return Q>0?super.schedule(ye,Q):(this.delay=Q,this.state=ye,this.scheduler.flush(this),this)}execute(ye,Q){return Q>0||this.closed?super.execute(ye,Q):this._execute(ye,Q)}requestAsyncId(ye,Q,V=0){return null!==V&&V>0||null===V&&this.delay>0?super.requestAsyncId(ye,Q,V):ye.flush(this)}}),le=oe},377:(it,Ae,B)=>{"use strict";B.d(Ae,{hZ:()=>ie});const ie="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(it,Ae,B)=>{"use strict";B.d(Ae,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(it,Ae,B)=>{"use strict";B.d(Ae,{b:()=>h});const h="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(it,Ae,B)=>{"use strict";B.d(Ae,{N:()=>ie});const ie=(()=>{function L(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return L.prototype=Object.create(Error.prototype),L})()},4449:(it,Ae,B)=>{"use strict";function h(ie){setTimeout(()=>{throw ie},0)}B.d(Ae,{z:()=>h})},4487:(it,Ae,B)=>{"use strict";function h(ie){return ie}B.d(Ae,{y:()=>h})},9796:(it,Ae,B)=>{"use strict";B.d(Ae,{k:()=>h});const h=Array.isArray||(ie=>ie&&"number"==typeof ie.length)},9489:(it,Ae,B)=>{"use strict";B.d(Ae,{z:()=>h});const h=ie=>ie&&"number"==typeof ie.length&&"function"!=typeof ie},9105:(it,Ae,B)=>{"use strict";function h(ie){return"function"==typeof ie}B.d(Ae,{m:()=>h})},1555:(it,Ae,B)=>{"use strict";function h(ie){return null!==ie&&"object"==typeof ie}B.d(Ae,{K:()=>h})},4072:(it,Ae,B)=>{"use strict";function h(ie){return!!ie&&"function"!=typeof ie.subscribe&&"function"==typeof ie.then}B.d(Ae,{t:()=>h})},4869:(it,Ae,B)=>{"use strict";function h(ie){return ie&&"function"==typeof ie.schedule}B.d(Ae,{K:()=>h})},7444:(it,Ae,B)=>{"use strict";B.d(Ae,{s:()=>j});var h=B(5015),ie=B(4449),ce=B(377),le=B(6554),ye=B(9489),Q=B(4072),V=B(1555);const j=ee=>{if(ee&&"function"==typeof ee[le.L])return(ee=>X=>{const ue=ee[le.L]();if("function"!=typeof ue.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return ue.subscribe(X)})(ee);if((0,ye.z)(ee))return(0,h.V)(ee);if((0,Q.t)(ee))return(ee=>X=>(ee.then(ue=>{X.closed||(X.next(ue),X.complete())},ue=>X.error(ue)).then(null,ie.z),X))(ee);if(ee&&"function"==typeof ee[ce.hZ])return(ee=>X=>{const ue=ee[ce.hZ]();for(;;){let De;try{De=ue.next()}catch(_e){return X.error(_e),X}if(De.done){X.complete();break}if(X.next(De.value),X.closed)break}return"function"==typeof ue.return&&X.add(()=>{ue.return&&ue.return()}),X})(ee);{const ue=`You provided ${(0,V.K)(ee)?"an invalid object":`'${ee}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(ue)}}},5015:(it,Ae,B)=>{"use strict";B.d(Ae,{V:()=>h});const h=ie=>L=>{for(let ce=0,oe=ie.length;ce<oe&&!L.closed;ce++)L.next(ie[ce]);L.complete()}},8259:function(it){it.exports=function(){"use strict";const Ae=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),B="SweetAlert2:",ie=E=>E.charAt(0).toUpperCase()+E.slice(1),L=E=>Array.prototype.slice.call(E),ce=E=>{console.warn("".concat(B," ").concat("object"==typeof E?E.join(" "):E))},oe=E=>{console.error("".concat(B," ").concat(E))},le=[],ye=(E,C)=>{(E=>{le.includes(E)||(le.push(E),ce(E))})('"'.concat(E,'" is deprecated and will be removed in the next major release. Please use "').concat(C,'" instead.'))},Q=E=>"function"==typeof E?E():E,V=E=>E&&"function"==typeof E.toPromise,j=E=>V(E)?E.toPromise():Promise.resolve(E),ee=E=>E&&Promise.resolve(E)===E,ue=E=>E instanceof Element||(E=>"object"==typeof E&&E.jquery)(E),W=E=>{const C={};for(const N in E)C[E[N]]="swal2-"+E[N];return C},$=W(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),ve=W(["success","warning","info","question","error"]),de=()=>document.body.querySelector(".".concat($.container)),Se=E=>{const C=de();return C?C.querySelector(E):null},je=E=>Se(".".concat(E)),Me=()=>je($.popup),mt=()=>je($.icon),yt=()=>je($.title),xe=()=>je($["html-container"]),ae=()=>je($.image),pe=()=>je($["progress-steps"]),ge=()=>je($["validation-message"]),he=()=>Se(".".concat($.actions," .").concat($.confirm)),Ve=()=>Se(".".concat($.actions," .").concat($.deny)),nt=()=>Se(".".concat($.loader)),Vt=()=>Se(".".concat($.actions," .").concat($.cancel)),An=()=>je($.actions),Ct=()=>je($.footer),Bt=()=>je($["timer-progress-bar"]),Fn=()=>je($.close),$n=()=>{const E=L(Me().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((N,Z)=>(N=parseInt(N.getAttribute("tabindex")))>(Z=parseInt(Z.getAttribute("tabindex")))?1:N<Z?-1:0),C=L(Me().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(N=>"-1"!==N.getAttribute("tabindex"));return(E=>{const C=[];for(let N=0;N<E.length;N++)-1===C.indexOf(E[N])&&C.push(E[N]);return C})(E.concat(C)).filter(N=>Rt(N))},Ar=()=>!an()&&!document.body.classList.contains($["no-backdrop"]),an=()=>document.body.classList.contains($["toast-shown"]),Ot={previousBodyPadding:null},Sn=(E,C)=>{if(E.textContent="",C){const Z=(new DOMParser).parseFromString(C,"text/html");L(Z.querySelector("head").childNodes).forEach(ke=>{E.appendChild(ke)}),L(Z.querySelector("body").childNodes).forEach(ke=>{E.appendChild(ke)})}},Hn=(E,C)=>{if(!C)return!1;const N=C.split(/\s+/);for(let Z=0;Z<N.length;Z++)if(!E.classList.contains(N[Z]))return!1;return!0},xn=(E,C,N)=>{if(((E,C)=>{L(E.classList).forEach(N=>{!Object.values($).includes(N)&&!Object.values(ve).includes(N)&&!Object.values(C.showClass).includes(N)&&E.classList.remove(N)})})(E,C),C.customClass&&C.customClass[N]){if("string"!=typeof C.customClass[N]&&!C.customClass[N].forEach)return ce("Invalid type of customClass.".concat(N,'! Expected string or iterable object, got "').concat(typeof C.customClass[N],'"'));It(E,C.customClass[N])}},Kr=(E,C)=>{if(!C)return null;switch(C){case"select":case"textarea":case"file":return Ln(E,$[C]);case"checkbox":return E.querySelector(".".concat($.checkbox," input"));case"radio":return E.querySelector(".".concat($.radio," input:checked"))||E.querySelector(".".concat($.radio," input:first-child"));case"range":return E.querySelector(".".concat($.range," input"));default:return Ln(E,$.input)}},Sr=E=>{if(E.focus(),"file"!==E.type){const C=E.value;E.value="",E.value=C}},Yr=(E,C,N)=>{!E||!C||("string"==typeof C&&(C=C.split(/\s+/).filter(Boolean)),C.forEach(Z=>{E.forEach?E.forEach(ke=>{N?ke.classList.add(Z):ke.classList.remove(Z)}):N?E.classList.add(Z):E.classList.remove(Z)}))},It=(E,C)=>{Yr(E,C,!0)},Kn=(E,C)=>{Yr(E,C,!1)},Ln=(E,C)=>{for(let N=0;N<E.childNodes.length;N++)if(Hn(E.childNodes[N],C))return E.childNodes[N]},hn=(E,C,N)=>{N==="".concat(parseInt(N))&&(N=parseInt(N)),N||0===parseInt(N)?E.style[C]="number"==typeof N?"".concat(N,"px"):N:E.style.removeProperty(C)},jt=(E,C="flex")=>{E.style.display=C},Rn=E=>{E.style.display="none"},dt=(E,C,N,Z)=>{const ke=E.querySelector(C);ke&&(ke.style[N]=Z)},Pe=(E,C,N)=>{C?jt(E,N):Rn(E)},Rt=E=>!(!E||!(E.offsetWidth||E.offsetHeight||E.getClientRects().length)),vn=E=>E.scrollHeight>E.clientHeight,$t=E=>{const C=window.getComputedStyle(E),N=parseFloat(C.getPropertyValue("animation-duration")||"0"),Z=parseFloat(C.getPropertyValue("transition-duration")||"0");return N>0||Z>0},et=(E,C=!1)=>{const N=Bt();Rt(N)&&(C&&(N.style.transition="none",N.style.width="100%"),setTimeout(()=>{N.style.transition="width ".concat(E/1e3,"s linear"),N.style.width="0%"},10))},Cn=()=>"undefined"==typeof window||"undefined"==typeof document,ts='\n <div aria-labelledby="'.concat($.title,'" aria-describedby="').concat($["html-container"],'" class="').concat($.popup,'" tabindex="-1">\n   <button type="button" class="').concat($.close,'"></button>\n   <ul class="').concat($["progress-steps"],'"></ul>\n   <div class="').concat($.icon,'"></div>\n   <img class="').concat($.image,'" />\n   <h2 class="').concat($.title,'" id="').concat($.title,'"></h2>\n   <div class="').concat($["html-container"],'" id="').concat($["html-container"],'"></div>\n   <input class="').concat($.input,'" />\n   <input type="file" class="').concat($.file,'" />\n   <div class="').concat($.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat($.select,'"></select>\n   <div class="').concat($.radio,'"></div>\n   <label for="').concat($.checkbox,'" class="').concat($.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat($.label,'"></span>\n   </label>\n   <textarea class="').concat($.textarea,'"></textarea>\n   <div class="').concat($["validation-message"],'" id="').concat($["validation-message"],'"></div>\n   <div class="').concat($.actions,'">\n     <div class="').concat($.loader,'"></div>\n     <button type="button" class="').concat($.confirm,'"></button>\n     <button type="button" class="').concat($.deny,'"></button>\n     <button type="button" class="').concat($.cancel,'"></button>\n   </div>\n   <div class="').concat($.footer,'"></div>\n   <div class="').concat($["timer-progress-bar-container"],'">\n     <div class="').concat($["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),Jt=()=>{hs.isVisible()&&hs.resetValidationMessage()},G=E=>{const C=(()=>{const E=de();return!!E&&(E.remove(),Kn([document.documentElement,document.body],[$["no-backdrop"],$["toast-shown"],$["has-column"]]),!0)})();if(Cn())return void oe("SweetAlert2 requires document to initialize");const N=document.createElement("div");N.className=$.container,C&&It(N,$["no-transition"]),Sn(N,ts);const Z=(E=>"string"==typeof E?document.querySelector(E):E)(E.target);Z.appendChild(N),(E=>{const C=Me();C.setAttribute("role",E.toast?"alert":"dialog"),C.setAttribute("aria-live",E.toast?"polite":"assertive"),E.toast||C.setAttribute("aria-modal","true")})(E),(E=>{"rtl"===window.getComputedStyle(E).direction&&It(de(),$.rtl)})(Z),(()=>{const E=Me(),C=Ln(E,$.input),N=Ln(E,$.file),Z=E.querySelector(".".concat($.range," input")),ke=E.querySelector(".".concat($.range," output")),Je=Ln(E,$.select),Kt=E.querySelector(".".concat($.checkbox," input")),ti=Ln(E,$.textarea);C.oninput=Jt,N.onchange=Jt,Je.onchange=Jt,Kt.onchange=Jt,ti.oninput=Jt,Z.oninput=()=>{Jt(),ke.value=Z.value},Z.onchange=()=>{Jt(),Z.nextSibling.value=Z.value}})()},Ne=(E,C)=>{E instanceof HTMLElement?C.appendChild(E):"object"==typeof E?fe(E,C):E&&Sn(C,E)},fe=(E,C)=>{E.jquery?Qe(C,E):Sn(C,E.toString())},Qe=(E,C)=>{if(E.textContent="",0 in C)for(let N=0;N in C;N++)E.appendChild(C[N].cloneNode(!0));else E.appendChild(C.cloneNode(!0))},Ge=(()=>{if(Cn())return!1;const E=document.createElement("div"),C={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(const N in C)if(Object.prototype.hasOwnProperty.call(C,N)&&void 0!==E.style[N])return C[N];return!1})(),pn=(E,C)=>{const N=An(),Z=nt(),ke=he(),Je=Ve(),Kt=Vt();C.showConfirmButton||C.showDenyButton||C.showCancelButton?jt(N):Rn(N),xn(N,C,"actions"),xr(ke,"confirm",C),xr(Je,"deny",C),xr(Kt,"cancel",C),function(E,C,N,Z){if(!Z.buttonsStyling)return Kn([E,C,N],$.styled);It([E,C,N],$.styled),Z.confirmButtonColor&&(E.style.backgroundColor=Z.confirmButtonColor,It(E,$["default-outline"])),Z.denyButtonColor&&(C.style.backgroundColor=Z.denyButtonColor,It(C,$["default-outline"])),Z.cancelButtonColor&&(N.style.backgroundColor=Z.cancelButtonColor,It(N,$["default-outline"]))}(ke,Je,Kt,C),C.reverseButtons&&(N.insertBefore(Kt,Z),N.insertBefore(Je,Z),N.insertBefore(ke,Z)),Sn(Z,C.loaderHtml),xn(Z,C,"loader")};function xr(E,C,N){Pe(E,N["show".concat(ie(C),"Button")],"inline-block"),Sn(E,N["".concat(C,"ButtonText")]),E.setAttribute("aria-label",N["".concat(C,"ButtonAriaLabel")]),E.className=$[C],xn(E,N,"".concat(C,"Button")),It(E,N["".concat(C,"ButtonClass")])}const $a=(E,C)=>{const N=de();!N||(function(E,C){"string"==typeof C?E.style.background=C:C||It([document.documentElement,document.body],$["no-backdrop"])}(N,C.backdrop),function(E,C){C in $?It(E,$[C]):(ce('The "position" parameter is not valid, defaulting to "center"'),It(E,$.center))}(N,C.position),function(E,C){if(C&&"string"==typeof C){const N="grow-".concat(C);N in $&&It(E,$[N])}}(N,C.grow),xn(N,C,"container"))};var vt={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const Pu=["input","file","range","select","radio","checkbox","textarea"],Ha=E=>{if(!Xt[E.input])return oe('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(E.input,'"'));const C=aa(E.input),N=Xt[E.input](C,E);jt(N),setTimeout(()=>{Sr(N)})},sa=(E,C)=>{const N=Kr(Me(),E);if(N){(E=>{for(let C=0;C<E.attributes.length;C++){const N=E.attributes[C].name;["type","value","style"].includes(N)||E.removeAttribute(N)}})(N);for(const Z in C)N.setAttribute(Z,C[Z])}},xs=E=>{const C=aa(E.input);E.customClass&&It(C,E.customClass.input)},Qr=(E,C)=>{(!E.placeholder||C.inputPlaceholder)&&(E.placeholder=C.inputPlaceholder)},oa=(E,C,N)=>{if(N.inputLabel){E.id=$.input;const Z=document.createElement("label"),ke=$["input-label"];Z.setAttribute("for",E.id),Z.className=ke,It(Z,N.customClass.inputLabel),Z.innerText=N.inputLabel,C.insertAdjacentElement("beforebegin",Z)}},aa=E=>{const C=$[E]?$[E]:$.input;return Ln(Me(),C)},Xt={};Xt.text=Xt.email=Xt.password=Xt.number=Xt.tel=Xt.url=(E,C)=>("string"==typeof C.inputValue||"number"==typeof C.inputValue?E.value=C.inputValue:ee(C.inputValue)||ce('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof C.inputValue,'"')),oa(E,E,C),Qr(E,C),E.type=C.input,E),Xt.file=(E,C)=>(oa(E,E,C),Qr(E,C),E),Xt.range=(E,C)=>{const N=E.querySelector("input"),Z=E.querySelector("output");return N.value=C.inputValue,N.type=C.input,Z.value=C.inputValue,oa(N,E,C),E},Xt.select=(E,C)=>{if(E.textContent="",C.inputPlaceholder){const N=document.createElement("option");Sn(N,C.inputPlaceholder),N.value="",N.disabled=!0,N.selected=!0,E.appendChild(N)}return oa(E,E,C),E},Xt.radio=E=>(E.textContent="",E),Xt.checkbox=(E,C)=>{const N=Kr(Me(),"checkbox");N.value=1,N.id=$.checkbox,N.checked=Boolean(C.inputValue);const Z=E.querySelector("span");return Sn(Z,C.inputPlaceholder),E},Xt.textarea=(E,C)=>{E.value=C.inputValue,Qr(E,C),oa(E,E,C);return setTimeout(()=>{if("MutationObserver"in window){const Z=parseInt(window.getComputedStyle(Me()).width);new MutationObserver(()=>{const Je=E.offsetWidth+(Z=>parseInt(window.getComputedStyle(Z).marginLeft)+parseInt(window.getComputedStyle(Z).marginRight))(E);Me().style.width=Je>Z?"".concat(Je,"px"):null}).observe(E,{attributes:!0,attributeFilter:["style"]})}}),E};const ns=(E,C)=>{const N=xe();xn(N,C,"htmlContainer"),C.html?(Ne(C.html,N),jt(N,"block")):C.text?(N.textContent=C.text,jt(N,"block")):Rn(N),((E,C)=>{const N=Me(),Z=vt.innerParams.get(E),ke=!Z||C.input!==Z.input;Pu.forEach(Je=>{const Kt=$[Je],ti=Ln(N,Kt);sa(Je,C.inputAttributes),ti.className=Kt,ke&&Rn(ti)}),C.input&&(ke&&Ha(C),xs(C))})(E,C)},zt=(E,C)=>{for(const N in ve)C.icon!==N&&Kn(E,ve[N]);It(E,ve[C.icon]),mn(E,C),ze(),xn(E,C,"icon")},ze=()=>{const E=Me(),C=window.getComputedStyle(E).getPropertyValue("background-color"),N=E.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let Z=0;Z<N.length;Z++)N[Z].style.backgroundColor=C},St=(E,C)=>{E.textContent="",Sn(E,C.iconHtml?hr(C.iconHtml):"success"===C.icon?'\n      <div class="swal2-success-circular-line-left"></div>\n      <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n      <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n      <div class="swal2-success-circular-line-right"></div>\n    ':"error"===C.icon?'\n      <span class="swal2-x-mark">\n        <span class="swal2-x-mark-line-left"></span>\n        <span class="swal2-x-mark-line-right"></span>\n      </span>\n    ':hr({question:"?",warning:"!",info:"i"}[C.icon]))},mn=(E,C)=>{if(C.iconColor){E.style.color=C.iconColor,E.style.borderColor=C.iconColor;for(const N of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])dt(E,N,"backgroundColor",C.iconColor);dt(E,".swal2-success-ring","borderColor",C.iconColor)}},hr=E=>'<div class="'.concat($["icon-content"],'">').concat(E,"</div>"),In=(E,C)=>{const N=pe();if(!C.progressSteps||0===C.progressSteps.length)return Rn(N);jt(N),N.textContent="",C.currentProgressStep>=C.progressSteps.length&&ce("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),C.progressSteps.forEach((Z,ke)=>{const Je=(E=>{const C=document.createElement("li");return It(C,$["progress-step"]),Sn(C,E),C})(Z);if(N.appendChild(Je),ke===C.currentProgressStep&&It(Je,$["active-progress-step"]),ke!==C.progressSteps.length-1){const Kt=(E=>{const C=document.createElement("li");return It(C,$["progress-step-line"]),E.progressStepsDistance&&(C.style.width=E.progressStepsDistance),C})(C);N.appendChild(Kt)}})},Dt=(E,C)=>{E.className="".concat($.popup," ").concat(Rt(E)?C.showClass.popup:""),C.toast?(It([document.documentElement,document.body],$["toast-shown"]),It(E,$.toast)):It(E,$.modal),xn(E,C,"popup"),"string"==typeof C.customClass&&It(E,C.customClass),C.icon&&It(E,$["icon-".concat(C.icon)])},ua=(E,C)=>{((E,C)=>{const N=de(),Z=Me();C.toast?(hn(N,"width",C.width),Z.style.width="100%",Z.insertBefore(nt(),mt())):hn(Z,"width",C.width),hn(Z,"padding",C.padding),C.background&&(Z.style.background=C.background),Rn(ge()),Dt(Z,C)})(0,C),$a(0,C),In(0,C),((E,C)=>{const N=vt.innerParams.get(E),Z=mt();N&&C.icon===N.icon?(St(Z,C),zt(Z,C)):C.icon||C.iconHtml?C.icon&&-1===Object.keys(ve).indexOf(C.icon)?(oe('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(C.icon,'"')),Rn(Z)):(jt(Z),St(Z,C),zt(Z,C),It(Z,C.showClass.icon)):Rn(Z)})(E,C),((E,C)=>{const N=ae();if(!C.imageUrl)return Rn(N);jt(N,""),N.setAttribute("src",C.imageUrl),N.setAttribute("alt",C.imageAlt),hn(N,"width",C.imageWidth),hn(N,"height",C.imageHeight),N.className=$.image,xn(N,C,"image")})(0,C),((E,C)=>{const N=yt();Pe(N,C.title||C.titleText,"block"),C.title&&Ne(C.title,N),C.titleText&&(N.innerText=C.titleText),xn(N,C,"title")})(0,C),((E,C)=>{const N=Fn();Sn(N,C.closeButtonHtml),xn(N,C,"closeButton"),Pe(N,C.showCloseButton),N.setAttribute("aria-label",C.closeButtonAriaLabel)})(0,C),ns(E,C),pn(0,C),((E,C)=>{const N=Ct();Pe(N,C.footer),C.footer&&Ne(C.footer,N),xn(N,C,"footer")})(0,C),"function"==typeof C.didRender&&C.didRender(Me())},qa=()=>he()&&he().click();const Yn=E=>{let C=Me();C||hs.fire(),C=Me();const N=nt();an()?Rn(mt()):un(C,E),jt(N),C.setAttribute("data-loading",!0),C.setAttribute("aria-busy",!0),C.focus()},un=(E,C)=>{const N=An(),Z=nt();!C&&Rt(he())&&(C=he()),jt(N),C&&(Rn(C),Z.setAttribute("data-button-to-replace",C.className)),Z.parentNode.insertBefore(Z,C),It([E,N],$.loading)},wt={},Nl=E=>new Promise(C=>{if(!E)return C();const N=window.scrollX,Z=window.scrollY;wt.restoreFocusTimeout=setTimeout(()=>{wt.previousActiveElement&&wt.previousActiveElement.focus?(wt.previousActiveElement.focus(),wt.previousActiveElement=null):document.body&&document.body.focus(),C()},100),window.scrollTo(N,Z)}),ss=()=>{if(wt.timeout)return(()=>{const E=Bt(),C=parseInt(window.getComputedStyle(E).width);E.style.removeProperty("transition"),E.style.width="100%";const N=parseInt(window.getComputedStyle(E).width),Z=parseInt(C/N*100);E.style.removeProperty("transition"),E.style.width="".concat(Z,"%")})(),wt.timeout.stop()},os=()=>{if(wt.timeout){const E=wt.timeout.start();return et(E),E}};let Wt=!1;const Js={};const Xr=E=>{for(let C=E.target;C&&C!==document;C=C.parentNode)for(const N in Js){const Z=C.getAttribute(N);if(Z)return void Js[N].fire({template:Z})}},gr={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Fu=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],mh={},Ao=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Rs=E=>Object.prototype.hasOwnProperty.call(gr,E),Ol=E=>mh[E],yh=E=>{Rs(E)||ce('Unknown parameter "'.concat(E,'"'))},Pl=E=>{Ao.includes(E)&&ce('The parameter "'.concat(E,'" is incompatible with toasts'))},So=E=>{Ol(E)&&ye(E,Ol(E))};var Xf=Object.freeze({isValidParameter:Rs,isUpdatableParameter:E=>-1!==Fu.indexOf(E),isDeprecatedParameter:Ol,argsToParams:E=>{const C={};return"object"!=typeof E[0]||ue(E[0])?["title","html","icon"].forEach((N,Z)=>{const ke=E[Z];"string"==typeof ke||ue(ke)?C[N]=ke:void 0!==ke&&oe("Unexpected type of ".concat(N,'! Expected "string" or "Element", got ').concat(typeof ke))}):Object.assign(C,E[0]),C},isVisible:()=>Rt(Me()),clickConfirm:qa,clickDeny:()=>Ve()&&Ve().click(),clickCancel:()=>Vt()&&Vt().click(),getContainer:de,getPopup:Me,getTitle:yt,getHtmlContainer:xe,getImage:ae,getIcon:mt,getInputLabel:()=>je($["input-label"]),getCloseButton:Fn,getActions:An,getConfirmButton:he,getDenyButton:Ve,getCancelButton:Vt,getLoader:nt,getFooter:Ct,getTimerProgressBar:Bt,getFocusableElements:$n,getValidationMessage:ge,isLoading:()=>Me().hasAttribute("data-loading"),fire:function(...E){return new this(...E)},mixin:function(E){return class extends(this){_main(Z,ke){return super._main(Z,Object.assign({},E,ke))}}},showLoading:Yn,enableLoading:Yn,getTimerLeft:()=>wt.timeout&&wt.timeout.getTimerLeft(),stopTimer:ss,resumeTimer:os,toggleTimer:()=>{const E=wt.timeout;return E&&(E.running?ss():os())},increaseTimer:E=>{if(wt.timeout){const C=wt.timeout.increase(E);return et(C,!0),C}},isTimerRunning:()=>wt.timeout&&wt.timeout.isRunning(),bindClickHandler:function(E="data-swal-template"){Js[E]=this,Wt||(document.body.addEventListener("click",Xr),Wt=!0)}});function Xs(){const E=vt.innerParams.get(this);if(!E)return;const C=vt.domCache.get(this);Rn(C.loader),an()?E.icon&&jt(mt()):vh(C),Kn([C.popup,C.actions],$.loading),C.popup.removeAttribute("aria-busy"),C.popup.removeAttribute("data-loading"),C.confirmButton.disabled=!1,C.denyButton.disabled=!1,C.cancelButton.disabled=!1}const vh=E=>{const C=E.popup.getElementsByClassName(E.loader.getAttribute("data-button-to-replace"));C.length?jt(C[0],"inline-block"):!Rt(he())&&!Rt(Ve())&&!Rt(Vt())&&Rn(E.actions)};const eo=()=>{null===Ot.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(Ot.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Ot.previousBodyPadding+(()=>{const E=document.createElement("div");E.className=$["scrollbar-measure"],document.body.appendChild(E);const C=E.getBoundingClientRect().width-E.clientWidth;return document.body.removeChild(E),C})(),"px"))},Lu=()=>{if(!navigator.userAgent.match(/(CriOS|FxiOS|EdgiOS|YaBrowser|UCBrowser)/i)){const C=44;Me().scrollHeight>window.innerHeight-C&&(de().style.paddingBottom="".concat(C,"px"))}},za=()=>{const E=de();let C;E.ontouchstart=N=>{C=Vu(N)},E.ontouchmove=N=>{C&&(N.preventDefault(),N.stopPropagation())}},Vu=E=>{const C=E.target,N=de();return!(wh(E)||xo(E)||C!==N&&(vn(N)||"INPUT"===C.tagName||"TEXTAREA"===C.tagName||vn(xe())&&xe().contains(C)))},wh=E=>E.touches&&E.touches.length&&"stylus"===E.touches[0].touchType,xo=E=>E.touches&&E.touches.length>1,ci=()=>{L(document.body.children).forEach(C=>{C.hasAttribute("data-previous-aria-hidden")?(C.setAttribute("aria-hidden",C.getAttribute("data-previous-aria-hidden")),C.removeAttribute("data-previous-aria-hidden")):C.removeAttribute("aria-hidden")})};var to={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};function Ms(E,C,N,Z){an()?ro(E,Z):(Nl(N).then(()=>ro(E,Z)),wt.keydownTarget.removeEventListener("keydown",wt.keydownHandler,{capture:wt.keydownListenerCapture}),wt.keydownHandlerAdded=!1),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(C.setAttribute("style","display:none !important"),C.removeAttribute("class"),C.innerHTML=""):C.remove(),Ar()&&(null!==Ot.previousBodyPadding&&(document.body.style.paddingRight="".concat(Ot.previousBodyPadding,"px"),Ot.previousBodyPadding=null),(()=>{if(Hn(document.body,$.iosfix)){const E=parseInt(document.body.style.top,10);Kn(document.body,$.iosfix),document.body.style.top="",document.body.scrollTop=-1*E}})(),ci()),Kn([document.documentElement,document.body],[$.shown,$["height-auto"],$["no-backdrop"],$["toast-shown"]])}function ha(E){E=kl(E);const C=to.swalPromiseResolve.get(this),N=no(this);this.isAwaitingPromise()?E.isDismissed||(Ro(this),C(E)):N&&C(E)}const no=E=>{const C=Me();if(!C)return!1;const N=vt.innerParams.get(E);if(!N||Hn(C,N.hideClass.popup))return!1;Kn(C,N.showClass.popup),It(C,N.hideClass.popup);const Z=de();return Kn(Z,N.showClass.backdrop),It(Z,N.hideClass.backdrop),sr(E,C,N),!0};const Ro=E=>{E.isAwaitingPromise()&&(vt.awaitingPromise.delete(E),vt.innerParams.get(E)||E._destroy())},kl=E=>void 0===E?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},E),sr=(E,C,N)=>{const Z=de(),ke=Ge&&$t(C);"function"==typeof N.willClose&&N.willClose(C),ke?No(E,C,Z,N.returnFocus,N.didClose):Ms(E,Z,N.returnFocus,N.didClose)},No=(E,C,N,Z,ke)=>{wt.swalCloseEventFinishedCallback=Ms.bind(null,E,N,Z,ke),C.addEventListener(Ge,function(Je){Je.target===C&&(wt.swalCloseEventFinishedCallback(),delete wt.swalCloseEventFinishedCallback)})},ro=(E,C)=>{setTimeout(()=>{"function"==typeof C&&C.bind(E.params)(),E._destroy()})};function as(E,C,N){const Z=vt.domCache.get(E);C.forEach(ke=>{Z[ke].disabled=N})}function Ii(E,C){if(!E)return!1;if("radio"===E.type){const Z=E.parentNode.parentNode.querySelectorAll("input");for(let ke=0;ke<Z.length;ke++)Z[ke].disabled=C}else E.disabled=C}class Fl{constructor(C,N){this.callback=C,this.remaining=N,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}increase(C){const N=this.running;return N&&this.stop(),this.remaining+=C,N&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}var fa={email:(E,C)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(E)?Promise.resolve():Promise.resolve(C||"Invalid email address"),url:(E,C)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(E)?Promise.resolve():Promise.resolve(C||"Invalid URL")};function Wc(E){(function(E){E.inputValidator||Object.keys(fa).forEach(C=>{E.input===C&&(E.inputValidator=fa[C])})})(E),E.showLoaderOnConfirm&&!E.preConfirm&&ce("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function(E){(!E.target||"string"==typeof E.target&&!document.querySelector(E.target)||"string"!=typeof E.target&&!E.target.appendChild)&&(ce('Target parameter is not valid, defaulting to "body"'),E.target="body")}(E),"string"==typeof E.title&&(E.title=E.title.split("\n").join("<br />")),G(E)}const Di=["swal-title","swal-html","swal-footer"],or=E=>{const C={};return L(E.querySelectorAll("swal-param")).forEach(N=>{at(N,["name","value"]);const Z=N.getAttribute("name");let ke=N.getAttribute("value");"boolean"==typeof gr[Z]&&"false"===ke&&(ke=!1),"object"==typeof gr[Z]&&(ke=JSON.parse(ke)),C[Z]=ke}),C},oo=E=>{const C={};return L(E.querySelectorAll("swal-button")).forEach(N=>{at(N,["type","color","aria-label"]);const Z=N.getAttribute("type");C["".concat(Z,"ButtonText")]=N.innerHTML,C["show".concat(ie(Z),"Button")]=!0,N.hasAttribute("color")&&(C["".concat(Z,"ButtonColor")]=N.getAttribute("color")),N.hasAttribute("aria-label")&&(C["".concat(Z,"ButtonAriaLabel")]=N.getAttribute("aria-label"))}),C},Po=E=>{const C={},N=E.querySelector("swal-image");return N&&(at(N,["src","width","height","alt"]),N.hasAttribute("src")&&(C.imageUrl=N.getAttribute("src")),N.hasAttribute("width")&&(C.imageWidth=N.getAttribute("width")),N.hasAttribute("height")&&(C.imageHeight=N.getAttribute("height")),N.hasAttribute("alt")&&(C.imageAlt=N.getAttribute("alt"))),C},ga=E=>{const C={},N=E.querySelector("swal-icon");return N&&(at(N,["type","color"]),N.hasAttribute("type")&&(C.icon=N.getAttribute("type")),N.hasAttribute("color")&&(C.iconColor=N.getAttribute("color")),C.iconHtml=N.innerHTML),C},Os=E=>{const C={},N=E.querySelector("swal-input");N&&(at(N,["type","label","placeholder","value"]),C.input=N.getAttribute("type")||"text",N.hasAttribute("label")&&(C.inputLabel=N.getAttribute("label")),N.hasAttribute("placeholder")&&(C.inputPlaceholder=N.getAttribute("placeholder")),N.hasAttribute("value")&&(C.inputValue=N.getAttribute("value")));const Z=E.querySelectorAll("swal-input-option");return Z.length&&(C.inputOptions={},L(Z).forEach(ke=>{at(ke,["value"]);const Je=ke.getAttribute("value");C.inputOptions[Je]=ke.innerHTML})),C},ko=(E,C)=>{const N={};for(const Z in C){const ke=C[Z],Je=E.querySelector(ke);Je&&(at(Je,[]),N[ke.replace(/^swal-/,"")]=Je.innerHTML.trim())}return N},Qa=E=>{const C=Di.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);L(E.children).forEach(N=>{const Z=N.tagName.toLowerCase();-1===C.indexOf(Z)&&ce("Unrecognized element <".concat(Z,">"))})},at=(E,C)=>{L(E.attributes).forEach(N=>{-1===C.indexOf(N.name)&&ce(['Unrecognized attribute "'.concat(N.name,'" on <').concat(E.tagName.toLowerCase(),">."),"".concat(C.length?"Allowed attributes are: ".concat(C.join(", ")):"To set the value, use HTML within the element.")])})},us=E=>{const C=de(),N=Me();"function"==typeof E.willOpen&&E.willOpen(N);const ke=window.getComputedStyle(document.body).overflowY;ls(C,N,E),setTimeout(()=>{uo(C,N)},10),Ar()&&(Uu(C,E.scrollbarPadding,ke),L(document.body.children).forEach(C=>{C===de()||C.contains(de())||(C.hasAttribute("aria-hidden")&&C.setAttribute("data-previous-aria-hidden",C.getAttribute("aria-hidden")),C.setAttribute("aria-hidden","true"))})),!an()&&!wt.previousActiveElement&&(wt.previousActiveElement=document.activeElement),"function"==typeof E.didOpen&&setTimeout(()=>E.didOpen(N)),Kn(C,$["no-transition"])},ao=E=>{const C=Me();if(E.target!==C)return;const N=de();C.removeEventListener(Ge,ao),N.style.overflowY="auto"},uo=(E,C)=>{Ge&&$t(C)?(E.style.overflowY="hidden",C.addEventListener(Ge,ao)):E.style.overflowY="auto"},Uu=(E,C,N)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!Hn(document.body,$.iosfix)){const C=document.body.scrollTop;document.body.style.top="".concat(-1*C,"px"),It(document.body,$.iosfix),za(),Lu()}})(),C&&"hidden"!==N&&eo(),setTimeout(()=>{E.scrollTop=0})},ls=(E,C,N)=>{It(E,N.showClass.backdrop),C.style.setProperty("opacity","0","important"),jt(C,"grid"),setTimeout(()=>{It(C,N.showClass.popup),C.style.removeProperty("opacity")},10),It([document.documentElement,document.body],$.shown),N.heightAuto&&N.backdrop&&!N.toast&&It([document.documentElement,document.body],$["height-auto"])},kt=E=>E.checked?1:0,Vl=E=>E.checked?E.value:null,Nn=E=>E.files.length?null!==E.getAttribute("multiple")?E.files:E.files[0]:null,Ul=(E,C)=>{const N=Me(),Z=ke=>di[C.input](N,lo(ke),C);V(C.inputOptions)||ee(C.inputOptions)?(Yn(he()),j(C.inputOptions).then(ke=>{E.hideLoading(),Z(ke)})):"object"==typeof C.inputOptions?Z(C.inputOptions):oe("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof C.inputOptions))},Fo=(E,C)=>{const N=E.getInput();Rn(N),j(C.inputValue).then(Z=>{N.value="number"===C.input?parseFloat(Z)||0:"".concat(Z),jt(N),N.focus(),E.hideLoading()}).catch(Z=>{oe("Error in inputValue promise: ".concat(Z)),N.value="",jt(N),N.focus(),E.hideLoading()})},di={select:(E,C,N)=>{const Z=Ln(E,$.select),ke=(Je,Kt,ti)=>{const Mn=document.createElement("option");Mn.value=ti,Sn(Mn,Kt),Mn.selected=cs(ti,N.inputValue),Je.appendChild(Mn)};C.forEach(Je=>{const Kt=Je[0],ti=Je[1];if(Array.isArray(ti)){const Mn=document.createElement("optgroup");Mn.label=Kt,Mn.disabled=!1,Z.appendChild(Mn),ti.forEach(Ui=>ke(Mn,Ui[1],Ui[0]))}else ke(Z,ti,Kt)}),Z.focus()},radio:(E,C,N)=>{const Z=Ln(E,$.radio);C.forEach(Je=>{const Kt=Je[0],ti=Je[1],Mn=document.createElement("input"),Ui=document.createElement("label");Mn.type="radio",Mn.name=$.radio,Mn.value=Kt,cs(Kt,N.inputValue)&&(Mn.checked=!0);const ql=document.createElement("span");Sn(ql,ti),ql.className=$.label,Ui.appendChild(Mn),Ui.appendChild(ql),Z.appendChild(Ui)});const ke=Z.querySelectorAll("input");ke.length&&ke[0].focus()}},lo=E=>{const C=[];return"undefined"!=typeof Map&&E instanceof Map?E.forEach((N,Z)=>{let ke=N;"object"==typeof ke&&(ke=lo(ke)),C.push([Z,ke])}):Object.keys(E).forEach(N=>{let Z=E[N];"object"==typeof Z&&(Z=lo(Z)),C.push([N,Z])}),C},cs=(E,C)=>C&&C.toString()===E.toString(),Ti=(E,C)=>{const N=vt.innerParams.get(E),Z=((E,C)=>{const N=E.getInput();if(!N)return null;switch(C.input){case"checkbox":return kt(N);case"radio":return Vl(N);case"file":return Nn(N);default:return C.inputAutoTrim?N.value.trim():N.value}})(E,N);N.inputValidator?Br(E,Z,C):E.getInput().checkValidity()?"deny"===C?mr(E,Z):Si(E,Z):(E.enableButtons(),E.showValidationMessage(N.validationMessage))},Br=(E,C,N)=>{const Z=vt.innerParams.get(E);E.disableInput(),Promise.resolve().then(()=>j(Z.inputValidator(C,Z.validationMessage))).then(Je=>{E.enableButtons(),E.enableInput(),Je?E.showValidationMessage(Je):"deny"===N?mr(E,C):Si(E,C)})},mr=(E,C)=>{const N=vt.innerParams.get(E||void 0);N.showLoaderOnDeny&&Yn(Ve()),N.preDeny?(vt.awaitingPromise.set(E||void 0,!0),Promise.resolve().then(()=>j(N.preDeny(C,N.validationMessage))).then(ke=>{!1===ke?E.hideLoading():E.closePopup({isDenied:!0,value:void 0===ke?C:ke})}).catch(ke=>Ai(E||void 0,ke))):E.closePopup({isDenied:!0,value:C})},ma=(E,C)=>{E.closePopup({isConfirmed:!0,value:C})},Ai=(E,C)=>{E.rejectPromise(C)},Si=(E,C)=>{const N=vt.innerParams.get(E||void 0);N.showLoaderOnConfirm&&Yn(),N.preConfirm?(E.resetValidationMessage(),vt.awaitingPromise.set(E||void 0,!0),Promise.resolve().then(()=>j(N.preConfirm(C,N.validationMessage))).then(ke=>{Rt(ge())||!1===ke?E.hideLoading():ma(E,void 0===ke?C:ke)}).catch(ke=>Ai(E||void 0,ke))):ma(E,C)},Xa=(E,C,N)=>{const Z=$n();if(Z.length)return(C+=N)===Z.length?C=0:-1===C&&(C=Z.length-1),Z[C].focus();Me().focus()},eu=["ArrowRight","ArrowDown"],_a=["ArrowLeft","ArrowUp"],Vo=(E,C,N)=>{const Z=vt.innerParams.get(E);!Z||(Z.stopKeydownPropagation&&C.stopPropagation(),"Enter"===C.key?tu(E,C,Z):"Tab"===C.key?co(C,Z):[...eu,..._a].includes(C.key)?Bu(C.key):"Escape"===C.key&&Yc(C,Z,N))},tu=(E,C,N)=>{if(!C.isComposing&&C.target&&E.getInput()&&C.target.outerHTML===E.getInput().outerHTML){if(["textarea","file"].includes(N.input))return;qa(),C.preventDefault()}},co=(E,C)=>{const N=E.target,Z=$n();let ke=-1;for(let Je=0;Je<Z.length;Je++)if(N===Z[Je]){ke=Je;break}Xa(0,ke,E.shiftKey?-1:1),E.stopPropagation(),E.preventDefault()},Bu=E=>{if(![he(),Ve(),Vt()].includes(document.activeElement))return;const ke=eu.includes(E)?"nextElementSibling":"previousElementSibling",Je=document.activeElement[ke];Je&&Je.focus()},Yc=(E,C,N)=>{Q(C.allowEscapeKey)&&(E.preventDefault(),N(Ae.esc))},ho=(E,C,N)=>{C.popup.onclick=()=>{const Z=vt.innerParams.get(E);Z.showConfirmButton||Z.showDenyButton||Z.showCancelButton||Z.showCloseButton||Z.timer||Z.input||N(Ae.close)}};let va=!1;const nu=E=>{E.popup.onmousedown=()=>{E.container.onmouseup=function(C){E.container.onmouseup=void 0,C.target===E.container&&(va=!0)}}},$l=E=>{E.container.onmousedown=()=>{E.popup.onmouseup=function(C){E.popup.onmouseup=void 0,(C.target===E.popup||E.popup.contains(C.target))&&(va=!0)}}},tp=(E,C,N)=>{C.container.onclick=Z=>{const ke=vt.innerParams.get(E);va?va=!1:Z.target===C.container&&Q(ke.allowOutsideClick)&&N(Ae.backdrop)}};const Jc=(E,C)=>{const N=(E=>{const C="string"==typeof E.template?document.querySelector(E.template):E.template;if(!C)return{};const N=C.content;return Qa(N),Object.assign(or(N),oo(N),Po(N),ga(N),Os(N),ko(N,Di))})(E),Z=Object.assign({},gr,C,N,E);return Z.showClass=Object.assign({},gr.showClass,Z.showClass),Z.hideClass=Object.assign({},gr.hideClass,Z.hideClass),Z},Xg=(E,C,N)=>new Promise((Z,ke)=>{const Je=Kt=>{E.closePopup({isDismissed:!0,dismiss:Kt})};to.swalPromiseResolve.set(E,Z),to.swalPromiseReject.set(E,ke),C.confirmButton.onclick=()=>(E=>{const C=vt.innerParams.get(E);E.disableButtons(),C.input?Ti(E,"confirm"):Si(E,!0)})(E),C.denyButton.onclick=()=>(E=>{const C=vt.innerParams.get(E);E.disableButtons(),C.returnInputValueOnDeny?Ti(E,"deny"):mr(E,!1)})(E),C.cancelButton.onclick=()=>((E,C)=>{E.disableButtons(),C(Ae.cancel)})(E,Je),C.closeButton.onclick=()=>Je(Ae.close),((E,C,N)=>{vt.innerParams.get(E).toast?ho(E,C,N):(nu(C),$l(C),tp(E,C,N))})(E,C,Je),((E,C,N,Z)=>{C.keydownTarget&&C.keydownHandlerAdded&&(C.keydownTarget.removeEventListener("keydown",C.keydownHandler,{capture:C.keydownListenerCapture}),C.keydownHandlerAdded=!1),N.toast||(C.keydownHandler=ke=>Vo(E,ke,Z),C.keydownTarget=N.keydownListenerCapture?window:Me(),C.keydownListenerCapture=N.keydownListenerCapture,C.keydownTarget.addEventListener("keydown",C.keydownHandler,{capture:C.keydownListenerCapture}),C.keydownHandlerAdded=!0)})(E,wt,N,Je),((E,C)=>{"select"===C.input||"radio"===C.input?Ul(E,C):["text","email","number","tel","textarea"].includes(C.input)&&(V(C.inputValue)||ee(C.inputValue))&&(Yn(he()),Fo(E,C))})(E,N),us(N),Vi(wt,N,Je),bn(C,N),setTimeout(()=>{C.container.scrollTop=0})}),ei=E=>{const C={popup:Me(),container:de(),actions:An(),confirmButton:he(),denyButton:Ve(),cancelButton:Vt(),loader:nt(),closeButton:Fn(),validationMessage:ge(),progressSteps:pe()};return vt.domCache.set(E,C),C},Vi=(E,C,N)=>{const Z=Bt();Rn(Z),C.timer&&(E.timeout=new Fl(()=>{N("timer"),delete E.timeout},C.timer),C.timerProgressBar&&(jt(Z),setTimeout(()=>{E.timeout&&E.timeout.running&&et(C.timer)})))},bn=(E,C)=>{if(!C.toast){if(!Q(C.allowEnterKey))return ju();ds(E,C)||Xa(0,-1,1)}},ds=(E,C)=>C.focusDeny&&Rt(E.denyButton)?(E.denyButton.focus(),!0):C.focusCancel&&Rt(E.cancelButton)?(E.cancelButton.focus(),!0):!(!C.focusConfirm||!Rt(E.confirmButton)||(E.confirmButton.focus(),0)),ju=()=>{document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};const ar=E=>{Hu(E),delete E.params,delete wt.keydownHandler,delete wt.keydownTarget,delete wt.currentInstance},Hu=E=>{E.isAwaitingPromise()?(Ps(vt,E),vt.awaitingPromise.set(E,!0)):(Ps(to,E),Ps(vt,E))},Ps=(E,C)=>{for(const N in E)E[N].delete(C)};var fo=Object.freeze({hideLoading:Xs,disableLoading:Xs,getInput:function(E){const C=vt.innerParams.get(E||this),N=vt.domCache.get(E||this);return N?Kr(N.popup,C.input):null},close:ha,isAwaitingPromise:function(){return!!vt.awaitingPromise.get(this)},rejectPromise:function(E){const C=to.swalPromiseReject.get(this);Ro(this),C&&C(E)},closePopup:ha,closeModal:ha,closeToast:ha,enableButtons:function(){as(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function(){as(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function(){return Ii(this.getInput(),!1)},disableInput:function(){return Ii(this.getInput(),!0)},showValidationMessage:function(E){const C=vt.domCache.get(this),N=vt.innerParams.get(this);Sn(C.validationMessage,E),C.validationMessage.className=$["validation-message"],N.customClass&&N.customClass.validationMessage&&It(C.validationMessage,N.customClass.validationMessage),jt(C.validationMessage);const Z=this.getInput();Z&&(Z.setAttribute("aria-invalid",!0),Z.setAttribute("aria-describedby",$["validation-message"]),Sr(Z),It(Z,$.inputerror))},resetValidationMessage:function(){const E=vt.domCache.get(this);E.validationMessage&&Rn(E.validationMessage);const C=this.getInput();C&&(C.removeAttribute("aria-invalid"),C.removeAttribute("aria-describedby"),Kn(C,$.inputerror))},getProgressSteps:function(){return vt.domCache.get(this).progressSteps},_main:function(E,C={}){(E=>{!E.backdrop&&E.allowOutsideClick&&ce('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const C in E)yh(C),E.toast&&Pl(C),So(C)})(Object.assign({},C,E)),wt.currentInstance&&(wt.currentInstance._destroy(),Ar()&&ci()),wt.currentInstance=this;const N=Jc(E,C);Wc(N),Object.freeze(N),wt.timeout&&(wt.timeout.stop(),delete wt.timeout),clearTimeout(wt.restoreFocusTimeout);const Z=ei(this);return ua(this,N),vt.innerParams.set(this,N),Xg(this,Z,N)},update:function(E){const C=Me(),N=vt.innerParams.get(this);if(!C||Hn(C,N.hideClass.popup))return ce("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const Z={};Object.keys(E).forEach(Je=>{hs.isUpdatableParameter(Je)?Z[Je]=E[Je]:ce('Invalid parameter to update: "'.concat(Je,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))});const ke=Object.assign({},N,Z);ua(this,ke),vt.innerParams.set(this,ke),Object.defineProperties(this,{params:{value:Object.assign({},this.params,E),writable:!1,enumerable:!0}})},_destroy:function(){const E=vt.domCache.get(this),C=vt.innerParams.get(this);C?(E.popup&&wt.swalCloseEventFinishedCallback&&(wt.swalCloseEventFinishedCallback(),delete wt.swalCloseEventFinishedCallback),wt.deferDisposalTimer&&(clearTimeout(wt.deferDisposalTimer),delete wt.deferDisposalTimer),"function"==typeof C.didDestroy&&C.didDestroy(),ar(this)):Hu(this)}});let wa;class hi{constructor(...C){if("undefined"==typeof window)return;wa=this;const N=Object.freeze(this.constructor.argsToParams(C));Object.defineProperties(this,{params:{value:N,writable:!1,enumerable:!0,configurable:!0}});const Z=this._main(this.params);vt.promise.set(this,Z)}then(C){return vt.promise.get(this).then(C)}finally(C){return vt.promise.get(this).finally(C)}}Object.assign(hi.prototype,fo),Object.assign(hi,Xf),Object.keys(fo).forEach(E=>{hi[E]=function(...C){if(wa)return wa[E](...C)}}),hi.DismissReason=Ae,hi.version="11.1.9";const hs=hi;return hs.default=hs,hs}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(Ae,B){var h=Ae.createElement("style");if(Ae.getElementsByTagName("head")[0].appendChild(h),h.styleSheet)h.styleSheet.disabled||(h.styleSheet.cssText=B);else try{h.innerHTML=B}catch(ie){h.innerText=B}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:#595959;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7367f0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(115,103,240,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#ea5455;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(234,84,85,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7d88;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,125,136,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:#545454;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;height:.25em;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:#545454;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 0}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 0;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},6673:(it,Ae,B)=>{"use strict";var h=B(3018);let ie=null;function L(){return ie}const Ie=new h.OlP("DocumentToken");let ye=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,h.Yz7)({factory:Q,token:n,providedIn:"platform"}),n})();function Q(){return(0,h.LFG)(j)}const V=new h.OlP("Location Initialized");let j=(()=>{class n extends ye{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(t){const s=L().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",t,!1),()=>s.removeEventListener("popstate",t)}onHashChange(t){const s=L().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",t,!1),()=>s.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,s,a){ee()?this._history.pushState(t,s,a):this.location.hash=a}replaceState(t,s,a){ee()?this._history.replaceState(t,s,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ie))},n.\u0275prov=(0,h.Yz7)({factory:X,token:n,providedIn:"platform"}),n})();function ee(){return!!window.history.pushState}function X(){return new j((0,h.LFG)(Ie))}function ue(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function De(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function _e(n){return n&&"?"!==n[0]?"?"+n:n}let W=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,h.Yz7)({factory:$,token:n,providedIn:"root"}),n})();function $(n){const e=(0,h.LFG)(Ie).location;return new de((0,h.LFG)(ye),e&&e.origin||"")}const ve=new h.OlP("appBaseHref");let de=(()=>{class n extends W{constructor(t,s){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==s&&(s=this._platformLocation.getBaseHrefFromDOM()),null==s)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=s}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ue(this._baseHref,t)}path(t=!1){const s=this._platformLocation.pathname+_e(this._platformLocation.search),a=this._platformLocation.hash;return a&&t?`${s}${a}`:s}pushState(t,s,a,c){const p=this.prepareExternalUrl(a+_e(c));this._platformLocation.pushState(t,s,p)}replaceState(t,s,a,c){const p=this.prepareExternalUrl(a+_e(c));this._platformLocation.replaceState(t,s,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var s,a;null===(a=(s=this._platformLocation).historyGo)||void 0===a||a.call(s,t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ye),h.LFG(ve,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Se=(()=>{class n extends W{constructor(t,s){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(t){const s=ue(this._baseHref,t);return s.length>0?"#"+s:s}pushState(t,s,a,c){let p=this.prepareExternalUrl(a+_e(c));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.pushState(t,s,p)}replaceState(t,s,a,c){let p=this.prepareExternalUrl(a+_e(c));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.replaceState(t,s,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var s,a;null===(a=(s=this._platformLocation).historyGo)||void 0===a||a.call(s,t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ye),h.LFG(ve,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),je=(()=>{class n{constructor(t,s){this._subject=new h.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const a=this._platformStrategy.getBaseHref();this._platformLocation=s,this._baseHref=De(yt(a)),this._platformStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,s=""){return this.path()==this.normalize(t+_e(s))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,yt(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,s="",a=null){this._platformStrategy.pushState(a,"",t,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_e(s)),a)}replaceState(t,s="",a=null){this._platformStrategy.replaceState(a,"",t,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_e(s)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var s,a;null===(a=(s=this._platformStrategy).historyGo)||void 0===a||a.call(s,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}))}_notifyUrlChangeListeners(t="",s){this._urlChangeListeners.forEach(a=>a(t,s))}subscribe(t,s,a){return this._subject.subscribe({next:t,error:s,complete:a})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(W),h.LFG(ye))},n.normalizeQueryParams=_e,n.joinWithSlash=ue,n.stripTrailingSlash=De,n.\u0275prov=(0,h.Yz7)({factory:Me,token:n,providedIn:"root"}),n})();function Me(){return new je((0,h.LFG)(W),(0,h.LFG)(ye))}function yt(n){return n.replace(/\/index.html$/,"")}var pe=(()=>((pe=pe||{})[pe.Zero=0]="Zero",pe[pe.One=1]="One",pe[pe.Two=2]="Two",pe[pe.Few=3]="Few",pe[pe.Many=4]="Many",pe[pe.Other=5]="Other",pe))();const Sr=h.kL8;class fr{}let jn=(()=>{class n extends fr{constructor(t){super(),this.locale=t}getPluralCategory(t,s){switch(Sr(s||this.locale)(t)){case pe.Zero:return"zero";case pe.One:return"one";case pe.Two:return"two";case pe.Few:return"few";case pe.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.soG))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Li=(()=>{class n{constructor(t,s){this._viewContainer=t,this._context=new Yn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){un("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){un("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,s){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Yn{constructor(){this.$implicit=null,this.ngIf=null}}function un(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,h.AaK)(e)}'.`)}let wh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[{provide:fr,useClass:jn}]}),n})();function Ms(n){return"server"===n}let no=(()=>{class n{}return n.\u0275prov=(0,h.Yz7)({token:n,providedIn:"root",factory:()=>new Wa((0,h.LFG)(Ie),window)}),n})();class Wa{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const s=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=s.currentNode;for(;a;){const c=a.shadowRoot;if(c){const p=c.getElementById(e)||c.querySelector(`[name="${e}"]`);if(p)return p}a=s.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),s=t.left+this.window.pageXOffset,a=t.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(s-c[0],a-c[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ro(this.window.history)||Ro(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Ro(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class as extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new as,ie||(ie=n)}onAndCancel(e,t,s){return e.addEventListener(t,s,!1),()=>{e.removeEventListener(t,s,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(Ii=Ii||document.querySelector("base"),Ii?Ii.getAttribute("href"):null);return null==t?null:function(n){Mo=Mo||document.createElement("a"),Mo.setAttribute("href",n);const e=Mo.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ii=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const s=t.indexOf("="),[a,c]=-1==s?[t,""]:[t.slice(0,s),t.slice(s+1)];if(a.trim()===e)return decodeURIComponent(c)}return null}(document.cookie,e)}}let Mo,Ii=null;const Ka=new h.OlP("TRANSITION_ID"),Ya=[{provide:h.ip1,useFactory:function(n,e,t){return()=>{t.get(h.CZH).donePromise.then(()=>{const s=L(),a=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let c=0;c<a.length;c++)s.remove(a[c])})}},deps:[Ka,Ie,h.zs3],multi:!0}];class Nt{static init(){(0,h.VLi)(new Nt)}addToWindow(e){h.dqk.getAngularTestability=(s,a=!0)=>{const c=e.findTestabilityInTree(s,a);if(null==c)throw new Error("Could not find testability for element.");return c},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(s=>{const a=h.dqk.getAllAngularTestabilities();let c=a.length,p=!1;const v=function(D){p=p||D,c--,0==c&&s(p)};a.forEach(function(D){D.whenStable(v)})})}findTestabilityInTree(e,t,s){if(null==t)return null;const a=e.getTestability(t);return null!=a?a:s?L().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Fl=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const us=new h.OlP("EventManagerPlugins");let ao=(()=>{class n{constructor(t,s){this._zone=s,this._eventNameToPlugin=new Map,t.forEach(a=>a.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,s,a){return this._findPluginFor(s).addEventListener(t,s,a)}addGlobalEventListener(t,s,a){return this._findPluginFor(s).addGlobalEventListener(t,s,a)}getZone(){return this._zone}_findPluginFor(t){const s=this._eventNameToPlugin.get(t);if(s)return s;const a=this._plugins;for(let c=0;c<a.length;c++){const p=a[c];if(p.supports(t))return this._eventNameToPlugin.set(t,p),p}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(us),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class uo{constructor(e){this._doc=e}addGlobalEventListener(e,t,s){const a=L().getGlobalEventTarget(this._doc,e);if(!a)throw new Error(`Unsupported event target ${a} for event ${t}`);return this.addEventListener(a,t,s)}}let Uu=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const s=new Set;t.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),s.add(a))}),this.onStylesAdded(s)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),ls=(()=>{class n extends Uu{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,s,a){t.forEach(c=>{const p=this._doc.createElement("style");p.textContent=c,a.push(s.appendChild(p))})}addHost(t){const s=[];this._addStylesToHost(this._stylesSet,t,s),this._hostNodes.set(t,s)}removeHost(t){const s=this._hostNodes.get(t);s&&s.forEach(Ll),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((s,a)=>{this._addStylesToHost(t,a,s)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Ll))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ie))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function Ll(n){L().remove(n)}const Oe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},kt=/%COMP%/g;function cs(n,e,t){for(let s=0;s<e.length;s++){let a=e[s];Array.isArray(a)?cs(n,a,t):(a=a.replace(kt,n),t.push(a))}return t}function Bl(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Lo=(()=>{class n{constructor(t,s,a){this.eventManager=t,this.sharedStylesHost=s,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new Ti(t)}createRenderer(t,s){if(!t||!s)return this.defaultRenderer;switch(s.encapsulation){case h.ifc.Emulated:{let a=this.rendererByCompId.get(s.id);return a||(a=new Ai(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,a)),a.applyToHost(t),a}case 1:case h.ifc.ShadowDom:return new Si(this.eventManager,this.sharedStylesHost,t,s);default:if(!this.rendererByCompId.has(s.id)){const a=cs(s.id,s.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ao),h.LFG(ls),h.LFG(h.AFp))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Ti{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Oe[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,s){e&&e.insertBefore(t,s)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let s="string"==typeof e?document.querySelector(e):e;if(!s)throw new Error(`The selector "${e}" did not match any elements`);return t||(s.textContent=""),s}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,s,a){if(a){t=a+":"+t;const c=Oe[a];c?e.setAttributeNS(c,t,s):e.setAttribute(t,s)}else e.setAttribute(t,s)}removeAttribute(e,t,s){if(s){const a=Oe[s];a?e.removeAttributeNS(a,t):e.removeAttribute(`${s}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,s,a){a&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(t,s,a&h.JOm.Important?"important":""):e.style[t]=s}removeStyle(e,t,s){s&h.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,s){e[t]=s}setValue(e,t){e.nodeValue=t}listen(e,t,s){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Bl(s)):this.eventManager.addEventListener(e,t,Bl(s))}}class Ai extends Ti{constructor(e,t,s,a){super(e),this.component=s;const c=cs(a+"-"+s.id,s.styles,[]);t.addStyles(c),this.contentAttr="_ngcontent-%COMP%".replace(kt,a+"-"+s.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(kt,n)}(a+"-"+s.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const s=super.createElement(e,t);return super.setAttribute(s,this.contentAttr,""),s}}class Si extends Ti{constructor(e,t,s,a){super(e),this.sharedStylesHost=t,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=cs(a.id,a.styles,[]);for(let p=0;p<c.length;p++){const v=document.createElement("style");v.textContent=c[p],this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,s){return super.insertBefore(this.nodeOrShadowRoot(e),t,s)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let ya=(()=>{class n extends uo{constructor(t){super(t)}supports(t){return!0}addEventListener(t,s,a){return t.addEventListener(s,a,!1),()=>this.removeEventListener(t,s,a)}removeEventListener(t,s,a){return t.removeEventListener(s,a)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ie))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const ho=["alt","control","meta","shift"],nu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$l={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ei={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Vi=(()=>{class n extends uo{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,s,a){const c=n.parseEventName(s),p=n.eventCallback(c.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(t,c.domEventName,p))}static parseEventName(t){const s=t.toLowerCase().split("."),a=s.shift();if(0===s.length||"keydown"!==a&&"keyup"!==a)return null;const c=n._normalizeKey(s.pop());let p="";if(ho.forEach(D=>{const R=s.indexOf(D);R>-1&&(s.splice(R,1),p+=D+".")}),p+=c,0!=s.length||0===c.length)return null;const v={};return v.domEventName=a,v.fullKey=p,v}static getEventFullKey(t){let s="",a=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&$l.hasOwnProperty(e)&&(e=$l[e]))}return nu[e]||e}(t);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),ho.forEach(c=>{c!=a&&ei[c](t)&&(s+=c+".")}),s+=a,s}static eventCallback(t,s,a){return c=>{n.getEventFullKey(c)===t&&a.runGuarded(()=>s(c))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ie))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const E=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:"browser"},{provide:h.g9A,useValue:function(){as.makeCurrent(),Nt.init()},multi:!0},{provide:Ie,useFactory:function(){return(0,h.RDi)(document),document},deps:[]}]),C=[[],{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function(){return new h.qLn},deps:[]},{provide:us,useClass:ya,multi:!0,deps:[Ie,h.R0b,h.Lbi]},{provide:us,useClass:Vi,multi:!0,deps:[Ie]},[],{provide:Lo,useClass:Lo,deps:[ao,ls,h.AFp]},{provide:h.FYo,useExisting:Lo},{provide:Uu,useExisting:ls},{provide:ls,useClass:ls,deps:[Ie]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b]},{provide:ao,useClass:ao,deps:[us,h.R0b]},{provide:class{},useClass:Fl,deps:[]},[]];let N=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.AFp,useValue:t.appId},{provide:Ka,useExisting:h.AFp},Ya]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(n,12))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:C,imports:[wh,h.hGG]}),n})();"undefined"!=typeof window&&window;const Xc_firebase={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:"",measurementId:"",databaseURL:"<your-database-URL>"};var qn=B(8939),ed=B(3637),yr=B(7574),yn=B(4402),ht=B(5917),Vn=B(6643),fs=B(3282);function Eh(...n){return(0,fs.J)(1)((0,ht.of)(...n))}var ba=B(4869);function Ku(...n){const e=n[n.length-1];return(0,ba.K)(e)?(n.pop(),t=>Eh(n,t,e)):t=>Eh(n,t)}var Bi=B(7393);function Yu(){return n=>n.lift(new nd)}class nd{call(e,t){return t.subscribe(new su(e))}}class su extends Bi.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}var Tt=B(8002);function Uo(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(a){return a.lift(new Ch(n,e,t))}}class Ch{constructor(e,t,s=!1){this.accumulator=e,this.seed=t,this.hasSeed=s}call(e,t){return t.subscribe(new Kl(e,this.accumulator,this.seed,this.hasSeed))}}class Kl extends Bi.L{constructor(e,t,s,a){super(e),this.accumulator=t,this._seed=s,this.hasSeed=a,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let s;try{s=this.accumulator(this.seed,e,t)}catch(a){this.destination.error(a)}this.seed=s,this.destination.next(s)}}class Yl{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new Ih(e,this.compare,this.keySelector))}}class Ih extends Bi.L{constructor(e,t,s){super(e),this.keySelector=s,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:a}=this;t=a?a(e):e}catch(a){return this.destination.error(a)}let s=!1;if(this.hasKey)try{const{compare:a}=this;s=a(this.key,t)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=t,this.destination.next(e))}}function ps(n,e){return function(s){return s.lift(new Bo(n,e))}}class Bo{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new jo(e,this.predicate,this.thisArg))}}class jo extends Bi.L{constructor(e,t,s){super(e),this.predicate=t,this.thisArg=s,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(s){return void this.destination.error(s)}t&&this.destination.next(e)}}B(4671);var He,Jl=B(4486),Te=B(8239),ji=B(5452),Xl=B(6034),$o=B(5601),Ft=B(3854),em="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},gs={},Qu=Qu||{},bt=em||self;function Ju(){}function Dh(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Ea(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var el="closure_uid_"+(1e9*Math.random()>>>0),Th=0;function rd(n,e,t){return n.call.apply(n.bind,arguments)}function ou(n,e,t){if(!n)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),n.apply(e,a)}}return function(){return n.apply(e,arguments)}}function Pn(n,e,t){return(Pn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?rd:ou).apply(null,arguments)}function go(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),n.apply(this,s)}}function ni(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(s,a,c){for(var p=Array(arguments.length-2),v=2;v<arguments.length;v++)p[v-2]=arguments[v];return e.prototype[a].apply(s,p)}}function Dn(){this.s=this.s,this.o=this.o}var au={};Dn.prototype.s=!1,Dn.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,el)&&n[el]||(n[el]=++Th)}(this);delete au[n]}},Dn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ca=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},id=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const s=n.length,a="string"==typeof n?n.split(""):n;for(let c=0;c<s;c++)c in a&&e.call(t,a[c],c,n)};function xi(n){return Array.prototype.concat.apply([],arguments)}function Hi(n){const e=n.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=n[s];return t}return[]}function qi(n){return/^[\s\xa0]*$/.test(n)}var jr,ri=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Nr(n,e){return-1!=n.indexOf(e)}function tc(n,e){return n<e?-1:n>e?1:0}e:{var sd=bt.navigator;if(sd){var np=sd.userAgent;if(np){jr=np;break e}}jr=""}function od(n,e,t){for(const s in n)e.call(t,n[s],s,n)}function I(n){const e={};for(const t in n)e[t]=n[t];return e}var A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(n,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)n[t]=s[t];for(let c=0;c<A.length;c++)t=A[c],Object.prototype.hasOwnProperty.call(s,t)&&(n[t]=s[t])}}function H(n){return H[" "](n),n}H[" "]=Ju;var vr,n,be=Nr(jr,"Opera"),Le=Nr(jr,"Trident")||Nr(jr,"MSIE"),Xe=Nr(jr,"Edge"),Ye=Xe||Le,Ht=Nr(jr,"Gecko")&&!(Nr(jr.toLowerCase(),"webkit")&&!Nr(jr,"Edge"))&&!(Nr(jr,"Trident")||Nr(jr,"MSIE"))&&!Nr(jr,"Edge"),tn=Nr(jr.toLowerCase(),"webkit")&&!Nr(jr,"Edge");function _r(){var n=bt.document;return n?n.documentMode:void 0}e:{var wr="",Gi=(n=jr,Ht?/rv:([^\);]+)(\)|;)/.exec(n):Xe?/Edge\/([\d\.]+)/.exec(n):Le?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):tn?/WebKit\/(\S+)/.exec(n):be?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Gi&&(wr=Gi?Gi[1]:""),Le){var Ia=_r();if(null!=Ia&&Ia>parseFloat(wr)){vr=String(Ia);break e}}vr=wr}var Zi={};function ks(){return e=Zi,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=ri(String(vr)).split("."),t=ri("9").split("."),s=Math.max(e.length,t.length);for(let p=0;0==n&&p<s;p++){var a=e[p]||"",c=t[p]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==a[0].length&&0==c[0].length)break;n=tc(0==a[1].length?0:parseInt(a[1],10),0==c[1].length?0:parseInt(c[1],10))||tc(0==a[2].length,0==c[2].length)||tc(a[2],c[2]),a=a[3],c=c[3]}while(0==n)}return 0<=n}();var e}var ad=bt.document&&Le&&(_r()||parseInt(vr,10))||void 0,Xb=function(){if(!bt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{bt.addEventListener("test",Ju,e),bt.removeEventListener("test",Ju,e)}catch(t){}return n}();function Mr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Ho(n,e){if(Mr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,s=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Ht){e:{try{H(e.nodeName);var a=!0;break e}catch(c){}a=!1}a||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:tl[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Ho.Z.h.call(this)}}Mr.prototype.h=function(){this.defaultPrevented=!0},ni(Ho,Mr);var tl={2:"touch",3:"pen",4:"mouse"};Ho.prototype.h=function(){Ho.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ud="closure_listenable_"+(1e6*Math.random()|0),ur=0;function Ah(n,e,t,s,a){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.ia=a,this.key=++ur,this.ca=this.fa=!1}function rp(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function qo(n){this.src=n,this.g={},this.h=0}function nl(n,e){var t=e.type;if(t in n.g){var c,s=n.g[t],a=Ca(s,e);(c=0<=a)&&Array.prototype.splice.call(s,a,1),c&&(rp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function ld(n,e,t,s){for(var a=0;a<n.length;++a){var c=n[a];if(!c.ca&&c.listener==e&&c.capture==!!t&&c.ia==s)return a}return-1}qo.prototype.add=function(n,e,t,s,a){var c=n.toString();(n=this.g[c])||(n=this.g[c]=[],this.h++);var p=ld(n,e,s,a);return-1<p?(e=n[p],t||(e.fa=!1)):((e=new Ah(e,this.src,c,!!s,a)).fa=t,n.push(e)),e};var Sh="closure_lm_"+(1e6*Math.random()|0),xh={};function tm(n,e,t,s,a){if(s&&s.once)return cd(n,e,t,s,a);if(Array.isArray(e)){for(var c=0;c<e.length;c++)tm(n,e[c],t,s,a);return null}return t=ap(t),n&&n[ud]?n.N(e,t,Ea(s)?!!s.capture:!!s,a):rl(n,e,t,!1,s,a)}function rl(n,e,t,s,a,c){if(!e)throw Error("Invalid event type");var p=Ea(a)?!!a.capture:!!a,v=rc(n);if(v||(n[Sh]=v=new qo(n)),(t=v.add(e,t,s,p,c)).proxy)return t;if(s=function(){var e=op;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=s,s.src=n,s.listener=t,n.addEventListener)Xb||(a=p),void 0===a&&(a=!1),n.addEventListener(e.toString(),s,a);else if(n.attachEvent)n.attachEvent(sp(e.toString()),s);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(s)}return t}function cd(n,e,t,s,a){if(Array.isArray(e)){for(var c=0;c<e.length;c++)cd(n,e[c],t,s,a);return null}return t=ap(t),n&&n[ud]?n.O(e,t,Ea(s)?!!s.capture:!!s,a):rl(n,e,t,!0,s,a)}function Da(n,e,t,s,a){if(Array.isArray(e))for(var c=0;c<e.length;c++)Da(n,e[c],t,s,a);else s=Ea(s)?!!s.capture:!!s,t=ap(t),n&&n[ud]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=ld(c=n.g[e],t,s,a))&&(rp(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete n.g[e],n.h--))):n&&(n=rc(n))&&(e=n.g[e.toString()],n=-1,e&&(n=ld(e,t,s,a)),(t=-1<n?e[n]:null)&&ip(t))}function ip(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[ud])nl(e.i,n);else{var t=n.type,s=n.proxy;e.removeEventListener?e.removeEventListener(t,s,n.capture):e.detachEvent?e.detachEvent(sp(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=rc(e))?(nl(t,n),0==t.h&&(t.src=null,e[Sh]=null)):rp(n)}}}function sp(n){return n in xh?xh[n]:xh[n]="on"+n}function op(n,e){if(n.ca)n=!0;else{e=new Ho(e,this);var t=n.listener,s=n.ia||n.src;n.fa&&ip(n),n=t.call(s,e)}return n}function rc(n){return(n=n[Sh])instanceof qo?n:null}var Rh="__closure_events_fn_"+(1e9*Math.random()>>>0);function ap(n){return"function"==typeof n?n:(n[Rh]||(n[Rh]=function(e){return n.handleEvent(e)}),n[Rh])}function br(){Dn.call(this),this.i=new qo(this),this.P=this,this.I=null}function Qn(n,e){var t,s=n.I;if(s)for(t=[];s;s=s.I)t.push(s);if(n=n.P,s=e.type||e,"string"==typeof e)e=new Mr(e,n);else if(e instanceof Mr)e.target=e.target||n;else{var a=e;M(e=new Mr(s,n),a)}if(a=!0,t)for(var c=t.length-1;0<=c;c--){var p=e.g=t[c];a=uu(p,s,!0,e)&&a}if(a=uu(p=e.g=n,s,!0,e)&&a,a=uu(p,s,!1,e)&&a,t)for(c=0;c<t.length;c++)a=uu(p=e.g=t[c],s,!1,e)&&a}function uu(n,e,t,s){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,c=0;c<e.length;++c){var p=e[c];if(p&&!p.ca&&p.capture==t){var v=p.listener,D=p.ia||p.src;p.fa&&nl(n.i,p),a=!1!==v.call(D,s)&&a}}return a&&!s.defaultPrevented}ni(br,Dn),br.prototype[ud]=!0,br.prototype.removeEventListener=function(n,e,t,s){Da(this,n,e,t,s)},br.prototype.M=function(){if(br.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],s=0;s<t.length;s++)rp(t[s]);delete n.g[e],n.h--}}this.I=null},br.prototype.N=function(n,e,t,s){return this.i.add(String(n),e,!1,t,s)},br.prototype.O=function(n,e,t,s){return this.i.add(String(n),e,!0,t,s)};var up=bt.JSON.stringify;function e0(){var n=Ta;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var dp,lp=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new t0,n=>n.reset());class t0{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function E_(n){bt.setTimeout(()=>{throw n},0)}function cp(n,e){dp||function(){var n=bt.Promise.resolve(void 0);dp=function(){n.then(C_)}}(),dd||(dp(),dd=!0),Ta.add(n,e)}var dd=!1,Ta=new class{constructor(){this.h=this.g=null}add(e,t){const s=lp.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function C_(){for(var n;n=e0();){try{n.h.call(n.g)}catch(t){E_(t)}var e=lp;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}dd=!1}function hd(n,e){br.call(this),this.h=n||1,this.g=e||bt,this.j=Pn(this.kb,this),this.l=Date.now()}function rm(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function lu(n,e,t){if("function"==typeof n)t&&(n=Pn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Pn(n.handleEvent,n)}return 2147483647<Number(e)?-1:bt.setTimeout(n,e||0)}function Nh(n){n.g=lu(()=>{n.g=null,n.i&&(n.i=!1,Nh(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ni(hd,br),(He=hd.prototype).da=!1,He.S=null,He.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Qn(this,"tick"),this.da&&(rm(this),this.start()))}},He.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},He.M=function(){hd.Z.M.call(this),rm(this),delete this.g};class hp extends Dn{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Nh(this)}M(){super.M(),this.g&&(bt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function il(n){Dn.call(this),this.h=n,this.g={}}ni(il,Dn);var fp=[];function cu(n,e,t,s){Array.isArray(t)||(t&&(fp[0]=t.toString()),t=fp);for(var a=0;a<t.length;a++){var c=tm(e,t[a],s||n.handleEvent,!1,n.h||n);if(!c)break;n.g[c.key]=c}}function im(n){od(n.g,function(e,t){this.g.hasOwnProperty(t)&&ip(e)},n),n.g={}}function pp(){this.g=!0}function sc(n,e,t,s){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var s=t[n];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var c=a[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var p=1;p<a.length;p++)a[p]=""}}}return up(t)}catch(v){return e}}(n,t)+(s?" "+s:"")})}il.prototype.M=function(){il.Z.M.call(this),im(this)},il.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},pp.prototype.Aa=function(){this.g=!1},pp.prototype.info=function(){};var Go={},sm=null;function Mh(){return sm=sm||new br}function Oh(n){Mr.call(this,Go.Ma,n)}function fd(n){const e=Mh();Qn(e,new Oh(e,n))}function om(n,e){Mr.call(this,Go.STAT_EVENT,n),this.stat=e}function $r(n){const e=Mh();Qn(e,new om(e,n))}function am(n,e){Mr.call(this,Go.Na,n),this.size=e}function pd(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return bt.setTimeout(function(){n()},e)}Go.Ma="serverreachability",ni(Oh,Mr),Go.STAT_EVENT="statevent",ni(om,Mr),Go.Na="timingevent",ni(am,Mr);var Ph={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},um={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function lm(){}function du(){}lm.prototype.h=null;var uc,ac={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Vs(){Mr.call(this,"d")}function Aa(){Mr.call(this,"c")}function gd(){}function lc(n,e,t,s){this.l=n,this.j=e,this.m=t,this.X=s||1,this.V=new il(this),this.P=n0,this.W=new hd(n=Ye?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new kh}function kh(){this.i=null,this.g="",this.h=!1}ni(Vs,Mr),ni(Aa,Mr),ni(gd,lm),gd.prototype.g=function(){return new XMLHttpRequest},gd.prototype.i=function(){return{}},uc=new gd;var n0=45e3,cm={},cc={};function dc(n,e,t){n.K=1,n.v=Uh(ms(e)),n.s=t,n.U=!0,Fh(n,null)}function Fh(n,e){n.F=Date.now(),hu(n),n.A=ms(n.v);var t=n.A,s=n.X;Array.isArray(s)||(s=[String(s)]),Bh(t.h,"t",s),n.C=0,t=n.l.H,n.h=new kh,n.g=bm(n.l,t?e:null,!n.s),0<n.O&&(n.L=new hp(Pn(n.Ia,n,n.g),n.O)),cu(n.V,n.g,"readystatechange",n.gb),e=n.H?I(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),fd(1),function(n,e,t,s,a,c){n.info(function(){if(n.g)if(c)for(var p="",v=c.split("&"),D=0;D<v.length;D++){var R=v[D].split("=");if(1<R.length){var k=R[0];R=R[1];var U=k.split("_");p=2<=U.length&&"type"==U[1]?p+(k+"=")+R+"&":p+(k+"=redacted&")}}else p=null;else p=c;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+p})}(n.j,n.u,n.A,n.m,n.X,n.s)}function D_(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function T_(n,e,t){let a,s=!0;for(;!n.I&&n.C<t.length;){if(a=dm(n,t),a==cc){4==e&&(n.o=4,$r(14),s=!1),sc(n.j,n.m,null,"[Incomplete Response]");break}if(a==cm){n.o=4,$r(15),sc(n.j,n.m,t,"[Invalid Chunk]"),s=!1;break}sc(n.j,n.m,a,null),hc(n,a)}D_(n)&&a!=cc&&a!=cm&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,$r(16),s=!1),n.i=n.i&&s,s?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Sp(e),e.L=!0,$r(11))):(sc(n.j,n.m,t,"[Invalid Chunked Response]"),fu(n),yd(n))}function dm(n,e){var t=n.C,s=e.indexOf("\n",t);return-1==s?cc:(t=Number(e.substring(t,s)),isNaN(t)?cm:(s+=1)+t>e.length?cc:(e=e.substr(s,t),n.C=s+t,e))}function hu(n){n.Y=Date.now()+n.P,hm(n,n.P)}function hm(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=pd(Pn(n.eb,n),e)}function md(n){n.B&&(bt.clearTimeout(n.B),n.B=null)}function yd(n){0==n.l.G||n.I||o0(n.l,n)}function fu(n){md(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,rm(n.W),im(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function hc(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||g(t.i,n)))if(t.I=n.N,!n.J&&g(t.i,n)&&3==t.G){try{var s=t.Ca.g.parse(e)}catch(R){s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0])e:if(t.u)t.ta=a[1],0<t.ta-t.U&&37500>a[2]&&t.N&&0==t.A&&!t.v&&(t.v=pd(Pn(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;wm(t),Tp(t)}F_(t),$r(18)}if(1>=f(t.i)&&t.ka){try{t.ka()}catch(R){}t.ka=void 0}}else Ed(t,11)}else if((n.J||t.g==n)&&wm(t),!qi(e))for(a=t.Ca.g.parse(e),e=0;e<a.length;e++){let R=a[e];if(t.U=R[0],R=R[1],2==t.G)if("c"==R[0]){t.J=R[1],t.la=R[2];const k=R[3];null!=k&&(t.ma=k,t.h.info("VER="+t.ma));const U=R[4];null!=U&&(t.za=U,t.h.info("SVER="+t.za));const te=R[5];null!=te&&"number"==typeof te&&0<te&&(t.K=s=1.5*te,t.h.info("backChannelRequestTimeoutMs_="+s)),s=t;const re=n.g;if(re){const Fe=re.g?re.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fe){var c=s.i;!c.g&&(Nr(Fe,"spdy")||Nr(Fe,"quic")||Nr(Fe,"h2"))&&(c.j=c.l,c.g=new Set,c.h&&(w(c,c.h),c.h=null))}if(s.D){const Ke=re.g?re.g.getResponseHeader("X-HTTP-Session-Id"):null;Ke&&(s.sa=Ke,Gn(s.F,s.D,Ke))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var p=n;if((s=t).oa=L_(s,s.H?s.la:null,s.W),p.J){x(s.i,p);var v=p,D=s.K;D&&v.setTimeout(D),v.B&&(md(v),hu(v)),s.g=p}else k_(s);0<t.l.length&&jh(t)}else"stop"!=R[0]&&"close"!=R[0]||Ed(t,7);else 3==t.G&&("stop"==R[0]||"close"==R[0]?"stop"==R[0]?Ed(t,7):bd(t):"noop"!=R[0]&&t.j&&t.j.wa(R),t.A=0)}fd(4)}catch(R){}}function fc(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Dh(n)||"string"==typeof n)id(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Dh(n)||"string"==typeof n){t=[];for(var s=n.length,a=0;a<s;a++)t.push(a)}else for(a in t=[],s=0,n)t[s++]=a;a=(s=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Dh(n)){for(var e=[],t=n.length,s=0;s<t;s++)e.push(n[s]);return e}for(s in e=[],t=0,n)e[t++]=n[s];return e}(n)).length;for(var c=0;c<a;c++)e.call(void 0,s[c],t&&t[c],n)}}function pu(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var s=0;s<t;s+=2)this.set(arguments[s],arguments[s+1])}else if(n)if(n instanceof pu)for(t=n.T(),s=0;s<t.length;s++)this.set(t[s],n.get(t[s]));else for(s in n)this.set(s,n[s])}function kn(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var s=n.g[e];gu(n.h,s)&&(n.g[t++]=s),e++}n.g.length=t}if(n.i!=n.g.length){var a={};for(t=e=0;e<n.g.length;)gu(a,s=n.g[e])||(n.g[t++]=s,a[s]=1),e++;n.g.length=t}}function gu(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(He=lc.prototype).setTimeout=function(n){this.P=n},He.gb=function(n){n=n.target;const e=this.L;e&&3==_c(n)?e.l():this.Ia(n)},He.Ia=function(n){try{if(n==this.g)e:{const k=_c(this.g);var e=this.g.Da();const U=this.g.ba();if(!(3>k)&&(3!=k||Ye||this.g&&(this.h.h||this.g.ga()||Sa(this.g)))){this.I||4!=k||7==e||fd(8==e||0>=U?3:2),md(this);var t=this.g.ba();this.N=t;t:if(D_(this)){var s=Sa(this.g);n="";var a=s.length,c=4==_c(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){fu(this),yd(this);var p="";break t}this.h.i=new bt.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,n+=this.h.i.decode(s[e],{stream:c&&e==a-1});s.splice(0,a),this.h.g+=n,this.C=0,p=this.h.g}else p=this.g.ga();if(this.i=200==t,function(n,e,t,s,a,c,p){n.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+c+" "+p})}(this.j,this.u,this.A,this.m,this.X,k,t),this.i){if(this.$&&!this.J){t:{if(this.g){var v,D=this.g;if((v=D.g?D.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qi(v)){var R=v;break t}}R=null}if(!(t=R)){this.i=!1,this.o=3,$r(12),fu(this),yd(this);break e}sc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,hc(this,t)}this.U?(T_(this,k,p),Ye&&this.i&&3==k&&(cu(this.V,this.W,"tick",this.fb),this.W.start())):(sc(this.j,this.m,p,null),hc(this,p)),4==k&&fu(this),this.i&&!this.I&&(4==k?o0(this.l,this):(this.i=!1,hu(this)))}else 400==t&&0<p.indexOf("Unknown SID")?(this.o=3,$r(12)):(this.o=0,$r(13)),fu(this),yd(this)}}}catch(k){}},He.fb=function(){if(this.g){var n=_c(this.g),e=this.g.ga();this.C<e.length&&(md(this),T_(this,n,e),this.i&&4!=n&&hu(this))}},He.cancel=function(){this.I=!0,fu(this)},He.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(fd(3),$r(17)),fu(this),this.o=2,yd(this)):hm(this,this.Y-n)},(He=pu.prototype).R=function(){kn(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},He.T=function(){return kn(this),this.g.concat()},He.get=function(n,e){return gu(this.h,n)?this.h[n]:e},He.set=function(n,e){gu(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},He.forEach=function(n,e){for(var t=this.T(),s=0;s<t.length;s++){var a=t[s],c=this.get(a);n.call(e,c,a,this)}};var pm=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Er(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Er){this.g=void 0!==e?e:n.g,vd(this,n.j),this.s=n.s,Lh(this,n.i),pc(this,n.m),this.l=n.l,e=n.h;var t=new yc;t.i=e.i,e.g&&(t.g=new pu(e.g),t.h=e.h),Vh(this,t),this.o=n.o}else n&&(t=String(n).match(pm))?(this.g=!!e,vd(this,t[1]||"",!0),this.s=mu(t[2]||""),Lh(this,t[3]||"",!0),pc(this,t[4]),this.l=mu(t[5]||"",!0),Vh(this,t[6]||"",!0),this.o=mu(t[7]||"")):(this.g=!!e,this.h=new yc(null,this.g))}function ms(n){return new Er(n)}function vd(n,e,t){n.j=t?mu(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Lh(n,e,t){n.i=t?mu(e,!0):e}function pc(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Vh(n,e,t){e instanceof yc?(n.h=e,function(n,e){e&&!n.j&&(pi(n),n.i=null,n.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(ol(this,s),Bh(this,a,t))},n)),n.j=e}(n.h,n.g)):(t||(e=gc(e,mp)),n.h=new yc(e,n.g))}function Gn(n,e,t){n.h.set(e,t)}function Uh(n){return Gn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function mu(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function gc(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,gm),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function gm(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Er.prototype.toString=function(){var n=[],e=this.j;e&&n.push(gc(e,ii,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(gc(e,ii,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(gc(t,"/"==t.charAt(0)?fi:mc,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",gc(t,yp)),n.join("")};var ii=/[#\/\?@]/g,mc=/[#\?:]/g,fi=/[#\?]/g,mp=/[#\?@]/g,yp=/#/g;function yc(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function pi(n){n.g||(n.g=new pu,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var s=n[t].indexOf("="),a=null;if(0<=s){var c=n[t].substring(0,s);a=n[t].substring(s+1)}else c=n[t];e(c,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function ol(n,e){pi(n),e=yu(n,e),gu(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,gu((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&kn(n)))}function _p(n,e){return pi(n),e=yu(n,e),gu(n.g.h,e)}function Bh(n,e,t){ol(n,e),0<t.length&&(n.i=null,n.g.set(yu(n,e),Hi(t)),n.h+=t.length)}function yu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function vp(n){this.l=n||wp,n=bt.PerformanceNavigationTiming?0<(n=bt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(bt.g&&bt.g.Ea&&bt.g.Ea()&&bt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(He=yc.prototype).add=function(n,e){pi(this),this.i=null,n=yu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},He.forEach=function(n,e){pi(this),this.g.forEach(function(t,s){id(t,function(a){n.call(e,a,s,this)},this)},this)},He.T=function(){pi(this);for(var n=this.g.R(),e=this.g.T(),t=[],s=0;s<e.length;s++)for(var a=n[s],c=0;c<a.length;c++)t.push(e[s]);return t},He.R=function(n){pi(this);var e=[];if("string"==typeof n)_p(this,n)&&(e=xi(e,this.g.get(yu(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=xi(e,n[t])}return e},He.set=function(n,e){return pi(this),this.i=null,_p(this,n=yu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},He.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},He.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var s=e[t],a=encodeURIComponent(String(s));s=this.R(s);for(var c=0;c<s.length;c++){var p=a;""!==s[c]&&(p+="="+encodeURIComponent(String(s[c]))),n.push(p)}}return this.i=n.join("&")};var wp=10;function _(n){return!!n.h||!!n.g&&n.g.size>=n.j}function f(n){return n.h?1:n.g?n.g.size:0}function g(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function w(n,e){n.g?n.g.add(e):n.h=e}function x(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function P(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Hi(n.i)}function J(){}function Ce(){this.g=new J}function Ze(n,e,t){const s=t||"";try{fc(n,function(a,c){let p=a;Ea(a)&&(p=up(a)),e.push(s+c+"="+encodeURIComponent(p))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function gt(n,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch(c){}}function ct(n){this.l=n.$b||null,this.j=n.ib||!1}function Xn(n,e){br.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=gi,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vp.prototype.cancel=function(){if(this.i=P(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},J.prototype.stringify=function(n){return bt.JSON.stringify(n,void 0)},J.prototype.parse=function(n){return bt.JSON.parse(n,void 0)},ni(ct,lm),ct.prototype.g=function(){return new Xn(this.l,this.j)},ct.prototype.i=function(n){return function(){return n}}({}),ni(Xn,br);var gi=0;function mi(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function al(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ul(n)}function ul(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(He=Xn.prototype).open=function(n,e){if(this.readyState!=gi)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,ul(this)},He.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||bt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},He.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,al(this)),this.readyState=gi},He.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ul(this)),this.g&&(this.readyState=3,ul(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==bt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;mi(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},He.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?al(this):ul(this),3==this.readyState&&mi(this)}},He.Ua=function(n){this.g&&(this.response=this.responseText=n,al(this))},He.Ta=function(n){this.g&&(this.response=n,al(this))},He.ha=function(){this.g&&al(this)},He.setRequestHeader=function(n,e){this.v.append(n,e)},He.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},He.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Xn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var mm=bt.JSON.parse;function er(n){br.call(this),this.headers=new pu,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=bp,this.K=this.L=!1}ni(er,br);var bp="",Ep=/^https?$/i,ym=["POST","PUT"];function _m(n){return"content-type"==n.toLowerCase()}function ll(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,ys(n),R_(n)}function ys(n){n.D||(n.D=!0,Qn(n,"complete"),Qn(n,"error"))}function x_(n){if(n.h&&void 0!==Qu&&(!n.C[1]||4!=_c(n)||2!=n.ba()))if(n.v&&4==_c(n))lu(n.Fa,0,n);else if(Qn(n,"readystatechange"),4==_c(n)){n.h=!1;try{const v=n.ba();e:switch(v){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===v){var a=String(n.H).match(pm)[1]||null;if(!a&&bt.self&&bt.self.location){var c=bt.self.location.protocol;a=c.substr(0,c.length-1)}s=!Ep.test(a?a.toLowerCase():"")}t=s}if(t)Qn(n,"complete"),Qn(n,"success");else{n.m=6;try{var p=2<_c(n)?n.g.statusText:""}catch(D){p=""}n.j=p+" ["+n.ba()+"]",ys(n)}}finally{R_(n)}}}function R_(n,e){if(n.g){N_(n);const t=n.g,s=n.C[0]?Ju:null;n.g=null,n.C=null,e||Qn(n,"ready");try{t.onreadystatechange=s}catch(a){}}}function N_(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(bt.clearTimeout(n.A),n.A=null)}function _c(n){return n.g?n.g.readyState:0}function Sa(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case bp:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Ip(n,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=function(n){let e="";return od(n,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Gn(n,e,t))}function Dp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function O_(n){this.za=0,this.l=[],this.h=new pp,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Dp("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Dp("baseRetryDelayMs",5e3,n),this.$a=Dp("retryDelaySeedMs",1e4,n),this.Ya=Dp("forwardChannelMaxRetries",2,n),this.ra=Dp("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new vp(n&&n.concurrentRequestLimit),this.Ca=new Ce,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function bd(n){if(P_(n),3==n.G){var e=n.V++,t=ms(n.F);Gn(t,"SID",n.J),Gn(t,"RID",e),Gn(t,"TYPE","terminate"),_u(n,t),(e=new lc(n,n.h,e,void 0)).K=2,e.v=Uh(ms(t)),t=!1,bt.navigator&&bt.navigator.sendBeacon&&(t=bt.navigator.sendBeacon(e.v.toString(),"")),!t&&bt.Image&&((new Image).src=e.v,t=!0),t||(e.g=bm(e.l,null),e.g.ea(e.v)),e.F=Date.now(),hu(e)}u0(n)}function Tp(n){n.g&&(Sp(n),n.g.cancel(),n.g=null)}function P_(n){Tp(n),n.u&&(bt.clearTimeout(n.u),n.u=null),wm(n),n.i.cancel(),n.m&&("number"==typeof n.m&&bt.clearTimeout(n.m),n.m=null)}function Ap(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&jh(n)}function jh(n){_(n.i)||n.m||(n.m=!0,cp(n.Ha,n),n.C=0)}function BD(n,e){var t;t=e?e.m:n.V++;const s=ms(n.F);Gn(s,"SID",n.J),Gn(s,"RID",t),Gn(s,"AID",n.U),_u(n,s),n.o&&n.s&&Ip(s,n.o,n.s),t=new lc(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=vm(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),w(n.i,t),dc(t,s,e)}function _u(n,e){n.j&&fc({},function(t,s){Gn(e,s,t)})}function vm(n,e,t){t=Math.min(n.l.length,t);var s=n.j?Pn(n.j.Oa,n.j,n):null;e:{var a=n.l;let c=-1;for(;;){const p=["count="+t];-1==c?0<t?(c=a[0].h,p.push("ofs="+c)):c=0:p.push("ofs="+c);let v=!0;for(let D=0;D<t;D++){let R=a[D].h;const k=a[D].g;if(R-=c,0>R)c=Math.max(0,a[D].h-100),v=!1;else try{Ze(k,p,"req"+R+"_")}catch(U){s&&s(k)}}if(v){s=p.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,s}function k_(n){n.g||n.u||(n.Y=1,cp(n.Ga,n),n.A=0)}function F_(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=pd(Pn(n.Ga,n),a0(n,n.A)),n.A++,0))}function Sp(n){null!=n.B&&(bt.clearTimeout(n.B),n.B=null)}function s0(n){n.g=new lc(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=ms(n.oa);Gn(e,"RID","rpc"),Gn(e,"SID",n.J),Gn(e,"CI",n.N?"0":"1"),Gn(e,"AID",n.U),_u(n,e),Gn(e,"TYPE","xmlhttp"),n.o&&n.s&&Ip(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Uh(ms(e)),t.s=null,t.U=!0,Fh(t,n)}function wm(n){null!=n.v&&(bt.clearTimeout(n.v),n.v=null)}function o0(n,e){var t=null;if(n.g==e){wm(n),Sp(n),n.g=null;var s=2}else{if(!g(n.i,e))return;t=e.D,x(n.i,e),s=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.F;var a=n.C;Qn(s=Mh(),new am(s,t,e,a)),jh(n)}else k_(n);else if(3==(a=e.o)||0==a&&0<n.I||!(1==s&&function(n,e){return!(f(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=pd(Pn(n.Ha,n,e),a0(n,n.C)),n.C++,0)))}(n,e)||2==s&&F_(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),a){case 1:Ed(n,5);break;case 4:Ed(n,10);break;case 3:Ed(n,6);break;default:Ed(n,2)}}function a0(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Ed(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var s=Pn(n.jb,n);t||(t=new Er("//www.google.com/images/cleardot.gif"),bt.location&&"http"==bt.location.protocol||vd(t,"https"),Uh(t)),function(n,e){const t=new pp;if(bt.Image){const s=new Image;s.onload=go(gt,t,s,"TestLoadImage: loaded",!0,e),s.onerror=go(gt,t,s,"TestLoadImage: error",!1,e),s.onabort=go(gt,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=go(gt,t,s,"TestLoadImage: timeout",!1,e),bt.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=n}else e(!1)}(t.toString(),s)}else $r(2);n.G=0,n.j&&n.j.va(e),u0(n),P_(n)}function u0(n){n.G=0,n.I=-1,n.j&&((0!=P(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Hi(n.l),n.l.length=0),n.j.ua())}function L_(n,e,t){let s=function(n){return n instanceof Er?ms(n):new Er(n,void 0)}(t);if(""!=s.i)e&&Lh(s,e+"."+s.i),pc(s,s.m);else{const a=bt.location;s=function(n,e,t,s){var a=new Er(null,void 0);return n&&vd(a,n),e&&Lh(a,e),t&&pc(a,t),s&&(a.l=s),a}(a.protocol,e?e+"."+a.hostname:a.hostname,+a.port,t)}return n.aa&&od(n.aa,function(a,c){Gn(s,c,a)}),t=n.sa,(e=n.D)&&t&&Gn(s,e,t),Gn(s,"VER",n.ma),_u(n,s),s}function bm(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new er(t&&n.Ba&&!n.qa?new ct({ib:!0}):n.qa)).L=n.H,e}function V_(){}function $h(){if(Le&&!(10<=Number(ad)))throw Error("Environmental error: no available transport.")}function yo(n,e){br.call(this),this.g=new O_(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!qi(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!qi(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Cd(this)}function l0(n){Vs.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function U_(){Aa.call(this),this.status=1}function Cd(n){this.g=n}(He=er.prototype).ea=function(n,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():uc.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:uc),this.g.onreadystatechange=Pn(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(c){return void ll(this,c)}n=t||"";const a=new pu(this.headers);s&&fc(s,function(c,p){a.set(p,c)}),s=function(n){e:{var e=_m;const t=n.length,s="string"==typeof n?n.split(""):n;for(let a=0;a<t;a++)if(a in s&&e.call(void 0,s[a],a,n)){e=a;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(a.T()),t=bt.FormData&&n instanceof bt.FormData,!(0<=Ca(ym,e))||s||t||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(c,p){this.g.setRequestHeader(p,c)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{N_(this),0<this.B&&((this.K=function(n){return Le&&ks()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Pn(this.pa,this)):this.A=lu(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(c){ll(this,c)}},He.pa=function(){void 0!==Qu&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qn(this,"timeout"),this.abort(8))},He.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Qn(this,"complete"),Qn(this,"abort"),R_(this))},He.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),R_(this,!0)),er.Z.M.call(this)},He.Fa=function(){this.s||(this.F||this.v||this.l?x_(this):this.cb())},He.cb=function(){x_(this)},He.ba=function(){try{return 2<_c(this)?this.g.status:-1}catch(n){return-1}},He.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},He.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),mm(e)}},He.Da=function(){return this.m},He.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(He=O_.prototype).ma=8,He.G=1,He.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},He.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const a=new lc(this,this.h,n,void 0);let c=this.s;if(this.P&&(c?(c=I(c),M(c,this.P)):c=this.P),null===this.o&&(a.H=c),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var s=this.l[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=vm(this,a,e),Gn(t=ms(this.F),"RID",n),Gn(t,"CVER",22),this.D&&Gn(t,"X-HTTP-Session-Id",this.D),_u(this,t),this.o&&c&&Ip(t,this.o,c),w(this.i,a),this.Ra&&Gn(t,"TYPE","init"),this.ja?(Gn(t,"$req",e),Gn(t,"SID","null"),a.$=!0,dc(a,t,null)):dc(a,t,e),this.G=2}}else 3==this.G&&(n?BD(this,n):0==this.l.length||_(this.i)||BD(this))},He.Ga=function(){if(this.u=null,s0(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=pd(Pn(this.bb,this),n)}},He.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,$r(10),Tp(this),s0(this))},He.ab=function(){null!=this.v&&(this.v=null,Tp(this),F_(this),$r(19))},He.jb=function(n){n?(this.h.info("Successfully pinged google.com"),$r(2)):(this.h.info("Failed to ping google.com"),$r(1))},(He=V_.prototype).xa=function(){},He.wa=function(){},He.va=function(){},He.ua=function(){},He.Oa=function(){},$h.prototype.g=function(n,e){return new yo(n,e)},ni(yo,br),yo.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),cp(Pn(n.hb,n,e))),$r(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=L_(n,null,n.W),jh(n)},yo.prototype.close=function(){bd(this.g)},yo.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Ap(this.g,e)}else this.v?((e={}).__data__=up(n),Ap(this.g,e)):Ap(this.g,n)},yo.prototype.M=function(){this.g.j=null,delete this.j,bd(this.g),delete this.g,yo.Z.M.call(this)},ni(l0,Vs),ni(U_,Aa),ni(Cd,V_),Cd.prototype.xa=function(){Qn(this.g,"a")},Cd.prototype.wa=function(n){Qn(this.g,new l0(n))},Cd.prototype.va=function(n){Qn(this.g,new U_(n))},Cd.prototype.ua=function(){Qn(this.g,"b")},$h.prototype.createWebChannel=$h.prototype.g,yo.prototype.send=yo.prototype.u,yo.prototype.open=yo.prototype.m,yo.prototype.close=yo.prototype.close,Ph.NO_ERROR=0,Ph.TIMEOUT=8,Ph.HTTP_ERROR=6,um.COMPLETE="complete",du.EventType=ac,ac.OPEN="a",ac.CLOSE="b",ac.ERROR="c",ac.MESSAGE="d",br.prototype.listen=br.prototype.N,er.prototype.listenOnce=er.prototype.O,er.prototype.getLastError=er.prototype.La,er.prototype.getLastErrorCode=er.prototype.Da,er.prototype.getStatus=er.prototype.ba,er.prototype.getResponseJson=er.prototype.Qa,er.prototype.getResponseText=er.prototype.ga,er.prototype.send=er.prototype.ea;var Id=gs.createWebChannelTransport=function(){return new $h},c0=gs.getStatEventTarget=function(){return Mh()},Em=gs.ErrorCode=Ph,jD=gs.EventType=um,Cm=gs.Event=Go,d0=gs.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},h0=gs.FetchXmlHttpFactory=ct,xp=gs.WebChannel=du,f0=gs.XhrIo=er;const Im="@firebase/firestore";class yi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yi.UNAUTHENTICATED=new yi(null),yi.GOOGLE_CREDENTIALS=new yi("google-credentials-uid"),yi.FIRST_PARTY=new yi("first-party-uid"),yi.MOCK_USER=new yi("mock-user");let cl="9.1.3";const xa=new $o.Yd("@firebase/firestore");function Dm(){return xa.logLevel}function qe(n,...e){if(xa.logLevel<=$o.in.DEBUG){const t=e.map(j_);xa.debug(`Firestore (${cl}): ${n}`,...t)}}function Cr(n,...e){if(xa.logLevel<=$o.in.ERROR){const t=e.map(j_);xa.error(`Firestore (${cl}): ${n}`,...t)}}function dl(n,...e){if(xa.logLevel<=$o.in.WARN){const t=e.map(j_);xa.warn(`Firestore (${cl}): ${n}`,...t)}}function j_(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function ut(n="Unexpected state"){const e=`FIRESTORE (${cl}) INTERNAL ASSERTION FAILED: `+n;throw Cr(e),new Error(e)}function At(n,e){n||ut()}function We(n,e){return n}const Ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Be extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ri{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class $_{constructor(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class HD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(yi.UNAUTHENTICATED))}shutdown(){}}class p0{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class qD{constructor(e){this.t=e,this.currentUser=yi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const c=R=>this.i!==a?(a=this.i,t(R)):Promise.resolve();let p=new Ri;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new Ri,e.enqueueRetryable(()=>c(this.currentUser))};const v=()=>{const R=p;e.enqueueRetryable((0,Te.Z)(function*(){yield R.promise,yield c(s.currentUser)}))},D=R=>{qe("FirebaseCredentialsProvider","Auth detected"),this.auth=R,this.auth.addAuthTokenListener(this.o),v()};this.t.onInit(R=>D(R)),setTimeout(()=>{if(!this.auth){const R=this.t.getImmediate({optional:!0});R?D(R):(qe("FirebaseCredentialsProvider","Auth not yet detected"),p.resolve(),p=new Ri)}},0),v()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(qe("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(At("string"==typeof s.accessToken),new $_(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return At(null===e||"string"==typeof e),new yi(e)}}class GD{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=yi.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class Ra{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new GD(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(yi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _o{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.g(s),this.p=s=>t.writeSequenceNumber(s))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function g0(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}_o.T=-1;class m0{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=g0(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<t&&(s+=e.charAt(a[c]%e.length))}return s}}function Yt(n,e){return n<e?-1:n>e?1:0}function Hh(n,e,t){return n.length===e.length&&n.every((s,a)=>t(s,e[a]))}function y0(n){return n+"\0"}class si{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Be(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Be(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Be(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Be(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return si.fromMillis(Date.now())}static fromDate(e){return si.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new si(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Yt(this.nanoseconds,e.nanoseconds):Yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Lt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Lt(e)}static min(){return new Lt(new si(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function _0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Dd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Mt(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class qh{constructor(e,t,s){void 0===t?t=0:t>e.length&&ut(),void 0===s?s=e.length-t:s>e.length-t&&ut(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===qh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof qh?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const c=e.get(a),p=t.get(a);if(c<p)return-1;if(c>p)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class dn extends qh{construct(e,t,s){return new dn(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Be(Ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new dn(t)}static emptyPath(){return new dn([])}}const Tm=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Un extends qh{construct(e,t,s){return new Un(e,t,s)}static isValidIdentifier(e){return Tm.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Un.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Un(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const c=()=>{if(0===s.length)throw new Be(Ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let p=!1;for(;a<e.length;){const v=e[a];if("\\"===v){if(a+1===e.length)throw new Be(Ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const D=e[a+1];if("\\"!==D&&"."!==D&&"`"!==D)throw new Be(Ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=D,a+=2}else"`"===v?(p=!p,a++):"."!==v||p?(s+=v,a++):(c(),a++)}if(c(),p)throw new Be(Ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Un(t)}static emptyPath(){return new Un([])}}class Td{constructor(e){this.fields=e,e.sort(Un.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Hh(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class Hr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Hr(t)}static fromUint8Array(e){const t=function(s){let a="";for(let c=0;c<s.length;++c)a+=String.fromCharCode(s[c]);return a}(e);return new Hr(t)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Hr.EMPTY_BYTE_STRING=new Hr("");const hl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vu(n){if(At(!!n),"string"==typeof n){let e=0;const t=hl.exec(n);if(At(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Or(n.seconds),nanos:Or(n.nanos)}}function Or(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function vc(n){return"string"==typeof n?Hr.fromBase64String(n):Hr.fromUint8Array(n)}function v0(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function H_(n){const e=n.mapValue.fields.__previous_value__;return v0(e)?H_(e):e}function Am(n){const e=vu(n.mapValue.fields.__local_write_time__.timestampValue);return new si(e.seconds,e.nanos)}function _s(n){return null==n}function Ad(n){return 0===n&&1/n==-1/0}function Rp(n){return"number"==typeof n&&Number.isInteger(n)&&!Ad(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class ot{constructor(e){this.path=e}static fromPath(e){return new ot(dn.fromString(e))}static fromName(e){return new ot(dn.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===dn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return dn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ot(new dn(e.slice()))}}function Gh(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?v0(n)?4:10:ut()}function wu(n,e){const t=Gh(n);if(t!==Gh(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Am(n).isEqual(Am(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const c=vu(s.timestampValue),p=vu(a.timestampValue);return c.seconds===p.seconds&&c.nanos===p.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return a=e,vc(n.bytesValue).isEqual(vc(a.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return Or(s.geoPointValue.latitude)===Or(a.geoPointValue.latitude)&&Or(s.geoPointValue.longitude)===Or(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Or(s.integerValue)===Or(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const c=Or(s.doubleValue),p=Or(a.doubleValue);return c===p?Ad(c)===Ad(p):isNaN(c)&&isNaN(p)}return!1}(n,e);case 9:return Hh(n.arrayValue.values||[],e.arrayValue.values||[],wu);case 10:return function(s,a){const c=s.mapValue.fields||{},p=a.mapValue.fields||{};if(_0(c)!==_0(p))return!1;for(const v in c)if(c.hasOwnProperty(v)&&(void 0===p[v]||!wu(c[v],p[v])))return!1;return!0}(n,e);default:return ut()}var a}function Zh(n,e){return void 0!==(n.values||[]).find(t=>wu(t,e))}function Np(n,e){const t=Gh(n),s=Gh(e);if(t!==s)return Yt(t,s);switch(t){case 0:return 0;case 1:return Yt(n.booleanValue,e.booleanValue);case 2:return function(a,c){const p=Or(a.integerValue||a.doubleValue),v=Or(c.integerValue||c.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1}(n,e);case 3:return w0(n.timestampValue,e.timestampValue);case 4:return w0(Am(n),Am(e));case 5:return Yt(n.stringValue,e.stringValue);case 6:return function(a,c){const p=vc(a),v=vc(c);return p.compareTo(v)}(n.bytesValue,e.bytesValue);case 7:return function(a,c){const p=a.split("/"),v=c.split("/");for(let D=0;D<p.length&&D<v.length;D++){const R=Yt(p[D],v[D]);if(0!==R)return R}return Yt(p.length,v.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,c){const p=Yt(Or(a.latitude),Or(c.latitude));return 0!==p?p:Yt(Or(a.longitude),Or(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(a,c){const p=a.values||[],v=c.values||[];for(let D=0;D<p.length&&D<v.length;++D){const R=Np(p[D],v[D]);if(R)return R}return Yt(p.length,v.length)}(n.arrayValue,e.arrayValue);case 10:return function(a,c){const p=a.fields||{},v=Object.keys(p),D=c.fields||{},R=Object.keys(D);v.sort(),R.sort();for(let k=0;k<v.length&&k<R.length;++k){const U=Yt(v[k],R[k]);if(0!==U)return U;const te=Np(p[v[k]],D[R[k]]);if(0!==te)return te}return Yt(v.length,R.length)}(n.mapValue,e.mapValue);default:throw ut()}}function w0(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Yt(n,e);const t=vu(n),s=vu(e),a=Yt(t.seconds,s.seconds);return 0!==a?a:Yt(t.nanos,s.nanos)}function b0(n){return Sm(n)}function Sm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(s){const a=vu(s);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?vc(n.bytesValue).toBase64():"referenceValue"in n?ot.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(s){let a="[",c=!0;for(const p of s.values||[])c?c=!1:a+=",",a+=Sm(p);return a+"]"}(n.arrayValue):"mapValue"in n?function(s){const a=Object.keys(s.fields||{}).sort();let c="{",p=!0;for(const v of a)p?p=!1:c+=",",c+=`${v}:${Sm(s.fields[v])}`;return c+"}"}(n.mapValue):ut();var e}function Mp(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function q_(n){return!!n&&"integerValue"in n}function Op(n){return!!n&&"arrayValue"in n}function zD(n){return!!n&&"nullValue"in n}function WD(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function G_(n){return!!n&&"mapValue"in n}function xm(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Dd(n.mapValue.fields,(t,s)=>e.mapValue.fields[t]=xm(s)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=xm(n.arrayValue.values[t]);return e}return Object.assign({},n)}class vs{constructor(e){this.value=e}static empty(){return new vs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!G_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xm(t)}setAll(e){let t=Un.emptyPath(),s={},a=[];e.forEach((p,v)=>{if(!t.isImmediateParentOf(v)){const D=this.getFieldsMap(t);this.applyChanges(D,s,a),s={},a=[],t=v.popLast()}p?s[v.lastSegment()]=xm(p):a.push(v.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,s,a)}delete(e){const t=this.field(e.popLast());G_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return wu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];G_(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Dd(t,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new vs(xm(this.value))}}function KD(n){const e=[];return Dd(n.fields,(t,s)=>{const a=new Un([t]);if(G_(s)){const c=KD(s.mapValue).fields;if(0===c.length)e.push(a);else for(const p of c)e.push(a.child(p))}else e.push(a)}),new Td(e)}class lr{constructor(e,t,s,a,c){this.key=e,this.documentType=t,this.version=s,this.data=a,this.documentState=c}static newInvalidDocument(e){return new lr(e,0,Lt.min(),vs.empty(),0)}static newFoundDocument(e,t,s){return new lr(e,1,t,s,0)}static newNoDocument(e,t){return new lr(e,2,t,vs.empty(),0)}static newUnknownDocument(e,t){return new lr(e,3,t,vs.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof lr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new lr(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class e1{constructor(e,t=null,s=[],a=[],c=null,p=null,v=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=p,this.endAt=v,this.A=null}}function YD(n,e=null,t=[],s=[],a=null,c=null,p=null){return new e1(n,e,t,s,a,c,p)}function Rm(n){const e=We(n);if(null===e.A){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>function(n){return n.field.canonicalString()+n.op.toString()+b0(n.value)}(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),_s(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=Nm(e.startAt)),e.endAt&&(t+="|ub:",t+=Nm(e.endAt)),e.A=t}return e.A}function Na(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let a=0;a<n.orderBy.length;a++)if(!JD(n.orderBy[a],e.orderBy[a]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let a=0;a<n.filters.length;a++)if((t=n.filters[a]).op!==(s=e.filters[a]).op||!t.field.isEqual(s.field)||!wu(t.value,s.value))return!1;var t,s;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Wh(n.startAt,e.startAt)&&Wh(n.endAt,e.endAt)}function zh(n){return ot.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class ws extends class{}{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,s):new Z_(e,t,s):"array-contains"===t?new wc(e,s):"in"===t?new D0(e,s):"not-in"===t?new QD(e,s):"array-contains-any"===t?new n1(e,s):new ws(e,t,s)}static R(e,t,s){return"in"===t?new C0(e,s):new z_(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(Np(t,this.value)):null!==t&&Gh(this.value)===Gh(t)&&this.P(Np(t,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ut()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Z_ extends ws{constructor(e,t,s){super(e,t,s),this.key=ot.fromName(s.referenceValue)}matches(e){const t=ot.comparator(e.key,this.key);return this.P(t)}}class C0 extends ws{constructor(e,t){super(e,"in",t),this.keys=I0(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class z_ extends ws{constructor(e,t){super(e,"not-in",t),this.keys=I0(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function I0(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>ot.fromName(s.referenceValue))}class wc extends ws{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Op(t)&&Zh(t.arrayValue,this.value)}}class D0 extends ws{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Zh(this.value.arrayValue,t)}}class QD extends ws{constructor(e,t){super(e,"not-in",t)}matches(e){if(Zh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Zh(this.value.arrayValue,t)}}class n1 extends ws{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Op(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Zh(this.value.arrayValue,s))}}class Sd{constructor(e,t){this.position=e,this.before=t}}function Nm(n){return`${n.before?"b":"a"}:${n.position.map(e=>b0(e)).join(",")}`}class xd{constructor(e,t="asc"){this.field=e,this.dir=t}}function JD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function T0(n,e,t){let s=0;for(let a=0;a<n.position.length;a++){const c=e[a],p=n.position[a];if(s=c.field.isKeyField()?ot.comparator(ot.fromName(p.referenceValue),t.key):Np(p,t.data.field(c.field)),"desc"===c.dir&&(s*=-1),0!==s)break}return n.before?s<=0:s<0}function Wh(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!wu(n.position[t],e.position[t]))return!1;return!0}class Us{constructor(e,t=null,s=[],a=[],c=null,p="F",v=null,D=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=p,this.startAt=v,this.endAt=D,this.V=null,this.S=null}}function Mm(n,e,t,s,a,c,p,v){return new Us(n,e,t,s,a,c,p,v)}function Ma(n){return new Us(n)}function bc(n){return!_s(n.limit)&&"F"===n.limitType}function fl(n){return!_s(n.limit)&&"L"===n.limitType}function W_(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Om(n){for(const e of n.filters)if(e.v())return e.field;return null}function Pm(n){return null!==n.collectionGroup}function Ec(n){const e=We(n);if(null===e.V){e.V=[];const t=Om(e),s=W_(e);if(null!==t&&null===s)t.isKeyField()||e.V.push(new xd(t)),e.V.push(new xd(Un.keyField(),"asc"));else{let a=!1;for(const c of e.explicitOrderBy)e.V.push(c),c.field.isKeyField()&&(a=!0);if(!a){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.V.push(new xd(Un.keyField(),c))}}}return e.V}function Bs(n){const e=We(n);if(!e.S)if("F"===e.limitType)e.S=YD(e.path,e.collectionGroup,Ec(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of Ec(e))t.push(new xd(c.field,"desc"===c.dir?"asc":"desc"));const s=e.endAt?new Sd(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Sd(e.startAt.position,!e.startAt.before):null;e.S=YD(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e.S}function K_(n,e,t){return new Us(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Cc(n,e){return Na(Bs(n),Bs(e))&&n.limitType===e.limitType}function A0(n){return`${Rm(Bs(n))}|lt:${n.limitType}`}function km(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(s=t).field.canonicalString()} ${s.op} ${b0(s.value)}`;var s}).join(", ")}]`),_s(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(s=t).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(e+=", startAt: "+Nm(n.startAt)),n.endAt&&(e+=", endAt: "+Nm(n.endAt)),`Target(${e})`}(Bs(n))}; limitType=${n.limitType})`}function Fm(n,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):ot.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(n,e)&&function(t,s){for(const a of t.explicitOrderBy)if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(n,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(n,e)&&(s=e,!((t=n).startAt&&!T0(t.startAt,Ec(t),s)||t.endAt&&T0(t.endAt,Ec(t),s)));var t,s}function Y_(n){return(e,t)=>{let s=!1;for(const a of Ec(n)){const c=S0(a,e,t);if(0!==c)return c;s=s||a.field.isKeyField()}return 0}}function S0(n,e,t){const s=n.field.isKeyField()?ot.comparator(e.key,t.key):function(a,c,p){const v=c.data.field(a),D=p.data.field(a);return null!==v&&null!==D?Np(v,D):ut()}(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return ut()}}function x0(n,e){if(n.D){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ad(e)?"-0":e}}function Q_(n){return{integerValue:""+n}}function R0(n,e){return Rp(e)?Q_(e):x0(n,e)}class Lm{constructor(){this._=void 0}}function vo(n,e,t){return n instanceof Pp?function(s,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):n instanceof Kh?J_(n,e):n instanceof Yh?M0(n,e):function(s,a){const c=N0(s,a),p=X_(c)+X_(s.C);return q_(c)&&q_(s.C)?Q_(p):x0(s.N,p)}(n,e)}function XD(n,e,t){return n instanceof Kh?J_(n,e):n instanceof Yh?M0(n,e):t}function N0(n,e){return n instanceof Ic?q_(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Pp extends Lm{}class Kh extends Lm{constructor(e){super(),this.elements=e}}function J_(n,e){const t=O0(e);for(const s of n.elements)t.some(a=>wu(a,s))||t.push(s);return{arrayValue:{values:t}}}class Yh extends Lm{constructor(e){super(),this.elements=e}}function M0(n,e){let t=O0(e);for(const s of n.elements)t=t.filter(a=>!wu(a,s));return{arrayValue:{values:t}}}class Ic extends Lm{constructor(e,t){super(),this.N=e,this.C=t}}function X_(n){return Or(n.integerValue||n.doubleValue)}function O0(n){return Op(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class kp{constructor(e,t){this.field=e,this.transform=t}}class P0{constructor(e,t){this.version=e,this.transformResults=t}}class qr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new qr}static exists(e){return new qr(void 0,e)}static updateTime(e){return new qr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fp(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Vm{}function tT(n,e,t){n instanceof Rd?function(s,a,c){const p=s.value.clone(),v=nT(s.fieldTransforms,a,c.transformResults);p.setAll(v),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):n instanceof Dc?function(s,a,c){if(!Fp(s.precondition,a))return void a.convertToUnknownDocument(c.version);const p=nT(s.fieldTransforms,a,c.transformResults),v=a.data;v.setAll(L0(s)),v.setAll(p),a.convertToFoundDocument(c.version,v).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Um(n,e,t){var a;n instanceof Rd?function(s,a,c){if(!Fp(s.precondition,a))return;const p=s.value.clone(),v=ev(s.fieldTransforms,c,a);p.setAll(v),a.convertToFoundDocument(Oa(a),p).setHasLocalMutations()}(n,e,t):n instanceof Dc?function(s,a,c){if(!Fp(s.precondition,a))return;const p=ev(s.fieldTransforms,c,a),v=a.data;v.setAll(L0(s)),v.setAll(p),a.convertToFoundDocument(Oa(a),v).setHasLocalMutations()}(n,e,t):Fp(n.precondition,a=e)&&a.convertToNoDocument(Lt.min())}function k0(n,e){let t=null;for(const s of n.fieldTransforms){const a=e.data.field(s.field),c=N0(s.transform,a||null);null!=c&&(null==t&&(t=vs.empty()),t.set(s.field,c))}return t||null}function F0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===s||t&&s&&Hh(t,s,(a,c)=>function(n,e){return n.field.isEqual(e.field)&&(s=e.transform,(t=n.transform)instanceof Kh&&s instanceof Kh||t instanceof Yh&&s instanceof Yh?Hh(t.elements,s.elements,wu):t instanceof Ic&&s instanceof Ic?wu(t.C,s.C):t instanceof Pp&&s instanceof Pp);var t,s}(a,c))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,s}function Oa(n){return n.isFoundDocument()?n.version:Lt.min()}class Rd extends Vm{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}}class Dc extends Vm{constructor(e,t,s,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}}function L0(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}}),e}function nT(n,e,t){const s=new Map;At(n.length===t.length);for(let a=0;a<t.length;a++){const c=n[a],p=c.transform,v=e.data.field(c.field);s.set(c.field,XD(p,v,t[a]))}return s}function ev(n,e,t){const s=new Map;for(const a of n){const c=a.transform,p=t.data.field(a.field);s.set(a.field,vo(c,p,e))}return s}class Lp extends Vm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class tv extends Vm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class rT{constructor(e){this.count=e}}var Ir,nn;function V0(n){switch(n){default:return ut();case Ee.CANCELLED:case Ee.UNKNOWN:case Ee.DEADLINE_EXCEEDED:case Ee.RESOURCE_EXHAUSTED:case Ee.INTERNAL:case Ee.UNAVAILABLE:case Ee.UNAUTHENTICATED:return!1;case Ee.INVALID_ARGUMENT:case Ee.NOT_FOUND:case Ee.ALREADY_EXISTS:case Ee.PERMISSION_DENIED:case Ee.FAILED_PRECONDITION:case Ee.ABORTED:case Ee.OUT_OF_RANGE:case Ee.UNIMPLEMENTED:case Ee.DATA_LOSS:return!0}}function Vp(n){if(void 0===n)return Cr("GRPC error has no .code"),Ee.UNKNOWN;switch(n){case Ir.OK:return Ee.OK;case Ir.CANCELLED:return Ee.CANCELLED;case Ir.UNKNOWN:return Ee.UNKNOWN;case Ir.DEADLINE_EXCEEDED:return Ee.DEADLINE_EXCEEDED;case Ir.RESOURCE_EXHAUSTED:return Ee.RESOURCE_EXHAUSTED;case Ir.INTERNAL:return Ee.INTERNAL;case Ir.UNAVAILABLE:return Ee.UNAVAILABLE;case Ir.UNAUTHENTICATED:return Ee.UNAUTHENTICATED;case Ir.INVALID_ARGUMENT:return Ee.INVALID_ARGUMENT;case Ir.NOT_FOUND:return Ee.NOT_FOUND;case Ir.ALREADY_EXISTS:return Ee.ALREADY_EXISTS;case Ir.PERMISSION_DENIED:return Ee.PERMISSION_DENIED;case Ir.FAILED_PRECONDITION:return Ee.FAILED_PRECONDITION;case Ir.ABORTED:return Ee.ABORTED;case Ir.OUT_OF_RANGE:return Ee.OUT_OF_RANGE;case Ir.UNIMPLEMENTED:return Ee.UNIMPLEMENTED;case Ir.DATA_LOSS:return Ee.DATA_LOSS;default:return ut()}}(nn=Ir||(Ir={}))[nn.OK=0]="OK",nn[nn.CANCELLED=1]="CANCELLED",nn[nn.UNKNOWN=2]="UNKNOWN",nn[nn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nn[nn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nn[nn.NOT_FOUND=5]="NOT_FOUND",nn[nn.ALREADY_EXISTS=6]="ALREADY_EXISTS",nn[nn.PERMISSION_DENIED=7]="PERMISSION_DENIED",nn[nn.UNAUTHENTICATED=16]="UNAUTHENTICATED",nn[nn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nn[nn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nn[nn.ABORTED=10]="ABORTED",nn[nn.OUT_OF_RANGE=11]="OUT_OF_RANGE",nn[nn.UNIMPLEMENTED=12]="UNIMPLEMENTED",nn[nn.INTERNAL=13]="INTERNAL",nn[nn.UNAVAILABLE=14]="UNAVAILABLE",nn[nn.DATA_LOSS=15]="DATA_LOSS";class Pr{constructor(e,t){this.comparator=e,this.root=t||oi.EMPTY}insert(e,t){return new Pr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,oi.BLACK,null,null))}remove(e){return new Pr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,oi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bm(this.root,e,this.comparator,!0)}}class Bm{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class oi{constructor(e,t,s,a,c){this.key=e,this.value=t,this.color=null!=s?s:oi.RED,this.left=null!=a?a:oi.EMPTY,this.right=null!=c?c:oi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,c){return new oi(null!=e?e:this.key,null!=t?t:this.value,null!=s?s:this.color,null!=a?a:this.left,null!=c?c:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===c?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return oi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return oi.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,oi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,oi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ut();const e=this.left.check();if(e!==this.right.check())throw ut();return e+(this.isRed()?0:1)}}oi.EMPTY=null,oi.RED=!0,oi.BLACK=!1,oi.EMPTY=new class{constructor(){this.size=0}get key(){throw ut()}get value(){throw ut()}get color(){throw ut()}get left(){throw ut()}get right(){throw ut()}copy(n,e,t,s,a){return this}insert(n,e,t){return new oi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class tr{constructor(e){this.comparator=e,this.data=new Pr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new nv(this.data.getIterator())}getIteratorFrom(e){return new nv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof tr)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(0!==this.comparator(a,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new tr(this.comparator);return t.data=e,t}}class nv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const iT=new Pr(ot.comparator);function Zo(){return iT}const rv=new Pr(ot.comparator);function U0(){return rv}const sT=new Pr(ot.comparator);function iv(){return sT}const B0=new tr(ot.comparator);function En(...n){let e=B0;for(const t of n)e=e.add(t);return e}const j0=new tr(Yt);function Up(){return j0}class wo{constructor(e,t,s,a,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t){const s=new Map;return s.set(e,Tc.createSynthesizedTargetChangeForCurrentChange(e,t)),new wo(Lt.min(),s,Up(),Zo(),En())}}class Tc{constructor(e,t,s,a,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Tc(Hr.EMPTY_BYTE_STRING,t,En(),En(),En())}}class jm{constructor(e,t,s,a){this.k=e,this.removedTargetIds=t,this.key=s,this.$=a}}class $0{constructor(e,t){this.targetId=e,this.O=t}}class oT{constructor(e,t,s=Hr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class Nd{constructor(){this.F=0,this.M=Jh(),this.L=Hr.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=En(),t=En(),s=En();return this.M.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:ut()}}),new Tc(this.L,this.B,e,t,s)}G(){this.U=!1,this.M=Jh()}H(e,t){this.U=!0,this.M=this.M.insert(e,t)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class H0{constructor(e){this.tt=e,this.et=new Map,this.nt=Zo(),this.st=Qh(),this.it=new tr(Yt)}rt(e){for(const t of e.k)e.$&&e.$.isFoundDocument()?this.ot(t,e.$):this.at(t,e.key,e.$);for(const t of e.removedTargetIds)this.at(t,e.key,e.$)}ct(e){this.forEachTarget(e,t=>{const s=this.ut(t);switch(e.state){case 0:this.ht(t)&&s.j(e.resumeToken);break;case 1:s.X(),s.q||s.G(),s.j(e.resumeToken);break;case 2:s.X(),s.q||this.removeTarget(t);break;case 3:this.ht(t)&&(s.Z(),s.j(e.resumeToken));break;case 4:this.ht(t)&&(this.lt(t),s.j(e.resumeToken));break;default:ut()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach((s,a)=>{this.ht(a)&&t(a)})}ft(e){const t=e.targetId,s=e.O.count,a=this.dt(t);if(a){const c=a.target;if(zh(c))if(0===s){const p=new ot(c.path);this.at(t,p,lr.newNoDocument(p,Lt.min()))}else At(1===s);else this.wt(t)!==s&&(this.lt(t),this.it=this.it.add(t))}}_t(e){const t=new Map;this.et.forEach((c,p)=>{const v=this.dt(p);if(v){if(c.current&&zh(v.target)){const D=new ot(v.target.path);null!==this.nt.get(D)||this.gt(p,D)||this.at(p,D,lr.newNoDocument(D,e))}c.K&&(t.set(p,c.W()),c.G())}});let s=En();this.st.forEach((c,p)=>{let v=!0;p.forEachWhile(D=>{const R=this.dt(D);return!R||2===R.purpose||(v=!1,!1)}),v&&(s=s.add(c))});const a=new wo(e,t,this.it,this.nt,s);return this.nt=Zo(),this.st=Qh(),this.it=new tr(Yt),a}ot(e,t){if(!this.ht(e))return;const s=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,s),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}at(e,t,s){if(!this.ht(e))return;const a=this.ut(e);this.gt(e,t)?a.H(t,1):a.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),s&&(this.nt=this.nt.insert(t,s))}removeTarget(e){this.et.delete(e)}wt(e){const t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let t=this.et.get(e);return t||(t=new Nd,this.et.set(e,t)),t}yt(e){let t=this.st.get(e);return t||(t=new tr(Yt),this.st=this.st.insert(e,t)),t}ht(e){const t=null!==this.dt(e);return t||qe("WatchChangeAggregator","Detected inactive target",e),t}dt(e){const t=this.et.get(e);return t&&t.q?null:this.tt.Tt(e)}lt(e){this.et.set(e,new Nd),this.tt.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}gt(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}function Qh(){return new Pr(ot.comparator)}function Jh(){return new Pr(ot.comparator)}const aT={asc:"ASCENDING",desc:"DESCENDING"},sv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class q0{constructor(e,t){this.databaseId=e,this.D=t}}function Bp(n,e){return n.D?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ov(n,e){return n.D?e.toBase64():e.toUint8Array()}function uT(n,e){return Bp(n,e.toTimestamp())}function Gr(n){return At(!!n),Lt.fromTimestamp(function(e){const t=vu(e);return new si(t.seconds,t.nanos)}(n))}function av(n,e){return(t=n,new dn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function G0(n){const e=dn.fromString(n);return At(X0(e)),e}function Xh(n,e){return av(n.databaseId,e.path)}function bs(n,e){const t=G0(e);if(t.get(1)!==n.databaseId.projectId)throw new Be(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Be(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ot(Md(t))}function $m(n,e){return av(n.databaseId,e)}function Z0(n){const e=G0(n);return 4===e.length?dn.emptyPath():Md(e)}function jp(n){return new dn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Md(n){return At(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function z0(n,e,t){return{name:Xh(n,e),fields:t.value.mapValue.fields}}function W0(n,e,t){const s=bs(n,e.name),a=Gr(e.updateTime),c=new vs({mapValue:{fields:e.fields}}),p=lr.newFoundDocument(s,a,c);return t&&p.setHasCommittedMutations(),t?p.setHasCommittedMutations():p}function uv(n,e){let t;if(e instanceof Rd)t={update:z0(n,e.key,e.value)};else if(e instanceof Lp)t={delete:Xh(n,e.key)};else if(e instanceof Dc)t={update:z0(n,e.key,e.data),updateMask:gT(e.fieldMask)};else{if(!(e instanceof tv))return ut();t={verify:Xh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,c){const p=c.transform;if(p instanceof Pp)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Kh)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Yh)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Ic)return{fieldPath:c.field.canonicalString(),increment:p.C};throw ut()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:uT(n,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:ut()),t;var a}function K0(n,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?qr.updateTime(Gr(a.updateTime)):void 0!==a.exists?qr.exists(a.exists):qr.none():qr.none(),s=e.updateTransforms?e.updateTransforms.map(a=>function(c,p){let v=null;"setToServerValue"in p?(At("REQUEST_TIME"===p.setToServerValue),v=new Pp):"appendMissingElements"in p?v=new Kh(p.appendMissingElements.values||[]):"removeAllFromArray"in p?v=new Yh(p.removeAllFromArray.values||[]):"increment"in p?v=new Ic(c,p.increment):ut();const D=Un.fromServerFormat(p.fieldPath);return new kp(D,v)}(n,a)):[];var a;if(e.update){const a=bs(n,e.update.name),c=new vs({mapValue:{fields:e.update.fields}});if(e.updateMask){const p=new Td((e.updateMask.fieldPaths||[]).map(R=>Un.fromServerFormat(R)));return new Dc(a,c,p,t,s)}return new Rd(a,c,t,s)}if(e.delete){const a=bs(n,e.delete);return new Lp(a,t)}if(e.verify){const a=bs(n,e.verify);return new tv(a,t)}return ut()}function Zn(n,e){return{documents:[$m(n,e.path)]}}function Hm(n,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=$m(n,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=$m(n,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(v){if(0===v.length)return;const D=v.map(R=>function(k){if("=="===k.op){if(WD(k.value))return{unaryFilter:{field:Od(k.field),op:"IS_NAN"}};if(zD(k.value))return{unaryFilter:{field:Od(k.field),op:"IS_NULL"}}}else if("!="===k.op){if(WD(k.value))return{unaryFilter:{field:Od(k.field),op:"IS_NOT_NAN"}};if(zD(k.value))return{unaryFilter:{field:Od(k.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Od(k.field),op:pT(k.op),value:k.value}}}(R));return 1===D.length?D[0]:{compositeFilter:{op:"AND",filters:D}}}(e.filters);a&&(t.structuredQuery.where=a);const c=function(v){if(0!==v.length)return v.map(D=>{return{field:Od((R=D).field),direction:fT(R.dir)};var R})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const p=(D=e.limit,n.D||_s(D)?D:{value:D});var D;return null!==p&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=Gm(e.startAt)),e.endAt&&(t.structuredQuery.endAt=Gm(e.endAt)),t}function dT(n){let e=Z0(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){At(1===s);const k=t.from[0];k.allDescendants?a=k.collectionId:e=e.child(k.collectionId)}let c=[];t.where&&(c=qm(t.where));let p=[];t.orderBy&&(p=t.orderBy.map(k=>{return new xd(Pd((U=k).field),function(te){switch(te){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction));var U}));let v=null;t.limit&&(v=function(k){let U;return U="object"==typeof k?k.value:k,_s(U)?null:U}(t.limit));let D=null;t.startAt&&(D=hT(t.startAt));let R=null;return t.endAt&&(R=hT(t.endAt)),Mm(e,a,p,c,v,"F",D,R)}function qm(n){return n?void 0!==n.unaryFilter?[J0(n)]:void 0!==n.fieldFilter?[Q0(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>qm(e)).reduce((e,t)=>e.concat(t)):ut():[]}function Gm(n){return{before:n.before,values:n.position}}function hT(n){return new Sd(n.values||[],!!n.before)}function fT(n){return aT[n]}function pT(n){return sv[n]}function Od(n){return{fieldPath:n.canonicalString()}}function Pd(n){return Un.fromServerFormat(n.fieldPath)}function Q0(n){return ws.create(Pd(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ut()}}(n.fieldFilter.op),n.fieldFilter.value)}function J0(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Pd(n.unaryFilter.field);return ws.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Pd(n.unaryFilter.field);return ws.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Pd(n.unaryFilter.field);return ws.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Pd(n.unaryFilter.field);return ws.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ut()}}function gT(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function X0(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Es(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=cv(e)),e=lv(n.get(t),e);return cv(e)}function lv(n,e){let t=e;const s=n.length;for(let a=0;a<s;a++){const c=n.charAt(a);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function cv(n){return n+"\x01\x01"}function bu(n){const e=n.length;if(At(e>=2),2===e)return At("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),dn.emptyPath();const t=e-2,s=[];let a="";for(let c=0;c<e;){const p=n.indexOf("\x01",c);switch((p<0||p>t)&&ut(),n.charAt(p+1)){case"\x01":const v=n.substring(c,p);let D;0===a.length?D=v:(a+=v,D=a,a=""),s.push(D);break;case"\x10":a+=n.substring(c,p),a+="\0";break;case"\x11":a+=n.substring(c,p+1);break;default:ut()}c=p+2}return new dn(s)}class eE{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class js{constructor(e,t,s){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=s}}js.store="owner",js.key="owner";class Ac{constructor(e,t,s){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=s}}Ac.store="mutationQueues",Ac.keyPath="userId";class zn{constructor(e,t,s,a,c){this.userId=e,this.batchId=t,this.localWriteTimeMs=s,this.baseMutations=a,this.mutations=c}}zn.store="mutations",zn.keyPath="batchId",zn.userMutationsIndex="userMutationsIndex",zn.userMutationsKeyPath=["userId","batchId"];class zi{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Es(t)]}static key(e,t,s){return[e,Es(t),s]}}zi.store="documentMutations",zi.PLACEHOLDER=new zi;class mT{constructor(e,t){this.path=e,this.readTime=t}}class tE{constructor(e,t){this.path=e,this.version=t}}class kr{constructor(e,t,s,a,c,p){this.unknownDocument=e,this.noDocument=t,this.document=s,this.hasCommittedMutations=a,this.readTime=c,this.parentPath=p}}kr.store="remoteDocuments",kr.readTimeIndex="readTimeIndex",kr.readTimeIndexPath="readTime",kr.collectionReadTimeIndex="collectionReadTimeIndex",kr.collectionReadTimeIndexPath=["parentPath","readTime"];class Pa{constructor(e){this.byteSize=e}}Pa.store="remoteDocumentGlobal",Pa.key="remoteDocumentGlobalKey";class $s{constructor(e,t,s,a,c,p,v){this.targetId=e,this.canonicalId=t,this.readTime=s,this.resumeToken=a,this.lastListenSequenceNumber=c,this.lastLimboFreeSnapshotVersion=p,this.query=v}}$s.store="targets",$s.keyPath="targetId",$s.queryTargetsIndexName="queryTargetsIndex",$s.queryTargetsKeyPath=["canonicalId","targetId"];class Ni{constructor(e,t,s){this.targetId=e,this.path=t,this.sequenceNumber=s}}Ni.store="targetDocuments",Ni.keyPath=["targetId","path"],Ni.documentTargetsIndex="documentTargetsIndex",Ni.documentTargetsKeyPath=["path","targetId"];class zo{constructor(e,t,s,a){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=s,this.targetCount=a}}zo.key="targetGlobalKey",zo.store="targetGlobal";class ef{constructor(e,t){this.collectionId=e,this.parent=t}}ef.store="collectionParents",ef.keyPath=["collectionId","parent"];class ka{constructor(e,t,s,a){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=s,this.inForeground=a}}ka.store="clientMetadata",ka.keyPath="clientId";class tf{constructor(e,t,s){this.bundleId=e,this.createTime=t,this.version=s}}tf.store="bundles",tf.keyPath="bundleId";class kd{constructor(e,t,s){this.name=e,this.readTime=t,this.bundledQuery=s}}kd.store="namedQueries",kd.keyPath="name";const nE=[Ac.store,zn.store,zi.store,kr.store,$s.store,js.store,zo.store,Ni.store,ka.store,Pa.store,ef.store,tf.store,kd.store],yT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Wo{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ut(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ue((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ue?t:Ue.resolve(t)}catch(t){return Ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ue.reject(t)}static resolve(e){return new Ue((t,s)=>{t(e)})}static reject(e){return new Ue((t,s)=>{s(e)})}static waitFor(e){return new Ue((t,s)=>{let a=0,c=0,p=!1;e.forEach(v=>{++a,v.next(()=>{++c,p&&c===a&&t()},D=>s(D))}),p=!0,c===a&&t()})}static or(e){let t=Ue.resolve(!1);for(const s of e)t=t.next(a=>a?Ue.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,c)=>{s.push(t.call(this,a,c))}),this.waitFor(s)}}class dv{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.Et=new Ri,this.transaction.oncomplete=()=>{this.Et.resolve()},this.transaction.onabort=()=>{t.error?this.Et.reject(new nf(e,t.error)):this.Et.resolve()},this.transaction.onerror=s=>{const a=$p(s.target.error);this.Et.reject(new nf(e,a))}}static open(e,t,s,a){try{return new dv(t,e.transaction(a,s))}catch(c){throw new nf(t,c)}}get It(){return this.Et.promise}abort(e){e&&this.Et.reject(e),this.aborted||(qe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new _T(t)}}class Eu{constructor(e,t,s){this.name=e,this.version=t,this.At=s,12.2===Eu.Rt((0,Ft.z$)())&&Cr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return qe("SimpleDb","Removing database:",e),rf(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!(0,Ft.hl)())return!1;if(Eu.Pt())return!0;const e=(0,Ft.z$)(),t=Eu.Rt(e),s=0<t&&t<10,a=Eu.vt(e),c=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||c)}static Pt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Vt)}static St(e,t){return e.store(t)}static Rt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static vt(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}Dt(e){var t=this;return(0,Te.Z)(function*(){return t.db||(qe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,a)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=p=>{s(p.target.result)},c.onblocked=()=>{a(new nf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=p=>{const v=p.target.error;a("VersionError"===v.name?new Be(Ee.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===v.name?new Be(Ee.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+v):new nf(e,v))},c.onupgradeneeded=p=>{qe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',p.oldVersion),t.At.Ct(p.target.result,c.transaction,p.oldVersion,t.version).next(()=>{qe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Nt&&(t.db.onversionchange=s=>t.Nt(s)),t.db})()}xt(e){this.Nt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,a){var c=this;return(0,Te.Z)(function*(){const p="readonly"===t;let v=0;for(;;){++v;try{c.db=yield c.Dt(e);const D=dv.open(c.db,e,p?"readonly":"readwrite",s),R=a(D).catch(k=>(D.abort(k),Ue.reject(k))).toPromise();return R.catch(()=>{}),yield D.It,R}catch(D){const R="FirebaseError"!==D.name&&v<3;if(qe("SimpleDb","Transaction failed with error:",D.message,"Retrying:",R),c.close(),!R)return Promise.reject(D)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class rE{constructor(e){this.kt=e,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(e){this.kt=e}done(){this.$t=!0}Mt(e){this.Ot=e}delete(){return rf(this.kt.delete())}}class nf extends Be{constructor(e,t){super(Ee.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Sc(n){return"IndexedDbTransactionError"===n.name}class _T{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(qe("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(qe("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),rf(s)}add(e){return qe("SimpleDb","ADD",this.store.name,e,e),rf(this.store.add(e))}get(e){return rf(this.store.get(e)).next(t=>(void 0===t&&(t=null),qe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return qe("SimpleDb","DELETE",this.store.name,e),rf(this.store.delete(e))}count(){return qe("SimpleDb","COUNT",this.store.name),rf(this.store.count())}Lt(e,t){const s=this.cursor(this.options(e,t)),a=[];return this.Bt(s,(c,p)=>{a.push(p)}).next(()=>a)}Ut(e,t){qe("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.qt=!1;const a=this.cursor(s);return this.Bt(a,(c,p,v)=>v.delete())}Kt(e,t){let s;t?s=e:(s={},t=e);const a=this.cursor(s);return this.Bt(a,t)}jt(e){const t=this.cursor({});return new Ue((s,a)=>{t.onerror=c=>{const p=$p(c.target.error);a(p)},t.onsuccess=c=>{const p=c.target.result;p?e(p.primaryKey,p.value).next(v=>{v?p.continue():s()}):s()}})}Bt(e,t){const s=[];return new Ue((a,c)=>{e.onerror=p=>{c(p.target.error)},e.onsuccess=p=>{const v=p.target.result;if(!v)return void a();const D=new rE(v),R=t(v.primaryKey,v.value,D);if(R instanceof Ue){const k=R.catch(U=>(D.done(),Ue.reject(U)));s.push(k)}D.isDone?a():null===D.Ft?v.continue():v.continue(D.Ft)}}).next(()=>Ue.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.qt?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function rf(n){return new Ue((e,t)=>{n.onsuccess=s=>{e(s.target.result)},n.onerror=s=>{const a=$p(s.target.error);t(a)}})}let hv=!1;function $p(n){const e=Eu.Rt((0,Ft.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const s=new Be("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return hv||(hv=!0,setTimeout(()=>{throw s},0)),s}}return n}class iE extends Wo{constructor(e,t){super(),this.Qt=e,this.currentSequenceNumber=t}}function Wi(n,e){const t=We(n);return Eu.St(t.Qt,e)}class fv{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&tT(c,e,s[a])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Um(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Um(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const s=e.get(t.key),a=s;this.applyToLocalView(a),s.isValidDocument()||a.convertToNoDocument(Lt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),En())}isEqual(e){return this.batchId===e.batchId&&Hh(this.mutations,e.mutations,(t,s)=>F0(t,s))&&Hh(this.baseMutations,e.baseMutations,(t,s)=>F0(t,s))}}class pv{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){At(e.mutations.length===s.length);let a=iv();const c=e.mutations;for(let p=0;p<c.length;p++)a=a.insert(c[p].key,s[p].version);return new pv(e,t,s,a)}}class xc{constructor(e,t,s,a,c=Lt.min(),p=Lt.min(),v=Hr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=v}withSequenceNumber(e){return new xc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new xc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new xc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class sE{constructor(e){this.Wt=e}}function gv(n,e){if(e.document)return W0(n.Wt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=ot.fromSegments(e.noDocument.path),s=Ki(e.noDocument.readTime),a=lr.newNoDocument(t,s);return e.hasCommittedMutations?a.setHasCommittedMutations():a}if(e.unknownDocument){const t=ot.fromSegments(e.unknownDocument.path),s=Ki(e.unknownDocument.version);return lr.newUnknownDocument(t,s)}return ut()}function oE(n,e,t){const s=sf(t),a=e.key.path.popLast().toArray();if(e.isFoundDocument()){const c={name:Xh(v=n.Wt,(D=e).key),fields:D.data.value.mapValue.fields,updateTime:Bp(v,D.version.toTimestamp())};return new kr(null,null,c,e.hasCommittedMutations,s,a)}var v,D;if(e.isNoDocument()){const c=e.key.path.toArray(),p=Ld(e.version),v=e.hasCommittedMutations;return new kr(null,new mT(c,p),null,v,s,a)}if(e.isUnknownDocument()){const c=e.key.path.toArray(),p=Ld(e.version);return new kr(new tE(c,p),null,null,!0,s,a)}return ut()}function sf(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Fd(n){const e=new si(n[0],n[1]);return Lt.fromTimestamp(e)}function Ld(n){const e=n.toTimestamp();return new eE(e.seconds,e.nanoseconds)}function Ki(n){const e=new si(n.seconds,n.nanoseconds);return Lt.fromTimestamp(e)}function Cu(n,e){const t=(e.baseMutations||[]).map(c=>K0(n.Wt,c));for(let c=0;c<e.mutations.length-1;++c){const p=e.mutations[c];c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(p.updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c)}const s=e.mutations.map(c=>K0(n.Wt,c)),a=si.fromMillis(e.localWriteTimeMs);return new fv(e.batchId,a,t,s)}function Hp(n){const e=Ki(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Ki(n.lastLimboFreeSnapshotVersion):Lt.min();let s;var a;return void 0!==n.query.documents?(At(1===(a=n.query).documents.length),s=Bs(Ma(Z0(a.documents[0])))):s=Bs(dT(n.query)),new xc(s,n.targetId,0,n.lastListenSequenceNumber,e,t,Hr.fromBase64String(n.resumeToken))}function aE(n,e){const t=Ld(e.snapshotVersion),s=Ld(e.lastLimboFreeSnapshotVersion);let a;a=zh(e.target)?Zn(n.Wt,e.target):Hm(n.Wt,e.target);const c=e.resumeToken.toBase64();return new $s(e.targetId,Rm(e.target),t,c,e.sequenceNumber,s,a)}function qp(n){const e=dT({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?K_(e,e.limit,"L"):e}class Iu{getBundleMetadata(e,t){return of(e).get(t).next(s=>{if(s)return{id:(a=s).bundleId,createTime:Ki(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return of(e).put({bundleId:(s=t).id,createTime:Ld(Gr(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return Mi(e).get(t).next(s=>{if(s)return{name:(a=s).name,query:qp(a.bundledQuery),readTime:Ki(a.readTime)};var a})}saveNamedQuery(e,t){return Mi(e).put({name:(s=t).name,readTime:Ld(Gr(s.readTime)),bundledQuery:s.bundledQuery});var s}}function of(n){return Wi(n,tf.store)}function Mi(n){return Wi(n,kd.store)}class Vd{constructor(){this.Gt=new af}addToCollectionParentIndex(e,t){return this.Gt.add(t),Ue.resolve()}getCollectionParents(e,t){return Ue.resolve(this.Gt.getEntries(t))}}class af{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new tr(dn.comparator),c=!a.has(s);return this.index[t]=a.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new tr(dn.comparator)).toArray()}}class Ko{constructor(){this.zt=new af}addToCollectionParentIndex(e,t){if(!this.zt.has(t)){const s=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.zt.add(t)});const c={collectionId:s,parent:Es(a)};return Zm(e).put(c)}return Ue.resolve()}getCollectionParents(e,t){const s=[],a=IDBKeyRange.bound([t,""],[y0(t),""],!1,!0);return Zm(e).Lt(a).next(c=>{for(const p of c){if(p.collectionId!==t)break;s.push(bu(p.parent))}return s})}}function Zm(n){return Wi(n,ef.store)}const Ud={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ai{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new ai(e,ai.DEFAULT_COLLECTION_PERCENTILE,ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Bd(n,e,t){const s=n.store(zn.store),a=n.store(zi.store),c=[],p=IDBKeyRange.only(t.batchId);let v=0;const D=s.Kt({range:p},(k,U,te)=>(v++,te.delete()));c.push(D.next(()=>{At(1===v)}));const R=[];for(const k of t.mutations){const U=zi.key(e,k.key.path,t.batchId);c.push(a.delete(U)),R.push(k.key)}return Ue.waitFor(c).next(()=>R)}function gl(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ut();e=n.noDocument}return JSON.stringify(e).length}ai.DEFAULT_COLLECTION_PERCENTILE=10,ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ai.DEFAULT=new ai(41943040,ai.DEFAULT_COLLECTION_PERCENTILE,ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ai.DISABLED=new ai(-1,0,0);class Rc{constructor(e,t,s,a){this.userId=e,this.N=t,this.Ht=s,this.referenceDelegate=a,this.Jt={}}static Yt(e,t,s,a){At(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new Rc(c,t,s,a)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return bo(e).Kt({index:zn.userMutationsIndex,range:s},(a,c,p)=>{t=!1,p.done()}).next(()=>t)}addMutationBatch(e,t,s,a){const c=Fa(e),p=bo(e);return p.add({}).next(v=>{At("number"==typeof v);const D=new fv(v,t,s,a),R=function(te,re,Fe){const Ke=Fe.baseMutations.map(Qt=>uv(te.Wt,Qt)),rt=Fe.mutations.map(Qt=>uv(te.Wt,Qt));return new zn(re,Fe.batchId,Fe.localWriteTime.toMillis(),Ke,rt)}(this.N,this.userId,D),k=[];let U=new tr((te,re)=>Yt(te.canonicalString(),re.canonicalString()));for(const te of a){const re=zi.key(this.userId,te.key.path,v);U=U.add(te.key.path.popLast()),k.push(p.put(R)),k.push(c.put(re,zi.PLACEHOLDER))}return U.forEach(te=>{k.push(this.Ht.addToCollectionParentIndex(e,te))}),e.addOnCommittedListener(()=>{this.Jt[v]=D.keys()}),Ue.waitFor(k).next(()=>D)})}lookupMutationBatch(e,t){return bo(e).get(t).next(s=>s?(At(s.userId===this.userId),Cu(this.N,s)):null)}Xt(e,t){return this.Jt[t]?Ue.resolve(this.Jt[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const a=s.keys();return this.Jt[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=IDBKeyRange.lowerBound([this.userId,s]);let c=null;return bo(e).Kt({index:zn.userMutationsIndex,range:a},(p,v,D)=>{v.userId===this.userId&&(At(v.batchId>=s),c=Cu(this.N,v)),D.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return bo(e).Kt({index:zn.userMutationsIndex,range:t,reverse:!0},(a,c,p)=>{s=c.batchId,p.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return bo(e).Lt(zn.userMutationsIndex,t).next(s=>s.map(a=>Cu(this.N,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=zi.prefixForPath(this.userId,t.path),a=IDBKeyRange.lowerBound(s),c=[];return Fa(e).Kt({range:a},(p,v,D)=>{const[R,k,U]=p,te=bu(k);if(R===this.userId&&t.path.isEqual(te))return bo(e).get(U).next(re=>{if(!re)throw ut();At(re.userId===this.userId),c.push(Cu(this.N,re))});D.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new tr(Yt);const a=[];return t.forEach(c=>{const p=zi.prefixForPath(this.userId,c.path),v=IDBKeyRange.lowerBound(p),D=Fa(e).Kt({range:v},(R,k,U)=>{const[te,re,Fe]=R,Ke=bu(re);te===this.userId&&c.path.isEqual(Ke)?s=s.add(Fe):U.done()});a.push(D)}),Ue.waitFor(a).next(()=>this.Zt(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1,c=zi.prefixForPath(this.userId,s),p=IDBKeyRange.lowerBound(c);let v=new tr(Yt);return Fa(e).Kt({range:p},(D,R,k)=>{const[U,te,re]=D,Fe=bu(te);U===this.userId&&s.isPrefixOf(Fe)?Fe.length===a&&(v=v.add(re)):k.done()}).next(()=>this.Zt(e,v))}Zt(e,t){const s=[],a=[];return t.forEach(c=>{a.push(bo(e).get(c).next(p=>{if(null===p)throw ut();At(p.userId===this.userId),s.push(Cu(this.N,p))}))}),Ue.waitFor(a).next(()=>s)}removeMutationBatch(e,t){return Bd(e.Qt,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.te(t.batchId)}),Ue.forEach(s,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}te(e){delete this.Jt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ue.resolve();const s=IDBKeyRange.lowerBound(zi.prefixForUser(this.userId)),a=[];return Fa(e).Kt({range:s},(c,p,v)=>{if(c[0]===this.userId){const D=bu(c[1]);a.push(D)}else v.done()}).next(()=>{At(0===a.length)})})}containsKey(e,t){return jd(e,this.userId,t)}ee(e){return $d(e).get(this.userId).next(t=>t||new Ac(this.userId,-1,""))}}function jd(n,e,t){const s=zi.prefixForPath(e,t.path),a=s[1],c=IDBKeyRange.lowerBound(s);let p=!1;return Fa(n).Kt({range:c,qt:!0},(v,D,R)=>{const[k,U,te]=v;k===e&&U===a&&(p=!0),R.done()}).next(()=>p)}function bo(n){return Wi(n,zn.store)}function Fa(n){return Wi(n,zi.store)}function $d(n){return Wi(n,Ac.store)}class Nc{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new Nc(0)}static ie(){return new Nc(-1)}}class uE{constructor(e,t){this.referenceDelegate=e,this.N=t}allocateTargetId(e){return this.re(e).next(t=>{const s=new Nc(t.highestTargetId);return t.highestTargetId=s.next(),this.oe(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.re(e).next(t=>Lt.fromTimestamp(new si(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.re(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.re(e).next(a=>(a.highestListenSequenceNumber=t,s&&(a.lastRemoteSnapshotVersion=s.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.oe(e,a)))}addTargetData(e,t){return this.ae(e,t).next(()=>this.re(e).next(s=>(s.targetCount+=1,this.ce(t,s),this.oe(e,s))))}updateTargetData(e,t){return this.ae(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Hd(e).delete(t.targetId)).next(()=>this.re(e)).next(s=>(At(s.targetCount>0),s.targetCount-=1,this.oe(e,s)))}removeTargets(e,t,s){let a=0;const c=[];return Hd(e).Kt((p,v)=>{const D=Hp(v);D.sequenceNumber<=t&&null===s.get(D.targetId)&&(a++,c.push(this.removeTargetData(e,D)))}).next(()=>Ue.waitFor(c)).next(()=>a)}forEachTarget(e,t){return Hd(e).Kt((s,a)=>{const c=Hp(a);t(c)})}re(e){return mv(e).get(zo.key).next(t=>(At(null!==t),t))}oe(e,t){return mv(e).put(zo.key,t)}ae(e,t){return Hd(e).put(aE(this.N,t))}ce(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.re(e).next(t=>t.targetCount)}getTargetData(e,t){const s=Rm(t),a=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let c=null;return Hd(e).Kt({range:a,index:$s.queryTargetsIndexName},(p,v,D)=>{const R=Hp(v);Na(t,R.target)&&(c=R,D.done())}).next(()=>c)}addMatchingKeys(e,t,s){const a=[],c=ml(e);return t.forEach(p=>{const v=Es(p.path);a.push(c.put(new Ni(s,v))),a.push(this.referenceDelegate.addReference(e,s,p))}),Ue.waitFor(a)}removeMatchingKeys(e,t,s){const a=ml(e);return Ue.forEach(t,c=>{const p=Es(c.path);return Ue.waitFor([a.delete([s,p]),this.referenceDelegate.removeReference(e,s,c)])})}removeMatchingKeysForTargetId(e,t){const s=ml(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(a)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),a=ml(e);let c=En();return a.Kt({range:s,qt:!0},(p,v,D)=>{const R=bu(p[1]),k=new ot(R);c=c.add(k)}).next(()=>c)}containsKey(e,t){const s=Es(t.path),a=IDBKeyRange.bound([s],[y0(s)],!1,!0);let c=0;return ml(e).Kt({index:Ni.documentTargetsIndex,qt:!0,range:a},([p,v],D,R)=>{0!==p&&(c++,R.done())}).next(()=>c>0)}Tt(e,t){return Hd(e).get(t).next(s=>s?Hp(s):null)}}function Hd(n){return Wi(n,$s.store)}function mv(n){return Wi(n,zo.store)}function ml(n){return Wi(n,Ni.store)}function Mc(n){return zm.apply(this,arguments)}function zm(){return(zm=(0,Te.Z)(function*(n){if(n.code!==Ee.FAILED_PRECONDITION||n.message!==yT)throw n;qe("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function yv([n,e],[t,s]){const a=Yt(n,t);return 0===a?Yt(e,s):a}class lE{constructor(e){this.ue=e,this.buffer=new tr(yv),this.he=0}le(){return++this.he}fe(e){const t=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();yv(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class vT{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.de=!1,this.we=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(e){var t=this;const s=this.de?3e5:6e4;qe("LruGarbageCollector",`Garbage collection scheduled in ${s}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",s,(0,Te.Z)(function*(){t.we=null,t.de=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(a){Sc(a)?qe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield Mc(a)}yield t._e(e)}))}}class cE{constructor(e,t){this.me=e,this.params=t}calculateTargetCount(e,t){return this.me.ge(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return Ue.resolve(_o.T);const s=new lE(t);return this.me.forEachTarget(e,a=>s.fe(a.sequenceNumber)).next(()=>this.me.ye(e,a=>s.fe(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.me.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.me.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(qe("LruGarbageCollector","Garbage collection skipped; disabled"),Ue.resolve(Ud)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(qe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ud):this.pe(e,t))}getCacheSize(e){return this.me.getCacheSize(e)}pe(e,t){let s,a,c,p,v,D,R;const k=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(U=>(U>this.params.maximumSequenceNumbersToCollect?(qe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${U}`),a=this.params.maximumSequenceNumbersToCollect):a=U,p=Date.now(),this.nthSequenceNumber(e,a))).next(U=>(s=U,v=Date.now(),this.removeTargets(e,s,t))).next(U=>(c=U,D=Date.now(),this.removeOrphanedDocuments(e,s))).next(U=>(R=Date.now(),Dm()<=$o.in.DEBUG&&qe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${p-k}ms\n\tDetermined least recently used ${a} in `+(v-p)+`ms\n\tRemoved ${c} targets in `+(D-v)+`ms\n\tRemoved ${U} documents in `+(R-D)+`ms\nTotal Duration: ${R-k}ms`),Ue.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:U})))}}class wT{constructor(e,t){this.db=e,this.garbageCollector=new cE(this,t)}ge(e){const t=this.Te(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}Te(e){let t=0;return this.ye(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ye(e,t){return this.Ee(e,(s,a)=>t(a))}addReference(e,t,s){return Wm(e,s)}removeReference(e,t,s){return Wm(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return Wm(e,t)}Ie(e,t){return function(s,a){let c=!1;return $d(s).jt(p=>jd(s,p,a).next(v=>(v&&(c=!0),Ue.resolve(!v)))).next(()=>c)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let c=0;return this.Ee(e,(p,v)=>{if(v<=t){const D=this.Ie(e,p).next(R=>{if(!R)return c++,s.getEntry(e,p).next(()=>(s.removeEntry(p),ml(e).delete([0,Es(p.path)])))});a.push(D)}}).next(()=>Ue.waitFor(a)).next(()=>s.apply(e)).next(()=>c)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return Wm(e,t)}Ee(e,t){const s=ml(e);let a,c=_o.T;return s.Kt({index:Ni.documentTargetsIndex},([p,v],{path:D,sequenceNumber:R})=>{0===p?(c!==_o.T&&t(new ot(bu(a)),c),c=R,a=D):c=_o.T}).next(()=>{c!==_o.T&&t(new ot(bu(a)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Wm(n,e){return ml(n).put((s=n.currentSequenceNumber,new Ni(0,Es(e.path),s)));var s}class qd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,c]of s)if(this.equalsFn(a,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0!==a){for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,t]);a.push([e,t])}else this.inner[s]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),!0;return!1}forEach(e){Dd(this.inner,(t,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return Mt(this.inner)}}class dE{constructor(){this.changes=new qd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:Lt.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:lr.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?Ue.resolve(s.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class r1{constructor(e,t){this.N=e,this.Ht=t}addEntry(e,t,s){return Oc(e).put(Gp(t),s)}removeEntry(e,t){const s=Oc(e),a=Gp(t);return s.delete(a)}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Ae(e,s)))}getEntry(e,t){return Oc(e).get(Gp(t)).next(s=>this.Re(t,s))}be(e,t){return Oc(e).get(Gp(t)).next(s=>({document:this.Re(t,s),size:gl(s)}))}getEntries(e,t){let s=Zo();return this.Pe(e,t,(a,c)=>{const p=this.Re(a,c);s=s.insert(a,p)}).next(()=>s)}ve(e,t){let s=Zo(),a=new Pr(ot.comparator);return this.Pe(e,t,(c,p)=>{const v=this.Re(c,p);s=s.insert(c,v),a=a.insert(c,gl(p))}).next(()=>({documents:s,Ve:a}))}Pe(e,t,s){if(t.isEmpty())return Ue.resolve();const a=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),c=t.getIterator();let p=c.getNext();return Oc(e).Kt({range:a},(v,D,R)=>{const k=ot.fromSegments(v);for(;p&&ot.comparator(p,k)<0;)s(p,null),p=c.getNext();p&&p.isEqual(k)&&(s(p,D),p=c.hasNext()?c.getNext():null),p?R.Mt(p.path.toArray()):R.done()}).next(()=>{for(;p;)s(p,null),p=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,t,s){let a=Zo();const c=t.path.length+1,p={};if(s.isEqual(Lt.min())){const v=t.path.toArray();p.range=IDBKeyRange.lowerBound(v)}else{const v=t.path.toArray(),D=sf(s);p.range=IDBKeyRange.lowerBound([v,D],!0),p.index=kr.collectionReadTimeIndex}return Oc(e).Kt(p,(v,D,R)=>{if(v.length!==c)return;const k=gv(this.N,D);t.path.isPrefixOf(k.key.path)?Fm(t,k)&&(a=a.insert(k.key,k)):R.done()}).next(()=>a)}newChangeBuffer(e){return new bT(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return _v(e).get(Pa.key).next(t=>(At(!!t),t))}Ae(e,t){return _v(e).put(Pa.key,t)}Re(e,t){if(t){const s=gv(this.N,t);if(!s.isNoDocument()||!s.version.isEqual(Lt.min()))return s}return lr.newInvalidDocument(e)}}class bT extends dE{constructor(e,t){super(),this.Se=e,this.trackRemovals=t,this.De=new qd(s=>s.toString(),(s,a)=>s.isEqual(a))}applyChanges(e){const t=[];let s=0,a=new tr((c,p)=>Yt(c.canonicalString(),p.canonicalString()));return this.changes.forEach((c,p)=>{const v=this.De.get(c);if(p.document.isValidDocument()){const D=oE(this.Se.N,p.document,this.getReadTime(c));a=a.add(c.path.popLast()),s+=gl(D)-v,t.push(this.Se.addEntry(e,c,D))}else if(s-=v,this.trackRemovals){const D=oE(this.Se.N,lr.newNoDocument(c,Lt.min()),this.getReadTime(c));t.push(this.Se.addEntry(e,c,D))}else t.push(this.Se.removeEntry(e,c))}),a.forEach(c=>{t.push(this.Se.Ht.addToCollectionParentIndex(e,c))}),t.push(this.Se.updateMetadata(e,s)),Ue.waitFor(t)}getFromCache(e,t){return this.Se.be(e,t).next(s=>(this.De.set(t,s.size),s.document))}getAllFromCache(e,t){return this.Se.ve(e,t).next(({documents:s,Ve:a})=>(a.forEach((c,p)=>{this.De.set(c,p)}),s))}}function _v(n){return Wi(n,Pa.store)}function Oc(n){return Wi(n,kr.store)}function Gp(n){return n.path.toArray()}class ET{constructor(e){this.N=e}Ct(e,t,s,a){At(s<a&&s>=0&&a<=11);const c=new dv("createOrUpgrade",t);var v;s<1&&a>=1&&(e.createObjectStore(js.store),(v=e).createObjectStore(Ac.store,{keyPath:Ac.keyPath}),v.createObjectStore(zn.store,{keyPath:zn.keyPath,autoIncrement:!0}).createIndex(zn.userMutationsIndex,zn.userMutationsKeyPath,{unique:!0}),v.createObjectStore(zi.store),hE(e),function(v){v.createObjectStore(kr.store)}(e));let p=Ue.resolve();return s<3&&a>=3&&(0!==s&&(function(v){v.deleteObjectStore(Ni.store),v.deleteObjectStore($s.store),v.deleteObjectStore(zo.store)}(e),hE(e)),p=p.next(()=>function(v){const D=v.store(zo.store),R=new zo(0,0,Lt.min().toTimestamp(),0);return D.put(zo.key,R)}(c))),s<4&&a>=4&&(0!==s&&(p=p.next(()=>function(v,D){return D.store(zn.store).Lt().next(R=>{v.deleteObjectStore(zn.store),v.createObjectStore(zn.store,{keyPath:zn.keyPath,autoIncrement:!0}).createIndex(zn.userMutationsIndex,zn.userMutationsKeyPath,{unique:!0});const k=D.store(zn.store),U=R.map(te=>k.put(te));return Ue.waitFor(U)})}(e,c))),p=p.next(()=>{!function(v){v.createObjectStore(ka.store,{keyPath:ka.keyPath})}(e)})),s<5&&a>=5&&(p=p.next(()=>this.Ce(c))),s<6&&a>=6&&(p=p.next(()=>(function(v){v.createObjectStore(Pa.store)}(e),this.Ne(c)))),s<7&&a>=7&&(p=p.next(()=>this.xe(c))),s<8&&a>=8&&(p=p.next(()=>this.ke(e,c))),s<9&&a>=9&&(p=p.next(()=>{(function(v){v.objectStoreNames.contains("remoteDocumentChanges")&&v.deleteObjectStore("remoteDocumentChanges")})(e),function(v){const D=v.objectStore(kr.store);D.createIndex(kr.readTimeIndex,kr.readTimeIndexPath,{unique:!1}),D.createIndex(kr.collectionReadTimeIndex,kr.collectionReadTimeIndexPath,{unique:!1})}(t)})),s<10&&a>=10&&(p=p.next(()=>this.$e(c))),s<11&&a>=11&&(p=p.next(()=>{(function(v){v.createObjectStore(tf.store,{keyPath:tf.keyPath})})(e),function(v){v.createObjectStore(kd.store,{keyPath:kd.keyPath})}(e)})),p}Ne(e){let t=0;return e.store(kr.store).Kt((s,a)=>{t+=gl(a)}).next(()=>{const s=new Pa(t);return e.store(Pa.store).put(Pa.key,s)})}Ce(e){const t=e.store(Ac.store),s=e.store(zn.store);return t.Lt().next(a=>Ue.forEach(a,c=>{const p=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return s.Lt(zn.userMutationsIndex,p).next(v=>Ue.forEach(v,D=>{At(D.userId===c.userId);const R=Cu(this.N,D);return Bd(e,c.userId,R).next(()=>{})}))}))}xe(e){const t=e.store(Ni.store),s=e.store(kr.store);return e.store(zo.store).get(zo.key).next(a=>{const c=[];return s.Kt((p,v)=>{const D=new dn(p),R=[0,Es(D)];c.push(t.get(R).next(k=>k?Ue.resolve():t.put(new Ni(0,Es(D),a.highestListenSequenceNumber))))}).next(()=>Ue.waitFor(c))})}ke(e,t){e.createObjectStore(ef.store,{keyPath:ef.keyPath});const s=t.store(ef.store),a=new af,c=p=>{if(a.add(p)){const v=p.lastSegment(),D=p.popLast();return s.put({collectionId:v,parent:Es(D)})}};return t.store(kr.store).Kt({qt:!0},(p,v)=>{const D=new dn(p);return c(D.popLast())}).next(()=>t.store(zi.store).Kt({qt:!0},([p,v,D],R)=>{const k=bu(v);return c(k.popLast())}))}$e(e){const t=e.store($s.store);return t.Kt((s,a)=>{const c=Hp(a),p=aE(this.N,c);return t.put(p)})}}function hE(n){n.createObjectStore(Ni.store,{keyPath:Ni.keyPath}).createIndex(Ni.documentTargetsIndex,Ni.documentTargetsKeyPath,{unique:!0}),n.createObjectStore($s.store,{keyPath:$s.keyPath}).createIndex($s.queryTargetsIndexName,$s.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(zo.store)}const fE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class vv{constructor(e,t,s,a,c,p,v,D,R,k){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.Oe=c,this.window=p,this.document=v,this.Fe=R,this.Me=k,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=U=>Promise.resolve(),!vv.bt())throw new Be(Ee.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new wT(this,a),this.We=t+"main",this.N=new sE(D),this.Ge=new Eu(this.We,11,new ET(this.N)),this.ze=new uE(this.referenceDelegate,this.N),this.Ht=new Ko,this.He=new r1(this.N,this.Ht),this.Je=new Iu,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===k&&Cr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Be(Ee.FAILED_PRECONDITION,fE);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ze.getHighestSequenceNumber(e))}).then(e=>{this.Le=new _o(e,this.Fe)}).then(()=>{this.Be=!0}).catch(e=>(this.Ge&&this.Ge.close(),Promise.reject(e)))}nn(e){var t=this;return this.Qe=function(){var s=(0,Te.Z)(function*(a){if(t.started)return e(a)});return function(a){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ge.xt(function(){var t=(0,Te.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,Te.Z)(function*(){t.started&&(yield t.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>wv(e).put(new ka(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(e).next(t=>{t||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(e)).next(t=>this.isPrimary&&!t?this.on(e).next(()=>!1):!!t&&this.an(e).next(()=>!0))).catch(e=>{if(Sc(e))return qe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return qe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.Qe(e)),this.isPrimary=e})}sn(e){return uf(e).get(js.key).next(t=>Ue.resolve(this.cn(t)))}un(e){return wv(e).delete(this.clientId)}hn(){var e=this;return(0,Te.Z)(function*(){if(e.isPrimary&&!e.ln(e.je,18e5)){e.je=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const a=Wi(s,ka.store);return a.Lt().next(c=>{const p=e.fn(c,18e5),v=c.filter(D=>-1===p.indexOf(D));return Ue.forEach(v,D=>a.delete(D.clientId)).next(()=>v)})}).catch(()=>[]);if(e.Ye)for(const s of t)e.Ye.removeItem(e.dn(s.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(e){return!!e&&e.ownerId===this.clientId}rn(e){return this.Me?Ue.resolve(!0):uf(e).get(js.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)){if(this.cn(t)&&this.networkEnabled)return!0;if(!this.cn(t)){if(!t.allowTabSynchronization)throw new Be(Ee.FAILED_PRECONDITION,fE);return!1}}return!(!this.networkEnabled||!this.inForeground)||wv(e).Lt().next(s=>void 0===this.fn(s,5e3).find(a=>{if(this.clientId!==a.clientId){const p=!this.inForeground&&a.inForeground,v=this.networkEnabled===a.networkEnabled;if(!this.networkEnabled&&a.networkEnabled||p&&v)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&qe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Te.Z)(function*(){e.Be=!1,e._n(),e.Ke&&(e.Ke.cancel(),e.Ke=null),e.mn(),e.gn(),yield e.Ge.runTransaction("shutdown","readwrite",[js.store,ka.store],t=>{const s=new iE(t,_o.T);return e.on(s).next(()=>e.un(s))}),e.Ge.close(),e.yn()})()}fn(e,t){return e.filter(s=>this.ln(s.updateTimeMs,t)&&!this.wn(s.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",e=>wv(e).Lt().next(t=>this.fn(t,18e5).map(s=>s.clientId)))}get started(){return this.Be}getMutationQueue(e){return Rc.Yt(e,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(e,t,s){let c;return qe("IndexedDbPersistence","Starting transaction:",e),this.Ge.runTransaction(e,"readonly"===t?"readonly":"readwrite",nE,p=>(c=new iE(p,this.Le?this.Le.next():_o.T),"readwrite-primary"===t?this.sn(c).next(v=>!!v||this.rn(c)).next(v=>{if(!v)throw Cr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Be(Ee.FAILED_PRECONDITION,yT);return s(c)}).next(v=>this.an(c).next(()=>v)):this.Tn(c).next(()=>s(c)))).then(p=>(c.raiseOnCommittedEvent(),p))}Tn(e){return uf(e).get(js.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)&&!this.cn(t)&&!(this.Me||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Be(Ee.FAILED_PRECONDITION,fE)})}an(e){const t=new js(this.clientId,this.allowTabSynchronization,Date.now());return uf(e).put(js.key,t)}static bt(){return Eu.bt()}on(e){const t=uf(e);return t.get(js.key).next(s=>this.cn(s)?(qe("IndexedDbPersistence","Releasing primary lease."),t.delete(js.key)):Ue.resolve())}ln(e,t){const s=Date.now();return!(e<s-t||e>s&&(Cr(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=()=>{this._n(),(0,Ft.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(e){var t;try{const s=null!==(null===(t=this.Ye)||void 0===t?void 0:t.getItem(this.dn(e)));return qe("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Cr("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(e){Cr("Failed to set zombie client id.",e)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(e){}}dn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function uf(n){return Wi(n,js.store)}function wv(n){return Wi(n,ka.store)}function pE(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class i1{constructor(e,t){this.progress=e,this.En=t}}class gE{constructor(e,t,s){this.He=e,this.In=t,this.Ht=s}An(e,t){return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next(s=>this.Rn(e,t,s))}Rn(e,t,s){return this.He.getEntry(e,t).next(a=>{for(const c of s)c.applyToLocalView(a);return a})}bn(e,t){e.forEach((s,a)=>{for(const c of t)c.applyToLocalView(a)})}Pn(e,t){return this.He.getEntries(e,t).next(s=>this.vn(e,s).next(()=>s))}vn(e,t){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>this.bn(t,s))}getDocumentsMatchingQuery(e,t,s){return ot.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.Vn(e,t.path):Pm(t)?this.Sn(e,t,s):this.Dn(e,t,s);var a}Vn(e,t){return this.An(e,new ot(t)).next(s=>{let a=U0();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}Sn(e,t,s){const a=t.collectionGroup;let c=U0();return this.Ht.getCollectionParents(e,a).next(p=>Ue.forEach(p,v=>{const D=(R=t,k=v.child(a),new Us(k,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt));var R,k;return this.Dn(e,D,s).next(R=>{R.forEach((k,U)=>{c=c.insert(k,U)})})}).next(()=>c))}Dn(e,t,s){let a,c;return this.He.getDocumentsMatchingQuery(e,t,s).next(p=>(a=p,this.In.getAllMutationBatchesAffectingQuery(e,t))).next(p=>(c=p,this.Cn(e,c,a).next(v=>{a=v;for(const D of c)for(const R of D.mutations){const k=R.key;let U=a.get(k);null==U&&(U=lr.newInvalidDocument(k),a=a.insert(k,U)),Um(R,U,D.localWriteTime),U.isFoundDocument()||(a=a.remove(k))}}))).next(()=>(a.forEach((p,v)=>{Fm(t,v)||(a=a.remove(p))}),a))}Cn(e,t,s){let a=En();for(const p of t)for(const v of p.mutations)v instanceof Dc&&null===s.get(v.key)&&(a=a.add(v.key));let c=s;return this.He.getEntries(e,a).next(p=>(p.forEach((v,D)=>{D.isFoundDocument()&&(c=c.insert(v,D))}),c))}}class mE{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Nn=s,this.xn=a}static kn(e,t){let s=En(),a=En();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new mE(e,t.fromCache,s,a)}}class yE{$n(e){this.On=e}getDocumentsMatchingQuery(e,t,s,a){return 0===(c=t).filters.length&&null===c.limit&&null==c.startAt&&null==c.endAt&&(0===c.explicitOrderBy.length||1===c.explicitOrderBy.length&&c.explicitOrderBy[0].field.isKeyField())||s.isEqual(Lt.min())?this.Fn(e,t):this.On.Pn(e,a).next(c=>{const p=this.Mn(t,c);return(bc(t)||fl(t))&&this.Ln(t.limitType,p,a,s)?this.Fn(e,t):(Dm()<=$o.in.DEBUG&&qe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),km(t)),this.On.getDocumentsMatchingQuery(e,t,s).next(v=>(p.forEach(D=>{v=v.insert(D.key,D)}),v)))});var c}Mn(e,t){let s=new tr(Y_(e));return t.forEach((a,c)=>{Fm(e,c)&&(s=s.add(c))}),s}Ln(e,t,s,a){if(s.size!==t.size)return!0;const c="F"===e?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Fn(e,t){return Dm()<=$o.in.DEBUG&&qe("QueryEngine","Using full collection scan to execute query:",km(t)),this.On.getDocumentsMatchingQuery(e,t,Lt.min())}}class CT{constructor(e,t,s,a){this.persistence=e,this.Bn=t,this.N=a,this.Un=new Pr(Yt),this.qn=new qd(c=>Rm(c),Na),this.Kn=Lt.min(),this.In=e.getMutationQueue(s),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new gE(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Un))}}function Km(n,e,t,s){return new CT(n,e,t,s)}function Ym(n,e){return bv.apply(this,arguments)}function bv(){return(bv=(0,Te.Z)(function*(n,e){const t=We(n);let s=t.In,a=t.Qn;const c=yield t.persistence.runTransaction("Handle user change","readonly",p=>{let v;return t.In.getAllMutationBatches(p).next(D=>(v=D,s=t.persistence.getMutationQueue(e),a=new gE(t.jn,s,t.persistence.getIndexManager()),s.getAllMutationBatches(p))).next(D=>{const R=[],k=[];let U=En();for(const te of v){R.push(te.batchId);for(const re of te.mutations)U=U.add(re.key)}for(const te of D){k.push(te.batchId);for(const re of te.mutations)U=U.add(re.key)}return a.Pn(p,U).next(te=>({Wn:te,removedBatchIds:R,addedBatchIds:k}))})});return t.In=s,t.Qn=a,t.Bn.$n(t.Qn),c})).apply(this,arguments)}function s1(n,e){const t=We(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=t.jn.newChangeBuffer({trackRemovals:!0});return function(p,v,D,R){const k=D.batch,U=k.keys();let te=Ue.resolve();return U.forEach(re=>{te=te.next(()=>R.getEntry(v,re)).next(Fe=>{const Ke=D.docVersions.get(re);At(null!==Ke),Fe.version.compareTo(Ke)<0&&(k.applyToRemoteDocument(Fe,D),Fe.isValidDocument()&&R.addEntry(Fe,D.commitVersion))})}),te.next(()=>p.In.removeMutationBatch(v,k))}(t,s,e,c).next(()=>c.apply(s)).next(()=>t.In.performConsistencyCheck(s)).next(()=>t.Qn.Pn(s,a))})}function IT(n){const e=We(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ze.getLastRemoteSnapshotVersion(t))}function o1(n,e){const t=We(n),s=e.snapshotVersion;let a=t.Un;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const p=t.jn.newChangeBuffer({trackRemovals:!0});a=t.Un;const v=[];e.targetChanges.forEach((R,k)=>{const U=a.get(k);if(!U)return;v.push(t.ze.removeMatchingKeys(c,R.removedDocuments,k).next(()=>t.ze.addMatchingKeys(c,R.addedDocuments,k)));const te=R.resumeToken;if(te.approximateByteSize()>0){const re=U.withResumeToken(te,s).withSequenceNumber(c.currentSequenceNumber);a=a.insert(k,re),Fe=U,rt=R,At((Ke=re).resumeToken.approximateByteSize()>0),(0===Fe.resumeToken.approximateByteSize()||Ke.snapshotVersion.toMicroseconds()-Fe.snapshotVersion.toMicroseconds()>=3e8||rt.addedDocuments.size+rt.modifiedDocuments.size+rt.removedDocuments.size>0)&&v.push(t.ze.updateTargetData(c,re))}var Fe,Ke,rt});let D=Zo();if(e.documentUpdates.forEach((R,k)=>{e.resolvedLimboDocuments.has(R)&&v.push(t.persistence.referenceDelegate.updateLimboDocument(c,R))}),v.push(_E(c,p,e.documentUpdates,s,void 0).next(R=>{D=R})),!s.isEqual(Lt.min())){const R=t.ze.getLastRemoteSnapshotVersion(c).next(k=>t.ze.setTargetsMetadata(c,c.currentSequenceNumber,s));v.push(R)}return Ue.waitFor(v).next(()=>p.apply(c)).next(()=>t.Qn.vn(c,D)).next(()=>D)}).then(c=>(t.Un=a,c))}function _E(n,e,t,s,a){let c=En();return t.forEach(p=>c=c.add(p)),e.getEntries(n,c).next(p=>{let v=Zo();return t.forEach((D,R)=>{const k=p.get(D),U=(null==a?void 0:a.get(D))||s;R.isNoDocument()&&R.version.isEqual(Lt.min())?(e.removeEntry(D,U),v=v.insert(D,R)):!k.isValidDocument()||R.version.compareTo(k.version)>0||0===R.version.compareTo(k.version)&&k.hasPendingWrites?(e.addEntry(R,U),v=v.insert(D,R)):qe("LocalStore","Ignoring outdated watch update for ",D,". Current version:",k.version," Watch version:",R.version)}),v})}function vE(n,e){const t=We(n);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.In.getNextMutationBatchAfterBatchId(s,e)))}function Zp(n,e){const t=We(n);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.ze.getTargetData(s,e).next(c=>c?(a=c,Ue.resolve(a)):t.ze.allocateTargetId(s).next(p=>(a=new xc(e,p,0,s.currentSequenceNumber),t.ze.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Un.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Un=t.Un.insert(s.targetId,s),t.qn.set(e,s.targetId)),s})}function lf(n,e,t){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,Te.Z)(function*(n,e,t){const s=We(n),a=s.Un.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",c,p=>s.persistence.referenceDelegate.removeTarget(p,a)))}catch(p){if(!Sc(p))throw p;qe("LocalStore",`Failed to update sequence numbers for target ${e}: ${p}`)}s.Un=s.Un.remove(e),s.qn.delete(a.target)})).apply(this,arguments)}function Qm(n,e,t){const s=We(n);let a=Lt.min(),c=En();return s.persistence.runTransaction("Execute query","readonly",p=>function(v,D,R){const k=We(v),U=k.qn.get(R);return void 0!==U?Ue.resolve(k.Un.get(U)):k.ze.getTargetData(D,R)}(s,p,Bs(e)).next(v=>{if(v)return a=v.lastLimboFreeSnapshotVersion,s.ze.getMatchingKeysForTargetId(p,v.targetId).next(D=>{c=D})}).next(()=>s.Bn.getDocumentsMatchingQuery(p,e,t?a:Lt.min(),t?c:En())).next(v=>({documents:v,Gn:c})))}function Ev(n,e){const t=We(n),s=We(t.ze),a=t.Un.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",c=>s.Tt(c,e).next(p=>p?p.target:null))}function wE(n){const e=We(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(s,a,c){const p=We(s);let v=Zo(),D=sf(c);const R=Oc(a),k=IDBKeyRange.lowerBound(D,!0);return R.Kt({index:kr.readTimeIndex,range:k},(U,te)=>{const re=gv(p.N,te);v=v.insert(re.key,re),D=te.readTime}).next(()=>({En:v,readTime:Fd(D)}))}(e.jn,t,e.Kn)).then(({En:t,readTime:s})=>(e.Kn=s,t))}function cf(){return(cf=(0,Te.Z)(function*(n){const e=We(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(s){const a=Oc(s);let c=Lt.min();return a.Kt({index:kr.readTimeIndex,reverse:!0},(p,v,D)=>{v.readTime&&(c=Fd(v.readTime)),D.done()}).next(()=>c)}(t)).then(t=>{e.Kn=t})})).apply(this,arguments)}function Jm(){return(Jm=(0,Te.Z)(function*(n,e,t,s){const a=We(n);let c=En(),p=Zo(),v=iv();for(const k of t){const U=e.zn(k.metadata.name);k.document&&(c=c.add(U)),p=p.insert(U,e.Hn(k)),v=v.insert(U,e.Jn(k.metadata.readTime))}const D=a.jn.newChangeBuffer({trackRemovals:!0}),R=yield Zp(a,(k=s,Bs(Ma(dn.fromString(`__bundle__/docs/${k}`)))));var k;return a.persistence.runTransaction("Apply bundle documents","readwrite",k=>_E(k,D,p,Lt.min(),v).next(U=>(D.apply(k),U)).next(U=>a.ze.removeMatchingKeysForTargetId(k,R.targetId).next(()=>a.ze.addMatchingKeys(k,c,R.targetId)).next(()=>a.Qn.vn(k,U)).next(()=>U)))})).apply(this,arguments)}function TT(n,e){return Cv.apply(this,arguments)}function Cv(){return(Cv=(0,Te.Z)(function*(n,e,t=En()){const s=yield Zp(n,Bs(qp(e.bundledQuery))),a=We(n);return a.persistence.runTransaction("Save named query","readwrite",c=>{const p=Gr(e.readTime);if(s.snapshotVersion.compareTo(p)>=0)return a.Je.saveNamedQuery(c,e);const v=s.withResumeToken(Hr.EMPTY_BYTE_STRING,p);return a.Un=a.Un.insert(v.targetId,v),a.ze.updateTargetData(c,v).next(()=>a.ze.removeMatchingKeysForTargetId(c,s.targetId)).next(()=>a.ze.addMatchingKeys(c,t,s.targetId)).next(()=>a.Je.saveNamedQuery(c,e))})})).apply(this,arguments)}class AT{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return Ue.resolve(this.Yn.get(t))}saveBundleMetadata(e,t){var s;return this.Yn.set(t.id,{id:(s=t).id,version:s.version,createTime:Gr(s.createTime)}),Ue.resolve()}getNamedQuery(e,t){return Ue.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(s=t).name,query:qp(s.bundledQuery),readTime:Gr(s.readTime)}),Ue.resolve();var s}}class Iv{constructor(){this.Zn=new tr(_i.ts),this.es=new tr(_i.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const s=new _i(e,t);this.Zn=this.Zn.add(s),this.es=this.es.add(s)}ss(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.rs(new _i(e,t))}os(e,t){e.forEach(s=>this.removeReference(s,t))}cs(e){const t=new ot(new dn([])),s=new _i(t,e),a=new _i(t,e+1),c=[];return this.es.forEachInRange([s,a],p=>{this.rs(p),c.push(p.key)}),c}us(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new ot(new dn([])),s=new _i(t,e),a=new _i(t,e+1);let c=En();return this.es.forEachInRange([s,a],p=>{c=c.add(p.key)}),c}containsKey(e){const t=new _i(e,0),s=this.Zn.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class _i{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return ot.comparator(e.key,t.key)||Yt(e.ls,t.ls)}static ns(e,t){return Yt(e.ls,t.ls)||ot.comparator(e.key,t.key)}}class EE{constructor(e,t){this.Ht=e,this.referenceDelegate=t,this.In=[],this.fs=1,this.ds=new tr(_i.ts)}checkEmpty(e){return Ue.resolve(0===this.In.length)}addMutationBatch(e,t,s,a){const c=this.fs;this.fs++;const p=new fv(c,t,s,a);this.In.push(p);for(const v of a)this.ds=this.ds.add(new _i(v.key,c)),this.Ht.addToCollectionParentIndex(e,v.key.path.popLast());return Ue.resolve(p)}lookupMutationBatch(e,t){return Ue.resolve(this.ws(t))}getNextMutationBatchAfterBatchId(e,t){const a=this._s(t+1),c=a<0?0:a;return Ue.resolve(this.In.length>c?this.In[c]:null)}getHighestUnacknowledgedBatchId(){return Ue.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return Ue.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new _i(t,0),a=new _i(t,Number.POSITIVE_INFINITY),c=[];return this.ds.forEachInRange([s,a],p=>{const v=this.ws(p.ls);c.push(v)}),Ue.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new tr(Yt);return t.forEach(a=>{const c=new _i(a,0),p=new _i(a,Number.POSITIVE_INFINITY);this.ds.forEachInRange([c,p],v=>{s=s.add(v.ls)})}),Ue.resolve(this.gs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let c=s;ot.isDocumentKey(c)||(c=c.child(""));const p=new _i(new ot(c),0);let v=new tr(Yt);return this.ds.forEachWhile(D=>{const R=D.key.path;return!!s.isPrefixOf(R)&&(R.length===a&&(v=v.add(D.ls)),!0)},p),Ue.resolve(this.gs(v))}gs(e){const t=[];return e.forEach(s=>{const a=this.ws(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){At(0===this.ys(t.batchId,"removed")),this.In.shift();let s=this.ds;return Ue.forEach(t.mutations,a=>{const c=new _i(a.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.ds=s})}te(e){}containsKey(e,t){const s=new _i(t,0),a=this.ds.firstAfterOrEqual(s);return Ue.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Ue.resolve()}ys(e,t){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}class ST{constructor(e,t){this.Ht=e,this.ps=t,this.docs=new Pr(ot.comparator),this.size=0}addEntry(e,t,s){const a=t.key,c=this.docs.get(a),p=c?c.size:0,v=this.ps(t);return this.docs=this.docs.insert(a,{document:t.clone(),size:v,readTime:s}),this.size+=v-p,this.Ht.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Ue.resolve(s?s.document.clone():lr.newInvalidDocument(t))}getEntries(e,t){let s=Zo();return t.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.clone():lr.newInvalidDocument(a))}),Ue.resolve(s)}getDocumentsMatchingQuery(e,t,s){let a=Zo();const c=new ot(t.path.child("")),p=this.docs.getIteratorFrom(c);for(;p.hasNext();){const{key:v,value:{document:D,readTime:R}}=p.getNext();if(!t.path.isPrefixOf(v.path))break;R.compareTo(s)<=0||Fm(t,D)&&(a=a.insert(D.key,D.clone()))}return Ue.resolve(a)}Ts(e,t){return Ue.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new CE(this)}getSize(e){return Ue.resolve(this.size)}}class CE extends dE{constructor(e){super(),this.Se=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.document.isValidDocument()?t.push(this.Se.addEntry(e,a.document,this.getReadTime(s))):this.Se.removeEntry(s)}),Ue.waitFor(t)}getFromCache(e,t){return this.Se.getEntry(e,t)}getAllFromCache(e,t){return this.Se.getEntries(e,t)}}class IE{constructor(e){this.persistence=e,this.Es=new qd(t=>Rm(t),Na),this.lastRemoteSnapshotVersion=Lt.min(),this.highestTargetId=0,this.Is=0,this.As=new Iv,this.targetCount=0,this.Rs=Nc.se()}forEachTarget(e,t){return this.Es.forEach((s,a)=>t(a)),Ue.resolve()}getLastRemoteSnapshotVersion(e){return Ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ue.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Is&&(this.Is=t),Ue.resolve()}ae(e){this.Es.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new Nc(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,Ue.resolve()}updateTargetData(e,t){return this.ae(t),Ue.resolve()}removeTargetData(e,t){return this.Es.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,Ue.resolve()}removeTargets(e,t,s){let a=0;const c=[];return this.Es.forEach((p,v)=>{v.sequenceNumber<=t&&null===s.get(v.targetId)&&(this.Es.delete(p),c.push(this.removeMatchingKeysForTargetId(e,v.targetId)),a++)}),Ue.waitFor(c).next(()=>a)}getTargetCount(e){return Ue.resolve(this.targetCount)}getTargetData(e,t){const s=this.Es.get(t)||null;return Ue.resolve(s)}addMatchingKeys(e,t,s){return this.As.ss(t,s),Ue.resolve()}removeMatchingKeys(e,t,s){this.As.os(t,s);const a=this.persistence.referenceDelegate,c=[];return a&&t.forEach(p=>{c.push(a.markPotentiallyOrphaned(e,p))}),Ue.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.As.cs(t),Ue.resolve()}getMatchingKeysForTargetId(e,t){const s=this.As.hs(t);return Ue.resolve(s)}containsKey(e,t){return Ue.resolve(this.As.containsKey(t))}}class Dv{constructor(e,t){this.bs={},this.Le=new _o(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new IE(this),this.Ht=new Vd,this.He=new ST(this.Ht,s=>this.referenceDelegate.Ps(s)),this.N=new sE(t),this.Je=new AT(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new EE(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,t,s){qe("MemoryPersistence","Starting transaction:",e);const a=new a1(this.Le.next());return this.referenceDelegate.vs(),s(a).next(c=>this.referenceDelegate.Vs(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Ss(e,t){return Ue.or(Object.values(this.bs).map(s=>()=>s.containsKey(e,t)))}}class a1 extends Wo{constructor(e){super(),this.currentSequenceNumber=e}}class zp{constructor(e){this.persistence=e,this.Ds=new Iv,this.Cs=null}static Ns(e){return new zp(e)}get xs(){if(this.Cs)return this.Cs;throw ut()}addReference(e,t,s){return this.Ds.addReference(s,t),this.xs.delete(s.toString()),Ue.resolve()}removeReference(e,t,s){return this.Ds.removeReference(s,t),this.xs.add(s.toString()),Ue.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Ue.resolve()}removeTarget(e,t){this.Ds.cs(t.targetId).forEach(a=>this.xs.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(c=>this.xs.add(c.toString()))}).next(()=>s.removeTargetData(e,t))}vs(){this.Cs=new Set}Vs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ue.forEach(this.xs,s=>{const a=ot.fromPath(s);return this.ks(e,a).next(c=>{c||t.removeEntry(a)})}).next(()=>(this.Cs=null,t.apply(e)))}updateLimboDocument(e,t){return this.ks(e,t).next(s=>{s?this.xs.delete(t.toString()):this.xs.add(t.toString())})}Ps(e){return 0}ks(e,t){return Ue.or([()=>Ue.resolve(this.Ds.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ss(e,t)])}}function DE(n,e){return`firestore_clients_${n}_${e}`}function xT(n,e,t){let s=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Gd(n,e){return`firestore_targets_${n}_${e}`}class Xm{constructor(e,t,s,a){this.user=e,this.batchId=t,this.state=s,this.error=a}static $s(e,t,s){const a=JSON.parse(s);let c,p="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return p&&a.error&&(p="string"==typeof a.error.message&&"string"==typeof a.error.code,p&&(c=new Be(a.error.code,a.error.message))),p?new Xm(e,t,a.state,c):(Cr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Zd{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static $s(e,t){const s=JSON.parse(t);let a,c="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return c&&s.error&&(c="string"==typeof s.error.message&&"string"==typeof s.error.code,c&&(a=new Be(s.error.code,s.error.message))),c?new Zd(e,s.state,a):(Cr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class df{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const s=JSON.parse(t);let a="object"==typeof s&&s.activeTargetIds instanceof Array,c=Up();for(let p=0;a&&p<s.activeTargetIds.length;++p)a=Rp(s.activeTargetIds[p]),c=c.add(s.activeTargetIds[p]);return a?new df(e,c):(Cr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Tv{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Tv(t.clientId,t.onlineState):(Cr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Wp{constructor(){this.activeTargetIds=Up()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Kp{constructor(e,t,s,a,c){this.window=e,this.Oe=t,this.persistenceKey=s,this.Ls=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Pr(Yt),this.started=!1,this.Ks=[];const p=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.js=DE(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new Wp),this.Ws=new RegExp(`^firestore_clients_${p}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${p}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${p}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(v){return`firestore_bundle_loaded_${v}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Te.Z)(function*(){const t=yield e.syncEngine.pn();for(const a of t){if(a===e.Ls)continue;const c=e.getItem(DE(e.persistenceKey,a));if(c){const p=df.$s(a,c);p&&(e.qs=e.qs.insert(p.clientId,p))}}e.Ys();const s=e.storage.getItem(e.Hs);if(s){const a=e.Xs(s);a&&e.Zs(a)}for(const a of e.Ks)e.Us(a);e.Ks=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Qs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(e){let t=!1;return this.qs.forEach((s,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ei(e,"pending")}updateMutationState(e,t,s){this.ei(e,t,s),this.ni(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Gd(this.persistenceKey,e));if(s){const a=Zd.$s(e,s);a&&(t=a.state)}}return this.si.Fs(e),this.Ys(),t}removeLocalQueryTarget(e){this.si.Ms(e),this.Ys()}isLocalQueryTarget(e){return this.si.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Gd(this.persistenceKey,e))}updateQueryState(e,t,s){this.ii(e,t,s)}handleUserChange(e,t,s){t.forEach(a=>{this.ni(a)}),this.currentUser=e,s.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.ri(e)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return qe("SharedClientState","READ",e,t),t}setItem(e,t){qe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){qe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Us(e){var t=this;const s=e;if(s.storageArea===this.storage){if(qe("SharedClientState","EVENT",s.key,s.newValue),s.key===this.js)return void Cr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,Te.Z)(function*(){if(t.started){if(null!==s.key)if(t.Ws.test(s.key)){if(null==s.newValue){const a=t.ai(s.key);return t.ci(a,null)}{const a=t.ui(s.key,s.newValue);if(a)return t.ci(a.clientId,a)}}else if(t.Gs.test(s.key)){if(null!==s.newValue){const a=t.hi(s.key,s.newValue);if(a)return t.li(a)}}else if(t.zs.test(s.key)){if(null!==s.newValue){const a=t.fi(s.key,s.newValue);if(a)return t.di(a)}}else if(s.key===t.Hs){if(null!==s.newValue){const a=t.Xs(s.newValue);if(a)return t.Zs(a)}}else if(s.key===t.Qs){const a=function(c){let p=_o.T;if(null!=c)try{const v=JSON.parse(c);At("number"==typeof v),p=v}catch(v){Cr("SharedClientState","Failed to read sequence number from WebStorage",v)}return p}(s.newValue);a!==_o.T&&t.sequenceNumberHandler(a)}else if(s.key===t.Js)return t.syncEngine.wi()}else t.Ks.push(s)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(e,t,s){const a=new Xm(this.currentUser,e,t,s),c=xT(this.persistenceKey,this.currentUser,e);this.setItem(c,a.Os())}ni(e){const t=xT(this.persistenceKey,this.currentUser,e);this.removeItem(t)}ri(e){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:e}))}ii(e,t,s){const a=Gd(this.persistenceKey,e),c=new Zd(e,t,s);this.setItem(a,c.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(e){const t=this.Ws.exec(e);return t?t[1]:null}ui(e,t){const s=this.ai(e);return df.$s(s,t)}hi(e,t){const s=this.Gs.exec(e),a=Number(s[1]);return Xm.$s(new yi(void 0!==s[2]?s[2]:null),a,t)}fi(e,t){const s=this.zs.exec(e),a=Number(s[1]);return Zd.$s(a,t)}Xs(e){return Tv.$s(e)}li(e){var t=this;return(0,Te.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine._i(e.batchId,e.state,e.error);qe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}di(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}ci(e,t){const s=t?this.qs.insert(e,t):this.qs.remove(e),a=this.ti(this.qs),c=this.ti(s),p=[],v=[];return c.forEach(D=>{a.has(D)||p.push(D)}),a.forEach(D=>{c.has(D)||v.push(D)}),this.syncEngine.gi(p,v).then(()=>{this.qs=s})}Zs(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ti(e){let t=Up();return e.forEach((s,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class Av{constructor(){this.yi=new Wp,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,t,s){this.pi[e]=t}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new Wp,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class u1{Ti(e){}shutdown(){}}class TE{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){qe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){qe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const AE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class SE{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class RT extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,t,s,a){const c=this.Bi(e,t);qe("RestConnection","Sending: ",c,s);const p={};return this.Ui(p,a),this.qi(e,c,p,s).then(v=>(qe("RestConnection","Received: ",v),v),v=>{throw dl("RestConnection",`${e} failed with error: `,v,"url: ",c,"request:",s),v})}Ki(e,t,s,a){return this.Li(e,t,s,a)}Ui(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+cl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(const s in t.authHeaders)t.authHeaders.hasOwnProperty(s)&&(e[s]=t.authHeaders[s])}Bi(e,t){return`${this.Fi}/v1/${t}:${AE[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,t,s,a){return new Promise((c,p)=>{const v=new f0;v.listenOnce(jD.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case Em.NO_ERROR:const R=v.getResponseJson();qe("Connection","XHR received:",JSON.stringify(R)),c(R);break;case Em.TIMEOUT:qe("Connection",'RPC "'+e+'" timed out'),p(new Be(Ee.DEADLINE_EXCEEDED,"Request time out"));break;case Em.HTTP_ERROR:const k=v.getStatus();if(qe("Connection",'RPC "'+e+'" failed with status:',k,"response text:",v.getResponseText()),k>0){const U=v.getResponseJson().error;if(U&&U.status&&U.message){const te=function(re){const Fe=re.toLowerCase().replace(/_/g,"-");return Object.values(Ee).indexOf(Fe)>=0?Fe:Ee.UNKNOWN}(U.status);p(new Be(te,U.message))}else p(new Be(Ee.UNKNOWN,"Server responded with status "+v.getStatus()))}else p(new Be(Ee.UNAVAILABLE,"Connection failed."));break;default:ut()}}finally{qe("Connection",'RPC "'+e+'" completed.')}});const D=JSON.stringify(a);v.send(t,"POST",D,s,15)})}ji(e,t){const s=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Id(),c=c0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new h0({})),this.Ui(p.initMessageHeaders,t),(0,Ft.uI)()||(0,Ft.b$)()||(0,Ft.d)()||(0,Ft.w1)()||(0,Ft.Mn)()||(0,Ft.ru)()||(p.httpHeadersOverwriteParam="$httpHeaders");const v=s.join("");qe("Connection","Creating WebChannel: "+v,p);const D=a.createWebChannel(v,p);let R=!1,k=!1;const U=new SE({vi:re=>{k?qe("Connection","Not sending because WebChannel is closed:",re):(R||(qe("Connection","Opening WebChannel transport."),D.open(),R=!0),qe("Connection","WebChannel sending:",re),D.send(re))},Vi:()=>D.close()}),te=(re,Fe,Ke)=>{re.listen(Fe,rt=>{try{Ke(rt)}catch(Qt){setTimeout(()=>{throw Qt},0)}})};return te(D,xp.EventType.OPEN,()=>{k||qe("Connection","WebChannel transport opened.")}),te(D,xp.EventType.CLOSE,()=>{k||(k=!0,qe("Connection","WebChannel transport closed"),U.$i())}),te(D,xp.EventType.ERROR,re=>{k||(k=!0,dl("Connection","WebChannel transport errored:",re),U.$i(new Be(Ee.UNAVAILABLE,"The operation could not be completed")))}),te(D,xp.EventType.MESSAGE,re=>{var Fe;if(!k){const Ke=re.data[0];At(!!Ke);const rt=Ke,Qt=rt.error||(null===(Fe=rt[0])||void 0===Fe?void 0:Fe.error);if(Qt){qe("Connection","WebChannel received error:",Qt);const Tn=Qt.status;let nr=function(Wr){const Ou=Ir[Wr];if(void 0!==Ou)return Vp(Ou)}(Tn),sn=Qt.message;void 0===nr&&(nr=Ee.INTERNAL,sn="Unknown error status: "+Tn+" with message "+Qt.message),k=!0,U.$i(new Be(nr,sn)),D.close()}else qe("Connection","WebChannel received:",Ke),U.Oi(Ke)}}),te(c,Cm.STAT_EVENT,re=>{re.stat===d0.PROXY?qe("Connection","Detected buffering proxy"):re.stat===d0.NOPROXY&&qe("Connection","Detected no buffering proxy")}),setTimeout(()=>{U.ki()},0),U}}function xE(){return"undefined"!=typeof window?window:null}function hf(){return"undefined"!=typeof document?document:null}function ff(n){return new q0(n,!0)}class Yp{constructor(e,t,s=1e3,a=1.5,c=6e4){this.Oe=e,this.timerId=t,this.Qi=s,this.Wi=a,this.Gi=c,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const t=Math.floor(this.zi+this.Zi()),s=Math.max(0,Date.now()-this.Ji),a=Math.max(0,t-s);a>0&&qe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.zi} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,a,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class ey{constructor(e,t,s,a,c,p){this.Oe=e,this.er=s,this.nr=a,this.credentialsProvider=c,this.listener=p,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Yp(e,t)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var e=this;return(0,Te.Z)(function*(){e.ar()&&(yield e.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(e){this._r(),this.stream.send(e)}dr(){var e=this;return(0,Te.Z)(function*(){if(e.cr())return e.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(e,t){var s=this;return(0,Te.Z)(function*(){s._r(),s.rr.cancel(),s.sr++,3!==e?s.rr.reset():t&&t.code===Ee.RESOURCE_EXHAUSTED?(Cr(t.toString()),Cr("Using maximum backoff delay to prevent overloading the backend."),s.rr.Yi()):t&&t.code===Ee.UNAUTHENTICATED&&s.credentialsProvider.invalidateToken(),null!==s.stream&&(s.mr(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Ci(t)})()}mr(){}auth(){this.state=1;const e=this.gr(this.sr),t=this.sr;this.credentialsProvider.getToken().then(s=>{this.sr===t&&this.yr(s)},s=>{e(()=>{const a=new Be(Ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.pr(a)})})}yr(e){const t=this.gr(this.sr);this.stream=this.Tr(e),this.stream.Si(()=>{t(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(s=>{t(()=>this.pr(s))}),this.stream.onMessage(s=>{t(()=>this.onMessage(s))})}ur(){var e=this;this.state=4,this.rr.Xi((0,Te.Z)(function*(){e.state=0,e.start()}))}pr(e){return qe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(3,e)}gr(e){return t=>{this.Oe.enqueueAndForget(()=>this.sr===e?t():(qe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class RE extends ey{constructor(e,t,s,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle",t,s,c),this.N=a}Tr(e){return this.nr.ji("Listen",e)}onMessage(e){this.rr.reset();const t=function(n,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(D=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===D?1:"REMOVE"===D?2:"CURRENT"===D?3:"RESET"===D?4:ut(),a=e.targetChange.targetIds||[],c=function(D,R){return D.D?(At(void 0===R||"string"==typeof R),Hr.fromBase64String(R||"")):(At(void 0===R||R instanceof Uint8Array),Hr.fromUint8Array(R||new Uint8Array))}(n,e.targetChange.resumeToken),p=e.targetChange.cause,v=p&&function(D){const R=void 0===D.code?Ee.UNKNOWN:Vp(D.code);return new Be(R,D.message||"")}(p);t=new oT(s,a,c,v||null)}else if("documentChange"in e){const s=e.documentChange,a=bs(n,s.document.name),c=Gr(s.document.updateTime),p=new vs({mapValue:{fields:s.document.fields}}),v=lr.newFoundDocument(a,c,p);t=new jm(s.targetIds||[],s.removedTargetIds||[],v.key,v)}else if("documentDelete"in e){const s=e.documentDelete,a=bs(n,s.document),c=s.readTime?Gr(s.readTime):Lt.min(),p=lr.newNoDocument(a,c);t=new jm([],s.removedTargetIds||[],p.key,p)}else if("documentRemove"in e){const s=e.documentRemove,a=bs(n,s.document);t=new jm([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return ut();{const s=e.filter,c=new rT(s.count||0);t=new $0(s.targetId,c)}}var D;return t}(this.N,e),s=function(a){if(!("targetChange"in a))return Lt.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Lt.min():c.readTime?Gr(c.readTime):Lt.min()}(e);return this.listener.Er(t,s)}Ir(e){const t={};t.database=jp(this.N),t.addTarget=function(a,c){let p;const v=c.target;return p=zh(v)?{documents:Zn(a,v)}:{query:Hm(a,v)},p.targetId=c.targetId,c.resumeToken.approximateByteSize()>0?p.resumeToken=ov(a,c.resumeToken):c.snapshotVersion.compareTo(Lt.min())>0&&(p.readTime=Bp(a,c.snapshotVersion.toTimestamp())),p}(this.N,e);const s=function(n,e){const t=function(s,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ut()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.wr(t)}Ar(e){const t={};t.database=jp(this.N),t.removeTarget=e,this.wr(t)}}class NT extends ey{constructor(e,t,s,a,c){super(e,"write_stream_connection_backoff","write_stream_idle",t,s,c),this.N=a,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Tr(e){return this.nr.ji("Write",e)}onMessage(e){if(At(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Rr){this.rr.reset();const t=function(n,e){return n&&n.length>0?(At(void 0!==e),n.map(t=>function(s,a){let c=Gr(s.updateTime?s.updateTime:a);return c.isEqual(Lt.min())&&(c=Gr(a)),new P0(c,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=Gr(e.commitTime);return this.listener.vr(s,t)}return At(!e.writeResults||0===e.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const e={};e.database=jp(this.N),this.wr(e)}Pr(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>uv(this.N,s))};this.wr(t)}}class NE extends class{}{constructor(e,t,s){super(),this.credentials=e,this.nr=t,this.N=s,this.Dr=!1}Cr(){if(this.Dr)throw new Be(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,t,s){return this.Cr(),this.credentials.getToken().then(a=>this.nr.Li(e,t,s,a)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Ee.UNAUTHENTICATED&&this.credentials.invalidateToken(),a):new Be(Ee.UNKNOWN,a.toString())})}Ki(e,t,s){return this.Cr(),this.credentials.getToken().then(a=>this.nr.Ki(e,t,s,a)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Ee.UNAUTHENTICATED&&this.credentials.invalidateToken(),a):new Be(Ee.UNKNOWN,a.toString())})}terminate(){this.Dr=!0}}class ME{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(e){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Fr("Offline")))}set(e){this.Br(),this.Nr=0,"Online"===e&&(this.$r=!1),this.Fr(e)}Fr(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Mr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(Cr(t),this.$r=!1):qe("OnlineStateTracker",t)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class Sv{constructor(e,t,s,a,c){var p=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=c,this.Qr.Ti(v=>{s.enqueueAndForget((0,Te.Z)(function*(){var D;yl(p)&&(qe("RemoteStore","Restarting streams for network reachability change."),yield(D=(0,Te.Z)(function*(R){const k=We(R);k.Kr.add(4),yield pf(k),k.Wr.set("Unknown"),k.Kr.delete(4),yield Qp(k)}),function(R){return D.apply(this,arguments)})(p))}))}),this.Wr=new ME(s,a)}}function Qp(n){return xv.apply(this,arguments)}function xv(){return(xv=(0,Te.Z)(function*(n){if(yl(n))for(const e of n.jr)yield e(!0)})).apply(this,arguments)}function pf(n){return Rv.apply(this,arguments)}function Rv(){return(Rv=(0,Te.Z)(function*(n){for(const e of n.jr)yield e(!1)})).apply(this,arguments)}function Jp(n,e){const t=We(n);t.qr.has(e.targetId)||(t.qr.set(e.targetId,e),ry(t)?ny(t):yf(t).cr()&&ty(t,e))}function zd(n,e){const t=We(n),s=yf(t);t.qr.delete(e),s.cr()&&Nv(t,e),0===t.qr.size&&(s.cr()?s.lr():yl(t)&&t.Wr.set("Unknown"))}function ty(n,e){n.Gr.Y(e.targetId),yf(n).Ir(e)}function Nv(n,e){n.Gr.Y(e),yf(n).Ar(e)}function ny(n){n.Gr=new H0({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>n.qr.get(e)||null}),yf(n).start(),n.Wr.Or()}function ry(n){return yl(n)&&!yf(n).ar()&&n.qr.size>0}function yl(n){return 0===We(n).Kr.size}function Mv(n){n.Gr=void 0}function OE(n){return iy.apply(this,arguments)}function iy(){return(iy=(0,Te.Z)(function*(n){n.qr.forEach((e,t)=>{ty(n,e)})})).apply(this,arguments)}function l1(n,e){return Ov.apply(this,arguments)}function Ov(){return(Ov=(0,Te.Z)(function*(n,e){Mv(n),ry(n)?(n.Wr.Lr(e),ny(n)):n.Wr.set("Unknown")})).apply(this,arguments)}function MT(n,e,t){return sy.apply(this,arguments)}function sy(){return(sy=(0,Te.Z)(function*(n,e,t){if(n.Wr.set("Online"),e instanceof oT&&2===e.state&&e.cause)try{yield(s=(0,Te.Z)(function*(a,c){const p=c.cause;for(const v of c.targetIds)a.qr.has(v)&&(yield a.remoteSyncer.rejectListen(v,p),a.qr.delete(v),a.Gr.removeTarget(v))}),function(a,c){return s.apply(this,arguments)})(n,e)}catch(s){qe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield oy(n,s)}else if(e instanceof jm?n.Gr.rt(e):e instanceof $0?n.Gr.ft(e):n.Gr.ct(e),!t.isEqual(Lt.min()))try{const s=yield IT(n.localStore);t.compareTo(s)>=0&&(yield function(a,c){const p=a.Gr._t(c);return p.targetChanges.forEach((v,D)=>{if(v.resumeToken.approximateByteSize()>0){const R=a.qr.get(D);R&&a.qr.set(D,R.withResumeToken(v.resumeToken,c))}}),p.targetMismatches.forEach(v=>{const D=a.qr.get(v);if(!D)return;a.qr.set(v,D.withResumeToken(Hr.EMPTY_BYTE_STRING,D.snapshotVersion)),Nv(a,v);const R=new xc(D.target,v,1,D.sequenceNumber);ty(a,R)}),a.remoteSyncer.applyRemoteEvent(p)}(n,t))}catch(s){qe("RemoteStore","Failed to raise snapshot:",s),yield oy(n,s)}var s})).apply(this,arguments)}function oy(n,e,t){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,Te.Z)(function*(n,e,t){if(!Sc(e))throw e;n.Kr.add(1),yield pf(n),n.Wr.set("Offline"),t||(t=()=>IT(n.localStore)),n.asyncQueue.enqueueRetryable((0,Te.Z)(function*(){qe("RemoteStore","Retrying IndexedDB access"),yield t(),n.Kr.delete(1),yield Qp(n)}))})).apply(this,arguments)}function Pv(n,e){return e().catch(t=>oy(n,t,e))}function gf(n){return kv.apply(this,arguments)}function kv(){return(kv=(0,Te.Z)(function*(n){const e=We(n),t=kc(e);let s=e.Ur.length>0?e.Ur[e.Ur.length-1].batchId:-1;for(;PE(e);)try{const a=yield vE(e.localStore,s);if(null===a){0===e.Ur.length&&t.lr();break}s=a.batchId,OT(e,a)}catch(a){yield oy(e,a)}Fv(e)&&Lv(e)})).apply(this,arguments)}function PE(n){return yl(n)&&n.Ur.length<10}function OT(n,e){n.Ur.push(e);const t=kc(n);t.cr()&&t.br&&t.Pr(e.mutations)}function Fv(n){return yl(n)&&!kc(n).ar()&&n.Ur.length>0}function Lv(n){kc(n).start()}function mf(n){return Vv.apply(this,arguments)}function Vv(){return(Vv=(0,Te.Z)(function*(n){kc(n).Sr()})).apply(this,arguments)}function PT(n){return ay.apply(this,arguments)}function ay(){return(ay=(0,Te.Z)(function*(n){const e=kc(n);for(const t of n.Ur)e.Pr(t.mutations)})).apply(this,arguments)}function kT(n,e,t){return uy.apply(this,arguments)}function uy(){return(uy=(0,Te.Z)(function*(n,e,t){const s=n.Ur.shift(),a=pv.from(s,e,t);yield Pv(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),yield gf(n)})).apply(this,arguments)}function c1(n,e){return ly.apply(this,arguments)}function ly(){return(ly=(0,Te.Z)(function*(n,e){var t;e&&kc(n).br&&(yield(t=(0,Te.Z)(function*(s,a){if(V0(c=a.code)&&c!==Ee.ABORTED){const p=s.Ur.shift();kc(s).hr(),yield Pv(s,()=>s.remoteSyncer.rejectFailedWrite(p.batchId,a)),yield gf(s)}var c}),function(s,a){return t.apply(this,arguments)})(n,e)),Fv(n)&&Lv(n)})).apply(this,arguments)}function Xp(n,e){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,Te.Z)(function*(n,e){const t=We(n);e?(t.Kr.delete(2),yield Qp(t)):e||(t.Kr.add(2),yield pf(t),t.Wr.set("Unknown"))})).apply(this,arguments)}function yf(n){return n.zr||(n.zr=function(e,t,s){const a=We(e);return a.Cr(),new RE(t,a.nr,a.credentials,a.N,s)}(n.datastore,n.asyncQueue,{Si:OE.bind(null,n),Ci:l1.bind(null,n),Er:MT.bind(null,n)}),n.jr.push(function(){var e=(0,Te.Z)(function*(t){t?(n.zr.hr(),ry(n)?ny(n):n.Wr.set("Unknown")):(yield n.zr.stop(),Mv(n))});return function(t){return e.apply(this,arguments)}}())),n.zr}function kc(n){return n.Hr||(n.Hr=function(e,t,s){const a=We(e);return a.Cr(),new NT(t,a.nr,a.credentials,a.N,s)}(n.datastore,n.asyncQueue,{Si:mf.bind(null,n),Ci:c1.bind(null,n),Vr:PT.bind(null,n),vr:kT.bind(null,n)}),n.jr.push(function(){var e=(0,Te.Z)(function*(t){t?(n.Hr.hr(),yield gf(n)):(yield n.Hr.stop(),n.Ur.length>0&&(qe("RemoteStore",`Stopping write stream with ${n.Ur.length} pending writes`),n.Ur=[]))});return function(t){return e.apply(this,arguments)}}())),n.Hr}class Qo{constructor(e,t,s,a,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new Ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}static createAndSchedule(e,t,s,a,c){const p=Date.now()+s,v=new Qo(e,t,p,a,c);return v.start(s),v}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Be(Ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yi(n,e){if(Cr("AsyncQueue",`${e}: ${n}`),Sc(n))return new Be(Ee.UNAVAILABLE,`${e}: ${n}`);throw n}class Qi{constructor(e){this.comparator=e?(t,s)=>e(t,s)||ot.comparator(t.key,s.key):(t,s)=>ot.comparator(t.key,s.key),this.keyedMap=U0(),this.sortedSet=new Pr(this.comparator)}static emptySet(e){return new Qi(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Qi)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new Qi;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class Uv{constructor(){this.Jr=new Pr(ot.comparator)}track(e){const t=e.doc.key,s=this.Jr.get(t);s?0!==e.type&&3===s.type?this.Jr=this.Jr.insert(t,e):3===e.type&&1!==s.type?this.Jr=this.Jr.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Jr=this.Jr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Jr=this.Jr.remove(t):1===e.type&&2===s.type?this.Jr=this.Jr.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):ut():this.Jr=this.Jr.insert(t,e)}Yr(){const e=[];return this.Jr.inorderTraversal((t,s)=>{e.push(s)}),e}}class Wd{constructor(e,t,s,a,c,p,v,D){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=p,this.syncStateChanged=v,this.excludesMetadataChanges=D}static fromInitialDocuments(e,t,s,a){const c=[];return t.forEach(p=>{c.push({type:0,doc:p})}),new Wd(e,t,Qi.emptySet(t),c,s,a,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class FT{constructor(){this.Xr=void 0,this.listeners=[]}}class LT{constructor(){this.queries=new qd(e=>A0(e),Cc),this.onlineState="Unknown",this.Zr=new Set}}function Bv(n,e){return jv.apply(this,arguments)}function jv(){return(jv=(0,Te.Z)(function*(n,e){const t=We(n),s=e.query;let a=!1,c=t.queries.get(s);if(c||(a=!0,c=new FT),a)try{c.Xr=yield t.onListen(s)}catch(p){const v=Yi(p,`Initialization of query '${km(e.query)}' failed`);return void e.onError(v)}t.queries.set(s,c),c.listeners.push(e),e.eo(t.onlineState),c.Xr&&e.no(c.Xr)&&$v(t)})).apply(this,arguments)}function eg(n,e){return Kd.apply(this,arguments)}function Kd(){return(Kd=(0,Te.Z)(function*(n,e){const t=We(n),s=e.query;let a=!1;const c=t.queries.get(s);if(c){const p=c.listeners.indexOf(e);p>=0&&(c.listeners.splice(p,1),a=0===c.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)})).apply(this,arguments)}function VT(n,e){const t=We(n);let s=!1;for(const a of e){const p=t.queries.get(a.query);if(p){for(const v of p.listeners)v.no(a)&&(s=!0);p.Xr=a}}s&&$v(t)}function kE(n,e,t){const s=We(n),a=s.queries.get(e);if(a)for(const c of a.listeners)c.onError(t);s.queries.delete(e)}function $v(n){n.Zr.forEach(e=>{e.next()})}class cy{constructor(e,t,s){this.query=e,this.so=t,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=s||{}}no(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new Wd(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.io?this.oo(e)&&(this.so.next(e),t=!0):this.ao(e,this.onlineState)&&(this.co(e),t=!0),this.ro=e,t}onError(e){this.so.error(e)}eo(e){this.onlineState=e;let t=!1;return this.ro&&!this.io&&this.ao(this.ro,e)&&(this.co(this.ro),t=!0),t}ao(e,t){return!e.fromCache||!(this.options.uo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}oo(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(e){e=Wd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.io=!0,this.so.next(e)}}class FE{constructor(e,t){this.payload=e,this.byteLength=t}ho(){return"metadata"in this.payload}}class tg{constructor(e){this.N=e}zn(e){return bs(this.N,e)}Hn(e){return e.metadata.exists?W0(this.N,e.document,!1):lr.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}Jn(e){return Gr(e)}}class UT{constructor(e,t,s){this.lo=e,this.localStore=t,this.N=s,this.queries=[],this.documents=[],this.progress=Hv(e)}fo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}wo(e){const t=new Map,s=new tg(this.N);for(const a of e)if(a.metadata.queries){const c=s.zn(a.metadata.name);for(const p of a.metadata.queries){const v=(t.get(p)||En()).add(c);t.set(p,v)}}return t}complete(){var e=this;return(0,Te.Z)(function*(){const t=yield function(n,e,t,s){return Jm.apply(this,arguments)}(e.localStore,new tg(e.N),e.documents,e.lo.id),s=e.wo(e.documents);for(const a of e.queries)yield TT(e.localStore,a,s.get(a.name));return e.progress.taskState="Success",new i1(Object.assign({},e.progress),t)})()}}function Hv(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class qv{constructor(e){this.key=e}}class Gv{constructor(e){this.key=e}}class dy{constructor(e,t){this.query=e,this._o=t,this.mo=null,this.current=!1,this.yo=En(),this.mutatedKeys=En(),this.po=Y_(e),this.To=new Qi(this.po)}get Eo(){return this._o}Io(e,t){const s=t?t.Ao:new Uv,a=t?t.To:this.To;let c=t?t.mutatedKeys:this.mutatedKeys,p=a,v=!1;const D=bc(this.query)&&a.size===this.query.limit?a.last():null,R=fl(this.query)&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((k,U)=>{const te=a.get(k),re=Fm(this.query,U)?U:null,Fe=!!te&&this.mutatedKeys.has(te.key),Ke=!!re&&(re.hasLocalMutations||this.mutatedKeys.has(re.key)&&re.hasCommittedMutations);let rt=!1;te&&re?te.data.isEqual(re.data)?Fe!==Ke&&(s.track({type:3,doc:re}),rt=!0):this.Ro(te,re)||(s.track({type:2,doc:re}),rt=!0,(D&&this.po(re,D)>0||R&&this.po(re,R)<0)&&(v=!0)):!te&&re?(s.track({type:0,doc:re}),rt=!0):te&&!re&&(s.track({type:1,doc:te}),rt=!0,(D||R)&&(v=!0)),rt&&(re?(p=p.add(re),c=Ke?c.add(k):c.delete(k)):(p=p.delete(k),c=c.delete(k)))}),bc(this.query)||fl(this.query))for(;p.size>this.query.limit;){const k=bc(this.query)?p.last():p.first();p=p.delete(k.key),c=c.delete(k.key),s.track({type:1,doc:k})}return{To:p,Ao:s,Ln:v,mutatedKeys:c}}Ro(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.To;this.To=e.To,this.mutatedKeys=e.mutatedKeys;const c=e.Ao.Yr();c.sort((R,k)=>function(U,te){const re=Fe=>{switch(Fe){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ut()}};return re(U)-re(te)}(R.type,k.type)||this.po(R.doc,k.doc)),this.bo(s);const p=t?this.Po():[],v=0===this.yo.size&&this.current?1:0,D=v!==this.mo;return this.mo=v,0!==c.length||D?{snapshot:new Wd(this.query,e.To,a,c,e.mutatedKeys,0===v,D,!1),vo:p}:{vo:p}}eo(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({To:this.To,Ao:new Uv,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(e){return!this._o.has(e)&&!!this.To.has(e)&&!this.To.get(e).hasLocalMutations}bo(e){e&&(e.addedDocuments.forEach(t=>this._o=this._o.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this._o=this._o.delete(t)),this.current=e.current)}Po(){if(!this.current)return[];const e=this.yo;this.yo=En(),this.To.forEach(s=>{this.Vo(s.key)&&(this.yo=this.yo.add(s.key))});const t=[];return e.forEach(s=>{this.yo.has(s)||t.push(new Gv(s))}),this.yo.forEach(s=>{e.has(s)||t.push(new qv(s))}),t}So(e){this._o=e.Gn,this.yo=En();const t=this.Io(e.documents);return this.applyChanges(t,!0)}Do(){return Wd.fromInitialDocuments(this.query,this.To,this.mutatedKeys,0===this.mo)}}class LE{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class VE{constructor(e){this.key=e,this.Co=!1}}class UE{constructor(e,t,s,a,c,p){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.No={},this.xo=new qd(v=>A0(v),Cc),this.ko=new Map,this.$o=new Set,this.Oo=new Pr(ot.comparator),this.Fo=new Map,this.Mo=new Iv,this.Lo={},this.Bo=new Map,this.Uo=Nc.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function BE(n,e){return hy.apply(this,arguments)}function hy(){return(hy=(0,Te.Z)(function*(n,e){const t=iw(n);let s,a;const c=t.xo.get(e);if(c)s=c.targetId,t.sharedClientState.addLocalQueryTarget(s),a=c.view.Do();else{const p=yield Zp(t.localStore,Bs(e)),v=t.sharedClientState.addLocalQueryTarget(p.targetId);s=p.targetId,a=yield fy(t,e,s,"current"===v),t.isPrimaryClient&&Jp(t.remoteStore,p)}return a})).apply(this,arguments)}function fy(n,e,t,s){return py.apply(this,arguments)}function py(){return(py=(0,Te.Z)(function*(n,e,t,s){n.Ko=(k,U,te)=>{return(re=(0,Te.Z)(function*(Fe,Ke,rt,Qt){let Tn=Ke.view.Io(rt);Tn.Ln&&(Tn=yield Qm(Fe.localStore,Ke.query,!1).then(({documents:Wr})=>Ke.view.Io(Wr,Tn)));const nr=Qt&&Qt.targetChanges.get(Ke.targetId),sn=Ke.view.applyChanges(Tn,Fe.isPrimaryClient,nr);return gy(Fe,Ke.targetId,sn.vo),sn.snapshot}),function(Fe,Ke,rt,Qt){return re.apply(this,arguments)})(n,k,U,te);var re};const a=yield Qm(n.localStore,e,!0),c=new dy(e,a.Gn),p=c.Io(a.documents),v=Tc.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==n.onlineState),D=c.applyChanges(p,n.isPrimaryClient,v);gy(n,t,D.vo);const R=new LE(e,t,c);return n.xo.set(e,R),n.ko.has(t)?n.ko.get(t).push(e):n.ko.set(t,[e]),D.snapshot})).apply(this,arguments)}function jE(n,e){return Zv.apply(this,arguments)}function Zv(){return(Zv=(0,Te.Z)(function*(n,e){const t=We(n),s=t.xo.get(e),a=t.ko.get(s.targetId);if(a.length>1)return t.ko.set(s.targetId,a.filter(c=>!Cc(c,e))),void t.xo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield lf(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),zd(t.remoteStore,s.targetId),_f(t,s.targetId)}).catch(Mc))):(_f(t,s.targetId),yield lf(t.localStore,s.targetId,!0))})).apply(this,arguments)}function zv(){return(zv=(0,Te.Z)(function*(n,e,t){const s=wf(n);try{const a=yield function(c,p){const v=We(c),D=si.now(),R=p.reduce((U,te)=>U.add(te.key),En());let k;return v.persistence.runTransaction("Locally write mutations","readwrite",U=>v.Qn.Pn(U,R).next(te=>{k=te;const re=[];for(const Fe of p){const Ke=k0(Fe,k.get(Fe.key));null!=Ke&&re.push(new Dc(Fe.key,Ke,KD(Ke.value.mapValue),qr.exists(!0)))}return v.In.addMutationBatch(U,D,re,p)})).then(U=>(U.applyToLocalDocumentSet(k),{batchId:U.batchId,changes:k}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(c,p,v){let D=c.Lo[c.currentUser.toKey()];D||(D=new Pr(Yt)),D=D.insert(p,v),c.Lo[c.currentUser.toKey()]=D}(s,a.batchId,t),yield Du(s,a.changes),yield gf(s.remoteStore)}catch(a){const c=Yi(a,"Failed to persist write");t.reject(c)}})).apply(this,arguments)}function $E(n,e){return Wv.apply(this,arguments)}function Wv(){return(Wv=(0,Te.Z)(function*(n,e){const t=We(n);try{const s=yield o1(t.localStore,e);e.targetChanges.forEach((a,c)=>{const p=t.Fo.get(c);p&&(At(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?p.Co=!0:a.modifiedDocuments.size>0?At(p.Co):a.removedDocuments.size>0&&(At(p.Co),p.Co=!1))}),yield Du(t,s,e)}catch(s){yield Mc(s)}})).apply(this,arguments)}function HE(n,e,t){const s=We(n);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.xo.forEach((c,p)=>{const v=p.view.eo(e);v.snapshot&&a.push(v.snapshot)}),function(c,p){const v=We(c);v.onlineState=p;let D=!1;v.queries.forEach((R,k)=>{for(const U of k.listeners)U.eo(p)&&(D=!0)}),D&&$v(v)}(s.eventManager,e),a.length&&s.No.Er(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function jT(n,e,t){return Kv.apply(this,arguments)}function Kv(){return(Kv=(0,Te.Z)(function*(n,e,t){const s=We(n);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Fo.get(e),c=a&&a.key;if(c){let p=new Pr(ot.comparator);p=p.insert(c,lr.newNoDocument(c,Lt.min()));const v=En().add(c),D=new wo(Lt.min(),new Map,new tr(Yt),p,v);yield $E(s,D),s.Oo=s.Oo.remove(c),s.Fo.delete(e),my(s)}else yield lf(s.localStore,e,!1).then(()=>_f(s,e,t)).catch(Mc)})).apply(this,arguments)}function $T(n,e){return Yv.apply(this,arguments)}function Yv(){return(Yv=(0,Te.Z)(function*(n,e){const t=We(n),s=e.batch.batchId;try{const a=yield s1(t.localStore,e);ew(t,s,null),Xv(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Du(t,a)}catch(a){yield Mc(a)}})).apply(this,arguments)}function HT(n,e,t){return Qv.apply(this,arguments)}function Qv(){return(Qv=(0,Te.Z)(function*(n,e,t){const s=We(n);try{const a=yield function(c,p){const v=We(c);return v.persistence.runTransaction("Reject batch","readwrite-primary",D=>{let R;return v.In.lookupMutationBatch(D,p).next(k=>(At(null!==k),R=k.keys(),v.In.removeMutationBatch(D,k))).next(()=>v.In.performConsistencyCheck(D)).next(()=>v.Qn.Pn(D,R))})}(s.localStore,e);ew(s,e,t),Xv(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Du(s,a)}catch(a){yield Mc(a)}})).apply(this,arguments)}function Jv(){return(Jv=(0,Te.Z)(function*(n,e){const t=We(n);yl(t.remoteStore)||qe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(c){const p=We(c);return p.persistence.runTransaction("Get highest unacknowledged batch id","readonly",v=>p.In.getHighestUnacknowledgedBatchId(v))}(t.localStore);if(-1===s)return void e.resolve();const a=t.Bo.get(s)||[];a.push(e),t.Bo.set(s,a)}catch(s){const a=Yi(s,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}})).apply(this,arguments)}function Xv(n,e){(n.Bo.get(e)||[]).forEach(t=>{t.resolve()}),n.Bo.delete(e)}function ew(n,e,t){const s=We(n);let a=s.Lo[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(t?c.reject(t):c.resolve(),a=a.remove(e)),s.Lo[s.currentUser.toKey()]=a}}function _f(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.ko.get(e))n.xo.delete(s),t&&n.No.jo(s,t);n.ko.delete(e),n.isPrimaryClient&&n.Mo.cs(e).forEach(s=>{n.Mo.containsKey(s)||qE(n,s)})}function qE(n,e){n.$o.delete(e.path.canonicalString());const t=n.Oo.get(e);null!==t&&(zd(n.remoteStore,t),n.Oo=n.Oo.remove(e),n.Fo.delete(t),my(n))}function gy(n,e,t){for(const s of t)s instanceof qv?(n.Mo.addReference(s.key,e),GE(n,s)):s instanceof Gv?(qe("SyncEngine","Document no longer in limbo: "+s.key),n.Mo.removeReference(s.key,e),n.Mo.containsKey(s.key)||qE(n,s.key)):ut()}function GE(n,e){const t=e.key,s=t.path.canonicalString();n.Oo.get(t)||n.$o.has(s)||(qe("SyncEngine","New document in limbo: "+t),n.$o.add(s),my(n))}function my(n){for(;n.$o.size>0&&n.Oo.size<n.maxConcurrentLimboResolutions;){const e=n.$o.values().next().value;n.$o.delete(e);const t=new ot(dn.fromString(e)),s=n.Uo.next();n.Fo.set(s,new VE(t)),n.Oo=n.Oo.insert(t,s),Jp(n.remoteStore,new xc(Bs(Ma(t.path)),s,2,_o.T))}}function Du(n,e,t){return yy.apply(this,arguments)}function yy(){return(yy=(0,Te.Z)(function*(n,e,t){const s=We(n),a=[],c=[],p=[];var v;s.xo.isEmpty()||(s.xo.forEach((v,D)=>{p.push(s.Ko(D,e,t).then(R=>{if(R){s.isPrimaryClient&&s.sharedClientState.updateQueryState(D.targetId,R.fromCache?"not-current":"current"),a.push(R);const k=mE.kn(D.targetId,R);c.push(k)}}))}),yield Promise.all(p),s.No.Er(a),yield(v=(0,Te.Z)(function*(D,R){const k=We(D);try{yield k.persistence.runTransaction("notifyLocalViewChanges","readwrite",U=>Ue.forEach(R,te=>Ue.forEach(te.Nn,re=>k.persistence.referenceDelegate.addReference(U,te.targetId,re)).next(()=>Ue.forEach(te.xn,re=>k.persistence.referenceDelegate.removeReference(U,te.targetId,re)))))}catch(U){if(!Sc(U))throw U;qe("LocalStore","Failed to update sequence numbers: "+U)}for(const U of R){const te=U.targetId;if(!U.fromCache){const re=k.Un.get(te),Ke=re.withLastLimboFreeSnapshotVersion(re.snapshotVersion);k.Un=k.Un.insert(te,Ke)}}}),function(D,R){return v.apply(this,arguments)})(s.localStore,c))})).apply(this,arguments)}function ZE(n,e){return _y.apply(this,arguments)}function _y(){return(_y=(0,Te.Z)(function*(n,e){const t=We(n);if(!t.currentUser.isEqual(e)){qe("SyncEngine","User change. New user:",e.toKey());const s=yield Ym(t.localStore,e);t.currentUser=e,(a=t).Bo.forEach(p=>{p.forEach(v=>{v.reject(new Be(Ee.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Bo.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Du(t,s.Wn)}var a})).apply(this,arguments)}function zE(n,e){const t=We(n),s=t.Fo.get(e);if(s&&s.Co)return En().add(s.key);{let a=En();const c=t.ko.get(e);if(!c)return a;for(const p of c){const v=t.xo.get(p);a=a.unionWith(v.view.Eo)}return a}}function WE(n,e){return ng.apply(this,arguments)}function ng(){return(ng=(0,Te.Z)(function*(n,e){const t=We(n),s=yield Qm(t.localStore,e.query,!0),a=e.view.So(s);return t.isPrimaryClient&&gy(t,e.targetId,a.vo),a})).apply(this,arguments)}function KE(n){return _l.apply(this,arguments)}function _l(){return(_l=(0,Te.Z)(function*(n){const e=We(n);return wE(e.localStore).then(t=>Du(e,t))})).apply(this,arguments)}function GT(n,e,t,s){return tw.apply(this,arguments)}function tw(){return(tw=(0,Te.Z)(function*(n,e,t,s){const a=We(n),c=yield function(p,v){const D=We(p),R=We(D.In);return D.persistence.runTransaction("Lookup mutation documents","readonly",k=>R.Xt(k,v).next(U=>U?D.Qn.Pn(k,U):Ue.resolve(null)))}(a.localStore,e);var v;null!==c?("pending"===t?yield gf(a.remoteStore):"acknowledged"===t||"rejected"===t?(ew(a,e,s||null),Xv(a,e),v=e,We(We(a.localStore).In).te(v)):ut(),yield Du(a,c)):qe("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function YE(){return(YE=(0,Te.Z)(function*(n,e){const t=We(n);if(iw(t),wf(t),!0===e&&!0!==t.qo){const s=t.sharedClientState.getAllActiveQueryTargets(),a=yield vy(t,s.toArray());t.qo=!0,yield Xp(t.remoteStore,!0);for(const c of a)Jp(t.remoteStore,c)}else if(!1===e&&!1!==t.qo){const s=[];let a=Promise.resolve();t.ko.forEach((c,p)=>{t.sharedClientState.isLocalQueryTarget(p)?s.push(p):a=a.then(()=>(_f(t,p),lf(t.localStore,p,!0))),zd(t.remoteStore,p)}),yield a,yield vy(t,s),function(c){const p=We(c);p.Fo.forEach((v,D)=>{zd(p.remoteStore,D)}),p.Mo.us(),p.Fo=new Map,p.Oo=new Pr(ot.comparator)}(t),t.qo=!1,yield Xp(t.remoteStore,!1)}})).apply(this,arguments)}function vy(n,e,t){return QE.apply(this,arguments)}function QE(){return(QE=(0,Te.Z)(function*(n,e,t){const s=We(n),a=[],c=[];for(const p of e){let v;const D=s.ko.get(p);if(D&&0!==D.length){v=yield Zp(s.localStore,Bs(D[0]));for(const R of D){const k=s.xo.get(R),U=yield WE(s,k);U.snapshot&&c.push(U.snapshot)}}else{const R=yield Ev(s.localStore,p);v=yield Zp(s.localStore,R),yield fy(s,nw(R),p,!1)}a.push(v)}return s.No.Er(c),a})).apply(this,arguments)}function nw(n){return Mm(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function JE(n){const e=We(n);return We(We(e.localStore).persistence).pn()}function d1(n,e,t,s){return pt.apply(this,arguments)}function pt(){return(pt=(0,Te.Z)(function*(n,e,t,s){const a=We(n);if(a.qo)qe("SyncEngine","Ignoring unexpected query state notification.");else if(a.ko.has(e))switch(t){case"current":case"not-current":{const c=yield wE(a.localStore),p=wo.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Du(a,c,p);break}case"rejected":yield lf(a.localStore,e,!0),_f(a,e,s);break;default:ut()}})).apply(this,arguments)}function ZT(n,e,t){return rw.apply(this,arguments)}function rw(){return(rw=(0,Te.Z)(function*(n,e,t){const s=iw(n);if(s.qo){for(const a of e){if(s.ko.has(a)){qe("SyncEngine","Adding an already active target "+a);continue}const c=yield Ev(s.localStore,a),p=yield Zp(s.localStore,c);yield fy(s,nw(c),p.targetId,!1),Jp(s.remoteStore,p)}for(const a of t)s.ko.has(a)&&(yield lf(s.localStore,a,!1).then(()=>{zd(s.remoteStore,a),_f(s,a)}).catch(Mc))}})).apply(this,arguments)}function iw(n){const e=We(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=$E.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zE.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jT.bind(null,e),e.No.Er=VT.bind(null,e.eventManager),e.No.jo=kE.bind(null,e.eventManager),e}function wf(n){const e=We(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$T.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HT.bind(null,e),e}class rg{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Te.Z)(function*(){t.N=ff(e.databaseInfo.databaseId),t.sharedClientState=t.Wo(e),t.persistence=t.Go(e),yield t.persistence.start(),t.gcScheduler=t.zo(e),t.localStore=t.Ho(e)})()}zo(e){return null}Ho(e){return Km(this.persistence,new yE,e.initialUser,this.N)}Go(e){return new Dv(zp.Ns,this.N)}Wo(e){return new Av}terminate(){var e=this;return(0,Te.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ig extends rg{constructor(e,t,s){super(),this.Jo=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,Te.Z)(function*(){yield t().call(s,e),yield function(n){return cf.apply(this,arguments)}(s.localStore),yield s.Jo.initialize(s,e),yield wf(s.Jo.syncEngine),yield gf(s.Jo.remoteStore),yield s.persistence.nn(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(s.localStore),Promise.resolve()))})()}Ho(e){return Km(this.persistence,new yE,e.initialUser,this.N)}zo(e){return new vT(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Go(e){const t=pE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?ai.withCacheSize(this.cacheSizeBytes):ai.DEFAULT;return new vv(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,xE(),hf(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(e){return new Av}}class Dr extends ig{constructor(e,t){super(e,t,!1),this.Jo=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,Te.Z)(function*(){yield t().call(s,e);const a=s.Jo.syncEngine;s.sharedClientState instanceof Kp&&(s.sharedClientState.syncEngine={_i:GT.bind(null,a),mi:d1.bind(null,a),gi:ZT.bind(null,a),pn:JE.bind(null,a),wi:KE.bind(null,a)},yield s.sharedClientState.start()),yield s.persistence.nn(function(){var c=(0,Te.Z)(function*(p){yield function(n,e){return YE.apply(this,arguments)}(s.Jo.syncEngine,p),s.gcScheduler&&(p&&!s.gcScheduler.started?s.gcScheduler.start(s.localStore):p||s.gcScheduler.stop())});return function(p){return c.apply(this,arguments)}}())})()}Wo(e){const t=xE();if(!Kp.bt(t))throw new Be(Ee.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=pE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Kp(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class XE{initialize(e,t){var s=this;return(0,Te.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>HE(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=ZE.bind(null,s.syncEngine),yield Xp(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new LT}createDatastore(e){const t=ff(e.databaseInfo.databaseId),s=new RT(e.databaseInfo);return new NE(e.credentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,c=v=>HE(this.syncEngine,v,0),p=TE.bt()?new TE:new u1,new Sv(t,s,a,c,p);var t,s,a,c,p}createSyncEngine(e,t){return function(s,a,c,p,v,D,R){const k=new UE(s,a,c,p,v,D);return R&&(k.qo=!0),k}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Te.Z)(function*(t){const s=We(t);qe("RemoteStore","RemoteStore shutting down."),s.Kr.add(5),yield pf(s),s.Qr.shutdown(),s.Wr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function sw(n,e=10240){let t=0;return{read:()=>(0,Te.Z)(function*(){if(t<n.byteLength){const s={value:n.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,Te.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class bf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Yo(this.observer.next,e)}error(e){this.observer.error?this.Yo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Xo(){this.muted=!0}Yo(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class WT{constructor(e,t){this.Zo=e,this.N=t,this.metadata=new Ri,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(s=>{s&&s.ho()?this.metadata.resolve(s.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.payload)}`))},s=>this.metadata.reject(s))}close(){return this.Zo.cancel()}getMetadata(){var e=this;return(0,Te.Z)(function*(){return e.metadata.promise})()}Qo(){var e=this;return(0,Te.Z)(function*(){return yield e.getMetadata(),e.ea()})()}ea(){var e=this;return(0,Te.Z)(function*(){const t=yield e.na();if(null===t)return null;const s=e.ta.decode(t),a=Number(s);isNaN(a)&&e.sa(`length string (${s}) is not valid number`);const c=yield e.ia(a);return new FE(JSON.parse(c),t.length+a)})()}ra(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}na(){var e=this;return(0,Te.Z)(function*(){for(;e.ra()<0&&!(yield e.oa()););if(0===e.buffer.length)return null;const t=e.ra();t<0&&e.sa("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}ia(e){var t=this;return(0,Te.Z)(function*(){for(;t.buffer.length<e;)(yield t.oa())&&t.sa("Reached the end of bundle when more is expected.");const s=t.ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}sa(e){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${e}`)}oa(){var e=this;return(0,Te.Z)(function*(){const t=yield e.Zo.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class eC{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Te.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Be(Ee.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(a=(0,Te.Z)(function*(c,p){const v=We(c),D=jp(v.N)+"/documents",R={documents:p.map(re=>Xh(v.N,re))},k=yield v.Ki("BatchGetDocuments",D,R),U=new Map;k.forEach(re=>{const Fe=function(n,e){return"found"in e?function(t,s){At(!!s.found);const a=bs(t,s.found.name),c=Gr(s.found.updateTime),p=new vs({mapValue:{fields:s.found.fields}});return lr.newFoundDocument(a,c,p)}(n,e):"missing"in e?function(t,s){At(!!s.missing),At(!!s.readTime);const a=bs(t,s.missing),c=Gr(s.readTime);return lr.newNoDocument(a,c)}(n,e):ut()}(v.N,re);U.set(Fe.key.toString(),Fe)});const te=[];return p.forEach(re=>{const Fe=U.get(re.toString());At(!!Fe),te.push(Fe)}),te}),function(c,p){return a.apply(this,arguments)})(t.datastore,e);var a;return s.forEach(a=>t.recordVersion(a)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Lp(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Te.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,a)=>{const c=ot.fromPath(a);e.mutations.push(new tv(c,e.precondition(c)))}),yield(s=(0,Te.Z)(function*(a,c){const p=We(a),v=jp(p.N)+"/documents",D={writes:c.map(R=>uv(p.N,R))};yield p.Li("Commit",v,D)}),function(a,c){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ut();t=Lt.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new Be(Ee.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?qr.updateTime(t):qr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Lt.min()))throw new Be(Ee.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return qr.updateTime(t)}return qr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class tC{constructor(e,t,s,a){this.asyncQueue=e,this.datastore=t,this.updateFunction=s,this.deferred=a,this.aa=5,this.rr=new Yp(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var e=this;this.rr.Xi((0,Te.Z)(function*(){const t=new eC(e.datastore),s=e.ua(t);s&&s.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(c=>{e.ha(c)}))}).catch(a=>{e.ha(a)})}))}ua(e){try{const t=this.updateFunction(e);return!_s(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ha(e){this.aa>0&&this.la(e)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(e)}la(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!V0(t)}return!1}}class nC{constructor(e,t,s){var a=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=s,this.user=yi.UNAUTHENTICATED,this.clientId=m0.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(t,function(){var c=(0,Te.Z)(function*(p){qe("FirestoreClient","Received user=",p.uid),yield a.credentialListener(p),a.user=p});return function(p){return c.apply(this,arguments)}}())}getConfiguration(){var e=this;return(0,Te.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,credentials:e.credentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Be(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Te.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.credentials.shutdown(),t.resolve()}catch(s){const a=Yi(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function ow(n,e){return aw.apply(this,arguments)}function aw(){return(aw=(0,Te.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),qe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener(function(){var a=(0,Te.Z)(function*(c){s.isEqual(c)||(yield Ym(e.localStore,c),s=c)});return function(c){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e})).apply(this,arguments)}function rC(n,e){return uw.apply(this,arguments)}function uw(){return(uw=(0,Te.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Yd(n);qe("FirestoreClient","Initializing OnlineComponentProvider");const s=yield n.getConfiguration();yield e.initialize(t,s),n.setCredentialChangeListener(a=>{return(c=(0,Te.Z)(function*(p,v){const D=We(p);D.asyncQueue.verifyOperationInProgress(),qe("RemoteStore","RemoteStore received new credentials");const R=yl(D);D.Kr.add(3),yield pf(D),R&&D.Wr.set("Unknown"),yield D.remoteSyncer.handleCredentialChange(v),D.Kr.delete(3),yield Qp(D)}),function(p,v){return c.apply(this,arguments)})(e.remoteStore,a);var c}),n.onlineComponents=e})).apply(this,arguments)}function Yd(n){return lw.apply(this,arguments)}function lw(){return(lw=(0,Te.Z)(function*(n){return n.offlineComponents||(qe("FirestoreClient","Using default OfflineComponentProvider"),yield ow(n,new rg)),n.offlineComponents})).apply(this,arguments)}function wy(n){return cw.apply(this,arguments)}function cw(){return(cw=(0,Te.Z)(function*(n){return n.onlineComponents||(qe("FirestoreClient","Using default OnlineComponentProvider"),yield rC(n,new XE)),n.onlineComponents})).apply(this,arguments)}function sg(n){return Yd(n).then(e=>e.persistence)}function by(n){return Yd(n).then(e=>e.localStore)}function dw(n){return wy(n).then(e=>e.remoteStore)}function Ey(n){return wy(n).then(e=>e.syncEngine)}function Ef(n){return Qd.apply(this,arguments)}function Qd(){return(Qd=(0,Te.Z)(function*(n){const e=yield wy(n),t=e.eventManager;return t.onListen=BE.bind(null,e.syncEngine),t.onUnlisten=jE.bind(null,e.syncEngine),t})).apply(this,arguments)}function iC(n,e,t={}){const s=new Ri;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(a,c,p,v,D){const R=new bf({next:U=>{c.enqueueAndForget(()=>eg(a,k));const te=U.docs.has(p);!te&&U.fromCache?D.reject(new Be(Ee.UNAVAILABLE,"Failed to get document because the client is offline.")):te&&U.fromCache&&v&&"server"===v.source?D.reject(new Be(Ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):D.resolve(U)},error:U=>D.reject(U)}),k=new cy(Ma(p.path),R,{includeMetadataChanges:!0,uo:!0});return Bv(a,k)}(yield Ef(n),n.asyncQueue,e,t,s)})),s.promise}function hw(n,e,t={}){const s=new Ri;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(a,c,p,v,D){const R=new bf({next:U=>{c.enqueueAndForget(()=>eg(a,k)),U.fromCache&&"server"===v.source?D.reject(new Be(Ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):D.resolve(U)},error:U=>D.reject(U)}),k=new cy(p,R,{includeMetadataChanges:!0,uo:!0});return Bv(a,k)}(yield Ef(n),n.asyncQueue,e,t,s)})),s.promise}class XT{constructor(e,t,s,a,c,p,v,D){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=v,this.useFetchStreams=D}}class ag{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ag&&e.projectId===this.projectId&&e.database===this.database}}const eA=new Map;function uC(n,e,t){if(!t)throw new Be(Ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function tA(n,e,t,s){if(!0===e&&!0===s)throw new Be(Ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function fw(n){if(!ot.isDocumentKey(n))throw new Be(Ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ug(n){if(ot.isDocumentKey(n))throw new Be(Ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Cy(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ut()}function ln(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Be(Ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Cy(n);throw new Be(Ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function pw(n,e){if(e<=0)throw new Be(Ee.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class Cf{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Be(Ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Be(Ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,tA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lg{constructor(e,t){this._credentials=t,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cf({}),this._settingsFrozen=!1,e instanceof ag?this._databaseId=e:(this._app=e,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new Be(Ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ag(s.options.projectId)}(e))}get app(){if(!this._app)throw new Be(Ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Be(Ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cf(e),void 0!==e.credentials&&(this._credentials=function(t){if(!t)return new HD;switch(t.type){case"gapi":const s=t.client;return At(!("object"!=typeof s||null===s||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new Ra(s,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Be(Ee.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=eA.get(e);t&&(qe("ComponentProvider","Removing Datastore"),eA.delete(e),t.terminate())}(this),Promise.resolve()}}class Wn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wn(this.firestore,e,this._key)}}class Ji{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ji(this.firestore,e,this._query)}}class Tu extends Ji{constructor(e,t,s){super(e,t,Ma(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wn(this.firestore,null,new ot(e))}withConverter(e){return new Tu(this.firestore,e,this._path)}}function gw(n,e,...t){if(n=(0,Ft.m9)(n),uC("collection","path",e),n instanceof lg){const s=dn.fromString(e,...t);return ug(s),new Tu(n,null,s)}{if(!(n instanceof Wn||n instanceof Tu))throw new Be(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(dn.fromString(e,...t));return ug(s),new Tu(n.firestore,null,s)}}function Iy(n,e,...t){if(n=(0,Ft.m9)(n),1===arguments.length&&(e=m0.I()),uC("doc","path",e),n instanceof lg){const s=dn.fromString(e,...t);return fw(s),new Wn(n,null,new ot(s))}{if(!(n instanceof Wn||n instanceof Tu))throw new Be(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(dn.fromString(e,...t));return fw(s),new Wn(n.firestore,n instanceof Tu?n.converter:null,new ot(s))}}function Jd(n,e){return n=(0,Ft.m9)(n),e=(0,Ft.m9)(e),(n instanceof Wn||n instanceof Tu)&&(e instanceof Wn||e instanceof Tu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function lC(n,e){return n=(0,Ft.m9)(n),e=(0,Ft.m9)(e),n instanceof Ji&&e instanceof Ji&&n.firestore===e.firestore&&Cc(n._query,e._query)&&n.converter===e.converter}class cC{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new Yp(this,"async_queue_retry"),this.Ta=()=>{const t=hf();t&&qe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.rr.tr()};const e=hf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ta)}get isShuttingDown(){return this.wa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ea(),this.Ia(e)}enterRestrictedMode(e){if(!this.wa){this.wa=!0,this.ya=e||!1;const t=hf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ta)}}enqueue(e){if(this.Ea(),this.wa)return new Promise(()=>{});const t=new Ri;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.da.push(e),this.Aa()))}Aa(){var e=this;return(0,Te.Z)(function*(){if(0!==e.da.length){try{yield e.da[0](),e.da.shift(),e.rr.reset()}catch(t){if(!Sc(t))throw t;qe("AsyncQueue","Operation failed with retryable error: "+t)}e.da.length>0&&e.rr.Xi(()=>e.Aa())}})()}Ia(e){const t=this.fa.then(()=>(this.ga=!0,e().catch(s=>{throw this.ma=s,this.ga=!1,Cr("INTERNAL UNHANDLED ERROR: ",function(c){let p=c.message||"";return c.stack&&(p=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),p}(s)),s}).then(s=>(this.ga=!1,s))));return this.fa=t,t}enqueueAfterDelay(e,t,s){this.Ea(),this.pa.indexOf(e)>-1&&(t=0);const a=Qo.createAndSchedule(this,e,t,s,c=>this.Ra(c));return this._a.push(a),a}Ea(){this.ma&&ut()}verifyOperationInProgress(){}ba(){var e=this;return(0,Te.Z)(function*(){let t;do{t=e.fa,yield t}while(t!==e.fa)})()}Pa(e){for(const t of this._a)if(t.timerId===e)return!0;return!1}va(e){return this.ba().then(()=>{this._a.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this._a)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ba()})}Va(e){this.pa.push(e)}Ra(e){const t=this._a.indexOf(e);this._a.splice(t,1)}}function mw(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(n)}class dC{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ri,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class cr extends lg{constructor(e,t){super(e,t),this.type="firestore",this._queue=new cC,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||yw(this),this._firestoreClient.terminate()}}function ui(n){return n._firestoreClient||yw(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function yw(n){var e;const t=n._freezeSettings(),s=(c=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new XT(n._databaseId,c,n._persistenceKey,(v=t).host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,v.useFetchStreams));var c,v;n._firestoreClient=new nC(n._credentials,n._queue,s)}function pC(n,e,t){const s=new Ri;return n.asyncQueue.enqueue((0,Te.Z)(function*(){try{yield ow(n,t),yield rC(n,e),s.resolve()}catch(a){if(!("FirebaseError"===(c=a).name?c.code===Ee.FAILED_PRECONDITION||c.code===Ee.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw a;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),s.reject(a)}var c})).then(()=>s.promise)}function mC(n){if(n._initialized||n._terminated)throw new Be(Ee.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class vl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Be(Ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Au{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Au(Hr.fromBase64String(e))}catch(t){throw new Be(Ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Au(Hr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Xd{constructor(e){this._methodName=e}}class cg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Be(Ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Be(Ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Yt(this._lat,e._lat)||Yt(this._long,e._long)}}const yC=/^__.*__$/;class cA{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new Dc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Rd(e,this.data,t,this.fieldTransforms)}}class _C{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Dc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function vw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ut()}}class Dy{constructor(e,t,s,a,c,p){this.settings=e,this.databaseId=t,this.N=s,this.ignoreUndefinedProperties=a,void 0===c&&this.Sa(),this.fieldTransforms=c||[],this.fieldMask=p||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(e){return new Dy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.Ca({path:s,xa:!1});return a.ka(e),a}$a(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.Ca({path:s,xa:!1});return a.Sa(),a}Oa(e){return this.Ca({path:void 0,xa:!0})}Fa(e){return Tf(e,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Sa(){if(this.path)for(let e=0;e<this.path.length;e++)this.ka(this.path.get(e))}ka(e){if(0===e.length)throw this.Fa("Document fields must not be empty");if(vw(this.Da)&&yC.test(e))throw this.Fa('Document fields cannot begin and end with "__"')}}class dA{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.N=s||ff(e)}Ba(e,t,s,a=!1){return new Dy({Da:e,methodName:t,La:s,path:Un.emptyPath(),xa:!1,Ma:a},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function eh(n){const e=n._freezeSettings(),t=ff(n._databaseId);return new dA(n._databaseId,!!e.ignoreUndefinedProperties,t)}function If(n,e,t,s,a,c={}){const p=n.Ba(c.merge||c.mergeFields?2:0,e,t,a);wC("Data must be an object, but it was:",p,s);const v=Cw(s,p);let D,R;if(c.merge)D=new Td(p.fieldMask),R=p.fieldTransforms;else if(c.mergeFields){const k=[];for(const U of c.mergeFields){const te=Dw(e,U,t);if(!p.contains(te))throw new Be(Ee.INVALID_ARGUMENT,`Field '${te}' is specified in your field mask but missing from your input data.`);hg(k,te)||k.push(te)}D=new Td(k),R=p.fieldTransforms.filter(U=>D.covers(U.field))}else D=null,R=p.fieldTransforms;return new cA(new vs(v),D,R)}class th extends Xd{_toFieldTransform(e){if(2!==e.Da)throw e.Fa(1===e.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof th}}function ww(n,e,t){return new Dy({Da:3,La:e.settings.La,methodName:n._methodName,xa:t},e.databaseId,e.N,e.ignoreUndefinedProperties)}class dg extends Xd{_toFieldTransform(e){return new kp(e.path,new Pp)}isEqual(e){return e instanceof dg}}class hA extends Xd{constructor(e,t){super(e),this.Ua=t}_toFieldTransform(e){const t=ww(this,e,!0),s=this.Ua.map(c=>Fc(c,t)),a=new Kh(s);return new kp(e.path,a)}isEqual(e){return this===e}}class fA extends Xd{constructor(e,t){super(e),this.Ua=t}_toFieldTransform(e){const t=ww(this,e,!0),s=this.Ua.map(c=>Fc(c,t)),a=new Yh(s);return new kp(e.path,a)}isEqual(e){return this===e}}class bw extends Xd{constructor(e,t){super(e),this.qa=t}_toFieldTransform(e){const t=new Ic(e.N,R0(e.N,this.qa));return new kp(e.path,t)}isEqual(e){return this===e}}function Ew(n,e,t,s){const a=n.Ba(1,e,t);wC("Data must be an object, but it was:",a,s);const c=[],p=vs.empty();Dd(s,(D,R)=>{const k=bC(e,D,t);R=(0,Ft.m9)(R);const U=a.$a(k);if(R instanceof th)c.push(k);else{const te=Fc(R,U);null!=te&&(c.push(k),p.set(k,te))}});const v=new Td(c);return new _C(p,v,a.fieldTransforms)}function Ty(n,e,t,s,a,c){const p=n.Ba(1,e,t),v=[Dw(e,s,t)],D=[a];if(c.length%2!=0)throw new Be(Ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let te=0;te<c.length;te+=2)v.push(Dw(e,c[te])),D.push(c[te+1]);const R=[],k=vs.empty();for(let te=v.length-1;te>=0;--te)if(!hg(R,v[te])){const re=v[te];let Fe=D[te];Fe=(0,Ft.m9)(Fe);const Ke=p.$a(re);if(Fe instanceof th)R.push(re);else{const rt=Fc(Fe,Ke);null!=rt&&(R.push(re),k.set(re,rt))}}const U=new Td(R);return new _C(k,U,p.fieldTransforms)}function vC(n,e,t,s=!1){return Fc(t,n.Ba(s?4:3,e))}function Fc(n,e){if(Iw(n=(0,Ft.m9)(n)))return wC("Unsupported field value:",e,n),Cw(n,e);if(n instanceof Xd)return function(t,s){if(!vw(s.Da))throw s.Fa(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Fa(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xa&&4!==e.Da)throw e.Fa("Nested arrays are not supported");return function(t,s){const a=[];let c=0;for(const p of t){let v=Fc(p,s.Oa(c));null==v&&(v={nullValue:"NULL_VALUE"}),a.push(v),c++}return{arrayValue:{values:a}}}(n,e)}return function(t,s){if(null===(t=(0,Ft.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return R0(s.N,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=si.fromDate(t);return{timestampValue:Bp(s.N,a)}}if(t instanceof si){const a=new si(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Bp(s.N,a)}}if(t instanceof cg)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Au)return{bytesValue:ov(s.N,t._byteString)};if(t instanceof Wn){const a=s.databaseId,c=t.firestore._databaseId;if(!c.isEqual(a))throw s.Fa(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:av(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s.Fa(`Unsupported field value: ${Cy(t)}`)}(n,e)}function Cw(n,e){const t={};return Mt(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Dd(n,(s,a)=>{const c=Fc(a,e.Na(s));null!=c&&(t[s]=c)}),{mapValue:{fields:t}}}function Iw(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof si||n instanceof cg||n instanceof Au||n instanceof Wn||n instanceof Xd)}function wC(n,e,t){if(!Iw(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=Cy(t);throw e.Fa("an object"===s?n+" a custom object":n+" "+s)}var s}function Dw(n,e,t){if((e=(0,Ft.m9)(e))instanceof vl)return e._internalPath;if("string"==typeof e)return bC(n,e);throw Tf("Field path arguments must be of type string or FieldPath.",n,!1,void 0,t)}const Df=new RegExp("[~\\*/\\[\\]]");function bC(n,e,t){if(e.search(Df)>=0)throw Tf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new vl(...e.split("."))._internalPath}catch(s){throw Tf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Tf(n,e,t,s,a){const c=s&&!s.isEmpty(),p=void 0!==a;let v=`Function ${e}() called with invalid data`;t&&(v+=" (via `toFirestore()`)"),v+=". ";let D="";return(c||p)&&(D+=" (found",c&&(D+=` in field ${s}`),p&&(D+=` in document ${a}`),D+=")"),new Be(Ee.INVALID_ARGUMENT,v+n+D)}function hg(n,e){return n.some(t=>t.isEqual(e))}class fg{constructor(e,t,s,a,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Wn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Af(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ay("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Af extends fg{data(){return super.data()}}function Ay(n,e){return"string"==typeof e?bC(n,e):e instanceof vl?e._internalPath:e._delegate._internalPath}class Sf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wl extends fg{constructor(e,t,s,a,c,p){super(e,t,s,a,p),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Hs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Ay("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Hs extends wl{data(e={}){return super.data(e)}}class bl{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Sf(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Hs(this._firestore,this._userDataWriter,s.key,s,new Sf(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Be(Ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(p=>({type:"added",doc:new Hs(s._firestore,s._userDataWriter,p.doc.key,p.doc,new Sf(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:c++}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(p=>a||3!==p.type).map(p=>{const v=new Hs(s._firestore,s._userDataWriter,p.doc.key,p.doc,new Sf(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter);let D=-1,R=-1;return 0!==p.type&&(D=c.indexOf(p.doc.key),c=c.delete(p.doc.key)),1!==p.type&&(c=c.add(p.doc),R=c.indexOf(p.doc.key)),{type:g1(p.type),doc:v,oldIndex:D,newIndex:R}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function g1(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ut()}}function pg(n,e){return n instanceof wl&&e instanceof wl?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof bl&&e instanceof bl&&n._firestore===e._firestore&&lC(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function EC(n){if(fl(n)&&0===n.explicitOrderBy.length)throw new Be(Ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gg{}function nh(n,...e){for(const t of e)n=t._apply(n);return n}class pA extends gg{constructor(e,t,s){super(),this.Ka=e,this.ja=t,this.Qa=s,this.type="where"}_apply(e){const t=eh(e.firestore),s=function(a,c,p,v,D,R,k){let U;if(D.isKeyField()){if("array-contains"===R||"array-contains-any"===R)throw new Be(Ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${R}' queries on FieldPath.documentId().`);if("in"===R||"not-in"===R){AC(k,R);const re=[];for(const Fe of k)re.push(Rw(v,a,Fe));U={arrayValue:{values:re}}}else U=Rw(v,a,k)}else"in"!==R&&"not-in"!==R&&"array-contains-any"!==R||AC(k,R),U=vC(p,"where",k,"in"===R||"not-in"===R);const te=ws.create(D,R,U);return function(re,Fe){if(Fe.v()){const rt=Om(re);if(null!==rt&&!rt.isEqual(Fe.field))throw new Be(Ee.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${rt.toString()}' and '${Fe.field.toString()}'`);const Qt=W_(re);null!==Qt&&SC(0,Fe.field,Qt)}const Ke=function(rt,Qt){for(const Tn of rt.filters)if(Qt.indexOf(Tn.op)>=0)return Tn.op;return null}(re,function(rt){switch(rt){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Fe.op));if(null!==Ke)throw new Be(Ee.INVALID_ARGUMENT,Ke===Fe.op?`Invalid query. You cannot use more than one '${Fe.op.toString()}' filter.`:`Invalid query. You cannot use '${Fe.op.toString()}' filters with '${Ke.toString()}' filters.`)}(a,te),te}(e._query,0,t,e.firestore._databaseId,this.Ka,this.ja,this.Qa);return new Ji(e.firestore,e.converter,function(a,c){const p=a.filters.concat([c]);return new Us(a.path,a.collectionGroup,a.explicitOrderBy.slice(),p,a.limit,a.limitType,a.startAt,a.endAt)}(e._query,s))}}class mA extends gg{constructor(e,t){super(),this.Ka=e,this.Wa=t,this.type="orderBy"}_apply(e){const t=function(s,a,c){if(null!==s.startAt)throw new Be(Ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Be(Ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const p=new xd(a,c);return function(v,D){if(null===W_(v)){const R=Om(v);null!==R&&SC(0,R,D.field)}}(s,p),p}(e._query,this.Ka,this.Wa);return new Ji(e.firestore,e.converter,function(s,a){const c=s.explicitOrderBy.concat([a]);return new Us(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class Aw extends gg{constructor(e,t,s){super(),this.type=e,this.Ga=t,this.za=s}_apply(e){return new Ji(e.firestore,e.converter,K_(e._query,this.Ga,this.za))}}class IC extends gg{constructor(e,t,s){super(),this.type=e,this.Ha=t,this.Ja=s}_apply(e){const t=xw(e,this.type,this.Ha,this.Ja);return new Ji(e.firestore,e.converter,(a=t,new Us((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,a,s.endAt)));var s,a}}class DC extends gg{constructor(e,t,s){super(),this.type=e,this.Ha=t,this.Ja=s}_apply(e){const t=xw(e,this.type,this.Ha,this.Ja);return new Ji(e.firestore,e.converter,(a=t,new Us((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,a)));var s,a}}function xw(n,e,t,s){if(t[0]=(0,Ft.m9)(t[0]),t[0]instanceof fg)return function(a,c,p,v,D){if(!v)throw new Be(Ee.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${p}().`);const R=[];for(const k of Ec(a))if(k.field.isKeyField())R.push(Mp(c,v.key));else{const U=v.data.field(k.field);if(v0(U))throw new Be(Ee.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+k.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===U){const te=k.field.canonicalString();throw new Be(Ee.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${te}' (used as the orderBy) does not exist.`)}R.push(U)}return new Sd(R,D)}(n._query,n.firestore._databaseId,e,t[0]._document,s);{const a=eh(n.firestore);return function(c,p,v,D,R,k){const U=c.explicitOrderBy;if(R.length>U.length)throw new Be(Ee.INVALID_ARGUMENT,`Too many arguments provided to ${D}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const te=[];for(let re=0;re<R.length;re++){const Fe=R[re];if(U[re].field.isKeyField()){if("string"!=typeof Fe)throw new Be(Ee.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${D}(), but got a ${typeof Fe}`);if(!Pm(c)&&-1!==Fe.indexOf("/"))throw new Be(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${D}() must be a plain document ID, but '${Fe}' contains a slash.`);const Ke=c.path.child(dn.fromString(Fe));if(!ot.isDocumentKey(Ke))throw new Be(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${D}() must result in a valid document path, but '${Ke}' is not because it contains an odd number of segments.`);const rt=new ot(Ke);te.push(Mp(p,rt))}else{const Ke=vC(v,D,Fe);te.push(Ke)}}return new Sd(te,k)}(n._query,n.firestore._databaseId,a,e,t,s)}}function Rw(n,e,t){if("string"==typeof(t=(0,Ft.m9)(t))){if(""===t)throw new Be(Ee.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Pm(e)&&-1!==t.indexOf("/"))throw new Be(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(dn.fromString(t));if(!ot.isDocumentKey(s))throw new Be(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Mp(n,new ot(s))}if(t instanceof Wn)return Mp(n,t._key);throw new Be(Ee.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cy(t)}.`)}function AC(n,e){if(!Array.isArray(n)||0===n.length)throw new Be(Ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Be(Ee.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function SC(n,e,t){if(!t.isEqual(e))throw new Be(Ee.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Sy{convertValue(e,t="none"){switch(Gh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Or(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ut()}}convertObject(e,t){const s={};return Dd(e.fields,(a,c)=>{s[a]=this.convertValue(c,t)}),s}convertGeoPoint(e){return new cg(Or(e.latitude),Or(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=H_(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Am(e));default:return null}}convertTimestamp(e){const t=vu(e);return new si(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=dn.fromString(e);At(X0(s));const a=new ag(s.get(1),s.get(3)),c=new ot(s.popFirst(5));return a.isEqual(t)||Cr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function rh(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}class vA extends Sy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Au(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wn(this.firestore,null,t)}}class Nw{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=eh(e)}set(e,t,s){this._verifyNotCommitted();const a=La(e,this._firestore),c=rh(a.converter,t,s),p=If(this._dataReader,"WriteBatch.set",a._key,c,null!==a.converter,s);return this._mutations.push(p.toMutation(a._key,qr.none())),this}update(e,t,s,...a){this._verifyNotCommitted();const c=La(e,this._firestore);let p;return p="string"==typeof(t=(0,Ft.m9)(t))||t instanceof vl?Ty(this._dataReader,"WriteBatch.update",c._key,t,s,a):Ew(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(p.toMutation(c._key,qr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=La(e,this._firestore);return this._mutations=this._mutations.concat(new Lp(t._key,qr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Be(Ee.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function La(n,e){if((n=(0,Ft.m9)(n)).firestore!==e)throw new Be(Ee.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Va extends Sy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Au(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wn(this.firestore,null,t)}}function xC(n,e,t){n=ln(n,Wn);const s=ln(n.firestore,cr),a=rh(n.converter,e,t);return xf(s,[If(eh(s),"setDoc",n._key,a,null!==n.converter,t).toMutation(n._key,qr.none())])}function RC(n,e,t,...s){n=ln(n,Wn);const a=ln(n.firestore,cr),c=eh(a);let p;return p="string"==typeof(e=(0,Ft.m9)(e))||e instanceof vl?Ty(c,"updateDoc",n._key,e,t,s):Ew(c,"updateDoc",n._key,e),xf(a,[p.toMutation(n._key,qr.exists(!0))])}function NC(n,...e){var t,s,a;n=(0,Ft.m9)(n);let c={includeMetadataChanges:!1},p=0;"object"!=typeof e[p]||mw(e[p])||(c=e[p],p++);const v={includeMetadataChanges:c.includeMetadataChanges};if(mw(e[p])){const U=e[p];e[p]=null===(t=U.next)||void 0===t?void 0:t.bind(U),e[p+1]=null===(s=U.error)||void 0===s?void 0:s.bind(U),e[p+2]=null===(a=U.complete)||void 0===a?void 0:a.bind(U)}let D,R,k;if(n instanceof Wn)R=ln(n.firestore,cr),k=Ma(n._key.path),D={next:U=>{e[p]&&e[p](MC(R,n,U))},error:e[p+1],complete:e[p+2]};else{const U=ln(n,Ji);R=ln(U.firestore,cr),k=U._query;const te=new Va(R);D={next:re=>{e[p]&&e[p](new bl(R,te,U,re))},error:e[p+1],complete:e[p+2]},EC(n._query)}return function(U,te,re,Fe){const Ke=new bf(Fe),rt=new cy(te,Ke,re);return U.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return Bv(yield Ef(U),rt)})),()=>{Ke.Xo(),U.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return eg(yield Ef(U),rt)}))}}(ui(R),k,v,D)}function xf(n,e){return function(t,s){const a=new Ri;return t.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(n,e,t){return zv.apply(this,arguments)}(yield Ey(t),s,a)})),a.promise}(ui(n),e)}function MC(n,e,t){const s=t.docs.get(e._key),a=new Va(n);return new wl(n,a,e._key,s,new Sf(t.hasPendingWrites,t.fromCache),e.converter)}class AA extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=eh(e)}get(e){const t=La(e,this._firestore),s=new vA(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return ut();const c=a[0];if(c.isFoundDocument())return new fg(this._firestore,s,c.key,c,t.converter);if(c.isNoDocument())return new fg(this._firestore,s,t._key,null,t.converter);throw ut()})}set(e,t,s){const a=La(e,this._firestore),c=rh(a.converter,t,s),p=If(this._dataReader,"Transaction.set",a._key,c,null!==a.converter,s);return this._transaction.set(a._key,p),this}update(e,t,s,...a){const c=La(e,this._firestore);let p;return p="string"==typeof(t=(0,Ft.m9)(t))||t instanceof vl?Ty(this._dataReader,"Transaction.update",c._key,t,s,a):Ew(this._dataReader,"Transaction.update",c._key,t),this._transaction.update(c._key,p),this}delete(e){const t=La(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=La(e,this._firestore),s=new Va(this._firestore);return super.get(e).then(a=>new wl(this._firestore,s,t._key,a._document,new Sf(!1,!1),t.converter))}}function Rf(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Be("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function OC(){if("undefined"==typeof Uint8Array)throw new Be("unimplemented","Uint8Arrays are not available in this environment.")}function PC(){if("undefined"==typeof atob)throw new Be("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(n){cl=n})(ji.SDK_VERSION),(0,ji._registerComponent)(new Xl.wA("firestore",(n,{options:e})=>{const t=n.getProvider("app").getImmediate(),s=new cr(t,new qD(n.getProvider("auth-internal")));return e=Object.assign({useFetchStreams:!0},e),s._setSettings(e),s},"PUBLIC")),(0,ji.registerVersion)(Im,"3.1.1",void 0),(0,ji.registerVersion)(Im,"3.1.1","esm2017");class Nf{constructor(e){this._delegate=e}static fromBase64String(e){return PC(),new Nf(Au.fromBase64String(e))}static fromUint8Array(e){return OC(),new Nf(Au.fromUint8Array(e))}toBase64(){return PC(),this._delegate.toBase64()}toUint8Array(){return OC(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Ny(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const s of["next","error","complete"])if(s in t&&"function"==typeof t[s])return!0;return!1}(n)}class kC{enableIndexedDbPersistence(e,t){return function(n,e){mC(n=ln(n,cr));const t=ui(n),s=n._freezeSettings(),a=new XE;return pC(t,a,new ig(a,s.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){mC(n=ln(n,cr));const e=ui(n),t=n._freezeSettings(),s=new XE;return pC(e,s,new Dr(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new Be(Ee.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ri;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Te.Z)(function*(){try{yield(t=(0,Te.Z)(function*(s){if(!Eu.bt())return Promise.resolve();const a=s+"main";yield Eu.delete(a)}),function(s){return t.apply(this,arguments)})(pE(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Ow{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof ag||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&dl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function(n,e,t,s={}){var a;const c=(n=ln(n,lg))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==e&&dl("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let p,v;if("string"==typeof s.mockUserToken)p=s.mockUserToken,v=yi.MOCK_USER;else{p=(0,Ft.Sg)(s.mockUserToken,null===(a=n._app)||void 0===a?void 0:a.options.projectId);const D=s.mockUserToken.sub||s.mockUserToken.user_id;if(!D)throw new Be(Ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new yi(D)}n._credentials=new p0(new $_(p,v))}}(this._delegate,e,t,s)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,Te.Z)(function*(){const e=yield sg(n),t=yield dw(n);return e.setNetworkEnabled(!0),function(s){const a=We(s);return a.Kr.delete(0),Qp(a)}(t)}))}(ui(n=ln(n,cr)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,Te.Z)(function*(){const e=yield sg(n),t=yield dw(n);return e.setNetworkEnabled(!1),(s=(0,Te.Z)(function*(a){const c=We(a);c.Kr.add(0),yield pf(c),c.Wr.set("Offline")}),function(a){return s.apply(this,arguments)})(t);var s}))}(ui(n=ln(n,cr)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,tA("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new Ri;return e.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(n,e){return Jv.apply(this,arguments)}(yield Ey(e),t)})),t.promise}(ui(n=ln(n,cr)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new bf(e);return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return s=yield Ef(n),a=t,We(s).Zr.add(a),void a.next();var s,a})),()=>{t.Xo(),n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return s=yield Ef(n),a=t,void We(s).Zr.delete(a);var s,a}))}}(ui(n=ln(n,cr)),mw(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Be("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Et(this,gw(this._delegate,e))}catch(t){throw vi(t,"collection()","Firestore.collection()")}}doc(e){try{return new Cs(this,Iy(this._delegate,e))}catch(t){throw vi(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Zr(this,function(n,e){if(n=ln(n,lg),uC("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Be(Ee.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ji(n,null,(t=e,new Us(dn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw vi(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e){return function(n,e){const t=new Ri;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){const s=yield(a=n,wy(a).then(c=>c.datastore));var a;new tC(n.asyncQueue,s,e,t).run()})),t.promise}(ui(n),t=>e(new AA(n,t)))}(this._delegate,t=>e(new Pw(this,t)))}batch(){return ui(this._delegate),new FC(new Nw(this._delegate,e=>xf(this._delegate,e)))}loadBundle(e){return function(n,e){const t=ui(n=ln(n,cr)),s=new dC;return function(n,e,t,s){const a=function(c,p){let v;return v="string"==typeof c?(new TextEncoder).encode(c):c,D=function(D,R){if(D instanceof Uint8Array)return sw(D,R);if(D instanceof ArrayBuffer)return sw(new Uint8Array(D),R);if(D instanceof ReadableStream)return D.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(v),new WT(D,p);var D}(t,ff(e));n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){!function(n,e,t){const s=We(n);var a;(a=(0,Te.Z)(function*(c,p,v){try{const D=yield p.getMetadata();if(yield function(te,re){const Fe=We(te),Ke=Gr(re.createTime);return Fe.persistence.runTransaction("hasNewerBundle","readonly",rt=>Fe.Je.getBundleMetadata(rt,re.id)).then(rt=>!!rt&&rt.createTime.compareTo(Ke)>=0)}(c.localStore,D))return yield p.close(),void v._completeWith((te=D,{taskState:"Success",documentsLoaded:te.totalDocuments,bytesLoaded:te.totalBytes,totalDocuments:te.totalDocuments,totalBytes:te.totalBytes}));v._updateProgress(Hv(D));const R=new UT(D,c.localStore,p.N);let k=yield p.Qo();for(;k;){const te=yield R.fo(k);te&&v._updateProgress(te),k=yield p.Qo()}const U=yield R.complete();yield Du(c,U.En,void 0),yield function(te,re){const Fe=We(te);return Fe.persistence.runTransaction("Save bundle","readwrite",Ke=>Fe.Je.saveBundleMetadata(Ke,re))}(c.localStore,D),v._completeWith(U.progress)}catch(D){dl("SyncEngine",`Loading bundle failed with ${D}`),v._failWith(D)}var te}),function(c,p,v){return a.apply(this,arguments)})(s,e,t).then(()=>{s.sharedClientState.notifyBundleLoaded()})}(yield Ey(n),a,s)}))}(t,n._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue((0,Te.Z)(function*(){return function(t,s){const a=We(t);return a.persistence.runTransaction("Get named query","readonly",c=>a.Je.getNamedQuery(c,s))}(yield by(n),e)}))}(ui(n=ln(n,cr)),e).then(t=>t?new Ji(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Zr(this,t):null)}}class My extends Sy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nf(new Au(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Cs.forKey(t,this.firestore,null)}}class Pw{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new My(e)}get(e){const t=wi(e);return this._delegate.get(t).then(s=>new rn(this._firestore,new wl(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const a=wi(e);return s?(Rf("Transaction.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const c=wi(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,s,...a),this}delete(e){const t=wi(e);return this._delegate.delete(t),this}}class FC{constructor(e){this._delegate=e}set(e,t,s){const a=wi(e);return s?(Rf("WriteBatch.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const c=wi(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,s,...a),this}delete(e){const t=wi(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Lc{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new Hs(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Jo(this._firestore,s),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=Lc.INSTANCES;let a=s.get(e);a||(a=new WeakMap,s.set(e,a));let c=a.get(t);return c||(c=new Lc(e,new My(e),t),a.set(t,c)),c}}Lc.INSTANCES=new WeakMap;class Cs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new My(e)}static forPath(e,t,s){if(e.length%2!=0)throw new Be("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Cs(t,new Wn(t._delegate,s,new ot(e)))}static forKey(e,t,s){return new Cs(t,new Wn(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new Et(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Et(this.firestore,gw(this._delegate,e))}catch(t){throw vi(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ft.m9)(e))instanceof Wn&&Jd(this._delegate,e)}set(e,t){t=Rf("DocumentReference.set",t);try{return t?xC(this._delegate,e,t):xC(this._delegate,e)}catch(s){throw vi(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?RC(this._delegate,e):RC(this._delegate,e,t,...s)}catch(a){throw vi(a,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return xf(ln(n.firestore,cr),[new Lp(n._key,qr.none())])}(this._delegate)}onSnapshot(...e){const t=kA(e),s=Mf(e,a=>new rn(this.firestore,new wl(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return NC(this._delegate,t,s)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=ln(n,Wn);const e=ln(n.firestore,cr),t=ui(e),s=new Va(e);return function(n,e){const t=new Ri;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return(s=(0,Te.Z)(function*(a,c,p){try{const v=yield function(D,R){const k=We(D);return k.persistence.runTransaction("read document","readonly",U=>k.Qn.An(U,R))}(a,c);v.isFoundDocument()?p.resolve(v):v.isNoDocument()?p.resolve(null):p.reject(new Be(Ee.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(v){const D=Yi(v,`Failed to get document '${c} from cache`);p.reject(D)}}),function(a,c,p){return s.apply(this,arguments)})(yield by(n),e,t);var s})),t.promise}(t,n._key).then(a=>new wl(e,s,n._key,a,new Sf(null!==a&&a.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=ln(n,Wn);const e=ln(n.firestore,cr);return iC(ui(e),n._key,{source:"server"}).then(t=>MC(e,n,t))}(this._delegate):function(n){n=ln(n,Wn);const e=ln(n.firestore,cr);return iC(ui(e),n._key).then(t=>MC(e,n,t))}(this._delegate),t.then(s=>new rn(this.firestore,new wl(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new Cs(this.firestore,this._delegate.withConverter(e?Lc.getInstance(this.firestore,e):null))}}function vi(n,e,t){return n.message=n.message.replace(e,t),n}function kA(n){for(const e of n)if("object"==typeof e&&!Ny(e))return e;return{}}function Mf(n,e){var t,s;let a;return a=Ny(n[0])?n[0]:Ny(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:c=>{a.next&&a.next(e(c))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(s=a.complete)||void 0===s?void 0:s.bind(a)}}class rn{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Cs(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return pg(this._delegate,e._delegate)}}class Jo extends rn{data(e){const t=this._delegate.data(e);return function(n,e){n||ut()}(void 0!==t),t}}class Zr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new My(e)}where(e,t,s){try{return new Zr(this.firestore,nh(this._delegate,function(n,e,t){const s=e,a=Ay("where",n);return new pA(a,s,t)}(e,t,s)))}catch(a){throw vi(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Zr(this.firestore,nh(this._delegate,function(n,e="asc"){const t=e,s=Ay("orderBy",n);return new mA(s,t)}(e,t)))}catch(s){throw vi(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Zr(this.firestore,nh(this._delegate,function(n){return pw("limit",n),new Aw("limit",n,"F")}(e)))}catch(t){throw vi(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Zr(this.firestore,nh(this._delegate,function(n){return pw("limitToLast",n),new Aw("limitToLast",n,"L")}(e)))}catch(t){throw vi(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Zr(this.firestore,nh(this._delegate,function(...n){return new IC("startAt",n,!0)}(...e)))}catch(t){throw vi(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Zr(this.firestore,nh(this._delegate,function(...n){return new IC("startAfter",n,!1)}(...e)))}catch(t){throw vi(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Zr(this.firestore,nh(this._delegate,function(...n){return new DC("endBefore",n,!0)}(...e)))}catch(t){throw vi(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Zr(this.firestore,nh(this._delegate,function(...n){return new DC("endAt",n,!1)}(...e)))}catch(t){throw vi(t,"endAt()","Query.endAt()")}}isEqual(e){return lC(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=ln(n,Ji);const e=ln(n.firestore,cr),t=ui(e),s=new Va(e);return function(n,e){const t=new Ri;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return(s=(0,Te.Z)(function*(a,c,p){try{const v=yield Qm(a,c,!0),D=new dy(c,v.Gn),R=D.Io(v.documents),k=D.applyChanges(R,!1);p.resolve(k.snapshot)}catch(v){const D=Yi(v,`Failed to execute query '${c} against cache`);p.reject(D)}}),function(a,c,p){return s.apply(this,arguments)})(yield by(n),e,t);var s})),t.promise}(t,n._query).then(a=>new bl(e,s,n,a))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=ln(n,Ji);const e=ln(n.firestore,cr),t=ui(e),s=new Va(e);return hw(t,n._query,{source:"server"}).then(a=>new bl(e,s,n,a))}(this._delegate):function(n){n=ln(n,Ji);const e=ln(n.firestore,cr),t=ui(e),s=new Va(e);return EC(n._query),hw(t,n._query).then(a=>new bl(e,s,n,a))}(this._delegate),t.then(s=>new LC(this.firestore,new bl(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=kA(e),s=Mf(e,a=>new LC(this.firestore,new bl(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return NC(this._delegate,t,s)}withConverter(e){return new Zr(this.firestore,this._delegate.withConverter(e?Lc.getInstance(this.firestore,e):null))}}class yg{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Jo(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class LC{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Zr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Jo(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new yg(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new Jo(this._firestore,s))})}isEqual(e){return pg(this._delegate,e._delegate)}}class Et extends Zr{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Cs(this.firestore,e):null}doc(e){try{return new Cs(this.firestore,void 0===e?Iy(this._delegate):Iy(this._delegate,e))}catch(t){throw vi(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=ln(n.firestore,cr),s=Iy(n),a=rh(n.converter,e);return xf(t,[If(eh(n.firestore),"addDoc",s._key,a,null!==n.converter,{}).toMutation(s._key,qr.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new Cs(this.firestore,t))}isEqual(e){return Jd(this._delegate,e._delegate)}withConverter(e){return new Et(this.firestore,this._delegate.withConverter(e?Lc.getInstance(this.firestore,e):null))}}function wi(n){return ln(n,Wn)}class _g{constructor(...e){this._delegate=new vl(...e)}static documentId(){return new _g(Un.keyField().canonicalString())}isEqual(e){return(e=(0,Ft.m9)(e))instanceof vl&&this._delegate._internalPath.isEqual(e._internalPath)}}class Eo{constructor(e){this._delegate=e}static serverTimestamp(){const e=new dg("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Eo(e)}static delete(){const e=new th("deleteField");return e._methodName="FieldValue.delete",new Eo(e)}static arrayUnion(...e){const t=function(...n){return new hA("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Eo(t)}static arrayRemove(...e){const t=function(...n){return new fA("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Eo(t)}static increment(e){const t=function(n){return new bw("increment",n)}(e);return t._methodName="FieldValue.increment",new Eo(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const v1={Firestore:Ow,GeoPoint:cg,Timestamp:si,Blob:Nf,Transaction:Pw,WriteBatch:FC,DocumentReference:Cs,DocumentSnapshot:rn,Query:Zr,QueryDocumentSnapshot:Jo,QuerySnapshot:LC,CollectionReference:Et,FieldPath:_g,FieldValue:Eo,setLogLevel:function(n){!function(n){xa.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function(n){(function(n,e){n.INTERNAL.registerComponent(new Xl.wA("firestore-compat",t=>((e,t)=>new Ow(e,t,new kC))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},v1)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.4")}(Jl.Z);var sh=B(9765),FA=B(6682),vg=B(309),Oi=B(5345);function Ut(n,e){return"function"==typeof e?t=>t.pipe(Ut((s,a)=>(0,yn.D)(n(s,a)).pipe((0,Tt.U)((c,p)=>e(s,c,a,p))))):t=>t.lift(new Ua(n))}class Ua{constructor(e){this.project=e}call(e,t){return t.subscribe(new BC(e,this.project))}}class BC extends Oi.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const s=this.index++;try{t=this.project(e,s)}catch(a){return void this.destination.error(a)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const s=new Oi.IY(this),a=this.destination;a.add(s),this.innerSubscription=(0,Oi.ft)(e,s),this.innerSubscription!==s&&a.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}var LA=B(7771),kw=B(5319),Oy=B(7971),Of=B(8858);class wg extends sh.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,s){super(),this.scheduler=s,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new VA(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,s=t?this._events:this._trimBufferThenGetEvents(),a=this.scheduler,c=s.length;let p;if(this.closed)throw new Oy.N;if(this.isStopped||this.hasError?p=kw.w.EMPTY:(this.observers.push(e),p=new Of.W(this,e)),a&&e.add(e=new vg.ht(e,a)),t)for(let v=0;v<c&&!e.closed;v++)e.next(s[v]);else for(let v=0;v<c&&!e.closed;v++)e.next(s[v].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),p}_getNow(){return(this.scheduler||LA.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,s=this._windowTime,a=this._events,c=a.length;let p=0;for(;p<c&&!(e-a[p].time<s);)p++;return c>t&&(p=Math.max(p,c-t)),p>0&&a.splice(0,p),a}}class VA{constructor(e,t){this.time=e,this.value=t}}function Vc(n,e,t){let s;return s=n&&"object"==typeof n?n:{bufferSize:n,windowTime:e,refCount:!1,scheduler:t},a=>a.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:t,scheduler:s}){let a,p,c=0,v=!1,D=!1;return function(k){let U;c++,!a||v?(v=!1,a=new wg(n,e,s),U=a.subscribe(this),p=k.subscribe({next(te){a.next(te)},error(te){v=!0,a.error(te)},complete(){D=!0,p=void 0,a.complete()}}),D&&(p=void 0)):U=a.subscribe(this),this.add(()=>{c--,U.unsubscribe(),U=void 0,p&&!D&&t&&0===c&&(p.unsubscribe(),p=void 0,a=void 0)})}}(s))}const Pf=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})(),ky=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();var El=B(9193);function Uc(n){return e=>0===n?(0,El.c)():e.lift(new jA(n))}class jA{constructor(e){if(this.total=e,this.total<0)throw new ky}call(e,t){return t.subscribe(new Fy(e,this.total))}}class Fy extends Bi.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,s=++this.count;s<=t&&(this.destination.next(e),s===t&&(this.destination.complete(),this.unsubscribe()))}}function Fw(n=null){return e=>e.lift(new jC(n))}class jC{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new $C(e,this.defaultValue))}}class $C extends Bi.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function bg(n=Vw){return e=>e.lift(new $A(n))}class $A{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new Lw(e,this.errorFactory))}}class Lw extends Bi.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function Vw(){return new Pf}var HA=B(4487);function kf(n,e){const t=arguments.length>=2;return s=>s.pipe(n?ps((a,c)=>n(a,c,s)):HA.y,Uc(1),t?Fw(e):bg(()=>new Pf))}function xt(n,e){return e?Ut(()=>n,e):Ut(()=>n)}var HC=B(3101);B(2329);const zC=new Map,zA={activated:!1,tokenObservers:[]},WC={initialized:!1,enabled:!1};function Pi(n){return zC.get(n)||zA}function Su(n,e){zC.set(n,e)}function Uw(){return WC}class YA{constructor(e,t,s,a,c){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=s,this.lowerBound=a,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=a,a>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Te.Z)(function*(){t.stop();try{t.pending=new Ft.BH,yield function(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Ft.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(s){t.retryPolicy(s)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Co=new Ft.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error."});function Bw(n){if(!Pi(n).activated)throw Co.create("use-before-activation",{appName:n.name})}function JA(n,e){return Vy.apply(this,arguments)}function Vy(){return(Vy=(0,Te.Z)(function*({url:n,body:e},t){const s={"Content-Type":"application/json"},a=t.getImmediate({optional:!0});a&&(s["X-Firebase-Client"]=a.getPlatformInfoString());const c={method:"POST",body:JSON.stringify(e),headers:s};let p,v;try{p=yield fetch(n,c)}catch(U){throw Co.create("fetch-network-error",{originalErrorMessage:U.message})}if(200!==p.status)throw Co.create("fetch-status-error",{httpStatus:p.status});try{v=yield p.json()}catch(U){throw Co.create("fetch-parse-error",{originalErrorMessage:U.message})}const D=v.ttl.match(/^([\d.]+)(s)$/);if(!D||!D[2]||isNaN(Number(D[1])))throw Co.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${v.ttl}`});const R=1e3*Number(D[1]),k=Date.now();return{token:v.attestationToken,expireTimeMillis:k+R,issuedAtTimeMillis:k}})).apply(this,arguments)}function eS(n,e){const{projectId:t,appId:s,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${s}:exchangeDebugToken?key=${a}`,body:{debug_token:e}}}const Ig="firebase-app-check-store";let Uy=null;function JC(){return Uy||(Uy=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=s=>{n(s.target.result)},t.onerror=s=>{var a;e(Co.create("storage-open",{originalErrorMessage:null===(a=s.target.error)||void 0===a?void 0:a.message}))},t.onupgradeneeded=s=>{const a=s.target.result;switch(s.oldVersion){case 0:a.createObjectStore(Ig,{keyPath:"compositeKey"})}}}catch(t){e(Co.create("storage-open",{originalErrorMessage:t.message}))}}),Uy)}function Hw(){return(Hw=(0,Te.Z)(function*(n,e){const s=(yield JC()).transaction(Ig,"readwrite"),c=s.objectStore(Ig).put({compositeKey:n,value:e});return new Promise((p,v)=>{c.onsuccess=D=>{p()},s.onerror=D=>{var R;v(Co.create("storage-set",{originalErrorMessage:null===(R=D.target.error)||void 0===R?void 0:R.message}))}})})).apply(this,arguments)}const By=new $o.Yd("@firebase/app-check");function rI(n,e){return(0,Ft.hl)()?function(n,e){return function(n,e){return Hw.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{By.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Gw(){return Uw().enabled}function Xo(){return Tg.apply(this,arguments)}function Tg(){return(Tg=(0,Te.Z)(function*(){const n=Uw();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const iI={error:"UNKNOWN_ERROR"};function sI(n){return Ft.US.encodeString(JSON.stringify(n),!1)}function Ag(n){return Zw.apply(this,arguments)}function Zw(){return(Zw=(0,Te.Z)(function*(n,e=!1){const t=n.app;Bw(t);const s=Pi(t);let c,p,a=s.token;if(!a){const v=yield s.cachedTokenPromise;v&&jy(v)&&(a=v,Su(t,Object.assign(Object.assign({},s),{token:a})),uI(t,{token:a.token}))}if(!e&&a&&jy(a))return{token:a.token};if(Gw()){const v=yield JA(eS(t,yield Xo()),n.platformLoggerProvider);return yield rI(t,v),Su(t,Object.assign(Object.assign({},s),{token:v})),{token:v.token}}try{a=yield s.provider.getToken()}catch(v){By.error(v),c=v}return a?(p={token:a.token},Su(t,Object.assign(Object.assign({},s),{token:a})),yield rI(t,a)):p=iS(c),uI(t,p),p})).apply(this,arguments)}function zw(n,e){const t=Pi(n),s=t.tokenObservers.filter(a=>a.next!==e);0===s.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Su(n,Object.assign(Object.assign({},t),{tokenObservers:s}))}function uI(n,e){const t=Pi(n).tokenObservers;for(const s of t)try{"EXTERNAL"===s.type&&null!=e.error?s.error(e.error):s.next(e)}catch(a){}}function jy(n){return n.expireTimeMillis-Date.now()>0}function iS(n){return{token:sI(iI),error:n}}class sS{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=Pi(this.app);for(const t of e)zw(this.app,t.next);return Promise.resolve()}}const Kw="app-check-internal";(0,ji._registerComponent)(new Xl.wA("app-check",n=>function(n,e){return new sS(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Kw).initialize()})),(0,ji._registerComponent)(new Xl.wA(Kw,n=>function(n){return{getToken:e=>Ag(n,e),addTokenListener:e=>function(n,e,t,s){const{app:a}=n,c=Pi(a),p={next:t,error:s,type:e},v=Object.assign(Object.assign({},c),{tokenObservers:[...c.tokenObservers,p]});if(!v.tokenRefresher){const D=function(n){const{app:e}=n;return new YA((0,Te.Z)(function*(){let s;if(s=Pi(e).token?yield Ag(n,!0):yield Ag(n),s.error)throw s.error}),()=>!0,()=>{const t=Pi(e);if(t.token){let s=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return s=Math.min(s,t.token.expireTimeMillis-3e5),Math.max(0,s-Date.now())}return 0},3e4,96e4)}(n);v.tokenRefresher=D}if(!v.tokenRefresher.isRunning()&&c.isTokenAutoRefreshEnabled&&v.tokenRefresher.start(),c.token&&jy(c.token)){const D=c.token;Promise.resolve().then(()=>t({token:D.token})).catch(()=>{})}else null==c.token&&c.cachedTokenPromise.then(D=>{D&&jy(D)&&t({token:D.token})}).catch(()=>{});Su(a,v)}(n,"INTERNAL",e),removeTokenListener:e=>zw(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ji.registerVersion)("@firebase/app-check","0.4.2");class Hy{constructor(){return(0,Vn.vb)("app-check")}}"undefined"!=typeof window&&window;var mI=B(7841);const Zy=new h.OlP("angularfire2.auth.use-emulator"),zy=new h.OlP("angularfire2.auth.settings"),Xw=new h.OlP("angularfire2.auth.tenant-id"),Wy=new h.OlP("angularfire2.auth.langugage-code"),Ky=new h.OlP("angularfire2.auth.use-device-language"),yI=new h.OlP("angularfire.auth.persistence"),_I=(n,e,t,s,a,c,p,v)=>(0,qn.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const D=e.runOutsideAngular(()=>n.auth());if(t&&D.useEmulator(...t),s&&(D.tenantId=s),D.languageCode=a,c&&D.useDeviceLanguage(),p)for(const[R,k]of Object.entries(p))D.settings[R]=k;return v&&D.setPersistence(v),D},[t,s,a,c,p,v]);let Yy=(()=>{class n{constructor(t,s,a,c,p,v,D,R,k,U,te,re){const Fe=new sh.xQ,Ke=(0,ht.of)(void 0).pipe((0,vg.QV)(p.outsideAngular),Ut(()=>c.runOutsideAngular(()=>Promise.resolve().then(B.bind(B,4671)))),(0,Tt.U)(()=>(0,qn.on)(t,c,s)),(0,Tt.U)(rt=>_I(rt,c,v,R,k,U,D,te)),Vc({bufferSize:1,refCount:!1}));if(Ms(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ht.of)(null);else{Ke.pipe(kf()).subscribe();const Qt=Ke.pipe(Ut(sn=>sn.getRedirectResult().then(Wr=>Wr,()=>null)),Vn.iC,Vc({bufferSize:1,refCount:!1})),Tn=Ke.pipe(Ut(sn=>new yr.y(Wr=>({unsubscribe:c.runOutsideAngular(()=>sn.onAuthStateChanged(Ou=>Wr.next(Ou),Ou=>Wr.error(Ou),()=>Wr.complete()))})))),nr=Ke.pipe(Ut(sn=>new yr.y(Wr=>({unsubscribe:c.runOutsideAngular(()=>sn.onIdTokenChanged(Ou=>Wr.next(Ou),Ou=>Wr.error(Ou),()=>Wr.complete()))}))));this.authState=Qt.pipe(xt(Tn),(0,HC.R)(p.outsideAngular),(0,vg.QV)(p.insideAngular)),this.user=Qt.pipe(xt(nr),(0,HC.R)(p.outsideAngular),(0,vg.QV)(p.insideAngular)),this.idToken=this.user.pipe(Ut(sn=>sn?(0,yn.D)(sn.getIdToken()):(0,ht.of)(null))),this.idTokenResult=this.user.pipe(Ut(sn=>sn?(0,yn.D)(sn.getIdTokenResult()):(0,ht.of)(null))),this.credential=(0,FA.T)(Qt,Fe,this.authState.pipe(ps(sn=>!sn))).pipe((0,Tt.U)(sn=>(null==sn?void 0:sn.user)?sn:null),(0,HC.R)(p.outsideAngular),(0,vg.QV)(p.insideAngular))}return(0,qn.pX)(this,Ke,c,{spy:{apply:(rt,Qt,Tn)=>{(rt.startsWith("signIn")||rt.startsWith("createUser"))&&Tn.then(nr=>Fe.next(nr))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(qn.Dh),h.LFG(qn.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Vn.HU),h.LFG(Zy,8),h.LFG(zy,8),h.LFG(Xw,8),h.LFG(Wy,8),h.LFG(Ky,8),h.LFG(yI,8),h.LFG(Hy,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),pS=(()=>{class n{constructor(){mI.Z.registerVersion("angularfire",Vn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[Yy]}),n})();function Qy(n,e){return function(n,e=ed.z){return new yr.y(t=>{let s;return null!=e?e.schedule(()=>{s=n.onSnapshot({includeMetadataChanges:!0},t)}):s=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=s&&s()}})}(n,e)}function eb(n,e){return Qy(n,e).pipe((0,Tt.U)(t=>({payload:t,type:"query"})))}function Rg(n,e){return eb(n,e).pipe(Ku(void 0),Yu(),(0,Tt.U)(([t,s])=>{const a=s.payload.docChanges(),c=a.map(p=>({type:p.type,payload:p}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((p,v)=>{const D=a.find(k=>k.doc.ref.isEqual(p.ref)),R=null==t?void 0:t.payload.docs.find(k=>k.ref.isEqual(p.ref));D&&JSON.stringify(D.doc.metadata)===JSON.stringify(p.metadata)||!D&&R&&JSON.stringify(R.metadata)===JSON.stringify(p.metadata)||c.push({type:"modified",payload:{oldIndex:v,newIndex:v,type:"modified",doc:p}})}),c}))}function tb(n,e,t){return Rg(n,t).pipe(Uo((s,a)=>function(n,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(n=function(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return Jy(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Jy(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Jy(n,e.oldIndex,1)}return n}(n,s))}),n}(s,a.map(c=>c.payload),e),[]),t=>t.lift(new Yl(void 0,void 0)),(0,Tt.U)(s=>s.map(a=>({type:a.type,payload:a}))))}function Jy(n,e,t,...s){const a=n.slice();return a.splice(e,t,...s),a}function EI(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class nb{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=Rg(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Tt.U)(s=>s.filter(a=>e.indexOf(a.type)>-1)))),t.pipe(Ku(void 0),Yu(),ps(([s,a])=>a.length>0||!s),(0,Tt.U)(([s,a])=>a),Vn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Uo((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=EI(e);return tb(this.query,t,this.afs.schedulers.outsideAngular).pipe(Vn.iC)}valueChanges(e={}){return eb(this.query,this.afs.schedulers.outsideAngular).pipe((0,Tt.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),Vn.iC)}get(e){return(0,yn.D)(this.query.get(e)).pipe(Vn.iC)}add(e){return this.ref.add(e)}doc(e){return new CI(this.ref.doc(e),this.afs)}}class CI{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:a,query:c}=_S(s,t);return new nb(a,c,this.afs)}snapshotChanges(){return function(n,e){return Qy(n,e).pipe(Ku(void 0),Yu(),(0,Tt.U)(([t,s])=>s.exists?(null==t?void 0:t.exists)?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Vn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Tt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,yn.D)(this.ref.get(e)).pipe(Vn.iC)}}class q1{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Rg(this.query,this.afs.schedulers.outsideAngular).pipe((0,Tt.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),ps(t=>t.length>0),Vn.iC):Rg(this.query,this.afs.schedulers.outsideAngular).pipe(Vn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Uo((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=EI(e);return tb(this.query,t,this.afs.schedulers.outsideAngular).pipe(Vn.iC)}valueChanges(e={}){return eb(this.query,this.afs.schedulers.outsideAngular).pipe((0,Tt.U)(s=>s.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),Vn.iC)}get(e){return(0,yn.D)(this.query.get(e)).pipe(Vn.iC)}}const Xi=new h.OlP("angularfire2.enableFirestorePersistence"),oh=new h.OlP("angularfire2.firestore.persistenceSettings"),mS=new h.OlP("angularfire2.firestore.settings"),yS=new h.OlP("angularfire2.firestore.use-emulator");function _S(n,e=(t=>t)){return{query:e(n),ref:n}}let Ng=(()=>{class n{constructor(t,s,a,c,p,v,D,R,k,U,te,re,Fe,Ke,rt,Qt,Tn){this.schedulers=D;const nr=(0,qn.on)(t,v,s),sn=k;U&&_I(nr,v,te,Fe,Ke,rt,re,Qt),[this.firestore,this.persistenceEnabled$]=(0,qn.cc)(`${nr.name}.firestore`,"AngularFirestore",nr.name,()=>{const Wr=v.runOutsideAngular(()=>nr.firestore());if(c&&Wr.settings(c),sn&&Wr.useEmulator(...sn),a&&!Ms(p)){const Ou=()=>{try{return(0,yn.D)(Wr.enablePersistence(R||void 0).then(()=>!0,()=>!1))}catch($N){return"undefined"!=typeof console&&console.warn($N),(0,ht.of)(!1)}};return[Wr,v.runOutsideAngular(Ou)]}return[Wr,(0,ht.of)(!1)]},[c,sn,a])}collection(t,s){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:c,query:p}=_S(a,s),v=this.schedulers.ngZone.run(()=>c);return new nb(v,p,this)}collectionGroup(t,s){const a=s||(p=>p),c=this.firestore.collectionGroup(t);return new q1(a(c),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>s);return new CI(a,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(qn.Dh),h.LFG(qn.xv,8),h.LFG(Xi,8),h.LFG(mS,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Vn.HU),h.LFG(oh,8),h.LFG(yS,8),h.LFG(Yy,8),h.LFG(Zy,8),h.LFG(zy,8),h.LFG(Xw,8),h.LFG(Wy,8),h.LFG(Ky,8),h.LFG(yI,8),h.LFG(Hy,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),vS=(()=>{class n{constructor(){mI.Z.registerVersion("angularfire",Vn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:Xi,useValue:!0},{provide:oh,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[Ng]}),n})();class Io extends sh.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Oy.N;return this._value}next(e){super.next(this._value=e)}}var rb=B(9796);class II extends Bi.L{notifyNext(e,t,s,a,c){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class wS extends Bi.L{constructor(e,t,s){super(),this.parent=e,this.outerValue=t,this.outerIndex=s,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var bS=B(7444);function ib(n,e,t,s,a=new wS(n,t,s)){if(!a.closed)return e instanceof yr.y?e.subscribe(a):(0,bS.s)(e)(a)}var DI=B(6693);const sb={};class ob{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new G1(e,this.resultSelector))}}class G1 extends II{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(sb),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let s=0;s<t;s++)this.add(ib(this,e[s],void 0,s))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,s){const a=this.values,p=this.toRespond?a[s]===sb?--this.toRespond:this.toRespond:0;a[s]=t,0===p&&(this.resultSelector?this._tryResultSelector(a):this.destination.next(a.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(s){return void this.destination.error(s)}this.destination.next(t)}}function ab(n){return new yr.y(e=>{let t;try{t=n()}catch(a){return void e.error(a)}return(t?(0,yn.D)(t):(0,El.c)()).subscribe(e)})}var ES=B(2441);function Bc(n){return function(t){const s=new e_(n),a=t.lift(s);return s.caught=a}}class e_{constructor(e){this.selector=e}call(e,t){return t.subscribe(new TI(e,this.selector,this.caught))}}class TI extends Oi.Ds{constructor(e,t,s){super(e),this.selector=t,this.caught=s}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(c){return void super.error(c)}this._unsubscribeAndRecycle();const s=new Oi.IY(this);this.add(s);const a=(0,Oi.ft)(t,s);a!==s&&this.add(a)}}}var Ds=B(9773);function ah(n,e){return(0,Ds.zg)(n,e,1)}function Mg(n){return function(t){return 0===n?(0,El.c)():t.lift(new CS(n))}}class CS{constructor(e){if(this.total=e,this.total<0)throw new ky}call(e,t){return t.subscribe(new IS(e,this.total))}}class IS extends Bi.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,s=this.total,a=this.count++;t.length<s?t.push(e):t[a%s]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const s=this.count>=this.total?this.total:this.count,a=this.ring;for(let c=0;c<s;c++){const p=t++%s;e.next(a[p])}}e.complete()}}var qs=B(3342),SI=B(1307);class xI{constructor(e){this.callback=e}call(e,t){return t.subscribe(new RI(e,this.callback))}}class RI extends Bi.L{constructor(e,t){super(e),this.add(new kw.w(t))}}class Il{constructor(e,t){this.id=e,this.url=t}}class ub extends Il{constructor(e,t,s="imperative",a=null){super(e,t),this.navigationTrigger=s,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Uf extends Il{constructor(e,t,s){super(e,t),this.urlAfterRedirects=s}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class NI extends Il{constructor(e,t,s){super(e,t),this.reason=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class MI extends Il{constructor(e,t,s){super(e,t),this.error=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class OI extends Il{constructor(e,t,s,a){super(e,t),this.urlAfterRedirects=s,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class PI extends Il{constructor(e,t,s,a){super(e,t),this.urlAfterRedirects=s,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kI extends Il{constructor(e,t,s,a,c){super(e,t),this.urlAfterRedirects=s,this.state=a,this.shouldActivate=c}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class TS extends Il{constructor(e,t,s,a){super(e,t),this.urlAfterRedirects=s,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class AS extends Il{constructor(e,t,s,a){super(e,t),this.urlAfterRedirects=s,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class FI{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class lb{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Z1{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class z1{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class W1{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class K1{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class SS{constructor(e,t,s){this.routerEvent=e,this.position=t,this.anchor=s}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const qt="primary";class Y1{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Og(n){return new Y1(n)}const xS="ngNavigationCancelingError";function LI(n){const e=Error("NavigationCancelingError: "+n);return e[xS]=!0,e}function J1(n,e,t){const s=t.path.split("/");if(s.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||s.length<n.length))return null;const a={};for(let c=0;c<s.length;c++){const p=s[c],v=n[c];if(p.startsWith(":"))a[p.substring(1)]=v;else if(p!==v.path)return null}return{consumed:n.slice(0,s.length),posParams:a}}function Dl(n,e){const t=n?Object.keys(n):void 0,s=e?Object.keys(e):void 0;if(!t||!s||t.length!=s.length)return!1;let a;for(let c=0;c<t.length;c++)if(a=t[c],!RS(n[a],e[a]))return!1;return!0}function RS(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),s=[...e].sort();return t.every((a,c)=>s[c]===a)}return n===e}function NS(n){return Array.prototype.concat.apply([],n)}function MS(n){return n.length>0?n[n.length-1]:null}function ki(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function xu(n){return(0,h.CqO)(n)?n:(0,h.QGY)(n)?(0,yn.D)(Promise.resolve(n)):(0,ht.of)(n)}const nR={exact:function UI(n,e,t){if(!ea(n.segments,e.segments)||!cb(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const s in e.children)if(!n.children[s]||!UI(n.children[s],e.children[s],t))return!1;return!0},subset:kS},OS={exact:function(n,e){return Dl(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>RS(n[t],e[t]))},ignored:()=>!0};function VI(n,e,t){return nR[t.paths](n.root,e.root,t.matrixParams)&&OS[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function kS(n,e,t){return FS(n,e,e.segments,t)}function FS(n,e,t,s){if(n.segments.length>t.length){const a=n.segments.slice(0,t.length);return!(!ea(a,t)||e.hasChildren()||!cb(a,t,s))}if(n.segments.length===t.length){if(!ea(n.segments,t)||!cb(n.segments,t,s))return!1;for(const a in e.children)if(!n.children[a]||!kS(n.children[a],e.children[a],s))return!1;return!0}{const a=t.slice(0,n.segments.length),c=t.slice(n.segments.length);return!!(ea(n.segments,a)&&cb(n.segments,a,s)&&n.children[qt])&&FS(n.children[qt],e,c,s)}}function cb(n,e,t){return e.every((s,a)=>OS[t](n[a].parameters,s.parameters))}class uh{constructor(e,t,s){this.root=e,this.queryParams=t,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Og(this.queryParams)),this._queryParamMap}toString(){return fb.serialize(this)}}class en{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ki(t,(s,a)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return kg(this)}}class Pg{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Og(this.parameters)),this._parameterMap}toString(){return VS(this)}}function ea(n,e){return n.length===e.length&&n.every((t,s)=>t.path===e[s].path)}class hb{}class jI{parse(e){const t=new jS(e);return new uh(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){return`${`/${Bf(e.root,!0)}`}${function(n){const e=Object.keys(n).map(t=>{const s=n[t];return Array.isArray(s)?s.map(a=>`${gb(t)}=${gb(a)}`).join("&"):`${gb(t)}=${gb(s)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${function(n){return encodeURI(n)}(e.fragment)}`:""}`}}const fb=new jI;function kg(n){return n.segments.map(e=>VS(e)).join("/")}function Bf(n,e){if(!n.hasChildren())return kg(n);if(e){const t=n.children[qt]?Bf(n.children[qt],!1):"",s=[];return ki(n.children,(a,c)=>{c!==qt&&s.push(`${c}:${Bf(a,!1)}`)}),s.length>0?`${t}(${s.join("//")})`:t}{const t=function(n,e){let t=[];return ki(n.children,(s,a)=>{a===qt&&(t=t.concat(e(s,a)))}),ki(n.children,(s,a)=>{a!==qt&&(t=t.concat(e(s,a)))}),t}(n,(s,a)=>a===qt?[Bf(n.children[qt],!1)]:[`${a}:${Bf(s,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[qt]?`${kg(n)}/${t[0]}`:`${kg(n)}/(${t.join("//")})`}}function pb(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gb(n){return pb(n).replace(/%3B/gi,";")}function jf(n){return pb(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fg(n){return decodeURIComponent(n)}function LS(n){return Fg(n.replace(/\+/g,"%20"))}function VS(n){return`${jf(n.path)}${function(n){return Object.keys(n).map(e=>`;${jf(e)}=${jf(n[e])}`).join("")}(n.parameters)}`}const sR=/^[^\/()?;=#]+/;function lh(n){const e=n.match(sR);return e?e[0]:""}const BS=/^[^=?&#]+/,aR=/^[^?&#]+/;class jS{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new en([],{}):new en([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(s[qt]=new en(e,t)),s}parseSegment(){const e=lh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Pg(Fg(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=lh(this.remaining);if(!t)return;this.capture(t);let s="";if(this.consumeOptional("=")){const a=lh(this.remaining);a&&(s=a,this.capture(s))}e[Fg(t)]=Fg(s)}parseQueryParam(e){const t=function(n){const e=n.match(BS);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let s="";if(this.consumeOptional("=")){const p=function(n){const e=n.match(aR);return e?e[0]:""}(this.remaining);p&&(s=p,this.capture(s))}const a=LS(t),c=LS(s);if(e.hasOwnProperty(a)){let p=e[a];Array.isArray(p)||(p=[p],e[a]=p),p.push(c)}else e[a]=c}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=lh(this.remaining),a=this.remaining[s.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let c;s.indexOf(":")>-1?(c=s.substr(0,s.indexOf(":")),this.capture(c),this.capture(":")):e&&(c=qt);const p=this.parseChildren();t[c]=1===Object.keys(p).length?p[qt]:new en([],p),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class $S{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=HI(e,this._root);return t?t.children.map(s=>s.value):[]}firstChild(e){const t=HI(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=yb(e,this._root);return t.length<2?[]:t[t.length-2].children.map(a=>a.value).filter(a=>a!==e)}pathFromRoot(e){return yb(e,this._root).map(t=>t.value)}}function HI(n,e){if(n===e.value)return e;for(const t of e.children){const s=HI(n,t);if(s)return s}return null}function yb(n,e){if(n===e.value)return[e];for(const t of e.children){const s=yb(n,t);if(s.length)return s.unshift(e),s}return[]}class jc{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function $f(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class qI extends $S{constructor(e,t){super(e),this.snapshot=t,Lg(this,e)}toString(){return this.snapshot.toString()}}function HS(n,e){const t=function(n,e){const p=new t_([],{},{},"",{},qt,e,null,n.root,-1,{});return new GI("",new jc(p,[]))}(n,e),s=new Io([new Pg("",{})]),a=new Io({}),c=new Io({}),p=new Io({}),v=new Io(""),D=new Hf(s,a,p,v,c,qt,e,t.root);return D.snapshot=t.root,new qI(new jc(D,[]),t)}class Hf{constructor(e,t,s,a,c,p,v,D){this.url=e,this.params=t,this.queryParams=s,this.fragment=a,this.data=c,this.outlet=p,this.component=v,this._futureSnapshot=D}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Tt.U)(e=>Og(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Tt.U)(e=>Og(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function qf(n,e="emptyOnly"){const t=n.pathFromRoot;let s=0;if("always"!==e)for(s=t.length-1;s>=1;){const a=t[s],c=t[s-1];if(a.routeConfig&&""===a.routeConfig.path)s--;else{if(c.component)break;s--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(s))}class t_{constructor(e,t,s,a,c,p,v,D,R,k,U){this.url=e,this.params=t,this.queryParams=s,this.fragment=a,this.data=c,this.outlet=p,this.component=v,this.routeConfig=D,this._urlSegment=R,this._lastPathIndex=k,this._resolve=U}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Og(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Og(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class GI extends $S{constructor(e,t){super(t),this.url=e,Lg(this,t)}toString(){return ZI(this._root)}}function Lg(n,e){e.value._routerState=n,e.children.forEach(t=>Lg(n,t))}function ZI(n){const e=n.children.length>0?` { ${n.children.map(ZI).join(", ")} } `:"";return`${n.value}${e}`}function Ts(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Dl(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Dl(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Dl(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Dl(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function _b(n,e){return Dl(n.params,e.params)&&function(n,e){return ea(n,e)&&n.every((t,s)=>Dl(t.parameters,e[s].parameters))}(n.url,e.url)&&!(!n.parent!=!e.parent)&&(!n.parent||_b(n.parent,e.parent))}function n_(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const s=t.value;s._futureSnapshot=e.value;const a=function(n,e,t){return e.children.map(s=>{for(const a of t.children)if(n.shouldReuseRoute(s.value,a.value.snapshot))return n_(n,s,a);return n_(n,s)})}(n,e,t);return new jc(s,a)}{if(n.shouldAttach(e.value)){const c=n.retrieve(e.value);if(null!==c){const p=c.route;return zI(e,p),p}}const s=function(n){return new Hf(new Io(n.url),new Io(n.params),new Io(n.queryParams),new Io(n.fragment),new Io(n.data),n.outlet,n.component,n)}(e.value),a=e.children.map(c=>n_(n,c));return new jc(s,a)}}function zI(n,e){if(n.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=n.value;for(let t=0;t<n.children.length;++t)zI(n.children[t],e.children[t])}function r_(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Gf(n){return"object"==typeof n&&null!=n&&n.outlets}function i_(n,e,t,s,a){let c={};return s&&ki(s,(p,v)=>{c[v]=Array.isArray(p)?p.map(D=>`${D}`):`${p}`}),new uh(t.root===n?e:YI(t.root,n,e),c,a)}function YI(n,e,t){const s={};return ki(n.children,(a,c)=>{s[c]=a===e?t:YI(a,e,t)}),new en(n.segments,s)}class QI{constructor(e,t,s){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=s,e&&s.length>0&&r_(s[0]))throw new Error("Root segment cannot have matrix parameters");const a=s.find(Gf);if(a&&a!==MS(s))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class s_{constructor(e,t,s){this.segmentGroup=e,this.processChildren=t,this.index=s}}function ta(n,e,t){if(n||(n=new en([],{})),0===n.segments.length&&n.hasChildren())return o_(n,e,t);const s=function(n,e,t){let s=0,a=e;const c={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(s>=t.length)return c;const p=n.segments[a],v=t[s];if(Gf(v))break;const D=`${v}`,R=s<t.length-1?t[s+1]:null;if(a>0&&void 0===D)break;if(D&&R&&"object"==typeof R&&void 0===R.outlets){if(!eD(D,R,p))return c;s+=2}else{if(!eD(D,{},p))return c;s++}a++}return{match:!0,pathIndex:a,commandIndex:s}}(n,e,t),a=t.slice(s.commandIndex);if(s.match&&s.pathIndex<n.segments.length){const c=new en(n.segments.slice(0,s.pathIndex),{});return c.children[qt]=new en(n.segments.slice(s.pathIndex),n.children),o_(c,0,a)}return s.match&&0===a.length?new en(n.segments,{}):s.match&&!n.hasChildren()?Cb(n,e,t):s.match?o_(n,0,a):Cb(n,e,t)}function o_(n,e,t){if(0===t.length)return new en(n.segments,{});{const s=function(n){return Gf(n[0])?n[0].outlets:{[qt]:n}}(t),a={};return ki(s,(c,p)=>{"string"==typeof c&&(c=[c]),null!==c&&(a[p]=ta(n.children[p],e,c))}),ki(n.children,(c,p)=>{void 0===s[p]&&(a[p]=c)}),new en(n.segments,a)}}function Cb(n,e,t){const s=n.segments.slice(0,e);let a=0;for(;a<t.length;){const c=t[a];if(Gf(c)){const D=cR(c.outlets);return new en(s,D)}if(0===a&&r_(t[0])){s.push(new Pg(n.segments[e].path,XI(t[0]))),a++;continue}const p=Gf(c)?c.outlets[qt]:`${c}`,v=a<t.length-1?t[a+1]:null;p&&v&&r_(v)?(s.push(new Pg(p,XI(v))),a+=2):(s.push(new Pg(p,{})),a++)}return new en(s,{})}function cR(n){const e={};return ki(n,(t,s)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[s]=Cb(new en([],{}),0,t))}),e}function XI(n){const e={};return ki(n,(t,s)=>e[s]=`${t}`),e}function eD(n,e,t){return n==t.path&&Dl(e,t.parameters)}class dR{constructor(e,t,s,a){this.routeReuseStrategy=e,this.futureState=t,this.currState=s,this.forwardEvent=a}activate(e){const t=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,s,e),Ts(this.futureState.root),this.activateChildRoutes(t,s,e)}deactivateChildRoutes(e,t,s){const a=$f(t);e.children.forEach(c=>{const p=c.value.outlet;this.deactivateRoutes(c,a[p],s),delete a[p]}),ki(a,(c,p)=>{this.deactivateRouteAndItsChildren(c,s)})}deactivateRoutes(e,t,s){const a=e.value,c=t?t.value:null;if(a===c)if(a.component){const p=s.getContext(a.outlet);p&&this.deactivateChildRoutes(e,t,p.children)}else this.deactivateChildRoutes(e,t,s);else c&&this.deactivateRouteAndItsChildren(t,s)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const s=t.getContext(e.value.outlet);if(s&&s.outlet){const a=s.outlet.detach(),c=s.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){const s=t.getContext(e.value.outlet),a=s&&e.value.component?s.children:t,c=$f(e);for(const p of Object.keys(c))this.deactivateRouteAndItsChildren(c[p],a);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(e,t,s){const a=$f(t);e.children.forEach(c=>{this.activateRoutes(c,a[c.value.outlet],s),this.forwardEvent(new K1(c.value.snapshot))}),e.children.length&&this.forwardEvent(new z1(e.value.snapshot))}activateRoutes(e,t,s){const a=e.value,c=t?t.value:null;if(Ts(a),a===c)if(a.component){const p=s.getOrCreateContext(a.outlet);this.activateChildRoutes(e,t,p.children)}else this.activateChildRoutes(e,t,s);else if(a.component){const p=s.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const v=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),p.children.onOutletReAttached(v.contexts),p.attachRef=v.componentRef,p.route=v.route.value,p.outlet&&p.outlet.attach(v.componentRef,v.route.value),tD(v.route)}else{const v=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(a.snapshot),D=v?v.module.componentFactoryResolver:null;p.attachRef=null,p.route=a,p.resolver=D,p.outlet&&p.outlet.activateWith(a,D),this.activateChildRoutes(e,null,p.children)}}else this.activateChildRoutes(e,null,s)}}function tD(n){Ts(n.value),n.children.forEach(tD)}class Ib{constructor(e,t){this.routes=e,this.module=t}}function $c(n){return"function"==typeof n}function ch(n){return n instanceof uh}const Vg=Symbol("INITIAL_VALUE");function Zf(){return Ut(n=>function(...n){let e,t;return(0,ba.K)(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&(0,rb.k)(n[0])&&(n=n[0]),(0,DI.n)(n,t).lift(new ob(e))}(n.map(e=>e.pipe(Uc(1),Ku(Vg)))).pipe(Uo((e,t)=>{let s=!1;return t.reduce((a,c,p)=>a!==Vg?a:(c===Vg&&(s=!0),s||!1!==c&&p!==t.length-1&&!ch(c)?a:c),e)},Vg),ps(e=>e!==Vg),(0,Tt.U)(e=>ch(e)?e:!0===e),Uc(1)))}let zf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,s){1&t&&h._UZ(0,"router-outlet")},directives:function(){return[Gs]},encapsulation:2}),n})();function a_(n,e=""){for(let t=0;t<n.length;t++){const s=n[t];oD(s,WS(e,s))}}function oD(n,e){n.children&&a_(n.children,e)}function WS(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Db(n){const e=n.children&&n.children.map(Db),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==qt&&(t.component=zf),t}function Ba(n){return n.outlet||qt}function KS(n,e){const t=n.filter(s=>Ba(s)===e);return t.push(...n.filter(s=>Ba(s)!==e)),t}const YS={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Ug(n,e,t){var s;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},YS):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const c=(e.matcher||J1)(t,n,e);if(!c)return Object.assign({},YS);const p={};ki(c.posParams,(D,R)=>{p[R]=D.path});const v=c.consumed.length>0?Object.assign(Object.assign({},p),c.consumed[c.consumed.length-1].parameters):p;return{matched:!0,consumedSegments:c.consumed,lastChild:c.consumed.length,parameters:v,positionalParamSegments:null!==(s=c.posParams)&&void 0!==s?s:{}}}function Bg(n,e,t,s,a="corrected"){if(t.length>0&&function(n,e,t){return t.some(s=>jg(n,e,s)&&Ba(s)!==qt)}(n,t,s)){const p=new en(e,function(n,e,t,s){const a={};a[qt]=s,s._sourceSegment=n,s._segmentIndexShift=e.length;for(const c of t)if(""===c.path&&Ba(c)!==qt){const p=new en([],{});p._sourceSegment=n,p._segmentIndexShift=e.length,a[Ba(c)]=p}return a}(n,e,s,new en(t,n.children)));return p._sourceSegment=n,p._segmentIndexShift=e.length,{segmentGroup:p,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(s=>jg(n,e,s))}(n,t,s)){const p=new en(n.segments,function(n,e,t,s,a,c){const p={};for(const v of s)if(jg(n,t,v)&&!a[Ba(v)]){const D=new en([],{});D._sourceSegment=n,D._segmentIndexShift="legacy"===c?n.segments.length:e.length,p[Ba(v)]=D}return Object.assign(Object.assign({},a),p)}(n,e,t,s,n.children,a));return p._sourceSegment=n,p._segmentIndexShift=e.length,{segmentGroup:p,slicedSegments:t}}const c=new en(n.segments,n.children);return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}function jg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function tx(n,e,t,s){return!!(Ba(n)===s||s!==qt&&jg(e,t,n))&&("**"===n.path||Ug(e,n,t).matched)}function nx(n,e,t){return 0===e.length&&!n.children[t]}class $g{constructor(e){this.segmentGroup=e||null}}class u_{constructor(e){this.urlTree=e}}function Lr(n){return new yr.y(e=>e.error(new $g(n)))}function rx(n){return new yr.y(e=>e.error(new u_(n)))}function aD(n){return new yr.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class l_{constructor(e,t,s,a,c){this.configLoader=t,this.urlSerializer=s,this.urlTree=a,this.config=c,this.allowRedirects=!0,this.ngModule=e.get(h.h0i)}apply(){const e=Bg(this.urlTree.root,[],[],this.config).segmentGroup,t=new en(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,qt).pipe((0,Tt.U)(c=>this.createUrlTree(Tb(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Bc(c=>{if(c instanceof u_)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof $g?this.noMatchError(c):c}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,qt).pipe((0,Tt.U)(a=>this.createUrlTree(Tb(a),e.queryParams,e.fragment))).pipe(Bc(a=>{throw a instanceof $g?this.noMatchError(a):a}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,s){const a=e.segments.length>0?new en([],{[qt]:e}):e;return new uh(a,t,s)}expandSegmentGroup(e,t,s,a){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(e,t,s).pipe((0,Tt.U)(c=>new en([],c))):this.expandSegment(e,s,t,s.segments,a,!0)}expandChildren(e,t,s){const a=[];for(const c of Object.keys(s.children))"primary"===c?a.unshift(c):a.push(c);return(0,yn.D)(a).pipe(ah(c=>{const p=s.children[c],v=KS(t,c);return this.expandSegmentGroup(e,v,p,c).pipe((0,Tt.U)(D=>({segment:D,outlet:c})))}),Uo((c,p)=>(c[p.outlet]=p.segment,c),{}),function(n,e){const t=arguments.length>=2;return s=>s.pipe(n?ps((a,c)=>n(a,c,s)):HA.y,Mg(1),t?Fw(e):bg(()=>new Pf))}())}expandSegment(e,t,s,a,c,p){return(0,yn.D)(s).pipe(ah(v=>this.expandSegmentAgainstRoute(e,t,s,v,a,c,p).pipe(Bc(R=>{if(R instanceof $g)return(0,ht.of)(null);throw R}))),kf(v=>!!v),Bc((v,D)=>{if(v instanceof Pf||"EmptyError"===v.name){if(nx(t,a,c))return(0,ht.of)(new en([],{}));throw new $g(t)}throw v}))}expandSegmentAgainstRoute(e,t,s,a,c,p,v){return tx(a,t,c,p)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(e,t,a,c,p):v&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,s,a,c,p):Lr(t):Lr(t)}expandSegmentAgainstRouteUsingRedirect(e,t,s,a,c,p){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,s,a,p):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,s,a,c,p)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,s,a){const c=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?rx(c):this.lineralizeSegments(s,c).pipe((0,Ds.zg)(p=>{const v=new en(p,{});return this.expandSegment(e,v,t,p,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,s,a,c,p){const{matched:v,consumedSegments:D,lastChild:R,positionalParamSegments:k}=Ug(t,a,c);if(!v)return Lr(t);const U=this.applyRedirectCommands(D,a.redirectTo,k);return a.redirectTo.startsWith("/")?rx(U):this.lineralizeSegments(a,U).pipe((0,Ds.zg)(te=>this.expandSegment(e,t,s,te.concat(c.slice(R)),p,!1)))}matchSegmentAgainstRoute(e,t,s,a,c){if("**"===s.path)return s.loadChildren?(s._loadedConfig?(0,ht.of)(s._loadedConfig):this.configLoader.load(e.injector,s)).pipe((0,Tt.U)(te=>(s._loadedConfig=te,new en(a,{})))):(0,ht.of)(new en(a,{}));const{matched:p,consumedSegments:v,lastChild:D}=Ug(t,s,a);if(!p)return Lr(t);const R=a.slice(D);return this.getChildConfig(e,s,a).pipe((0,Ds.zg)(U=>{const te=U.module,re=U.routes,{segmentGroup:Fe,slicedSegments:Ke}=Bg(t,v,R,re),rt=new en(Fe.segments,Fe.children);if(0===Ke.length&&rt.hasChildren())return this.expandChildren(te,re,rt).pipe((0,Tt.U)(sn=>new en(v,sn)));if(0===re.length&&0===Ke.length)return(0,ht.of)(new en(v,{}));const Qt=Ba(s)===c;return this.expandSegment(te,rt,re,Ke,Qt?qt:c,!0).pipe((0,Tt.U)(nr=>new en(v.concat(nr.segments),nr.children)))}))}getChildConfig(e,t,s){return t.children?(0,ht.of)(new Ib(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,ht.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,s).pipe((0,Ds.zg)(a=>a?this.configLoader.load(e.injector,t).pipe((0,Tt.U)(c=>(t._loadedConfig=c,c))):function(n){return new yr.y(e=>e.error(LI(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):(0,ht.of)(new Ib([],e))}runCanLoadGuards(e,t,s){const a=t.canLoad;if(!a||0===a.length)return(0,ht.of)(!0);const c=a.map(p=>{const v=e.get(p);let D;if(function(n){return n&&$c(n.canLoad)}(v))D=v.canLoad(t,s);else{if(!$c(v))throw new Error("Invalid CanLoad guard");D=v(t,s)}return xu(D)});return(0,ht.of)(c).pipe(Zf(),(0,qs.b)(p=>{if(!ch(p))return;const v=LI(`Redirecting to "${this.urlSerializer.serialize(p)}"`);throw v.url=p,v}),(0,Tt.U)(p=>!0===p))}lineralizeSegments(e,t){let s=[],a=t.root;for(;;){if(s=s.concat(a.segments),0===a.numberOfChildren)return(0,ht.of)(s);if(a.numberOfChildren>1||!a.children[qt])return aD(e.redirectTo);a=a.children[qt]}}applyRedirectCommands(e,t,s){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,s)}applyRedirectCreatreUrlTree(e,t,s,a){const c=this.createSegmentGroup(e,t.root,s,a);return new uh(c,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const s={};return ki(e,(a,c)=>{if("string"==typeof a&&a.startsWith(":")){const v=a.substring(1);s[c]=t[v]}else s[c]=a}),s}createSegmentGroup(e,t,s,a){const c=this.createSegments(e,t.segments,s,a);let p={};return ki(t.children,(v,D)=>{p[D]=this.createSegmentGroup(e,v,s,a)}),new en(c,p)}createSegments(e,t,s,a){return t.map(c=>c.path.startsWith(":")?this.findPosParam(e,c,a):this.findOrReturn(c,s))}findPosParam(e,t,s){const a=s[t.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return a}findOrReturn(e,t){let s=0;for(const a of t){if(a.path===e.path)return t.splice(s),a;s++}return e}}function Tb(n){const e={};for(const s of Object.keys(n.children)){const c=Tb(n.children[s]);(c.segments.length>0||c.hasChildren())&&(e[s]=c)}return function(n){if(1===n.numberOfChildren&&n.children[qt]){const e=n.children[qt];return new en(n.segments.concat(e.segments),e.children)}return n}(new en(n.segments,e))}class Hc{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Hg{constructor(e,t){this.component=e,this.route=t}}function Ab(n,e,t){const s=n._root;return qg(s,e?e._root:null,t,[s.value])}function c_(n,e,t){const s=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(s?s.module.injector:t).get(n)}function qg(n,e,t,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=$f(e);return n.children.forEach(p=>{(function(n,e,t,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,p=e?e.value:null,v=t?t.getContext(n.value.outlet):null;if(p&&c.routeConfig===p.routeConfig){const D=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ea(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ea(n.url,e.url)||!Dl(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_b(n,e)||!Dl(n.queryParams,e.queryParams);case"paramsChange":default:return!_b(n,e)}}(p,c,c.routeConfig.runGuardsAndResolvers);D?a.canActivateChecks.push(new Hc(s)):(c.data=p.data,c._resolvedData=p._resolvedData),qg(n,e,c.component?v?v.children:null:t,s,a),D&&v&&v.outlet&&v.outlet.isActivated&&a.canDeactivateChecks.push(new Hg(v.outlet.component,p))}else p&&Tr(e,v,a),a.canActivateChecks.push(new Hc(s)),qg(n,null,c.component?v?v.children:null:t,s,a)})(p,c[p.value.outlet],t,s.concat([p.value]),a),delete c[p.value.outlet]}),ki(c,(p,v)=>Tr(p,t.getContext(v),a)),a}function Tr(n,e,t){const s=$f(n),a=n.value;ki(s,(c,p)=>{Tr(c,a.component?e?e.children.getContext(p):null:e,t)}),t.canDeactivateChecks.push(new Hg(a.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,a))}class yR{}function dD(n){return new yr.y(e=>e.error(n))}class cx{constructor(e,t,s,a,c,p){this.rootComponentType=e,this.config=t,this.urlTree=s,this.url=a,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=p}recognize(){const e=Bg(this.urlTree.root,[],[],this.config.filter(p=>void 0===p.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,qt);if(null===t)return null;const s=new t_([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},qt,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new jc(s,t),c=new GI(this.url,a);return this.inheritParamsAndData(c._root),c}inheritParamsAndData(e){const t=e.value,s=qf(t,this.paramsInheritanceStrategy);t.params=Object.freeze(s.params),t.data=Object.freeze(s.data),e.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(e,t,s){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,s)}processChildren(e,t){const s=[];for(const c of Object.keys(t.children)){const p=t.children[c],v=KS(e,c),D=this.processSegmentGroup(v,p,c);if(null===D)return null;s.push(...D)}const a=hD(s);return function(n){n.sort((e,t)=>e.value.outlet===qt?-1:t.value.outlet===qt?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}processSegment(e,t,s,a){for(const c of e){const p=this.processSegmentAgainstRoute(c,t,s,a);if(null!==p)return p}return nx(t,s,a)?[]:null}processSegmentAgainstRoute(e,t,s,a){if(e.redirectTo||!tx(e,t,s,a))return null;let c,p=[],v=[];if("**"===e.path){const re=s.length>0?MS(s).parameters:{};c=new t_(s,re,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,px(e),Ba(e),e.component,e,fD(t),fx(t)+s.length,pD(e))}else{const re=Ug(t,e,s);if(!re.matched)return null;p=re.consumedSegments,v=s.slice(re.lastChild),c=new t_(p,re.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,px(e),Ba(e),e.component,e,fD(t),fx(t)+p.length,pD(e))}const D=function(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:R,slicedSegments:k}=Bg(t,p,v,D.filter(re=>void 0===re.redirectTo),this.relativeLinkResolution);if(0===k.length&&R.hasChildren()){const re=this.processChildren(D,R);return null===re?null:[new jc(c,re)]}if(0===D.length&&0===k.length)return[new jc(c,[])];const U=Ba(e)===a,te=this.processSegment(D,R,k,U?qt:a);return null===te?null:[new jc(c,te)]}}function _R(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function hD(n){const e=[],t=new Set;for(const s of n){if(!_R(s)){e.push(s);continue}const a=e.find(c=>s.value.routeConfig===c.value.routeConfig);void 0!==a?(a.children.push(...s.children),t.add(a)):e.push(s)}for(const s of t){const a=hD(s.children);e.push(new jc(s.value,a))}return e.filter(s=>!t.has(s))}function fD(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function fx(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function px(n){return n.data||{}}function pD(n){return n.resolve||{}}function Rb(n){return Ut(e=>{const t=n(e);return t?(0,yn.D)(t).pipe((0,Tt.U)(()=>e)):(0,ht.of)(e)})}class bx extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const gD=new h.OlP("ROUTES");class mD{constructor(e,t,s,a){this.loader=e,this.compiler=t,this.onLoadStartListener=s,this.onLoadEndListener=a}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const a=this.loadModuleFactory(t.loadChildren).pipe((0,Tt.U)(c=>{this.onLoadEndListener&&this.onLoadEndListener(t);const p=c.create(e);return new Ib(NS(p.injector.get(gD,void 0,h.XFs.Self|h.XFs.Optional)).map(Db),p)}),Bc(c=>{throw t._loader$=void 0,c}));return t._loader$=new ES.c(a,()=>new sh.xQ).pipe((0,SI.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,yn.D)(this.loader.load(e)):xu(e()).pipe((0,Ds.zg)(t=>t instanceof h.YKP?(0,ht.of)(t):(0,yn.D)(this.compiler.compileModuleAsync(t))))}}class Ex{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Wf,this.attachRef=null}}class Wf{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const s=this.getOrCreateContext(e);s.outlet=t,this.contexts.set(e,s)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Ex,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class yD{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function wR(n){throw n}function Cx(n,e,t){return e.parse("/")}function Ix(n,e){return(0,ht.of)(null)}const bR={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ER={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let li=(()=>{class n{constructor(t,s,a,c,p,v,D,R){this.rootComponentType=t,this.urlSerializer=s,this.rootContexts=a,this.location=c,this.config=R,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new sh.xQ,this.errorHandler=wR,this.malformedUriErrorHandler=Cx,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ix,afterPreactivation:Ix},this.urlHandlingStrategy=new yD,this.routeReuseStrategy=new bx,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=p.get(h.h0i),this.console=p.get(h.c2e);const te=p.get(h.R0b);this.isNgZoneEnabled=te instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(R),this.currentUrlTree=new uh(new en([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new mD(v,D,re=>this.triggerEvent(new FI(re)),re=>this.triggerEvent(new lb(re))),this.routerState=HS(this.currentUrlTree,this.rootComponentType),this.transitions=new Io({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const s=this.events;return t.pipe(ps(a=>0!==a.id),(0,Tt.U)(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Ut(a=>{let c=!1,p=!1;return(0,ht.of)(a).pipe((0,qs.b)(v=>{this.currentNavigation={id:v.id,initialUrl:v.currentRawUrl,extractedUrl:v.extractedUrl,trigger:v.source,extras:v.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ut(v=>{const D=this.browserUrlTree.toString(),R=!this.navigated||v.extractedUrl.toString()!==D||D!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||R)&&this.urlHandlingStrategy.shouldProcessUrl(v.rawUrl))return f_(v.source)&&(this.browserUrlTree=v.extractedUrl),(0,ht.of)(v).pipe(Ut(U=>{const te=this.transitions.getValue();return s.next(new ub(U.id,this.serializeUrl(U.extractedUrl),U.source,U.restoredState)),te!==this.transitions.getValue()?El.E:Promise.resolve(U)}),function(n,e,t,s){return Ut(a=>function(n,e,t,s,a){return new l_(n,e,t,s,a).apply()}(n,e,t,a.extractedUrl,s).pipe((0,Tt.U)(c=>Object.assign(Object.assign({},a),{urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,qs.b)(U=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:U.urlAfterRedirects})}),function(n,e,t,s,a){return(0,Ds.zg)(c=>function(n,e,t,s,a="emptyOnly",c="legacy"){try{const p=new cx(n,e,t,s,a,c).recognize();return null===p?dD(new yR):(0,ht.of)(p)}catch(p){return dD(p)}}(n,e,c.urlAfterRedirects,t(c.urlAfterRedirects),s,a).pipe((0,Tt.U)(p=>Object.assign(Object.assign({},c),{targetSnapshot:p}))))}(this.rootComponentType,this.config,U=>this.serializeUrl(U),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,qs.b)(U=>{"eager"===this.urlUpdateStrategy&&(U.extras.skipLocationChange||this.setBrowserUrl(U.urlAfterRedirects,U),this.browserUrlTree=U.urlAfterRedirects);const te=new OI(U.id,this.serializeUrl(U.extractedUrl),this.serializeUrl(U.urlAfterRedirects),U.targetSnapshot);s.next(te)}));if(R&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:te,extractedUrl:re,source:Fe,restoredState:Ke,extras:rt}=v,Qt=new ub(te,this.serializeUrl(re),Fe,Ke);s.next(Qt);const Tn=HS(re,this.rootComponentType).snapshot;return(0,ht.of)(Object.assign(Object.assign({},v),{targetSnapshot:Tn,urlAfterRedirects:re,extras:Object.assign(Object.assign({},rt),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=v.rawUrl,this.browserUrlTree=v.urlAfterRedirects,v.resolve(null),El.E}),Rb(v=>{const{targetSnapshot:D,id:R,extractedUrl:k,rawUrl:U,extras:{skipLocationChange:te,replaceUrl:re}}=v;return this.hooks.beforePreactivation(D,{navigationId:R,appliedUrlTree:k,rawUrlTree:U,skipLocationChange:!!te,replaceUrl:!!re})}),(0,qs.b)(v=>{const D=new PI(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(D)}),(0,Tt.U)(v=>Object.assign(Object.assign({},v),{guards:Ab(v.targetSnapshot,v.currentSnapshot,this.rootContexts)})),function(n,e){return(0,Ds.zg)(t=>{const{targetSnapshot:s,currentSnapshot:a,guards:{canActivateChecks:c,canDeactivateChecks:p}}=t;return 0===p.length&&0===c.length?(0,ht.of)(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,s){return(0,yn.D)(n).pipe((0,Ds.zg)(a=>function(n,e,t,s,a){const c=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!c||0===c.length)return(0,ht.of)(!0);const p=c.map(v=>{const D=c_(v,e,a);let R;if(function(n){return n&&$c(n.canDeactivate)}(D))R=xu(D.canDeactivate(n,e,t,s));else{if(!$c(D))throw new Error("Invalid CanDeactivate guard");R=xu(D(n,e,t,s))}return R.pipe(kf())});return(0,ht.of)(p).pipe(Zf())}(a.component,a.route,t,e,s)),kf(a=>!0!==a,!0))}(p,s,a,n).pipe((0,Ds.zg)(v=>v&&function(n){return"boolean"==typeof n}(v)?function(n,e,t,s){return(0,yn.D)(e).pipe(ah(a=>Eh(function(n,e){return null!==n&&e&&e(new Z1(n)),(0,ht.of)(!0)}(a.route.parent,s),function(n,e){return null!==n&&e&&e(new W1(n)),(0,ht.of)(!0)}(a.route,s),function(n,e,t){const s=e[e.length-1],c=e.slice(0,e.length-1).reverse().map(p=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(p)).filter(p=>null!==p).map(p=>ab(()=>{const v=p.guards.map(D=>{const R=c_(D,p.node,t);let k;if(function(n){return n&&$c(n.canActivateChild)}(R))k=xu(R.canActivateChild(s,n));else{if(!$c(R))throw new Error("Invalid CanActivateChild guard");k=xu(R(s,n))}return k.pipe(kf())});return(0,ht.of)(v).pipe(Zf())}));return(0,ht.of)(c).pipe(Zf())}(n,a.path,t),function(n,e,t){const s=e.routeConfig?e.routeConfig.canActivate:null;if(!s||0===s.length)return(0,ht.of)(!0);const a=s.map(c=>ab(()=>{const p=c_(c,e,t);let v;if(function(n){return n&&$c(n.canActivate)}(p))v=xu(p.canActivate(e,n));else{if(!$c(p))throw new Error("Invalid CanActivate guard");v=xu(p(e,n))}return v.pipe(kf())}));return(0,ht.of)(a).pipe(Zf())}(n,a.route,t))),kf(a=>!0!==a,!0))}(s,c,n,e):(0,ht.of)(v)),(0,Tt.U)(v=>Object.assign(Object.assign({},t),{guardsResult:v})))})}(this.ngModule.injector,v=>this.triggerEvent(v)),(0,qs.b)(v=>{if(ch(v.guardsResult)){const R=LI(`Redirecting to "${this.serializeUrl(v.guardsResult)}"`);throw R.url=v.guardsResult,R}const D=new kI(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot,!!v.guardsResult);this.triggerEvent(D)}),ps(v=>!!v.guardsResult||(this.restoreHistory(v),this.cancelNavigationTransition(v,""),!1)),Rb(v=>{if(v.guards.canActivateChecks.length)return(0,ht.of)(v).pipe((0,qs.b)(D=>{const R=new TS(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);this.triggerEvent(R)}),Ut(D=>{let R=!1;return(0,ht.of)(D).pipe(function(n,e){return(0,Ds.zg)(t=>{const{targetSnapshot:s,guards:{canActivateChecks:a}}=t;if(!a.length)return(0,ht.of)(t);let c=0;return(0,yn.D)(a).pipe(ah(p=>function(n,e,t,s){return function(n,e,t,s){const a=Object.keys(n);if(0===a.length)return(0,ht.of)({});const c={};return(0,yn.D)(a).pipe((0,Ds.zg)(p=>function(n,e,t,s){const a=c_(n,e,s);return xu(a.resolve?a.resolve(e,t):a(e,t))}(n[p],e,t,s).pipe((0,qs.b)(v=>{c[p]=v}))),Mg(1),(0,Ds.zg)(()=>Object.keys(c).length===a.length?(0,ht.of)(c):El.E))}(n._resolve,n,e,s).pipe((0,Tt.U)(c=>(n._resolvedData=c,n.data=Object.assign(Object.assign({},n.data),qf(n,t).resolve),null)))}(p.route,s,n,e)),(0,qs.b)(()=>c++),Mg(1),(0,Ds.zg)(p=>c===a.length?(0,ht.of)(t):El.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,qs.b)({next:()=>R=!0,complete:()=>{R||(this.restoreHistory(D),this.cancelNavigationTransition(D,"At least one route resolver didn't emit any value."))}}))}),(0,qs.b)(D=>{const R=new AS(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);this.triggerEvent(R)}))}),Rb(v=>{const{targetSnapshot:D,id:R,extractedUrl:k,rawUrl:U,extras:{skipLocationChange:te,replaceUrl:re}}=v;return this.hooks.afterPreactivation(D,{navigationId:R,appliedUrlTree:k,rawUrlTree:U,skipLocationChange:!!te,replaceUrl:!!re})}),(0,Tt.U)(v=>{const D=function(n,e,t){const s=n_(n,e._root,t?t._root:void 0);return new qI(s,e)}(this.routeReuseStrategy,v.targetSnapshot,v.currentRouterState);return Object.assign(Object.assign({},v),{targetRouterState:D})}),(0,qs.b)(v=>{this.currentUrlTree=v.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(v.urlAfterRedirects,v.rawUrl),this.routerState=v.targetRouterState,"deferred"===this.urlUpdateStrategy&&(v.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,v),this.browserUrlTree=v.urlAfterRedirects)}),((n,e,t)=>(0,Tt.U)(s=>(new dR(e,s.targetRouterState,s.currentRouterState,t).activate(n),s)))(this.rootContexts,this.routeReuseStrategy,v=>this.triggerEvent(v)),(0,qs.b)({next(){c=!0},complete(){c=!0}}),function(n){return e=>e.lift(new xI(n))}(()=>{if(!c&&!p){const v=`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(a),this.cancelNavigationTransition(a,v)):this.cancelNavigationTransition(a,v)}this.currentNavigation=null}),Bc(v=>{if(p=!0,function(n){return n&&n[xS]}(v)){const D=ch(v.url);D||(this.navigated=!0,this.restoreHistory(a,!0));const R=new NI(a.id,this.serializeUrl(a.extractedUrl),v.message);s.next(R),D?setTimeout(()=>{const k=this.urlHandlingStrategy.merge(v.url,this.rawUrlTree),U={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||f_(a.source)};this.scheduleNavigation(k,"imperative",null,U,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const D=new MI(a.id,this.serializeUrl(a.extractedUrl),v);s.next(D);try{a.resolve(this.errorHandler(v))}catch(R){a.reject(R)}}return El.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const s=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,s)&&setTimeout(()=>{const{source:a,state:c,urlTree:p}=s,v={replaceUrl:!0};if(c){const D=Object.assign({},c);delete D.navigationId,delete D.\u0275routerPageId,0!==Object.keys(D).length&&(v.state=D)}this.scheduleNavigation(p,a,c,v)},0),this.lastLocationChangeInfo=s}))}extractLocationChangeInfoFromEvent(t){var s;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(s=t.state)||void 0===s?void 0:s.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,s){if(!t)return!0;const a=s.urlTree.toString()===t.urlTree.toString();return s.transitionId!==t.transitionId||!a||!("hashchange"===s.source&&"popstate"===t.source||"popstate"===s.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){a_(t),this.config=t.map(Db),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,s={}){const{relativeTo:a,queryParams:c,fragment:p,queryParamsHandling:v,preserveFragment:D}=s,R=a||this.routerState.root,k=D?this.currentUrlTree.fragment:p;let U=null;switch(v){case"merge":U=Object.assign(Object.assign({},this.currentUrlTree.queryParams),c);break;case"preserve":U=this.currentUrlTree.queryParams;break;default:U=c||null}return null!==U&&(U=this.removeEmptyProps(U)),function(n,e,t,s,a){if(0===t.length)return i_(e.root,e.root,e,s,a);const c=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new QI(!0,0,n);let e=0,t=!1;const s=n.reduce((a,c,p)=>{if("object"==typeof c&&null!=c){if(c.outlets){const v={};return ki(c.outlets,(D,R)=>{v[R]="string"==typeof D?D.split("/"):D}),[...a,{outlets:v}]}if(c.segmentPath)return[...a,c.segmentPath]}return"string"!=typeof c?[...a,c]:0===p?(c.split("/").forEach((v,D)=>{0==D&&"."===v||(0==D&&""===v?t=!0:".."===v?e++:""!=v&&a.push(v))}),a):[...a,c]},[]);return new QI(t,e,s)}(t);if(c.toRoot())return i_(e.root,new en([],{}),e,s,a);const p=function(n,e,t){if(n.isAbsolute)return new s_(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const c=t.snapshot._urlSegment;return new s_(c,c===e.root,0)}const s=r_(n.commands[0])?0:1;return function(n,e,t){let s=n,a=e,c=t;for(;c>a;){if(c-=a,s=s.parent,!s)throw new Error("Invalid number of '../'");a=s.segments.length}return new s_(s,!1,a-c)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+s,n.numberOfDoubleDots)}(c,e,n),v=p.processChildren?o_(p.segmentGroup,p.index,c.commands):ta(p.segmentGroup,p.index,c.commands);return i_(p.segmentGroup,v,e,s,a)}(R,this.currentUrlTree,t,U,null!=k?k:null)}navigateByUrl(t,s={skipLocationChange:!1}){const a=ch(t)?t:this.parseUrl(t),c=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,s)}navigate(t,s={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,s),s)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let s;try{s=this.urlSerializer.parse(t)}catch(a){s=this.malformedUriErrorHandler(a,this.urlSerializer,t)}return s}isActive(t,s){let a;if(a=!0===s?Object.assign({},bR):!1===s?Object.assign({},ER):s,ch(t))return VI(this.currentUrlTree,t,a);const c=this.parseUrl(t);return VI(this.currentUrlTree,c,a)}removeEmptyProps(t){return Object.keys(t).reduce((s,a)=>{const c=t[a];return null!=c&&(s[a]=c),s},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Uf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,s,a,c,p){var v,D;if(this.disposed)return Promise.resolve(!1);const R=this.getTransition(),k=f_(s)&&R&&!f_(R.source),re=(this.lastSuccessfulId===R.id||this.currentNavigation?R.rawUrl:R.urlAfterRedirects).toString()===t.toString();if(k&&re)return Promise.resolve(!0);let Fe,Ke,rt;p?(Fe=p.resolve,Ke=p.reject,rt=p.promise):rt=new Promise((nr,sn)=>{Fe=nr,Ke=sn});const Qt=++this.navigationId;let Tn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),Tn=a&&a.\u0275routerPageId?a.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?null!==(v=this.browserPageId)&&void 0!==v?v:0:(null!==(D=this.browserPageId)&&void 0!==D?D:0)+1):Tn=0,this.setTransition({id:Qt,targetPageId:Tn,source:s,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:c,resolve:Fe,reject:Ke,promise:rt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),rt.catch(nr=>Promise.reject(nr))}setBrowserUrl(t,s){const a=this.urlSerializer.serialize(t),c=Object.assign(Object.assign({},s.extras.state),this.generateNgRouterState(s.id,s.targetPageId));this.location.isCurrentPathEqualTo(a)||s.extras.replaceUrl?this.location.replaceState(a,"",c):this.location.go(a,"",c)}restoreHistory(t,s=!1){var a,c;if("computed"===this.canceledNavigationResolution){const p=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===p?this.currentUrlTree===(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)&&0===p&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(p)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,s){const a=new NI(t.id,this.serializeUrl(t.extractedUrl),s);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,s){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:s}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.DyG),h.LFG(hb),h.LFG(Wf),h.LFG(je),h.LFG(h.zs3),h.LFG(h.v3s),h.LFG(h.Sil),h.LFG(void 0))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function f_(n){return"imperative"!==n}let Zg=(()=>{class n{constructor(t,s,a){this.router=t,this.route=s,this.locationStrategy=a,this.commands=[],this.onChanges=new sh.xQ,this.subscription=t.events.subscribe(c=>{c instanceof Uf&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,s,a,c,p){if(0!==t||s||a||c||p||"string"==typeof this.target&&"_self"!=this.target)return!0;const v={skipLocationChange:Kf(this.skipLocationChange),replaceUrl:Kf(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,v),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Kf(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(li),h.Y36(Hf),h.Y36(W))},n.\u0275dir=h.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,s){1&t&&h.NdJ("click",function(c){return s.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),2&t&&(h.Ikx("href",s.href,h.LSH),h.uIk("target",s.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[h.TTD]}),n})();function Kf(n){return""===n||!!n}let Gs=(()=>{class n{constructor(t,s,a,c,p){this.parentContexts=t,this.location=s,this.resolver=a,this.changeDetector=p,this.activated=null,this._activatedRoute=null,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.name=c||qt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,s){this.activated=t,this._activatedRoute=s,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,s){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const p=(s=s||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),v=this.parentContexts.getOrCreateContext(this.name).children,D=new CR(t,v,this.location.injector);this.activated=this.location.createComponent(p,this.location.length,D),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Wf),h.Y36(h.s_b),h.Y36(h._Vd),h.$8M("name"),h.Y36(h.sBO))},n.\u0275dir=h.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class CR{constructor(e,t,s){this.route=e,this.childContexts=t,this.parent=s}get(e,t){return e===Hf?this.route:e===Wf?this.childContexts:this.parent.get(e,t)}}class Mb{}class Ob{preload(e,t){return(0,ht.of)(null)}}let Pb=(()=>{class n{constructor(t,s,a,c,p){this.router=t,this.injector=c,this.preloadingStrategy=p,this.loader=new mD(s,a,R=>t.triggerEvent(new FI(R)),R=>t.triggerEvent(new lb(R)))}setUpPreloading(){this.subscription=this.router.events.pipe(ps(t=>t instanceof Uf),ah(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(h.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,s){const a=[];for(const c of s)if(c.loadChildren&&!c.canLoad&&c._loadedConfig){const p=c._loadedConfig;a.push(this.processRoutes(p.module,p.routes))}else c.loadChildren&&!c.canLoad?a.push(this.preloadConfig(t,c)):c.children&&a.push(this.processRoutes(t,c.children));return(0,yn.D)(a).pipe((0,fs.J)(),(0,Tt.U)(c=>{}))}preloadConfig(t,s){return this.preloadingStrategy.preload(s,()=>(s._loadedConfig?(0,ht.of)(s._loadedConfig):this.loader.load(t.injector,s)).pipe((0,Ds.zg)(c=>(s._loadedConfig=c,this.processRoutes(c.module,c.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(li),h.LFG(h.v3s),h.LFG(h.Sil),h.LFG(h.zs3),h.LFG(Mb))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),p_=(()=>{class n{constructor(t,s,a={}){this.router=t,this.viewportScroller=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ub?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Uf&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof SS&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,s){this.router.triggerEvent(new SS(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(li),h.LFG(no),h.LFG(void 0))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Tl=new h.OlP("ROUTER_CONFIGURATION"),g_=new h.OlP("ROUTER_FORROOT_GUARD"),y_=[je,{provide:hb,useClass:jI},{provide:li,useFactory:function(n,e,t,s,a,c,p,v={},D,R){const k=new li(null,n,e,t,s,a,c,NS(p));return D&&(k.urlHandlingStrategy=D),R&&(k.routeReuseStrategy=R),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy)}(v,k),v.enableTracing&&k.events.subscribe(U=>{var te,re;null===(te=console.group)||void 0===te||te.call(console,`Router Event: ${U.constructor.name}`),console.log(U.toString()),console.log(U),null===(re=console.groupEnd)||void 0===re||re.call(console)}),k},deps:[hb,Wf,je,h.zs3,h.v3s,h.Sil,gD,Tl,[class{},new h.FiY],[class{},new h.FiY]]},Wf,{provide:Hf,useFactory:function(n){return n.routerState.root},deps:[li]},{provide:h.v3s,useClass:h.EAV},Pb,Ob,class{preload(e,t){return t().pipe(Bc(()=>(0,ht.of)(null)))}},{provide:Tl,useValue:{enableTracing:!1}}];function vD(){return new h.PXZ("Router",li)}let kb=(()=>{class n{constructor(t,s){}static forRoot(t,s){return{ngModule:n,providers:[y_,bD(t),{provide:g_,useFactory:wD,deps:[[li,new h.FiY,new h.tp0]]},{provide:Tl,useValue:s||{}},{provide:W,useFactory:Rx,deps:[ye,[new h.tBr(ve),new h.FiY],Tl]},{provide:p_,useFactory:xx,deps:[li,no,Tl]},{provide:Mb,useExisting:s&&s.preloadingStrategy?s.preloadingStrategy:Ob},{provide:h.PXZ,multi:!0,useFactory:vD},[Lb,{provide:h.ip1,multi:!0,useFactory:As,deps:[Lb]},{provide:Wg,useFactory:zg,deps:[Lb]},{provide:h.tb,multi:!0,useExisting:Wg}]]}}static forChild(t){return{ngModule:n,providers:[bD(t)]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(g_,8),h.LFG(li,8))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();function xx(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new p_(n,e,t)}function Rx(n,e,t={}){return t.useHash?new Se(n,e):new de(n,e)}function wD(n){return"guarded"}function bD(n){return[{provide:h.deG,multi:!0,useValue:n},{provide:gD,multi:!0,useValue:n}]}let Lb=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new sh.xQ}appInitializer(){return this.injector.get(V,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let s=null;const a=new Promise(v=>s=v),c=this.injector.get(li),p=this.injector.get(Tl);return"disabled"===p.initialNavigation?(c.setUpLocationChangeListener(),s(!0)):"enabled"===p.initialNavigation||"enabledBlocking"===p.initialNavigation?(c.hooks.afterPreactivation=()=>this.initNavigation?(0,ht.of)(null):(this.initNavigation=!0,s(!0),this.resultOfPreactivationDone),c.initialNavigation()):s(!0),a})}bootstrapListener(t){const s=this.injector.get(Tl),a=this.injector.get(Pb),c=this.injector.get(p_),p=this.injector.get(li),v=this.injector.get(h.z2F);t===v.components[0]&&(("enabledNonBlocking"===s.initialNavigation||void 0===s.initialNavigation)&&p.initialNavigation(),a.setUpPreloading(),c.init(),p.resetRootComponentType(v.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.zs3))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function As(n){return n.appInitializer.bind(n)}function zg(n){return n.bootstrapListener.bind(n)}const Wg=new h.OlP("Router Initializer");var Ub=B(1555);function dh(n,e){return new yr.y(t=>{const s=n.length;if(0===s)return void t.complete();const a=new Array(s);let c=0,p=0;for(let v=0;v<s;v++){const D=(0,yn.D)(n[v]);let R=!1;t.add(D.subscribe({next:k=>{R||(R=!0,p++),a[v]=k},error:k=>t.error(k),complete:()=>{c++,(c===s||!R)&&(p===s&&t.next(e?e.reduce((k,U,te)=>(k[U]=a[te],k),{}):a),t.complete())}}))}})}let ID=(()=>{class n{constructor(t,s){this._renderer=t,this._elementRef=s,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(t,s){this._renderer.setProperty(this._elementRef.nativeElement,t,s)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n}),n})(),hh=(()=>{class n extends ID{}return n.\u0275fac=function(){let e;return function(s){return(e||(e=h.n5z(n)))(s||n)}}(),n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();const Ru=new h.OlP("NgValueAccessor"),Px={provide:Ru,useExisting:(0,h.Gpc)(()=>na),multi:!0},Fx=new h.OlP("CompositionEventMode");let na=(()=>{class n extends ID{constructor(t,s,a){super(t,s),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=L()?L().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(Fx,8))},n.\u0275dir=h.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,s){1&t&&h.NdJ("input",function(c){return s._handleInput(c.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(c){return s._compositionEnd(c.target.value)})},features:[h._Bn([Px]),h.qOj]}),n})();function ra(n){return null==n||0===n.length}function __(n){return null!=n&&"number"==typeof n.length}const es=new h.OlP("NgValidators"),qc=new h.OlP("NgAsyncValidators"),Lx=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Al{static min(e){return function(n){return e=>{if(ra(e.value)||ra(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function(n){return e=>{if(ra(e.value)||ra(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function(n){return ra(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function(n){return ra(n.value)||Lx.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function(n){return e=>ra(e.value)||!__(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function(n){return e=>__(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function(n){if(!n)return Do;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),s=>{if(ra(s.value))return null;const a=s.value;return e.test(a)?null:{pattern:{requiredPattern:t,actualValue:a}}}}(e)}static nullValidator(e){return null}static compose(e){return qb(e)}static composeAsync(e){return Gb(e)}}function Do(n){return null}function Kg(n){return null!=n}function fh(n){const e=(0,h.QGY)(n)?(0,yn.D)(n):n;return(0,h.CqO)(e),e}function xD(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function RD(n,e){return e.map(t=>t(n))}function Hb(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function qb(n){if(!n)return null;const e=n.filter(Kg);return 0==e.length?null:function(t){return xD(RD(t,e))}}function v_(n){return null!=n?qb(Hb(n)):null}function Gb(n){if(!n)return null;const e=n.filter(Kg);return 0==e.length?null:function(t){return function(...n){if(1===n.length){const e=n[0];if((0,rb.k)(e))return dh(e,null);if((0,Ub.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return dh(t.map(s=>e[s]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return dh(n=1===n.length&&(0,rb.k)(n[0])?n[0]:n,null).pipe((0,Tt.U)(t=>e(...t)))}return dh(n,null)}(RD(t,e).map(fh)).pipe((0,Tt.U)(xD))}}function Yg(n){return null!=n?Gb(Hb(n)):null}function ND(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function MD(n){return n._rawValidators}function Zb(n){return n._rawAsyncValidators}function Sl(n){return n?Array.isArray(n)?n:[n]:[]}function Qf(n,e){return Array.isArray(n)?n.includes(e):n===e}function OD(n,e){const t=Sl(e);return Sl(n).forEach(a=>{Qf(t,a)||t.push(a)}),t}function PD(n,e){return Sl(e).filter(t=>!Qf(n,t))}let Ux=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=v_(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Yg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,s){return!!this.control&&this.control.hasError(t,s)}getError(t,s){return this.control?this.control.getError(t,s):null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n}),n})(),Zs=(()=>{class n extends Ux{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let e;return function(s){return(e||(e=h.n5z(n)))(s||n)}}(),n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();class ph extends Ux{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Bx{constructor(e){this._cd=e}is(e){var t,s,a;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(a=null===(s=this._cd)||void 0===s?void 0:s.control)||void 0===a?void 0:a[e])}}let kD=(()=>{class n extends Bx{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(ph,2))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,s){2&t&&h.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))},features:[h.qOj]}),n})(),zb=(()=>{class n extends Bx{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Zs,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,s){2&t&&h.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))("ng-submitted",s.is("submitted"))},features:[h.qOj]}),n})();function m(n,e){S(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Y(n,e)})}(n,e),function(n,e){const t=(s,a)=>{e.valueAccessor.writeValue(s),a&&e.viewToModelUpdate(s)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Y(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=s=>{e.valueAccessor.setDisabledState(s)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function y(n,e,t=!0){const s=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(s),e.valueAccessor.registerOnTouched(s)),O(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function b(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function S(n,e){const t=MD(n);null!==e.validator?n.setValidators(ND(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const s=Zb(n);null!==e.asyncValidator?n.setAsyncValidators(ND(s,e.asyncValidator)):"function"==typeof s&&n.setAsyncValidators([s]);const a=()=>n.updateValueAndValidity();b(e._rawValidators,a),b(e._rawAsyncValidators,a)}function O(n,e){let t=!1;if(null!==n){if(null!==e.validator){const a=MD(n);if(Array.isArray(a)&&a.length>0){const c=a.filter(p=>p!==e.validator);c.length!==a.length&&(t=!0,n.setValidators(c))}}if(null!==e.asyncValidator){const a=Zb(n);if(Array.isArray(a)&&a.length>0){const c=a.filter(p=>p!==e.asyncValidator);c.length!==a.length&&(t=!0,n.setAsyncValidators(c))}}}const s=()=>{};return b(e._rawValidators,s),b(e._rawAsyncValidators,s),t}function Y(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Gc(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Mu="VALID",xl="INVALID",Zc="PENDING",gh="DISABLED";function Jg(n){return(Hx(n)?n.validators:n)||null}function w_(n){return Array.isArray(n)?v_(n):n||null}function $x(n,e){return(Hx(e)?e.asyncValidators:n)||null}function AR(n){return Array.isArray(n)?Yg(n):n||null}function Hx(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class qx{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=w_(this._rawValidators),this._composedAsyncValidatorFn=AR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Mu}get invalid(){return this.status===xl}get pending(){return this.status==Zc}get disabled(){return this.status===gh}get enabled(){return this.status!==gh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=w_(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=AR(e)}addValidators(e){this.setValidators(OD(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(OD(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(PD(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(PD(e,this._rawAsyncValidators))}hasValidator(e){return Qf(this._rawValidators,e)}hasAsyncValidator(e){return Qf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Zc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=gh,this.errors=null,this._forEachChild(s=>{s.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(s=>s(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Mu,this._forEachChild(s=>{s.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Mu||this.status===Zc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gh:Mu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Zc,this._hasOwnPendingAsyncValidator=!0;const t=fh(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let s=n;return e.forEach(a=>{s=s instanceof Yb?s.controls.hasOwnProperty(a)?s.controls[a]:null:s instanceof Gx&&s.at(a)||null}),s}(this,e)}getError(e,t){const s=t?this.get(t):this;return s&&s.errors?s.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?gh:this.errors?xl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zc)?Zc:this._anyControlsHaveStatus(xl)?xl:Mu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Hx(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class b_ extends qx{constructor(e=null,t,s){super(Jg(t),$x(s,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Gc(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Gc(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Yb extends qx{constructor(e,t,s){super(Jg(t),$x(s,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,s={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,s={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(s=>{this._throwIfControlMissing(s),this.controls[s].setValue(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(s=>{this.controls[s]&&this.controls[s].patchValue(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((s,a)=>{s.reset(e[a],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,s)=>(e[s]=t instanceof b_?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,s)=>!!s._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const s=this.controls[t];s&&e(s,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const s=this.controls[t];if(this.contains(t)&&e(s))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,s)=>((t.enabled||this.disabled)&&(e[s]=t.value),e))}_reduceChildren(e,t){let s=e;return this._forEachChild((a,c)=>{s=t(s,a,c)}),s}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,s)=>{if(void 0===e[s])throw new Error(`Must supply a value for form control with name: '${s}'.`)})}}class Gx extends qx{constructor(e,t,s){super(Jg(t),$x(s,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,s={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:s.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,s={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((s,a)=>{this._throwIfControlMissing(a),this.at(a).setValue(s,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((s,a)=>{this.at(a)&&this.at(a).patchValue(s,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((s,a)=>{s.reset(e[a],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof b_?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,s)=>!!s._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,s)=>{e(t,s)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,s)=>{if(void 0===e[s])throw new Error(`Must supply a value for form control at index: ${s}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let VD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),OR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();const zx=new h.OlP("NgModelWithFormControlWarning"),uN={provide:Zs,useExisting:(0,h.Gpc)(()=>Jb)};let Jb=(()=>{class n extends Zs{constructor(t,s){super(),this.validators=t,this.asyncValidators=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new h.vpe,this._setValidators(t),this._setAsyncValidators(s)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(O(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const s=this.form.get(t.path);return m(s,t),s.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),s}getControl(t){return this.form.get(t.path)}removeControl(t){y(t.control||null,t,!1),Gc(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,s){this.form.get(t.path).setValue(s)}onSubmit(t){return this.submitted=!0,function(n,e){n._syncPendingControls(),e.forEach(t=>{const s=t.control;"submit"===s.updateOn&&s._pendingChange&&(t.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const s=t.control,a=this.form.get(t.path);s!==a&&(y(s||null,t),a instanceof b_&&(m(a,t),t.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const s=this.form.get(t.path);(function(n,e){S(n,e)})(s,t),s.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const s=this.form.get(t.path);s&&function(n,e){return O(n,e)}(s,t)&&s.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){S(this.form,this),this._oldForm&&O(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(es,10),h.Y36(qc,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,s){1&t&&h.NdJ("submit",function(c){return s.onSubmit(c)})("reset",function(){return s.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([uN]),h.qOj,h.TTD]}),n})();const dN={provide:ph,useExisting:(0,h.Gpc)(()=>UD)};let UD=(()=>{class n extends ph{constructor(t,s,a,c,p){super(),this._ngModelWarningConfig=p,this._added=!1,this.update=new h.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(s),this._setAsyncValidators(a),this.valueAccessor=function(n,e){if(!e)return null;let t,s,a;return Array.isArray(e),e.forEach(c=>{c.constructor===na?t=c:function(n){return Object.getPrototypeOf(n.constructor)===hh}(c)?s=c:a=c}),a||s||t||null}(0,c)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Zs,13),h.Y36(es,10),h.Y36(qc,10),h.Y36(Ru,10),h.Y36(zx,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[h._Bn([dN]),h.qOj,h.TTD]}),n._ngModelWarningSentOnce=!1,n})(),KR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[OR]]}),n})(),YR=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:zx,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[KR]}),n})(),QR=(()=>{class n{group(t,s=null){const a=this._reduceControls(t);let v,c=null,p=null;return null!=s&&(function(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(s)?(c=null!=s.validators?s.validators:null,p=null!=s.asyncValidators?s.asyncValidators:null,v=null!=s.updateOn?s.updateOn:void 0):(c=null!=s.validator?s.validator:null,p=null!=s.asyncValidator?s.asyncValidator:null)),new Yb(a,{asyncValidators:p,updateOn:v,validators:c})}control(t,s,a){return new b_(t,s,a)}array(t,s,a){const c=t.map(p=>this._createControl(p));return new Gx(c,s,a)}_reduceControls(t){const s={};return Object.keys(t).forEach(a=>{s[a]=this._createControl(t[a])}),s}_createControl(t){return t instanceof b_||t instanceof Yb||t instanceof Gx?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,h.Yz7)({factory:function(){return new n},token:n,providedIn:YR}),n})();var AN=B(8259),Jf=B.n(AN);let Xx=(()=>{class n{constructor(t){this.auth=t}crearUsuario(t,s,a){return this.auth.createUserWithEmailAndPassword(s,a)}login(t,s){return this.auth.signInWithEmailAndPassword(t,s)}logout(){return this.auth.signOut()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Yy))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function SN(n,e){1&n&&h._UZ(0,"i",19)}function xN(n,e){1&n&&h._UZ(0,"i",19)}let RN=(()=>{class n{constructor(t,s,a){this.fb=t,this.authService=s,this.router=a}get validCorreo(){return this.loginForm.controls.correo.valid}get validPassword(){return this.loginForm.controls.password.valid}ngOnInit(){this.loginForm=this.fb.group({correo:["",[Al.required,Al.email]],password:["",[Al.required]]})}login(){if(this.loginForm.invalid)return;Jf().fire({title:"Loading...",didOpen:()=>{Jf().showLoading()}});const{correo:t,password:s}=this.loginForm.value;this.authService.login(t,s).then(a=>{Jf().close(),this.router.navigate(["/"])}).catch(a=>{Jf().fire({icon:"error",title:"Oops...",text:a.message})})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(QR),h.Y36(Xx),h.Y36(li))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-login"]],decls:33,vars:4,consts:[[1,"page-body-wrapper","full-page-wrapper","auth-page"],[1,"content-wrapper","d-flex","align-items-center","auth","auth-bg-1","theme-one"],[1,"row","w-100"],[1,"col-lg-4","mx-auto"],[1,"text-center","mb-4",2,"color","white"],[1,"auto-form-wrapper"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"label"],[1,"input-group"],["type","email","placeholder","Email","formControlName","correo",1,"form-control"],[1,"input-group-append"],[1,"input-group-text"],["class","fa fa-check-circle",4,"ngIf"],["type","password","placeholder","*********","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-primary","submit-btn","btn-block",3,"disabled"],[1,"text-block","text-center","my-3"],[1,"text-small","font-weight-semibold"],["routerLink","/register",1,"text-black","text-small"],[1,"fa","fa-check-circle"]],template:function(t,s){1&t&&(h.TgZ(0,"div",0),h.TgZ(1,"div",1),h.TgZ(2,"div",2),h.TgZ(3,"div",3),h.TgZ(4,"h2",4),h._uU(5,"Ingresar"),h.qZA(),h.TgZ(6,"div",5),h.TgZ(7,"form",6),h.NdJ("ngSubmit",function(){return s.login()}),h.TgZ(8,"div",7),h.TgZ(9,"label",8),h._uU(10,"Email"),h.qZA(),h.TgZ(11,"div",9),h._UZ(12,"input",10),h.TgZ(13,"div",11),h.TgZ(14,"span",12),h.YNc(15,SN,1,0,"i",13),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(16,"div",7),h.TgZ(17,"label",8),h._uU(18,"Contrase\xf1a"),h.qZA(),h.TgZ(19,"div",9),h._UZ(20,"input",14),h.TgZ(21,"div",11),h.TgZ(22,"span",12),h.YNc(23,xN,1,0,"i",13),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(24,"div",7),h.TgZ(25,"button",15),h._uU(26,"Login"),h.qZA(),h.qZA(),h.TgZ(27,"div",16),h.TgZ(28,"span",17),h._uU(29,"No estas registrado? "),h.qZA(),h._UZ(30,"br"),h.TgZ(31,"a",18),h._uU(32,"Crear una cuenta"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&t&&(h.xp6(7),h.Q6J("formGroup",s.loginForm),h.xp6(8),h.Q6J("ngIf",s.validCorreo),h.xp6(8),h.Q6J("ngIf",s.validPassword),h.xp6(2),h.Q6J("disabled",s.loginForm.invalid))},directives:[VD,zb,Jb,na,kD,UD,Li,Zg],styles:[""]}),n})();function NN(n,e){1&n&&h._UZ(0,"i",19)}function MN(n,e){1&n&&h._UZ(0,"i",19)}function ON(n,e){1&n&&h._UZ(0,"i",19)}let PN=(()=>{class n{constructor(t,s,a){this.fb=t,this.authService=s,this.router=a}get validName(){return this.formRegister.controls.nombre.valid}get validEmail(){return this.formRegister.controls.correo.valid}get validPassword(){return this.formRegister.controls.password.valid}ngOnInit(){this.formRegister=this.fb.group({nombre:["",Al.required],correo:["",[Al.required,Al.email]],password:["",Al.required]})}register(){if(this.formRegister.invalid)return;Jf().fire({title:"Loading...",didOpen:()=>{Jf().showLoading()}});const{nombre:t,correo:s,password:a}=this.formRegister.value;this.authService.crearUsuario(t,s,a).then(c=>{Jf().close(),this.router.navigate(["/"])}).catch(c=>{Jf().fire({icon:"error",title:"Oops...",text:c.message})})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(QR),h.Y36(Xx),h.Y36(li))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-register"]],decls:35,vars:5,consts:[[1,"page-body-wrapper","full-page-wrapper","auth-page"],[1,"content-wrapper","d-flex","align-items-center","auth","register-bg-1","theme-one"],[1,"row","w-100"],[1,"col-lg-4","mx-auto"],[1,"text-center","mb-4"],[1,"auto-form-wrapper"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"input-group"],["type","text","placeholder","Nombre","formControlName","nombre",1,"form-control"],[1,"input-group-append"],[1,"input-group-text"],["class","fa fa-check-circle",4,"ngIf"],["type","text","placeholder","Correo","formControlName","correo",1,"form-control"],["type","password","placeholder","Password","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-primary","submit-btn","btn-block",3,"disabled"],[1,"text-block","text-center","my-3"],[1,"text-small","font-weight-semibold"],["routerLink","/login",1,"text-black","text-small"],[1,"fa","fa-check-circle"]],template:function(t,s){1&t&&(h.TgZ(0,"div",0),h.TgZ(1,"div",1),h.TgZ(2,"div",2),h.TgZ(3,"div",3),h.TgZ(4,"h2",4),h._uU(5,"Registro"),h.qZA(),h.TgZ(6,"div",5),h.TgZ(7,"form",6),h.NdJ("ngSubmit",function(){return s.register()}),h.TgZ(8,"div",7),h.TgZ(9,"div",8),h._UZ(10,"input",9),h.TgZ(11,"div",10),h.TgZ(12,"span",11),h.YNc(13,NN,1,0,"i",12),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(14,"div",7),h.TgZ(15,"div",8),h._UZ(16,"input",13),h.TgZ(17,"div",10),h.TgZ(18,"span",11),h.YNc(19,MN,1,0,"i",12),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(20,"div",7),h.TgZ(21,"div",8),h._UZ(22,"input",14),h.TgZ(23,"div",10),h.TgZ(24,"span",11),h.YNc(25,ON,1,0,"i",12),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(26,"div",7),h.TgZ(27,"button",15),h._uU(28," Crear cuenta "),h.qZA(),h.qZA(),h.TgZ(29,"div",16),h.TgZ(30,"span",17),h._uU(31,"ya tienes una cuenta?"),h.qZA(),h._UZ(32,"br"),h.TgZ(33,"a",18),h._uU(34,"Login"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&t&&(h.xp6(7),h.Q6J("formGroup",s.formRegister),h.xp6(6),h.Q6J("ngIf",s.validName),h.xp6(6),h.Q6J("ngIf",s.validEmail),h.xp6(6),h.Q6J("ngIf",s.validPassword),h.xp6(2),h.Q6J("disabled",s.formRegister.invalid))},directives:[VD,zb,Jb,na,kD,UD,Li,Zg],styles:[""]}),n})(),kN=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-navbar"]],decls:15,vars:0,consts:[[1,"navbar","default-layout","col-sm-12","col-12","p-0","fixed-top","d-flex","flex-row"],[1,"text-center","navbar-brand-wrapper","d-flex","align-items-top","justify-content-center"],[1,"navbar-brand","brand-logo"],["src","assets/images/logo.svg","alt","logo"],[1,"navbar-brand","brand-logo-mini"],["src","assets/images/logo-mini.svg","alt","logo"],[1,"navbar-menu-wrapper","d-flex","align-items-center"],[1,"navbar-nav","navbar-nav-right"],[1,"nav-item","d-none","d-sm-inline-block"],["id","UserDropdown","href","#","data-toggle","dropdown","aria-expanded","false",1,"nav-link"],[1,"profile-text"],["src","assets/images/faces/face1.jpg","alt","Profile image",1,"img-xs","rounded-circle"],["type","button","data-toggle","offcanvas",1,"navbar-toggler","navbar-toggler-right","d-sm-none","align-self-center"],[1,"icon-menu"]],template:function(t,s){1&t&&(h.TgZ(0,"nav",0),h.TgZ(1,"div",1),h.TgZ(2,"a",2),h._UZ(3,"img",3),h.qZA(),h.TgZ(4,"a",4),h._UZ(5,"img",5),h.qZA(),h.qZA(),h.TgZ(6,"div",6),h.TgZ(7,"ul",7),h.TgZ(8,"li",8),h.TgZ(9,"a",9),h.TgZ(10,"span",10),h._uU(11,"Hello, Richard V.Welsh !"),h.qZA(),h._UZ(12,"img",11),h.qZA(),h.qZA(),h.qZA(),h.TgZ(13,"button",12),h._UZ(14,"span",13),h.qZA(),h.qZA(),h.qZA())},styles:[""]}),n})(),FN=(()=>{class n{constructor(t,s){this.authService=t,this.router=s}ngOnInit(){}logout(){this.authService.logout().then(()=>{this.router.navigate(["/login"])})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Xx),h.Y36(li))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-sidebar"]],decls:33,vars:0,consts:[[1,"sidebar","sidebar-offcanvas"],[1,"nav"],[1,"nav-item","nav-profile"],[1,"nav-link"],[1,"user-wrapper"],[1,"profile-image"],["src","assets/images/faces/face1.jpg","alt","profile image"],[1,"text-wrapper"],[1,"profile-name"],[1,"designation","text-muted"],[1,"nav-item"],["routerLink","/",1,"nav-link"],[1,"menu-icon","fa","fa-tachometer-alt"],[1,"menu-title"],["routerLink","/ingreso-egreso",1,"nav-link"],[1,"menu-icon","fa","fa-clipboard-list"],["routerLink","/detalle",1,"nav-link"],[1,"menu-icon","fa","fa-table"],[1,"nav-link","cursor",3,"click"],[1,"menu-icon","fa","fa-sign-out-alt"]],template:function(t,s){1&t&&(h.TgZ(0,"nav",0),h.TgZ(1,"ul",1),h.TgZ(2,"li",2),h.TgZ(3,"div",3),h.TgZ(4,"div",4),h.TgZ(5,"div",5),h._UZ(6,"img",6),h.qZA(),h.TgZ(7,"div",7),h.TgZ(8,"p",8),h._uU(9,"Cristobal Col\xf3n"),h.qZA(),h.TgZ(10,"div"),h.TgZ(11,"small",9),h._uU(12,"Gerente"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(13,"li",10),h.TgZ(14,"a",11),h._UZ(15,"i",12),h.TgZ(16,"span",13),h._uU(17,"Dashboard"),h.qZA(),h.qZA(),h.qZA(),h.TgZ(18,"li",10),h.TgZ(19,"a",14),h._UZ(20,"i",15),h.TgZ(21,"span",13),h._uU(22,"Ingresos y Egresos"),h.qZA(),h.qZA(),h.qZA(),h.TgZ(23,"li",10),h.TgZ(24,"a",16),h._UZ(25,"i",17),h.TgZ(26,"span",13),h._uU(27,"Detalle"),h.qZA(),h.qZA(),h.qZA(),h.TgZ(28,"li",10),h.TgZ(29,"a",18),h.NdJ("click",function(){return s.logout()}),h._UZ(30,"i",19),h.TgZ(31,"span",13),h._uU(32,"Cerrar sesi\xf3n"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA())},directives:[Zg],styles:[".cursor[_ngcontent-%COMP%]{cursor:pointer}"]}),n})(),LN=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-footer"]],decls:10,vars:0,consts:[[1,"footer"],[1,"container-fluid","clearfix"],[1,"text-muted","d-block","text-center","text-sm-left","d-sm-inline-block"],["href","http://fernando-herrera.com","target","_blank"],[1,"float-none","float-sm-right","d-block","mt-1","mt-sm-0","text-center"],[1,"fa","fa-heart","text-danger"]],template:function(t,s){1&t&&(h.TgZ(0,"footer",0),h.TgZ(1,"div",1),h.TgZ(2,"span",2),h._uU(3,"Derechos reservados \xa9 20XX "),h.TgZ(4,"a",3),h._uU(5,"Fernando Herrera"),h.qZA(),h._uU(6,"."),h.qZA(),h.TgZ(7,"span",4),h._uU(8,"Creado a mano con "),h._UZ(9,"i",5),h.qZA(),h.qZA(),h.qZA())},styles:[""]}),n})();const VN=[{path:"login",component:RN},{path:"register",component:PN},{path:"",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-dashboard"]],decls:7,vars:0,consts:[[1,"page-body-wrapper"],[1,"main-panel"],[1,"content-wrapper"]],template:function(t,s){1&t&&(h._UZ(0,"app-navbar"),h.TgZ(1,"div",0),h._UZ(2,"app-sidebar"),h.TgZ(3,"div",1),h.TgZ(4,"div",2),h._UZ(5,"router-outlet"),h.qZA(),h._UZ(6,"app-footer"),h.qZA(),h.qZA())},directives:[kN,FN,Gs,LN],styles:[""]}),n})(),children:[{path:"",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-estadistica"]],decls:31,vars:0,consts:[[1,"row"],[1,"col-6"],[1,"card","card-statistics"],[1,"card-body"],[1,"clearfix"],[1,"float-left"],[1,"fa","fa-money-bill-alt","text-success","icon-lg"],[1,"float-right"],[1,"mb-0","text-right"],[1,"fluid-container"],[1,"font-weight-medium","text-right","mb-0"],[1,"text-muted","mt-3","mb-0"],["aria-hidden","true",1,"mdi","mdi-alert-octagon","mr-1"],[1,"fa","fa-shipping-fast","text-danger","icon-lg"]],template:function(t,s){1&t&&(h.TgZ(0,"div",0),h.TgZ(1,"div",1),h.TgZ(2,"div",2),h.TgZ(3,"div",3),h.TgZ(4,"div",4),h.TgZ(5,"div",5),h._UZ(6,"i",6),h.qZA(),h.TgZ(7,"div",7),h.TgZ(8,"p",8),h._uU(9,"Ingresos"),h.qZA(),h.TgZ(10,"div",9),h.TgZ(11,"h3",10),h._uU(12,"$65,650"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(13,"p",11),h._UZ(14,"i",12),h._uU(15," 65% lower growth "),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(16,"div",1),h.TgZ(17,"div",2),h.TgZ(18,"div",3),h.TgZ(19,"div",4),h.TgZ(20,"div",5),h._UZ(21,"i",13),h.qZA(),h.TgZ(22,"div",7),h.TgZ(23,"p",8),h._uU(24,"Ingresos"),h.qZA(),h.TgZ(25,"div",9),h.TgZ(26,"h3",10),h._uU(27,"$65,650"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(28,"p",11),h._UZ(29,"i",12),h._uU(30," 65% lower growth "),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA())},styles:[""]}),n})()},{path:"ingreso-egreso",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-ingreso-egreso"]],decls:31,vars:0,consts:[[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-description"],[1,"form-group"],["type","text","placeholder","Descripci\xf3n","name","descripcion",1,"form-control"],["type","number","placeholder","Monto","name","monto",1,"form-control"],["type","button",1,"btn","btn-primary","btn-block"],["type","button",1,"btn","btn-success","mr-2"],[1,"fa","fa-save"],["type","reset",1,"btn","btn-light"]],template:function(t,s){1&t&&(h.TgZ(0,"div",0),h.TgZ(1,"div",1),h.TgZ(2,"div",2),h.TgZ(3,"div",3),h.TgZ(4,"h4",4),h._uU(5,"Agregar Ingreso / Egreso"),h.qZA(),h.TgZ(6,"p",5),h._uU(7," Especifique el monto y el tipo "),h.qZA(),h.TgZ(8,"form"),h.TgZ(9,"div",6),h.TgZ(10,"label"),h._uU(11,"Descripci\xf3n"),h.qZA(),h._UZ(12,"input",7),h.qZA(),h.TgZ(13,"div",6),h.TgZ(14,"label"),h._uU(15,"Monto"),h.qZA(),h._UZ(16,"input",8),h.TgZ(17,"p"),h._uU(18," Debe de ser un monto positivo "),h.qZA(),h.qZA(),h.TgZ(19,"div",6),h.TgZ(20,"label"),h._uU(21,"Tipo"),h.qZA(),h._UZ(22,"br"),h.TgZ(23,"button",9),h._uU(24,"Ingreso"),h.qZA(),h.qZA(),h._UZ(25,"hr"),h.TgZ(26,"button",10),h._UZ(27,"i",11),h._uU(28," Agregar "),h.qZA(),h.TgZ(29,"button",12),h._uU(30,"Cancelar"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA())},directives:[VD,zb],styles:[""]}),n})()},{path:"detalle",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-detalle"]],decls:26,vars:0,consts:[[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"table"]],template:function(t,s){1&t&&(h.TgZ(0,"div",0),h.TgZ(1,"div",1),h.TgZ(2,"div",2),h.TgZ(3,"div",3),h.TgZ(4,"h4",4),h._uU(5,"Detalle de ingreso egreso"),h.qZA(),h.TgZ(6,"table",5),h.TgZ(7,"thead"),h.TgZ(8,"tr"),h.TgZ(9,"th"),h._uU(10,"Descripci\xf3n"),h.qZA(),h.TgZ(11,"th"),h._uU(12,"Monto"),h.qZA(),h.TgZ(13,"th"),h._uU(14,"Tipo"),h.qZA(),h._UZ(15,"th"),h.qZA(),h.qZA(),h.TgZ(16,"tbody"),h.TgZ(17,"tr"),h.TgZ(18,"td"),h._uU(19,"Descripci\xf3n"),h.qZA(),h.TgZ(20,"td"),h._uU(21,"Monto"),h.qZA(),h.TgZ(22,"td"),h._uU(23,"Tipo"),h.qZA(),h.TgZ(24,"td"),h._uU(25,"acciones"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA())},styles:[""]}),n})()}],canActivate:[(()=>{class n{canActivate(){return!0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()]},{path:"**",redirectTo:""}];let UN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[kb.forRoot(VN)],kb]}),n})(),BN=(()=>{class n{constructor(){this.title="ingresoEgresoApp"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"container-scroller"]],template:function(t,s){1&t&&(h.TgZ(0,"div",0),h._UZ(1,"router-outlet"),h.qZA())},directives:[Gs],styles:[""]}),n})(),jN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n,bootstrap:[BN]}),n.\u0275inj=h.cJS({providers:[],imports:[[N,YR,UN,qn.hO.initializeApp(Xc_firebase),vS,pS]]}),n})();(0,h.G48)(),E().bootstrapModule(jN).catch(n=>console.error(n))},4762:(it,Ae,B)=>{"use strict";function ce(ae,pe){var ge={};for(var he in ae)Object.prototype.hasOwnProperty.call(ae,he)&&pe.indexOf(he)<0&&(ge[he]=ae[he]);if(null!=ae&&"function"==typeof Object.getOwnPropertySymbols){var Ve=0;for(he=Object.getOwnPropertySymbols(ae);Ve<he.length;Ve++)pe.indexOf(he[Ve])<0&&Object.prototype.propertyIsEnumerable.call(ae,he[Ve])&&(ge[he[Ve]]=ae[he[Ve]])}return ge}function ye(ae,pe,ge,he){return new(ge||(ge=Promise))(function(we,nt){function Vt(Bt){try{Ct(he.next(Bt))}catch(Fn){nt(Fn)}}function An(Bt){try{Ct(he.throw(Bt))}catch(Fn){nt(Fn)}}function Ct(Bt){Bt.done?we(Bt.value):function(we){return we instanceof ge?we:new ge(function(nt){nt(we)})}(Bt.value).then(Vt,An)}Ct((he=he.apply(ae,pe||[])).next())})}function Q(ae,pe){var he,Ve,we,nt,ge={label:0,sent:function(){if(1&we[0])throw we[1];return we[1]},trys:[],ops:[]};return nt={next:Vt(0),throw:Vt(1),return:Vt(2)},"function"==typeof Symbol&&(nt[Symbol.iterator]=function(){return this}),nt;function Vt(Ct){return function(Bt){return function(Ct){if(he)throw new TypeError("Generator is already executing.");for(;ge;)try{if(he=1,Ve&&(we=2&Ct[0]?Ve.return:Ct[0]?Ve.throw||((we=Ve.return)&&we.call(Ve),0):Ve.next)&&!(we=we.call(Ve,Ct[1])).done)return we;switch(Ve=0,we&&(Ct=[2&Ct[0],we.value]),Ct[0]){case 0:case 1:we=Ct;break;case 4:return ge.label++,{value:Ct[1],done:!1};case 5:ge.label++,Ve=Ct[1],Ct=[0];continue;case 7:Ct=ge.ops.pop(),ge.trys.pop();continue;default:if(!(we=(we=ge.trys).length>0&&we[we.length-1])&&(6===Ct[0]||2===Ct[0])){ge=0;continue}if(3===Ct[0]&&(!we||Ct[1]>we[0]&&Ct[1]<we[3])){ge.label=Ct[1];break}if(6===Ct[0]&&ge.label<we[1]){ge.label=we[1],we=Ct;break}if(we&&ge.label<we[2]){ge.label=we[2],ge.ops.push(Ct);break}we[2]&&ge.ops.pop(),ge.trys.pop();continue}Ct=pe.call(ae,ge)}catch(Bt){Ct=[6,Bt],Ve=0}finally{he=we=0}if(5&Ct[0])throw Ct[1];return{value:Ct[0]?Ct[1]:void 0,done:!0}}([Ct,Bt])}}}function ee(ae){var pe="function"==typeof Symbol&&Symbol.iterator,ge=pe&&ae[pe],he=0;if(ge)return ge.call(ae);if(ae&&"number"==typeof ae.length)return{next:function(){return ae&&he>=ae.length&&(ae=void 0),{value:ae&&ae[he++],done:!ae}}};throw new TypeError(pe?"Object is not iterable.":"Symbol.iterator is not defined.")}function X(ae,pe){var ge="function"==typeof Symbol&&ae[Symbol.iterator];if(!ge)return ae;var Ve,nt,he=ge.call(ae),we=[];try{for(;(void 0===pe||pe-- >0)&&!(Ve=he.next()).done;)we.push(Ve.value)}catch(Vt){nt={error:Vt}}finally{try{Ve&&!Ve.done&&(ge=he.return)&&ge.call(he)}finally{if(nt)throw nt.error}}return we}function _e(ae,pe,ge){if(ge||2===arguments.length)for(var we,he=0,Ve=pe.length;he<Ve;he++)(we||!(he in pe))&&(we||(we=Array.prototype.slice.call(pe,0,he)),we[he]=pe[he]);return ae.concat(we||Array.prototype.slice.call(pe))}B.d(Ae,{_T:()=>ce,mG:()=>ye,Jh:()=>Q,XA:()=>ee,CR:()=>X,ev:()=>_e})},8239:(it,Ae,B)=>{"use strict";function h(L,ce,oe,le,Ie,ye,Q){try{var V=L[ye](Q),j=V.value}catch(ee){return void oe(ee)}V.done?ce(j):Promise.resolve(j).then(le,Ie)}function ie(L){return function(){var ce=this,oe=arguments;return new Promise(function(le,Ie){var ye=L.apply(ce,oe);function Q(j){h(ye,le,Ie,Q,V,"next",j)}function V(j){h(ye,le,Ie,Q,V,"throw",j)}Q(void 0)})}}B.d(Ae,{Z:()=>ie})}},it=>{it(it.s=6673)}]);